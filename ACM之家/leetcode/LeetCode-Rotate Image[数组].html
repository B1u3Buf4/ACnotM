<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-Rotate Image[数组]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观646次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6325" href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comments" title="《LeetCode-Rotate Image[数组]》上的评论">24 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Rotate Image</strong></h3>
<div class="question-content">
<p>You are given an <i>n</i> x <i>n</i> 2D matrix representing an image.</p>
<p>Rotate the image by 90 degrees (clockwise).</p>
<p>Follow up:<br/>
Could you do this in-place?</p>
</div>
<p> 标签: Array<br/>
<strong>分析</strong>
</p><p>首先想到，纯模拟，从外到内一圈一圈的转，但这个方法太慢。</p>
<p>如下图，首先沿着副对角线翻转一次，然后沿着水平中线翻转一次。</p>
<p>\begin{center}<br/>
\includegraphics[width=200pt]{rotate-image.png}\\<br/>
\figcaption{Rotate Image}\label{fig:rotate-image}<br/>
\end{center}</p>
<p>或者，首先沿着水平中线翻转一次，然后沿着主对角线翻转一次。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Rotate Image
// 思路 1，时间复杂度O(n^2)，空间复杂度O(1)
class Solution {
public:
    void rotate(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) {
        const int n = matrix.size();

        for (int i = 0; i &lt; n; ++i)  // 沿着副对角线反转
            for (int j = 0; j &lt; n - i; ++j)
                swap(matrix[i][j], matrix[n - 1 - j][n - 1 - i]);

        for (int i = 0; i &lt; n / 2; ++i) // 沿着水平中线反转
            for (int j = 0; j &lt; n; ++j)
                swap(matrix[i][j], matrix[n - 1 - i][j]);
    }
};
</pre>
<p>代码2
</p><pre class="brush:cpp">
// LeetCode, Rotate Image
// 思路 2，时间复杂度O(n^2)，空间复杂度O(1)
class Solution {
public:
    void rotate(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) {
        const int n = matrix.size();

        for (int i = 0; i &lt; n / 2; ++i) // 沿着水平中线反转
            for (int j = 0; j &lt; n; ++j)
                swap(matrix[i][j], matrix[n - 1 - i][j]);

        for (int i = 0; i &lt; n; ++i)  // 沿着主对角线反转
            for (int j = i + 1; j &lt; n; ++j)
                swap(matrix[i][j], matrix[j][i]);
    }
};
</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73859">
<article class="comment" id="comment-73859">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73859" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73858">
<article class="comment" id="comment-73858">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73858" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73857">
<article class="comment" id="comment-73857">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73857" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73856">
<article class="comment" id="comment-73856">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73856" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73855">
<article class="comment" id="comment-73855">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73855" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73854">
<article class="comment" id="comment-73854">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73854" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73853">
<article class="comment" id="comment-73853">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73853" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73852">
<article class="comment" id="comment-73852">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73852" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73851">
<article class="comment" id="comment-73851">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73851" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73850">
<article class="comment" id="comment-73850">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73850" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73849">
<article class="comment" id="comment-73849">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529117" rel="external nofollow">新用户124327</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-73849" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很想地狱摇滚里面的天堂，也就是蹲厕的造型。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32040">
<article class="comment" id="comment-32040">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32040" rel="nofollow"><time datetime="2015-07-06T21:46:13+00:00" pubdate="">2015年7月6日 at 下午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了，你试过了吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32035">
<article class="comment" id="comment-32035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32035" rel="nofollow"><time datetime="2015-05-12T10:25:32+00:00" pubdate="">2015年5月12日 at 上午10:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32039">
<article class="comment" id="comment-32039">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32039" rel="nofollow"><time datetime="2015-05-07T20:52:29+00:00" pubdate="">2015年5月7日 at 下午8:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32032">
<article class="comment" id="comment-32032">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32032" rel="nofollow"><time datetime="2015-05-05T06:01:03+00:00" pubdate="">2015年5月5日 at 上午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>神奇的网站</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32038">
<article class="comment" id="comment-32038">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32038" rel="nofollow"><time datetime="2015-04-25T23:18:48+00:00" pubdate="">2015年4月25日 at 下午11:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32030">
<article class="comment" id="comment-32030">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32030" rel="nofollow"><time datetime="2015-04-24T20:12:01+00:00" pubdate="">2015年4月24日 at 下午8:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32031">
<article class="comment" id="comment-32031">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32031" rel="nofollow"><time datetime="2015-04-24T11:40:32+00:00" pubdate="">2015年4月24日 at 上午11:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32036">
<article class="comment" id="comment-32036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32036" rel="nofollow"><time datetime="2015-02-04T22:05:48+00:00" pubdate="">2015年2月4日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>…. 配图居然是没方向的。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32041">
<article class="comment" id="comment-32041">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32041" rel="nofollow"><time datetime="2015-02-02T13:35:42+00:00" pubdate="">2015年2月2日 at 下午1:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32042">
<article class="comment" id="comment-32042">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32042" rel="nofollow"><time datetime="2015-01-25T10:10:57+00:00" pubdate="">2015年1月25日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题其实还可以找循环节。参照欧拉定理（也就是费马定理的推广）,a^(phi(m)) mod m = 1</p>
<p><a href="http://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86_(%E6%95%B0%E8%AE%BA)" rel="nofollow">http://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86_(%E6%95%B0%E8%AE%BA)</a></p>
<p>所以先算b mod phi(10)，这个部分都是可以约掉的。基本上O(1)的时间就出解了。当然，这也是因为这个问题模数太小的原因。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32037">
<article class="comment" id="comment-32037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32037" rel="nofollow"><time datetime="2015-01-24T06:06:31+00:00" pubdate="">2015年1月24日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32033">
<article class="comment" id="comment-32033">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32033" rel="nofollow"><time datetime="2015-01-14T01:52:38+00:00" pubdate="">2015年1月14日 at 上午1:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>神奇的网站</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32034">
<article class="comment" id="comment-32034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-rotate-image-6325.html#comment-32034" rel="nofollow"><time datetime="2014-12-09T08:09:47+00:00" pubdate="">2014年12月9日 at 上午8:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>