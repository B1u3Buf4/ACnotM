<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>10-02</div>
<div class="tit"><h1 class="entry-title">LeetCode-Palindrome Partitioning[回溯]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a>, <a href="http://www.acmerblog.com/category/search/backtracking" rel="category tag" title="查看回溯和剪枝中的全部文章">回溯和剪枝</a></span><span class="i4">围观1857次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6145" href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comments" title="《LeetCode-Palindrome Partitioning[回溯]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>Given a string <i>s</i>, partition <i>s</i> such that every substring of the partition is a palindrome.</p>
<p>Return all possible palindrome partitioning of <i>s</i>.</p>
<p>For example, given <i>s</i> = <code>"aab"</code>,<br/>
Return</p>
<pre class="brush:other">  [
    ["aa","b"],
    ["a","a","b"]
  ]</pre>
<p>题目链接：<a href="https://oj.leetcode.com/problems/palindrome-partitioning/">https://oj.leetcode.com/problems/palindrome-partitioning/</a></p>
<p><strong> 分析</strong></p>
<p>此题可以用回溯法(DFS搜索)解决。把字符串s分为前后两个字串 str1, str2；如果str1是回文，加入partition，然后递归str2.</p>
<pre class="brush:java">public ArrayList&lt;ArrayList&lt;String&gt;&gt; partition(String s) {
	ArrayList&lt;ArrayList&lt;String&gt;&gt; result = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();

	if (s == null || s.length() == 0) {
		return result;
	}

	ArrayList&lt;String&gt; partition = new ArrayList&lt;String&gt;();
	addPalindrome(s, 0, partition, result);

	return result;
}

//start为开始的位置, partition存放当前的分割结果
private void addPalindrome(String s, int start, ArrayList&lt;String&gt; partition,
		ArrayList&lt;ArrayList&lt;String&gt;&gt; result) {
	//返回条件
	if (start == s.length()) {
		ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;(partition);//partition复制到temp中
		result.add(temp);
		return;
	}

	for (int i = start + 1; i &lt;= s.length(); i++) {
		String str = s.substring(start, i);
		if (isPalindrome(str)) {
			partition.add(str);
			addPalindrome(s, i, partition, result);
			partition.remove(partition.size() - 1);//回溯
		}
	}
}

private boolean isPalindrome(String str) {
	int left = 0;
	int right = str.length() - 1;

	while (left &lt; right) {
		if (str.charAt(left) != str.charAt(right)) {
			return false;
		}

		left++;
		right--;
	}

	return true;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75061">
<article class="comment" id="comment-75061">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519093" rel="external nofollow">新用户025371</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-75061" rel="nofollow"><time datetime="2017-04-12T03:53:51+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>现行简体字在中国历史上各朝代的比例来源   </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30744">
<article class="comment" id="comment-30744">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30744" rel="nofollow"><time datetime="2015-07-02T03:15:31+00:00" pubdate="">2015年7月2日 at 上午3:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30753">
<article class="comment" id="comment-30753">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30753" rel="nofollow"><time datetime="2015-06-01T10:25:52+00:00" pubdate="">2015年6月1日 at 上午10:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数组</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30749">
<article class="comment" id="comment-30749">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30749" rel="nofollow"><time datetime="2015-05-24T01:59:59+00:00" pubdate="">2015年5月24日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30746">
<article class="comment" id="comment-30746">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30746" rel="nofollow"><time datetime="2015-05-15T04:29:05+00:00" pubdate="">2015年5月15日 at 上午4:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30750">
<article class="comment" id="comment-30750">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30750" rel="nofollow"><time datetime="2015-04-11T09:12:17+00:00" pubdate="">2015年4月11日 at 上午9:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30745">
<article class="comment" id="comment-30745">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30745" rel="nofollow"><time datetime="2015-03-01T09:07:54+00:00" pubdate="">2015年3月1日 at 上午9:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58894">
<article class="comment" id="comment-58894">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Spike</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-58894" rel="nofollow"><time datetime="2015-02-09T11:54:27+00:00" pubdate="">2015年2月9日 at 上午11:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30754">
<article class="comment" id="comment-30754">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30754" rel="nofollow"><time datetime="2015-01-09T21:45:36+00:00" pubdate="">2015年1月9日 at 下午9:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30752">
<article class="comment" id="comment-30752">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30752" rel="nofollow"><time datetime="2014-12-24T21:46:35+00:00" pubdate="">2014年12月24日 at 下午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题的样例描述不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58895">
<article class="comment" id="comment-58895">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-58895" rel="nofollow"><time datetime="2014-12-09T11:22:11+00:00" pubdate="">2014年12月9日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58893">
<article class="comment" id="comment-58893">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-58893" rel="nofollow"><time datetime="2014-12-08T16:09:27+00:00" pubdate="">2014年12月8日 at 下午4:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30747">
<article class="comment" id="comment-30747">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotong2055</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30747" rel="nofollow"><time datetime="2014-12-08T06:05:28+00:00" pubdate="">2014年12月8日 at 上午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30751">
<article class="comment" id="comment-30751">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30751" rel="nofollow"><time datetime="2014-11-03T20:14:02+00:00" pubdate="">2014年11月3日 at 下午8:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受益匪浅！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30748">
<article class="comment" id="comment-30748">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/leetcode-palindrome-partitioning-6145.html#comment-30748" rel="nofollow"><time datetime="2014-10-27T04:10:53+00:00" pubdate="">2014年10月27日 at 上午4:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于找到一篇能看懂的，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>