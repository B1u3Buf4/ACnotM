<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Roman to Integer[字符串]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/string" rel="category tag" title="查看字符串处理中的全部文章">字符串处理</a></span><span class="i4">围观1075次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6235" href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comments" title="《LeetCode-Roman to Integer[字符串]》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Roman to Integer</strong></h3>
<div class="question-content">
<p>Given a roman numeral, convert it to an integer.</p>
<p>Input is guaranteed to be within the range from 1 to 3999.</p>
</div>
<p> 标签: Math String<br/>
<strong>分析</strong>
</p><p>从前往后扫描，用一个临时变量记录分段数字。</p>
<p>如果当前比前一个大，说明这一段的值应该是当前这个值减去上一个值。比如{IV = 5 – 1}；否则，将当前值加入到结果中，然后开始下一段记录。比如{VI = 5 + 1, II=1+1}</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Roman to Integer
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    inline int map(const char c) {
        switch (c) {
        case 'I': return 1;
        case 'V': return 5;
        case 'X': return 10;
        case 'L': return 50;
        case 'C': return 100;
        case 'D': return 500;
        case 'M': return 1000;
        default: return 0;
        }
    }

    int romanToInt(string s) {
        int result = 0;
        for (size_t i = 0; i &lt; s.size(); i++) {
            if (i &gt; 0 &amp;&amp; map(s[i]) &gt; map(s[i - 1])) {
                result += (map(s[i]) - 2 * map(s[i - 1]));
            } else {
                result += map(s[i]);
            }
        }
        return result;
    }
};
</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74470">
<article class="comment" id="comment-74470">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74470" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74469">
<article class="comment" id="comment-74469">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74469" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74468">
<article class="comment" id="comment-74468">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74468" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74467">
<article class="comment" id="comment-74467">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74467" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74466">
<article class="comment" id="comment-74466">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74466" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74465">
<article class="comment" id="comment-74465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74465" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74464">
<article class="comment" id="comment-74464">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74464" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74463">
<article class="comment" id="comment-74463">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515890" rel="external nofollow">新用户833443</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-74463" rel="nofollow"><time datetime="2017-04-12T01:59:38+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>蛋妞怎么了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31434">
<article class="comment" id="comment-31434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31434" rel="nofollow"><time datetime="2015-06-20T11:42:30+00:00" pubdate="">2015年6月20日 at 上午11:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跟书上的解法不一样，不知道哪个效率要高些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31439">
<article class="comment" id="comment-31439">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31439" rel="nofollow"><time datetime="2015-04-07T19:45:28+00:00" pubdate="">2015年4月7日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以用公式。主要为了说明动态规划，如果要打表的话，这种方法也是较简单和高效的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31435">
<article class="comment" id="comment-31435">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31435" rel="nofollow"><time datetime="2015-03-23T16:34:33+00:00" pubdate="">2015年3月23日 at 下午4:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31443">
<article class="comment" id="comment-31443">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31443" rel="nofollow"><time datetime="2015-03-02T06:52:24+00:00" pubdate="">2015年3月2日 at 上午6:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31445">
<article class="comment" id="comment-31445">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31445" rel="nofollow"><time datetime="2015-02-24T09:23:07+00:00" pubdate="">2015年2月24日 at 上午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你这个代码显示风格很给你啊，怎么做出来的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31437">
<article class="comment" id="comment-31437">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31437" rel="nofollow"><time datetime="2015-02-23T11:14:45+00:00" pubdate="">2015年2月23日 at 上午11:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31433">
<article class="comment" id="comment-31433">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31433" rel="nofollow"><time datetime="2015-02-11T08:50:42+00:00" pubdate="">2015年2月11日 at 上午8:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额，不对应吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31436">
<article class="comment" id="comment-31436">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31436" rel="nofollow"><time datetime="2015-02-03T06:51:24+00:00" pubdate="">2015年2月3日 at 上午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31440">
<article class="comment" id="comment-31440">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">final</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31440" rel="nofollow"><time datetime="2015-01-19T06:39:20+00:00" pubdate="">2015年1月19日 at 上午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31438">
<article class="comment" id="comment-31438">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31438" rel="nofollow"><time datetime="2015-01-14T11:23:53+00:00" pubdate="">2015年1月14日 at 上午11:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31441">
<article class="comment" id="comment-31441">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31441" rel="nofollow"><time datetime="2015-01-07T23:49:25+00:00" pubdate="">2015年1月7日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31446">
<article class="comment" id="comment-31446">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31446" rel="nofollow"><time datetime="2014-12-22T16:33:23+00:00" pubdate="">2014年12月22日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31444">
<article class="comment" id="comment-31444">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31444" rel="nofollow"><time datetime="2014-12-05T01:19:37+00:00" pubdate="">2014年12月5日 at 上午1:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31442">
<article class="comment" id="comment-31442">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-roman-to-integer-6235.html#comment-31442" rel="nofollow"><time datetime="2014-11-28T08:48:44+00:00" pubdate="">2014年11月28日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这怎么用Catalan数啊？求解答！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>