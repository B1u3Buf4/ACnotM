<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Combination Sum[DFS]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a></span><span class="i4">围观882次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6249" href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comments" title="《LeetCode-Combination Sum[DFS]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Combination Sum</strong></h3>
<div class="question-content">
<p>
Given a set of candidate numbers (<b><i>C</i></b>) and a target number (<b><i>T</i></b>), find all unique combinations in <b><i>C</i></b> where the candidate numbers sums to <b><i>T</i></b>.
</p>
<p>The <b>same</b> repeated number may be chosen from <b><i>C</i></b> unlimited number of times.
</p>
<p><b>Note:</b></p>
<ul>
<li>All numbers (including target) will be positive integers.</li>
<li>Elements in a combination (<i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, … , <i>a</i><sub>k</sub>) must be in non-descending order. (ie, <i>a</i><sub>1</sub> ≤ <i>a</i><sub>2</sub> ≤ … ≤ <i>a</i><sub>k</sub>).</li>
<li>The solution set must not contain duplicate combinations.</li>
</ul>
<p>
For example, given candidate set <code>2,3,6,7</code> and target <code>7</code>, <br/>
A solution set is: <br/>
<code>[7]</code> <br/>
<code>[2, 2, 3]</code>
</p>
</div>
<p> 标签: Array Backtracking<br/>
<strong>分析</strong>
</p><p>无</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Combination Sum
// 时间复杂度O(n!)，空间复杂度O(n)
class Solution {
public:
    vector&lt;vector&lt;int&gt; &gt; combinationSum(vector&lt;int&gt; &amp;nums, int target) {
        sort(nums.begin(), nums.end());
        vector&lt;vector&lt;int&gt; &gt; result; // 最终结果
        vector&lt;int&gt; intermediate; // 中间结果
        dfs(nums, target, 0, intermediate, result);
        return result;
    }

private:
    void dfs(vector&lt;int&gt;&amp; nums, int gap, int start, vector&lt;int&gt;&amp; intermediate,
            vector&lt;vector&lt;int&gt; &gt; &amp;result) {
        if (gap == 0) {  // 找到一个合法解
            result.push_back(intermediate);
            return;
        }
        for (size_t i = start; i &lt; nums.size(); i++) { // 扩展状态
            if (gap &lt; nums[i]) return; // 剪枝

            intermediate.push_back(nums[i]); // 执行扩展动作
            dfs(nums, gap - nums[i], i, intermediate, result);
            intermediate.pop_back();  // 撤销动作
        }
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    public static List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {
        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;();
        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();
		
        Arrays.sort(candidates);
		combinationSumRecur(candidates,0, target, list, res);
		//System.out.println(res.size());
		//System.out.println(res);
		return res;
    }
	
	public  static void combinationSumRecur(int candidates[],int k,int target,List&lt;Integer&gt; list,List&lt;List&lt;Integer&gt;&gt; res){
		if(target &lt; 0 || k &gt;= candidates.length) return;
		if(0 == target){
			res.add(new ArrayList&lt;&gt;(list));
			return;
		}
		list.add(candidates[k]);
		combinationSumRecur(candidates, k, target-candidates[k], list, res);
		list.remove(list.size()-1);
		while(  k+1 &lt; candidates.length &amp;&amp; candidates[k] == candidates[k+1]) k++;
		combinationSumRecur(candidates, k+1,  target, list, res);
	}
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-combination-sum-ii-6255.html">Combination Sum II</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74355">
<article class="comment" id="comment-74355">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521812" rel="external nofollow">新用户883778</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-74355" rel="nofollow"><time datetime="2017-04-12T01:59:36+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>草泥马，消炎算个吊，不就卖药的一垃圾吗。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50009">
<article class="comment" id="comment-50009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50009" rel="nofollow"><time datetime="2015-06-10T22:35:38+00:00" pubdate="">2015年6月10日 at 下午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50007">
<article class="comment" id="comment-50007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50007" rel="nofollow"><time datetime="2015-04-11T15:57:24+00:00" pubdate="">2015年4月11日 at 下午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50011">
<article class="comment" id="comment-50011">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50011" rel="nofollow"><time datetime="2015-03-25T16:58:55+00:00" pubdate="">2015年3月25日 at 下午4:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>信息不全</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50005">
<article class="comment" id="comment-50005">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50005" rel="nofollow"><time datetime="2015-03-04T22:32:08+00:00" pubdate="">2015年3月4日 at 下午10:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>信息不全</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50008">
<article class="comment" id="comment-50008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50008" rel="nofollow"><time datetime="2015-02-24T20:45:24+00:00" pubdate="">2015年2月24日 at 下午8:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50004">
<article class="comment" id="comment-50004">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50004" rel="nofollow"><time datetime="2015-02-13T04:27:15+00:00" pubdate="">2015年2月13日 at 上午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>简洁的代码</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63744">
<article class="comment" id="comment-63744">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-63744" rel="nofollow"><time datetime="2015-02-09T16:54:48+00:00" pubdate="">2015年2月9日 at 下午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50006">
<article class="comment" id="comment-50006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50006" rel="nofollow"><time datetime="2015-01-28T02:48:33+00:00" pubdate="">2015年1月28日 at 上午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50012">
<article class="comment" id="comment-50012">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50012" rel="nofollow"><time datetime="2015-01-09T07:31:27+00:00" pubdate="">2015年1月9日 at 上午7:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50010">
<article class="comment" id="comment-50010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-50010" rel="nofollow"><time datetime="2014-12-07T08:00:09+00:00" pubdate="">2014年12月7日 at 上午8:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31559">
<article class="comment" id="comment-31559">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-31559" rel="nofollow"><time datetime="2014-12-05T18:13:14+00:00" pubdate="">2014年12月5日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59040">
<article class="comment" id="comment-59040">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-59040" rel="nofollow"><time datetime="2014-12-04T18:54:02+00:00" pubdate="">2014年12月4日 at 下午6:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31558">
<article class="comment" id="comment-31558">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-combination-sum-6249.html#comment-31558" rel="nofollow"><time datetime="2014-11-29T01:45:51+00:00" pubdate="">2014年11月29日 at 上午1:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>