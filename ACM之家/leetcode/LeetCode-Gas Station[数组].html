<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-Gas Station[数组]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观619次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6354" href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comments" title="《LeetCode-Gas Station[数组]》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Gas Station</strong></h3>
<div class="question-content">
<p>
There are <i>N</i> gas stations along a circular route, where the amount of gas at station <i>i</i> is <code>gas[i]</code>.
</p>
<p>
You have a car with an unlimited gas tank and it costs <code>cost[i]</code> of gas to travel from station <i>i</i> to its next station (<i>i</i>+1). You begin the journey with an empty tank at one of the gas stations.
</p>
<p>
Return the starting gas station’s index if you can travel around the circuit once, otherwise return -1.
</p>
<p>
<b>Note:</b><br/>
The solution is guaranteed to be unique.
</p>
</div>
<p> 标签: Greedy<br/>
<strong>分析</strong>
</p><p>首先想到的是$O(N^2)$的解法，对每个点进行模拟。</p>
<p>$O(N)$的解法是，设置两个变量，{sum}判断当前的指针的有效性；{total}则判断整个数组是否有解，有就返回通过{sum}得到的下标，没有则返回-1。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Gas Station
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    int canCompleteCircuit(vector&lt;int&gt; &amp;gas, vector&lt;int&gt; &amp;cost) {
        int total = 0;
        int j = -1;
        for (int i = 0, sum = 0; i &lt; gas.size(); ++i) {
            sum += gas[i] - cost[i];
            total += gas[i] - cost[i];
            if (sum &lt; 0) {
                j = i;
                sum = 0;
            }
        }
        return total &gt;= 0 ? j + 1 : -1;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">class Solution:
    # @param gas, a list of integers
    # @param cost, a list of integers
    # @return an integer
    def canCompleteCircuit(self, gas, cost):
        n = len(gas)
        pre = 0
        curr_sum = 0
        total = 0
        for i in range(n):
            total += gas[i] - cost[i]
            curr_sum += gas[i] - cost[i]
            if curr_sum &lt; 0:
                curr_sum = 0
                pre = i+1
        if total &lt; 0:
            return -1
        else:
            return pre</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73631">
<article class="comment" id="comment-73631">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520511" rel="external nofollow">新用户299771</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-73631" rel="nofollow"><time datetime="2017-04-12T00:07:35+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的一脚踹倒它</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59249">
<article class="comment" id="comment-59249">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59249" rel="nofollow"><time datetime="2015-07-08T11:15:49+00:00" pubdate="">2015年7月8日 at 上午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好的，多谢指出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59252">
<article class="comment" id="comment-59252">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59252" rel="nofollow"><time datetime="2015-06-23T05:17:50+00:00" pubdate="">2015年6月23日 at 上午5:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我又来学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59247">
<article class="comment" id="comment-59247">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59247" rel="nofollow"><time datetime="2015-06-09T23:34:05+00:00" pubdate="">2015年6月9日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好的，多谢指出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59254">
<article class="comment" id="comment-59254">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59254" rel="nofollow"><time datetime="2015-05-29T02:47:58+00:00" pubdate="">2015年5月29日 at 上午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>排版</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32231">
<article class="comment" id="comment-32231">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-32231" rel="nofollow"><time datetime="2015-05-28T17:12:50+00:00" pubdate="">2015年5月28日 at 下午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么鬼，怎么多头文件</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59248">
<article class="comment" id="comment-59248">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59248" rel="nofollow"><time datetime="2015-05-17T01:37:33+00:00" pubdate="">2015年5月17日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59251">
<article class="comment" id="comment-59251">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59251" rel="nofollow"><time datetime="2015-04-18T05:57:34+00:00" pubdate="">2015年4月18日 at 上午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>头文件的颜色是有意设成这种灰暗色的吗？感觉看不清</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59245">
<article class="comment" id="comment-59245">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59245" rel="nofollow"><time datetime="2015-03-09T13:59:39+00:00" pubdate="">2015年3月9日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59253">
<article class="comment" id="comment-59253">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59253" rel="nofollow"><time datetime="2015-02-21T18:36:35+00:00" pubdate="">2015年2月21日 at 下午6:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59250">
<article class="comment" id="comment-59250">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59250" rel="nofollow"><time datetime="2015-02-11T02:54:19+00:00" pubdate="">2015年2月11日 at 上午2:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63869">
<article class="comment" id="comment-63869">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-63869" rel="nofollow"><time datetime="2015-01-28T19:40:12+00:00" pubdate="">2015年1月28日 at 下午7:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59246">
<article class="comment" id="comment-59246">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-gas-station-6354.html#comment-59246" rel="nofollow"><time datetime="2015-01-18T17:01:13+00:00" pubdate="">2015年1月18日 at 下午5:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>