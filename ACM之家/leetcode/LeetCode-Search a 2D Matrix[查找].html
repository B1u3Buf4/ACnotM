<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Search a 2D Matrix[查找]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观510次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6276" href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comments" title="《LeetCode-Search a 2D Matrix[查找]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Search a 2D Matrix</strong></h3>
<div class="question-content">
<p>Write an efficient algorithm that searches for a value in an <i>m</i> x <i>n</i> matrix. This matrix has the following properties:</p>
<ul>
<li>Integers in each row are sorted from left to right.</li>
<li>The first integer of each row is greater than the last integer of the previous row.</li>
</ul>
<p>
For example,</p>
<p>
Consider the following matrix:
</p>
<pre>
[
  [1,   3,  5,  7],
  [10, 11, 16, 20],
  [23, 30, 34, 50]
]
</pre>
<p>Given <b>target</b> = <code>3</code>, return <code>true</code>.</p>
</div>
<p> 标签: Array Binary Search<br/>
<strong>分析</strong>
</p><p>二分查找。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Search a 2D Matrix
// 时间复杂度O(logn)，空间复杂度O(1)
class Solution {
public:
    bool searchMatrix(const vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int target) {
        if (matrix.empty()) return false;
        const size_t  m = matrix.size();
        const size_t n = matrix.front().size();

        int first = 0;
        int last = m * n;

        while (first &lt; last) {
            int mid = first + (last - first) / 2;
            int value = matrix[mid / n][mid % n];

            if (value == target)
                return true;
            else if (value &lt; target)
                first = mid + 1;
            else
                last = mid;
        }

        return false;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    public boolean searchMatrix(int[][] matrix, int target) {
        int row=0;
        int m = matrix.length;
        int n = matrix[0].length;
        int col=n-1;
        while(row &lt; m &amp;&amp; col &gt;= 0){
            if(matrix[row][col] == target)
                return true;
                else if(matrix[row][col] &lt; target)
                row++;
                else col--;
        }
        return false;
    }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74336">
<article class="comment" id="comment-74336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458059" rel="external nofollow">新用户912554</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-74336" rel="nofollow"><time datetime="2017-04-12T01:59:35+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50104">
<article class="comment" id="comment-50104">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-50104" rel="nofollow"><time datetime="2015-07-15T00:55:00+00:00" pubdate="">2015年7月15日 at 上午12:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31736">
<article class="comment" id="comment-31736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuyuedeyu</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31736" rel="nofollow"><time datetime="2015-07-03T00:23:34+00:00" pubdate="">2015年7月3日 at 上午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31741">
<article class="comment" id="comment-31741">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31741" rel="nofollow"><time datetime="2015-06-10T08:56:55+00:00" pubdate="">2015年6月10日 at 上午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不直接用STL排序呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31742">
<article class="comment" id="comment-31742">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31742" rel="nofollow"><time datetime="2015-05-25T04:07:03+00:00" pubdate="">2015年5月25日 at 上午4:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31735">
<article class="comment" id="comment-31735">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31735" rel="nofollow"><time datetime="2015-05-16T20:04:18+00:00" pubdate="">2015年5月16日 at 下午8:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31737">
<article class="comment" id="comment-31737">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31737" rel="nofollow"><time datetime="2015-04-29T05:02:01+00:00" pubdate="">2015年4月29日 at 上午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31738">
<article class="comment" id="comment-31738">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fermi</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31738" rel="nofollow"><time datetime="2015-04-09T23:10:25+00:00" pubdate="">2015年4月9日 at 下午11:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59099">
<article class="comment" id="comment-59099">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-59099" rel="nofollow"><time datetime="2015-02-22T21:18:10+00:00" pubdate="">2015年2月22日 at 下午9:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>比较基础，找些自信</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31740">
<article class="comment" id="comment-31740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31740" rel="nofollow"><time datetime="2015-01-24T20:03:56+00:00" pubdate="">2015年1月24日 at 下午8:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31734">
<article class="comment" id="comment-31734">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31734" rel="nofollow"><time datetime="2015-01-16T21:38:03+00:00" pubdate="">2015年1月16日 at 下午9:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63778">
<article class="comment" id="comment-63778">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-63778" rel="nofollow"><time datetime="2014-12-26T09:11:36+00:00" pubdate="">2014年12月26日 at 上午9:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31733">
<article class="comment" id="comment-31733">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31733" rel="nofollow"><time datetime="2014-12-20T00:38:01+00:00" pubdate="">2014年12月20日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，再乘以m的就多余了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59100">
<article class="comment" id="comment-59100">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-59100" rel="nofollow"><time datetime="2014-12-01T13:25:09+00:00" pubdate="">2014年12月1日 at 下午1:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31739">
<article class="comment" id="comment-31739">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-a-2d-matrix-6276.html#comment-31739" rel="nofollow"><time datetime="2014-11-30T09:30:21+00:00" pubdate="">2014年11月30日 at 上午9:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>