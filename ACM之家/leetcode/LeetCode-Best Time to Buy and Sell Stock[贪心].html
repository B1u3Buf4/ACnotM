<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-Best Time to Buy and Sell Stock[贪心]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/tanxin" rel="category tag" title="查看贪心中的全部文章">贪心</a></span><span class="i4">围观532次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6282" href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comments" title="《LeetCode-Best Time to Buy and Sell Stock[贪心]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Best Time to Buy and Sell Stock</strong></h3>
<div class="question-content">
<p>Say you have an array for which the <i>i</i><sup>th</sup> element is the price of a given stock on day <i>i</i>.</p>
<p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
</div>
<p> 标签: Array Dynamic Programming<br/>
<strong>分析</strong>
</p><p>贪心法，分别找到价格最低和最高的一天，低进高出，注意最低的一天要在最高的一天之前。</p>
<p>把原始价格序列变成差分序列，本题也可以做是最大$m$子段和，$m=1$。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Best Time to Buy and Sell Stock
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    int maxProfit(vector&lt;int&gt; &amp;prices) {
        if (prices.size() &lt; 2) return 0;
        int profit = 0;  // 差价，也就是利润
        int cur_min = prices[0]; // 当前最小

        for (int i = 1; i &lt; prices.size(); i++) {
            profit = max(profit, prices[i] - cur_min);
            cur_min = min(cur_min, prices[i]);
        }
        return profit;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    
    public int maxProfit(int[] prices) {
        if(prices.length == 0) return 0;
        int low = prices[0];
        int ans = 0;
        for(int i=1; i&lt;prices.length; i++){
            if(prices[i] &lt; low) low = prices[i];
            else if(prices[i] - low &gt; ans) ans = prices[i] - low;
        }
        return ans;
    }
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html">Best Time to Buy and Sell Stock II</a><br/>
<a href="/leetcode-solution-best-time-to-buy-and-sell-stock-iii-6280.html">Best Time to Buy and Sell Stock III</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74332">
<article class="comment" id="comment-74332">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526348" rel="external nofollow">新用户987114</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-74332" rel="nofollow"><time datetime="2017-04-12T01:59:35+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31770">
<article class="comment" id="comment-31770">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31770" rel="nofollow"><time datetime="2015-06-15T07:37:17+00:00" pubdate="">2015年6月15日 at 上午7:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31781">
<article class="comment" id="comment-31781">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31781" rel="nofollow"><time datetime="2015-05-22T16:33:49+00:00" pubdate="">2015年5月22日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31780">
<article class="comment" id="comment-31780">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31780" rel="nofollow"><time datetime="2015-05-19T05:31:24+00:00" pubdate="">2015年5月19日 at 上午5:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个才是我想要的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31779">
<article class="comment" id="comment-31779">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31779" rel="nofollow"><time datetime="2015-05-08T23:50:23+00:00" pubdate="">2015年5月8日 at 下午11:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31769">
<article class="comment" id="comment-31769">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31769" rel="nofollow"><time datetime="2015-04-07T12:34:20+00:00" pubdate="">2015年4月7日 at 下午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31775">
<article class="comment" id="comment-31775">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31775" rel="nofollow"><time datetime="2015-03-28T15:56:35+00:00" pubdate="">2015年3月28日 at 下午3:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31778">
<article class="comment" id="comment-31778">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31778" rel="nofollow"><time datetime="2015-03-27T11:09:27+00:00" pubdate="">2015年3月27日 at 上午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31773">
<article class="comment" id="comment-31773">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31773" rel="nofollow"><time datetime="2015-03-17T09:37:02+00:00" pubdate="">2015年3月17日 at 上午9:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31774">
<article class="comment" id="comment-31774">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zoe_music</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31774" rel="nofollow"><time datetime="2015-02-13T17:26:35+00:00" pubdate="">2015年2月13日 at 下午5:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A的话不是不能避免冲突么？感觉出题者在考察是否考虑了冲突解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31772">
<article class="comment" id="comment-31772">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31772" rel="nofollow"><time datetime="2015-02-04T12:36:22+00:00" pubdate="">2015年2月4日 at 下午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31771">
<article class="comment" id="comment-31771">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31771" rel="nofollow"><time datetime="2015-01-25T01:57:36+00:00" pubdate="">2015年1月25日 at 上午1:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31777">
<article class="comment" id="comment-31777">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zoe_music</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31777" rel="nofollow"><time datetime="2015-01-15T20:40:45+00:00" pubdate="">2015年1月15日 at 下午8:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31768">
<article class="comment" id="comment-31768">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31768" rel="nofollow"><time datetime="2015-01-11T12:17:16+00:00" pubdate="">2015年1月11日 at 下午12:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真考人啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31776">
<article class="comment" id="comment-31776">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html#comment-31776" rel="nofollow"><time datetime="2014-12-21T05:03:41+00:00" pubdate="">2014年12月21日 at 上午5:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>