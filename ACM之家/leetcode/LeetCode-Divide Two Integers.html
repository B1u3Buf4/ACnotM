<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>07-17</div>
<div class="tit"><h1 class="entry-title">LeetCode-Divide Two Integers</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观2730次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5977" href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comments" title="《LeetCode-Divide Two Integers》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>Divide two integers without using multiplication, division and mod operator.</p>
<p>原题链接: <a href="http://oj.leetcode.com/problems/divide-two-integers/" target="_blank">http://oj.leetcode.com/problems/divide-two-integers/</a></p>
<p>对于这道题目，因为不能用乘除法和取余运算，我们只能使用位运算和加减法。比较直接的方法是用被除数一直减去除数，直到为0，记录下被减的次数就是结果。这种方法的迭代次数是结果的大小，即比如结果为n，算法复杂度是O(n)。</p>
<p>那么有没有办法优化呢？ 这个我们就得使用位运算。我们知道任何一个整数可以表示成以2的幂为底的一组基的线性组合，即num=a_0*2^0+a_1*2^1+a_2*2^2+…+a_n*2^n。基于以上这个公式以及左移一位相当于乘以2，我们先让除数左移直到大于被除数之前得到一个最大的基。然后接下来我们每次尝试减去这个基，如果可以则结果增加加2^k,然后基继续右移迭代，直到基为0为止。因为这个方法的迭代次数是按2的幂知道超过结果，所以时间复杂度为O(logn)。</p>
<p>需要注意的是，整数的溢出问题，例如 divide(-2147483648, 2)。我这里问了方便，直接使用了long类型，java代码如下：</p>
<pre class="brush:java">public class Solution {
    	 public static int divide(int dividend, int divisor) {
		 return (int)divideL(dividend,divisor);
	 }

	 public static long divideL(long dividend,long divisor){
		 if(divisor == 1) return dividend;
		 if(divisor &lt; 0) return -divideL(dividend, -divisor);
		 if(dividend &lt; 0) return -divideL(-dividend, divisor);
		 if(divisor &gt; dividend) return 0;
		 if(divisor == 0) return Integer.MAX_VALUE;
		 long d = divisor;
		 long bitcnt = 1;
		 long ans = 0;
		 while(d &lt; dividend ){
			 d &lt;&lt;= 1;
			 bitcnt &lt;&lt;= 1;
		 }
		 while(d &gt;= divisor){
			 while(dividend &gt;= d){
				 dividend -= d;
				 ans += bitcnt;
			 }
			 d &gt;&gt;= 1;
			 bitcnt &gt;&gt;= 1;
		 }
		 return ans;
	 }
}</pre>
<p>参考：http://blog.csdn.net/linhuanmars/article/details/20024907</p>
<p> </p>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75182">
<article class="comment" id="comment-75182">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75182" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75181">
<article class="comment" id="comment-75181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75181" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75180">
<article class="comment" id="comment-75180">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75180" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75179">
<article class="comment" id="comment-75179">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75179" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75178">
<article class="comment" id="comment-75178">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75178" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75177">
<article class="comment" id="comment-75177">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75177" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75176">
<article class="comment" id="comment-75176">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75176" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75175">
<article class="comment" id="comment-75175">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513223" rel="external nofollow">新用户574005</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-75175" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>舔干净了就开吃</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49460">
<article class="comment" id="comment-49460">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">haojunyu</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-49460" rel="nofollow"><time datetime="2015-06-30T14:36:12+00:00" pubdate="">2015年6月30日 at 下午2:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49459">
<article class="comment" id="comment-49459">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-49459" rel="nofollow"><time datetime="2015-06-17T19:40:16+00:00" pubdate="">2015年6月17日 at 下午7:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好厉害～</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58838">
<article class="comment" id="comment-58838">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-58838" rel="nofollow"><time datetime="2015-05-05T18:48:55+00:00" pubdate="">2015年5月5日 at 下午6:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30566">
<article class="comment" id="comment-30566">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-30566" rel="nofollow"><time datetime="2015-05-04T22:12:09+00:00" pubdate="">2015年5月4日 at 下午10:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30565">
<article class="comment" id="comment-30565">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-30565" rel="nofollow"><time datetime="2015-03-23T05:29:57+00:00" pubdate="">2015年3月23日 at 上午5:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“再把所有不和该节点相邻的节点着相同的颜色”，程序中没有进行不和该节点相邻的其他节点是否相邻进行判断。再说求出来的也不一样是颜色数最少的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49458">
<article class="comment" id="comment-49458">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-49458" rel="nofollow"><time datetime="2015-03-23T02:53:51+00:00" pubdate="">2015年3月23日 at 上午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58837">
<article class="comment" id="comment-58837">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-58837" rel="nofollow"><time datetime="2015-02-02T02:07:11+00:00" pubdate="">2015年2月2日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49461">
<article class="comment" id="comment-49461">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-49461" rel="nofollow"><time datetime="2014-12-18T20:07:25+00:00" pubdate="">2014年12月18日 at 下午8:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>if(j){<br/>
                    int ans=a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
                    for(int x=j-1;x&gt;=0;x–){<br/>
                        if(!a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> ) break;<br/>
                        ans=min(ans,a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> );<br/>
                        sum+=ans;<br/>
                    }<br/>
                }<br/>
求解释，，dp的思路是什么呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49462">
<article class="comment" id="comment-49462">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bcys</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-49462" rel="nofollow"><time datetime="2014-12-08T22:46:52+00:00" pubdate="">2014年12月8日 at 下午10:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30564">
<article class="comment" id="comment-30564">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/leetcode-divide-two-integers-5977.html#comment-30564" rel="nofollow"><time datetime="2014-11-21T15:13:09+00:00" pubdate="">2014年11月21日 at 下午3:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>