<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>10-10</div>
<div class="tit"><h1 class="entry-title">LeetCode-Gas Station</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观1497次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6167" href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comments" title="《LeetCode-Gas Station》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p><strong>Gas Station</strong></p>
<p>There are <i>N</i> gas stations along a circular route, where the amount of gas at station <i>i</i> is <code>gas[i]</code>.</p>
<p>You have a car with an unlimited gas tank and it costs <code>cost[i]</code> of gas to travel from station <i>i</i> to its next station (<i>i</i>+1). You begin the journey with an empty tank at one of the gas stations.</p>
<p>Return the starting gas station’s index if you can travel around the circuit once, otherwise return -1.</p>
<p><b>Note:</b><br/>
The solution is guaranteed to be unique.</p>
<p>题目链接：<a href="https://oj.leetcode.com/problems/gas-station/">https://oj.leetcode.com/problems/gas-station/</a></p>
<p>今年乐视网的笔试题就出了这一题。一个重要的条件：保证会只有一个结果，有了这个保证，题目就比较简单了。</p>
<p>假设 E[i,k] (k &lt;= n)是从i开始走k个station后，剩余的油量。</p>
<p>E[i,k] = 0, if k=0<br/>
E[i,k] = gas_earn[i] + gas_earn[i+1] + … + gas_earn[i+k-1], if 0 &lt; k &lt;= n<br/>
其中 gas_earn[i] = gas[i mod n] – cost[i mod n]  所以问题转化为了找到一个i，使得 E[i,k]&gt;=0， k=0,1,…,n.</p>
<p>需要证明的是：当 sum(gas[0..n-1]) &gt;= sum(cost[0..n-1])，即代码中的 total &gt;= 0，问题比有解。</p>
<p>参考：http://www.cnblogs.com/zzzdevil/p/3651168.html 给出的证明</p>
<p>python代码：</p>
<pre class="brush:python">class Solution:
    # @param gas, a list of integers
    # @param cost, a list of integers
    # @return an integer
    def canCompleteCircuit(self, gas, cost):
        n = len(gas)
        pre = 0
        curr_sum = 0
        total = 0
        for i in range(n):
            total += gas[i] - cost[i]
            curr_sum += gas[i] - cost[i]
            if curr_sum &lt; 0:
                curr_sum = 0
                pre = i+1
        if total &lt; 0:
            return -1
        else:
            return pre

s = Solution()
start = s.canCompleteCircuit([1,5,1,5],[2,7,1,1])
print("start station : ", start)</pre>
<p>输出：start station :  2</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75054">
<article class="comment" id="comment-75054">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465317" rel="external nofollow">新用户912424</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-75054" rel="nofollow"><time datetime="2017-04-12T03:53:51+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哈哈！又在你的下面呐！。。。前八</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58901">
<article class="comment" id="comment-58901">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-58901" rel="nofollow"><time datetime="2015-07-11T13:13:36+00:00" pubdate="">2015年7月11日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>头文件的颜色是有意设成这种灰暗色的吗？感觉看不清</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58902">
<article class="comment" id="comment-58902">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-58902" rel="nofollow"><time datetime="2015-07-02T20:13:03+00:00" pubdate="">2015年7月2日 at 下午8:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30773">
<article class="comment" id="comment-30773">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-30773" rel="nofollow"><time datetime="2015-06-21T19:58:36+00:00" pubdate="">2015年6月21日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>for(int i=1; i&lt;=m; i++){<br/>
            for(int j=1; j&lt;=n; j++){<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> [j-1] + 1;<br/>
                if(s1.charAt(i-1) == s3.charAt(i+j-1))<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = dp[i-1] <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  + 1;<br/>
                if(s2.charAt(j-1) == s3.charAt(i+j-1))<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = Math.max(dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> [j - 1] + 1, dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> );<br/>
            }<br/>
        }<br/>
这里的代码似乎有点问题？ dp(i)(j) = dp(i)(j-1) + 1;这个例子System.out.println(ils.isInterleave("aa","dbbca", "aadbbcb"));返回的应该是false</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58899">
<article class="comment" id="comment-58899">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-58899" rel="nofollow"><time datetime="2015-06-19T17:45:28+00:00" pubdate="">2015年6月19日 at 下午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30772">
<article class="comment" id="comment-30772">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-30772" rel="nofollow"><time datetime="2015-03-28T21:16:40+00:00" pubdate="">2015年3月28日 at 下午9:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49598">
<article class="comment" id="comment-49598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-49598" rel="nofollow"><time datetime="2015-02-17T02:49:33+00:00" pubdate="">2015年2月17日 at 上午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一种方法怎么会是O(log(m+n))呢？没有二分的话直接遍历应该就是O(m+n)吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63656">
<article class="comment" id="comment-63656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-63656" rel="nofollow"><time datetime="2015-01-25T06:48:02+00:00" pubdate="">2015年1月25日 at 上午6:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58900">
<article class="comment" id="comment-58900">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-58900" rel="nofollow"><time datetime="2014-12-17T16:28:31+00:00" pubdate="">2014年12月17日 at 下午4:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30771">
<article class="comment" id="comment-30771">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tonight</a></span> on <a href="http://www.acmerblog.com/leetcode-gas-station-6167.html#comment-30771" rel="nofollow"><time datetime="2014-10-24T19:36:08+00:00" pubdate="">2014年10月24日 at 下午7:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>