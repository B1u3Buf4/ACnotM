<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Search in Rotated Sorted Array[数组]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观576次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6222" href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comments" title="《LeetCode-Search in Rotated Sorted Array[数组]》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Search in Rotated Sorted Array</strong></h3>
<div class="question-content">
<p>Suppose a sorted array is rotated at some pivot unknown to you beforehand.</p>
<p>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).</p>
<p>You are given a target value to search. If found in the array return its index, otherwise return -1.</p>
<p>You may assume no duplicate exists in the array.</p>
</div>
<p> 标签: Array Binary Search<br/>
<strong>分析</strong>
</p><p>二分查找，难度主要在于左右边界的确定。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Search in Rotated Sorted Array
// 时间复杂度O(log n)，空间复杂度O(1)
class Solution {
public:
    int search(int A[], int n, int target) {
        int first = 0, last = n;
        while (first != last) {
            const int mid = (first + last) / 2;
            if (A[mid] == target)
                return mid;
            if (A[first] &lt;= A[mid]) {
                if (A[first] &lt;= target &amp;&amp; target &lt; A[mid])
                    last = mid;
                else
                    first = mid + 1;
            } else {
                if (A[mid] &lt; target &amp;&amp; target &lt;= A[last-1])
                    first = mid + 1;
                else
                    last = mid;
            }
        }
        return -1;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    public static int search(int[] A, int target) {
        return searchBinary(A, 0, A.length-1 , target);
    }

    public static int searchBinary(int A[],int s,int e,int target){
        int mid = (s+e)/2;
        if(A[mid] == target)
            return mid;
        if(s &gt;= e) return -1;
        if( A[mid] &lt; A[e] ){ //后半部分是顺序的
            if(target &gt; A[mid] &amp;&amp; target &lt;= A[e]){
                return searchBinary(A, mid+1, e, target);
            }else
                return searchBinary(A, s, mid-1, target);
        }else{ //前半部分顺序的
            if(target &gt;= A[s] &amp;&amp; target &lt; A[mid])
                return searchBinary(A, s, mid-1, target);
            else
                return searchBinary(A, mid+1, e, target);
        }

    }
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-search-in-rotated-sorted-array-ii-6210.html">Search in Rotated Sorted Array II</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74510">
<article class="comment" id="comment-74510">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74510" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74509">
<article class="comment" id="comment-74509">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74509" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74508">
<article class="comment" id="comment-74508">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74508" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74507">
<article class="comment" id="comment-74507">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74507" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74506">
<article class="comment" id="comment-74506">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74506" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74505">
<article class="comment" id="comment-74505">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74505" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74504">
<article class="comment" id="comment-74504">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74504" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74503">
<article class="comment" id="comment-74503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517966" rel="external nofollow">新用户627472</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-74503" rel="nofollow"><time datetime="2017-04-12T03:53:48+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>············今天晚了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64535">
<article class="comment" id="comment-64535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">天朝城管帝</span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-64535" rel="nofollow"><time datetime="2015-07-02T10:31:10+00:00" pubdate="">2015年7月2日 at 上午10:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49914">
<article class="comment" id="comment-49914">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49914" rel="nofollow"><time datetime="2015-06-17T11:31:15+00:00" pubdate="">2015年6月17日 at 上午11:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="https://coding.net/moon/miracle" rel="nofollow">https://coding.net/moon/miracle</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63724">
<article class="comment" id="comment-63724">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-63724" rel="nofollow"><time datetime="2015-05-31T23:00:02+00:00" pubdate="">2015年5月31日 at 下午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>贴的有些代码的头文件不见了，这是为啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49917">
<article class="comment" id="comment-49917">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49917" rel="nofollow"><time datetime="2015-05-23T00:54:46+00:00" pubdate="">2015年5月23日 at 上午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63723">
<article class="comment" id="comment-63723">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-63723" rel="nofollow"><time datetime="2015-05-18T04:50:49+00:00" pubdate="">2015年5月18日 at 上午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49916">
<article class="comment" id="comment-49916">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49916" rel="nofollow"><time datetime="2015-05-18T01:48:19+00:00" pubdate="">2015年5月18日 at 上午1:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49913">
<article class="comment" id="comment-49913">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49913" rel="nofollow"><time datetime="2015-04-04T06:51:56+00:00" pubdate="">2015年4月4日 at 上午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63722">
<article class="comment" id="comment-63722">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-63722" rel="nofollow"><time datetime="2015-03-13T12:27:57+00:00" pubdate="">2015年3月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31359">
<article class="comment" id="comment-31359">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-31359" rel="nofollow"><time datetime="2015-02-22T00:10:07+00:00" pubdate="">2015年2月22日 at 上午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49915">
<article class="comment" id="comment-49915">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49915" rel="nofollow"><time datetime="2015-02-08T17:05:17+00:00" pubdate="">2015年2月8日 at 下午5:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58996">
<article class="comment" id="comment-58996">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-58996" rel="nofollow"><time datetime="2015-01-03T18:06:19+00:00" pubdate="">2015年1月3日 at 下午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49919">
<article class="comment" id="comment-49919">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49919" rel="nofollow"><time datetime="2015-01-01T01:47:18+00:00" pubdate="">2015年1月1日 at 上午1:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49918">
<article class="comment" id="comment-49918">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-search-in-rotated-sorted-array-6222.html#comment-49918" rel="nofollow"><time datetime="2014-12-23T20:56:42+00:00" pubdate="">2014年12月23日 at 下午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>