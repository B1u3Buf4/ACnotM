<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Remove Duplicates from Sorted Array II[数组]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观652次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6238" href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comments" title="《LeetCode-Remove Duplicates from Sorted Array II[数组]》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Remove Duplicates from Sorted Array II</strong></h3>
<div class="question-content">
<p>
Follow up for “Remove Duplicates”:<br/>
What if duplicates are allowed at most <i>twice</i>?</p>
<p>
For example,<br/>
Given sorted array A = <code>[1,1,1,2,2,3]</code>,
</p>
<p>
Your function should return length = <code>5</code>, and A is now <code>[1,1,2,2,3]</code>.
</p>
</div>
<p> 标签: Array Two Pointers<br/>
<strong>分析</strong>
</p><p>加一个变量记录一下元素出现的次数即可。这题因为是已经排序的数组，所以一个变量即可解决。如果是没有排序的数组，则需要引入一个hashmap来记录出现次数。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Remove Duplicates from Sorted Array II
// 时间复杂度O(n)，空间复杂度O(1)
// @author hex108 (https://github.com/hex108)
class Solution {
public:
    int removeDuplicates(int A[], int n) {
        if (n &lt;= 2) return n;

        int index = 2;
        for (int i = 2; i &lt; n; i++){
            if (A[i] != A[index - 2])
                A[index++] = A[i];
        }

        return index;
    }
};
</pre>
<p>代码2
</p><pre class="brush:cpp">
// LeetCode, Remove Duplicates from Sorted Array II
// @author 虞航仲 (http://weibo.com/u/1666779725)
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    int removeDuplicates(int A[], int n) {
        int index = 0;
        for (int i = 0; i &lt; n; ++i) {
            if (i &gt; 0 &amp;&amp; i &lt; n - 1 &amp;&amp; A[i] == A[i - 1] &amp;&amp; A[i] == A[i + 1])
                continue;

            A[index++] = A[i];
        }
        return index;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    public static int removeDuplicates(int[] A) {
        if(A.length &lt;= 2) return A.length;
        int dup = 1;
        int index = 1;
        for(int i=1; i&lt;A.length; i++){
            if(A[i] == A[i-1])
                dup++;
            else
                dup = 1;
            A[index] = A[i];
            if(dup &lt;= 2){
                index++;
            }
        }
        return index;
    }
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-remove-duplicates-from-sorted-array-6309.html">Remove Duplicates from Sorted Array</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74374">
<article class="comment" id="comment-74374">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74374" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74373">
<article class="comment" id="comment-74373">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74373" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74372">
<article class="comment" id="comment-74372">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74372" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74371">
<article class="comment" id="comment-74371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74371" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74370">
<article class="comment" id="comment-74370">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74370" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74369">
<article class="comment" id="comment-74369">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74369" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74368">
<article class="comment" id="comment-74368">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74368" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74367">
<article class="comment" id="comment-74367">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518343" rel="external nofollow">新用户407187</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-74367" rel="nofollow"><time datetime="2017-04-12T01:59:37+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好一碗毛竹炖鸡汤。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49978">
<article class="comment" id="comment-49978">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-49978" rel="nofollow"><time datetime="2015-07-15T15:16:04+00:00" pubdate="">2015年7月15日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49975">
<article class="comment" id="comment-49975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-49975" rel="nofollow"><time datetime="2015-07-02T10:12:08+00:00" pubdate="">2015年7月2日 at 上午10:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31465">
<article class="comment" id="comment-31465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31465" rel="nofollow"><time datetime="2015-06-23T20:39:13+00:00" pubdate="">2015年6月23日 at 下午8:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49977">
<article class="comment" id="comment-49977">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-49977" rel="nofollow"><time datetime="2015-06-12T01:31:21+00:00" pubdate="">2015年6月12日 at 上午1:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49974">
<article class="comment" id="comment-49974">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-49974" rel="nofollow"><time datetime="2015-06-05T10:59:16+00:00" pubdate="">2015年6月5日 at 上午10:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了。找到这题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31464">
<article class="comment" id="comment-31464">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31464" rel="nofollow"><time datetime="2015-05-18T11:15:18+00:00" pubdate="">2015年5月18日 at 上午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31470">
<article class="comment" id="comment-31470">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31470" rel="nofollow"><time datetime="2015-04-06T19:58:29+00:00" pubdate="">2015年4月6日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31467">
<article class="comment" id="comment-31467">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31467" rel="nofollow"><time datetime="2015-03-13T15:42:56+00:00" pubdate="">2015年3月13日 at 下午3:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>编辑的时候有些不小心了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31468">
<article class="comment" id="comment-31468">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31468" rel="nofollow"><time datetime="2015-03-05T11:28:46+00:00" pubdate="">2015年3月5日 at 上午11:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>简洁的代码</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49976">
<article class="comment" id="comment-49976">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-49976" rel="nofollow"><time datetime="2015-02-10T23:52:46+00:00" pubdate="">2015年2月10日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31466">
<article class="comment" id="comment-31466">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31466" rel="nofollow"><time datetime="2015-01-24T02:23:58+00:00" pubdate="">2015年1月24日 at 上午2:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31469">
<article class="comment" id="comment-31469">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-remove-duplicates-from-sorted-array-ii-6238.html#comment-31469" rel="nofollow"><time datetime="2015-01-13T10:10:25+00:00" pubdate="">2015年1月13日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>