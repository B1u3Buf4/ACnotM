<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Two Sum[数组]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观783次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6237" href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comments" title="《LeetCode-Two Sum[数组]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Two Sum</strong></h3>
<div class="question-content">
<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p style="font-family:monospace">
<b>Input:</b> numbers={2, 7, 11, 15}, target=9<br/>
<b>Output:</b> index1=1, index2=2
</p>
</div>
<p> 标签: Array Hash Table<br/>
<strong>分析</strong>
</p><p>方法1：暴力，复杂度$O(n^2)$，会超时</p>
<p>方法2：hash。用一个哈希表，存储每个数对应的下标，复杂度$O(n)$.</p>
<p>方法3：先排序，然后左右夹逼，排序$O(n\log n)$，左右夹逼$O(n)$，最终$O(n\log n)$。但是注意，这题需要返回的是下标，而不是数字本身，因此这个方法行不通。</p>
<p>代码1
</p><pre class="brush:cpp">
//LeetCode, Two Sum
// 方法2：hash。用一个哈希表，存储每个数对应的下标
// 时间复杂度O(n)，空间复杂度O(n)
class Solution {
public:
    vector&lt;int&gt; twoSum(vector&lt;int&gt; &amp;num, int target) {
        unordered_map&lt;int, int&gt; mapping;
        vector&lt;int&gt; result;
        for (int i = 0; i &lt; num.size(); i++) {
            mapping[num[i]] = i;
        }
        for (int i = 0; i &lt; num.size(); i++) {
            const int gap = target - num[i];
            if (mapping.find(gap) != mapping.end() &amp;&amp; mapping[gap] &gt; i) {
                result.push_back(i + 1);
                result.push_back(mapping[gap] + 1);
                break;
            }
        }
        return result;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    static class Node implements Comparable&lt;Node&gt;{
        int val,index;
        public Node(int v,int i){
            val = v;
            index = i;
        }
        @Override
        public int compareTo(Node o) {
            return this.val - o.val;
        }
    }

    public int[] twoSum(int[] numbers, int target) {
        int[] xy = new int[2];
        Node[] nodes = new Node[numbers.length];
        for(int i=0; i&lt;nodes.length; i++){
            nodes[i] = new Node(numbers[i], i+1);
        }
        Arrays.sort(nodes);
        int i = 0, j=numbers.length-1;
        while(i &lt; j){
            if(nodes[i].val + nodes[j].val == target){
                break;
            }else if(nodes[i].val + nodes[j].val &lt; target){
                i++;
            }else{
                j--;
            }
        }
        xy[0] = nodes[i].index;
        xy[1] = nodes[j].index;
        Arrays.sort(xy);
        return xy;
    }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-49973">
<article class="comment" id="comment-49973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49973" rel="nofollow"><time datetime="2015-06-22T13:18:25+00:00" pubdate="">2015年6月22日 at 下午1:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31462">
<article class="comment" id="comment-31462">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-31462" rel="nofollow"><time datetime="2015-06-17T06:44:46+00:00" pubdate="">2015年6月17日 at 上午6:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49969">
<article class="comment" id="comment-49969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49969" rel="nofollow"><time datetime="2015-06-13T19:16:22+00:00" pubdate="">2015年6月13日 at 下午7:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49967">
<article class="comment" id="comment-49967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49967" rel="nofollow"><time datetime="2015-05-28T19:10:24+00:00" pubdate="">2015年5月28日 at 下午7:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49966">
<article class="comment" id="comment-49966">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49966" rel="nofollow"><time datetime="2015-04-30T16:55:32+00:00" pubdate="">2015年4月30日 at 下午4:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49968">
<article class="comment" id="comment-49968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49968" rel="nofollow"><time datetime="2015-04-28T01:28:12+00:00" pubdate="">2015年4月28日 at 上午1:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31461">
<article class="comment" id="comment-31461">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-31461" rel="nofollow"><time datetime="2015-04-01T06:45:44+00:00" pubdate="">2015年4月1日 at 上午6:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么编译器啊，不通过</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49972">
<article class="comment" id="comment-49972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49972" rel="nofollow"><time datetime="2015-02-19T23:10:50+00:00" pubdate="">2015年2月19日 at 下午11:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49963">
<article class="comment" id="comment-49963">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49963" rel="nofollow"><time datetime="2015-02-17T08:49:42+00:00" pubdate="">2015年2月17日 at 上午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-1]）这个地方也也有笔误<br/>
应改为L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-2]）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49971">
<article class="comment" id="comment-49971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49971" rel="nofollow"><time datetime="2015-01-18T17:33:45+00:00" pubdate="">2015年1月18日 at 下午5:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学，非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49964">
<article class="comment" id="comment-49964">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49964" rel="nofollow"><time datetime="2014-12-28T22:44:19+00:00" pubdate="">2014年12月28日 at 下午10:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49970">
<article class="comment" id="comment-49970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49970" rel="nofollow"><time datetime="2014-12-26T15:35:18+00:00" pubdate="">2014年12月26日 at 下午3:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31463">
<article class="comment" id="comment-31463">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-31463" rel="nofollow"><time datetime="2014-12-21T21:05:18+00:00" pubdate="">2014年12月21日 at 下午9:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49965">
<article class="comment" id="comment-49965">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-two-sum-6237.html#comment-49965" rel="nofollow"><time datetime="2014-11-25T15:39:49+00:00" pubdate="">2014年11月25日 at 下午3:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>