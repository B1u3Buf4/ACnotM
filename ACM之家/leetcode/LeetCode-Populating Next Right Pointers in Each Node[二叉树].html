<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-Populating Next Right Pointers in Each Node[二叉树]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/trees" rel="category tag" title="查看树形结构中的全部文章">树形结构</a></span><span class="i4">围观798次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6360" href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comments" title="《LeetCode-Populating Next Right Pointers in Each Node[二叉树]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Populating Next Right Pointers in Each Node</strong></h3>
<div class="question-content">
<p>
Given a binary tree
</p>
<pre>
    struct TreeLinkNode {
      TreeLinkNode *left;
      TreeLinkNode *right;
      TreeLinkNode *next;
    }
</pre>
<p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to <code>NULL</code>.</p>
<p>Initially, all next pointers are set to <code>NULL</code>.</p>
<p>
<b>Note:</b></p>
<ul>
<li>You may only use constant extra space.</li>
<li>You may assume that it is a perfect binary tree (ie, all leaves are at the same level, and every parent has two children).</li>
</ul>
<p>
For example,<br/>
Given the following perfect binary tree,
</p>
<pre>
         1
       /  \
      2    3
     / \  / \
    4  5  6  7
</pre>
<p>
After calling your function, the tree should look like:
</p>
<pre>
         1 -&gt; NULL
       /  \
      2 -&gt; 3 -&gt; NULL
     / \  / \
    4-&gt;5-&gt;6-&gt;7 -&gt; NULL
</pre>
</div>
<p> 标签: Tree Depth-first Search<br/>
<strong>分析</strong>
</p><p>无</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Populating Next Right Pointers in Each Node
// 时间复杂度O(n)，空间复杂度O(logn)
class Solution {
public:
    void connect(TreeLinkNode *root) {
        connect(root, NULL);
    }
private:
    void connect(TreeLinkNode *root, TreeLinkNode *sibling) {
        if (root == nullptr)
            return;
        else
            root-&gt;next = sibling;

        connect(root-&gt;left, root-&gt;right);
        if (sibling)
            connect(root-&gt;right, sibling-&gt;left);
        else
            connect(root-&gt;right, nullptr);
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java"># Definition for a  binary tree node
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None
#         self.next = None

class Solution:
    # @param root, a tree node
    # @return nothing
    def connect(self, root):
        head = root
        while head is not None:
            if head.left is None: break
            curNode = head
            curNode.left.next = curNode.right
            while curNode is not None:
                curNode.left.next = curNode.right
                if curNode.next is not None:
                    curNode.right.next = curNode.next.left
                curNode = curNode.next
            head = head.left
            </pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-populating-next-right-pointers-in-each-node-ii-6256.html">Populating Next Right Pointers in Each Node II</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73627">
<article class="comment" id="comment-73627">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526697" rel="external nofollow">新用户359681</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-73627" rel="nofollow"><time datetime="2017-04-12T00:07:35+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不倒绿汁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50400">
<article class="comment" id="comment-50400">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50400" rel="nofollow"><time datetime="2015-07-04T07:27:22+00:00" pubdate="">2015年7月4日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一种方法怎么会是O(log(m+n))呢？没有二分的话直接遍历应该就是O(m+n)吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59260">
<article class="comment" id="comment-59260">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-59260" rel="nofollow"><time datetime="2015-06-28T14:18:57+00:00" pubdate="">2015年6月28日 at 下午2:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-1]）这个地方也也有笔误<br/>
应改为L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-2]）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50405">
<article class="comment" id="comment-50405">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50405" rel="nofollow"><time datetime="2015-06-28T10:58:35+00:00" pubdate="">2015年6月28日 at 上午10:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32270">
<article class="comment" id="comment-32270">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-32270" rel="nofollow"><time datetime="2015-05-30T17:35:15+00:00" pubdate="">2015年5月30日 at 下午5:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32271">
<article class="comment" id="comment-32271">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">la0bei</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-32271" rel="nofollow"><time datetime="2015-05-20T19:51:45+00:00" pubdate="">2015年5月20日 at 下午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50404">
<article class="comment" id="comment-50404">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50404" rel="nofollow"><time datetime="2015-05-16T03:23:12+00:00" pubdate="">2015年5月16日 at 上午3:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50401">
<article class="comment" id="comment-50401">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rosamondwu</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50401" rel="nofollow"><time datetime="2015-05-08T08:10:22+00:00" pubdate="">2015年5月8日 at 上午8:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32269">
<article class="comment" id="comment-32269">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-32269" rel="nofollow"><time datetime="2015-05-05T02:58:37+00:00" pubdate="">2015年5月5日 at 上午2:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已经挂掉了，给个参考呗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50402">
<article class="comment" id="comment-50402">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50402" rel="nofollow"><time datetime="2015-02-07T15:31:44+00:00" pubdate="">2015年2月7日 at 下午3:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50406">
<article class="comment" id="comment-50406">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50406" rel="nofollow"><time datetime="2015-01-28T13:13:59+00:00" pubdate="">2015年1月28日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3是不是应该为1/4  .因为截取的三段，无论是否能组成三角形， x， y-x ，1-y,都应大于0，所以  x&lt;y,基础应该是一个大三角形。小三角是大三角的 1/4.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50403">
<article class="comment" id="comment-50403">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-50403" rel="nofollow"><time datetime="2015-01-26T06:06:06+00:00" pubdate="">2015年1月26日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63871">
<article class="comment" id="comment-63871">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-63871" rel="nofollow"><time datetime="2014-12-05T21:37:01+00:00" pubdate="">2014年12月5日 at 下午9:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的模板</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63870">
<article class="comment" id="comment-63870">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-populating-next-right-pointers-in-each-node-6360.html#comment-63870" rel="nofollow"><time datetime="2014-11-25T17:09:42+00:00" pubdate="">2014年11月25日 at 下午5:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;stdio.h&gt;<br/>
int main()<br/>
{<br/>
    int n,p,t[100]={1};<br/>
    for(int i=1;i&lt;100;i++)<br/>
        t <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i;<br/>
    while(scanf("%d",&amp;n)&amp;&amp;n!=0){<br/>
        if(n==1)<br/>
        printf("Printing order for 1 pages:nSheet 1, front: Blank, 1n");<br/>
        else {<br/>
        if(n%4) p=n/4+1;<br/>
        else p=n/4;<br/>
        int q=4*p;<br/>
        printf("Printing order for %d pages:n",n);<br/>
        for(int i=0;i&lt;p;i++){<br/>
            printf("Sheet %d, front: ",i+1);<br/>
            if(q&gt;n) {printf("Blank, %dn",t[2*i+1]);}<br/>
            else {printf("%d, %dn",q,t[2*i+1]);}<br/>
            q–;//打印表前<br/>
            printf("Sheet %d, back : ",i+1);<br/>
            if(q&gt;n) {printf("%d, Blankn",t[2*i+2]);}<br/>
            else {printf("%d, %dn",t[2*i+2],q);}<br/>
            q–;//打印表后<br/>
           }<br/>
        }<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>