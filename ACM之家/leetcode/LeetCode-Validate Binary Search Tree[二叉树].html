<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-Validate Binary Search Tree[二叉树]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/trees" rel="category tag" title="查看树形结构中的全部文章">树形结构</a></span><span class="i4">围观857次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6323" href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comments" title="《LeetCode-Validate Binary Search Tree[二叉树]》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Validate Binary Search Tree</strong></h3>
<div class="question-content">
<p>
Given a binary tree, determine if it is a valid binary search tree (BST).
</p>
<p>
Assume a BST is defined as follows:</p>
<ul>
<li>The left subtree of a node contains only nodes with keys <b>less than</b> the node’s key.</li>
<li>The right subtree of a node contains only nodes with keys <b>greater than</b> the node’s key.</li>
<li>Both the left and right subtrees must also be binary search trees.</li>
</ul>
<p class="showspoilers">confused what <code>"{1,#,2,3}"</code> means? <a href="#" onclick="showSpoilers(this); return false;">&gt; read more on how binary tree is serialized on OJ.</a></p>
<div class="spoilers"><b>OJ’s Binary Tree Serialization:</b>
<p>
The serialization of a binary tree follows a level order traversal, where ‘#’ signifies a path terminator where no node exists below.
</p>
<p>
Here’s an example:
</p>
<pre>
   1
  / \
 2   3
    /
   4
    \
     5
</pre>
<p>The above binary tree is serialized as <code>"{1,2,3,#,#,4,#,#,5}"</code>.
</p>
</div>
</div>
<p> 标签: Tree Depth-first Search<br/>
<strong>分析</strong><br/>
</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Validate Binary Search Tree
// 时间复杂度O(n)，空间复杂度O(\logn)
class Solution {
public:
    bool isValidBST(TreeNode* root) {
        return isValidBST(root, INT_MIN, INT_MAX);
    }

    bool isValidBST(TreeNode* root, int lower, int upper) {
        if (root == nullptr) return true;

        return root-&gt;val &gt; lower &amp;&amp; root-&gt;val &lt; upper
                &amp;&amp; isValidBST(root-&gt;left, lower, root-&gt;val)
                &amp;&amp; isValidBST(root-&gt;right, root-&gt;val, upper);
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">/**
 * Definition for binary tree
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Solution {
   public boolean isValidBST(TreeNode root){
        return helper2( root, Integer.MAX_VALUE, Integer.MIN_VALUE);
    }

    private boolean helper2(TreeNode root, int maxValue, int minValue) {
        if(root == null) return true;
        if(root.val &gt;= maxValue || root.val &lt;= minValue) return false;
        return helper2(root.left, root.val, minValue) &amp;&amp; helper2(root.right, maxValue, root.val);
    }
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-validate-binary-search-tree-6323.html">Validate Binary Search Tree</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73892">
<article class="comment" id="comment-73892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73892" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73891">
<article class="comment" id="comment-73891">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73891" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73890">
<article class="comment" id="comment-73890">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73890" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73889">
<article class="comment" id="comment-73889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73889" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73888">
<article class="comment" id="comment-73888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73888" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73887">
<article class="comment" id="comment-73887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73887" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73886">
<article class="comment" id="comment-73886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73886" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73885">
<article class="comment" id="comment-73885">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73885" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73884">
<article class="comment" id="comment-73884">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73884" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73883">
<article class="comment" id="comment-73883">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73883" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73882">
<article class="comment" id="comment-73882">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528640" rel="external nofollow">新用户339132</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-73882" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那些死去的人都没看见朝颜良心过不去都是牵扯到计划梦里的七夜露华，梵洛伽玩的很高明但刻下警告朝颜的不也是说了七夜露华是用甜蜜美丽的梦游戏耍玩，只要足够面见现实残破化解～幻境一样的存在人们的意识。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59197">
<article class="comment" id="comment-59197">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-59197" rel="nofollow"><time datetime="2015-07-03T07:09:02+00:00" pubdate="">2015年7月3日 at 上午7:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59196">
<article class="comment" id="comment-59196">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-59196" rel="nofollow"><time datetime="2015-07-02T06:51:43+00:00" pubdate="">2015年7月2日 at 上午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32019">
<article class="comment" id="comment-32019">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-32019" rel="nofollow"><time datetime="2015-05-29T16:53:33+00:00" pubdate="">2015年5月29日 at 下午4:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目虽然简单，但是小编做的很到位，应该会给很多人启发吧！对于面试当中不给开辟额外空间的问题不是绝对的，实际上至少是允许少数变量存在的。之前遇到相似的问题也是恍然大悟，今天看到小编这篇文章相见恨晚。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32017">
<article class="comment" id="comment-32017">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CHEATBEATER</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-32017" rel="nofollow"><time datetime="2015-04-21T15:46:20+00:00" pubdate="">2015年4月21日 at 下午3:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32020">
<article class="comment" id="comment-32020">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-32020" rel="nofollow"><time datetime="2015-03-15T05:41:43+00:00" pubdate="">2015年3月15日 at 上午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great work！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63831">
<article class="comment" id="comment-63831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-63831" rel="nofollow"><time datetime="2015-02-23T04:24:53+00:00" pubdate="">2015年2月23日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32018">
<article class="comment" id="comment-32018">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-32018" rel="nofollow"><time datetime="2015-01-04T17:26:06+00:00" pubdate="">2015年1月4日 at 下午5:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59195">
<article class="comment" id="comment-59195">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-59195" rel="nofollow"><time datetime="2014-12-17T14:45:16+00:00" pubdate="">2014年12月17日 at 下午2:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32016">
<article class="comment" id="comment-32016">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-32016" rel="nofollow"><time datetime="2014-12-17T09:21:03+00:00" pubdate="">2014年12月17日 at 上午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50298">
<article class="comment" id="comment-50298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-validate-binary-search-tree-6323.html#comment-50298" rel="nofollow"><time datetime="2014-12-16T23:00:12+00:00" pubdate="">2014年12月16日 at 下午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没有对题目进行一番分析，真是美中不足啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>