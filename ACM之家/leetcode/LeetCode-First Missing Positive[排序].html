<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-19</div>
<div class="tit"><h1 class="entry-title">LeetCode-First Missing Positive[排序]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/leetcode" rel="category tag" title="查看LeetCode中的全部文章">LeetCode</a></span><span class="i4">围观718次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6304" href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comments" title="《LeetCode-First Missing Positive[排序]》上的评论">24 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>First Missing Positive</strong></h3>
<div class="question-content">
<p>
Given an unsorted integer array, find the first missing positive integer.
</p>
<p>
For example,<br/>
Given <code>[1,2,0]</code> return <code>3</code>,<br/>
and <code>[3,4,-1,1]</code> return <code>2</code>.
</p>
<p>
Your algorithm should run in <i>O</i>(<i>n</i>) time and uses constant space.
</p>
</div>
<p> 标签: Array<br/>
<strong>分析</strong>
</p><p>本质上是桶排序(bucket sort)，每当{A[i]!= i+1}的时候，将A[i]与A[A[i]-1]交换，直到无法交换为止，终止条件是 {A[i]== A[A[i]-1]}。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, First Missing Positive
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    int firstMissingPositive(int A[], int n) {
        bucket_sort(A, n);
        
        for (int i = 0; i &lt; n; ++i)
            if (A[i] != (i + 1))
                return i + 1;
        return n + 1;
    }
private:
    static void bucket_sort(int A[], int n) {
        for (int i = 0; i &lt; n; i++) {
            while (A[i] != i + 1) {
                if (A[i] &lt;= 0 || A[i] &gt; n || A[i] == A[A[i] - 1])
                    break;
                swap(A[i], A[A[i] - 1]);
            }
        }
    }
};
</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74128">
<article class="comment" id="comment-74128">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74128" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74127">
<article class="comment" id="comment-74127">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74127" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74126">
<article class="comment" id="comment-74126">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74126" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74125">
<article class="comment" id="comment-74125">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74125" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74124">
<article class="comment" id="comment-74124">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74124" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74123">
<article class="comment" id="comment-74123">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74123" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74122">
<article class="comment" id="comment-74122">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74122" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74121">
<article class="comment" id="comment-74121">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74121" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-74120">
<article class="comment" id="comment-74120">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74120" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-74119">
<article class="comment" id="comment-74119">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529735" rel="external nofollow">新用户613221</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-74119" rel="nofollow"><time datetime="2017-04-12T01:59:34+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chanel bags…Roda JC Fans Helden Supporters van Roda JC Limburgse Passie…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31901">
<article class="comment" id="comment-31901">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31901" rel="nofollow"><time datetime="2015-07-05T12:13:45+00:00" pubdate="">2015年7月5日 at 下午12:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢指出，已改正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31913">
<article class="comment" id="comment-31913">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1832044043</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31913" rel="nofollow"><time datetime="2015-06-09T14:40:04+00:00" pubdate="">2015年6月9日 at 下午2:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for using the time to examine this, I truly feel strongly about it and enjoy finding out far more on this subject matter. If achievable, as you achieve knowledge</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31906">
<article class="comment" id="comment-31906">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31906" rel="nofollow"><time datetime="2015-06-05T21:43:14+00:00" pubdate="">2015年6月5日 at 下午9:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31910">
<article class="comment" id="comment-31910">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31910" rel="nofollow"><time datetime="2015-05-07T16:14:29+00:00" pubdate="">2015年5月7日 at 下午4:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31908">
<article class="comment" id="comment-31908">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31908" rel="nofollow"><time datetime="2015-04-29T16:25:18+00:00" pubdate="">2015年4月29日 at 下午4:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31902">
<article class="comment" id="comment-31902">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31902" rel="nofollow"><time datetime="2015-03-25T07:26:14+00:00" pubdate="">2015年3月25日 at 上午7:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31911">
<article class="comment" id="comment-31911">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31911" rel="nofollow"><time datetime="2015-03-05T08:44:16+00:00" pubdate="">2015年3月5日 at 上午8:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31905">
<article class="comment" id="comment-31905">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31905" rel="nofollow"><time datetime="2015-02-19T13:09:29+00:00" pubdate="">2015年2月19日 at 下午1:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>纠正一个错误，二分查找树的中序遍历获得元素的升序排列。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50209">
<article class="comment" id="comment-50209">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-50209" rel="nofollow"><time datetime="2015-01-23T09:07:07+00:00" pubdate="">2015年1月23日 at 上午9:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看来学好代数很重要啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31912">
<article class="comment" id="comment-31912">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31912" rel="nofollow"><time datetime="2015-01-10T00:54:39+00:00" pubdate="">2015年1月10日 at 上午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31904">
<article class="comment" id="comment-31904">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31904" rel="nofollow"><time datetime="2015-01-08T01:49:28+00:00" pubdate="">2015年1月8日 at 上午1:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31907">
<article class="comment" id="comment-31907">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31907" rel="nofollow"><time datetime="2014-12-12T09:49:10+00:00" pubdate="">2014年12月12日 at 上午9:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31909">
<article class="comment" id="comment-31909">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31909" rel="nofollow"><time datetime="2014-11-26T00:17:41+00:00" pubdate="">2014年11月26日 at 上午12:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>面霸网。www.51mx.org</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31903">
<article class="comment" id="comment-31903">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-first-missing-positive-6304.html#comment-31903" rel="nofollow"><time datetime="2014-11-23T06:03:42+00:00" pubdate="">2014年11月23日 at 上午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>