<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-18</div>
<div class="tit"><h1 class="entry-title">LeetCode-Best Time to Buy and Sell Stock II[贪心]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/tanxin" rel="category tag" title="查看贪心中的全部文章">贪心</a></span><span class="i4">围观548次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6245" href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comments" title="《LeetCode-Best Time to Buy and Sell Stock II[贪心]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3><strong>Best Time to Buy and Sell Stock II</strong></h3>
<div class="question-content">
<p>Say you have an array for which the <i>i</i><sup>th</sup> element is the price of a given stock on day <i>i</i>.</p>
<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
</div>
<p> 标签: Array Greedy<br/>
<strong>分析</strong>
</p><p>贪心法，低进高出，把所有正的价格差价相加起来。</p>
<p>把原始价格序列变成差分序列，本题也可以做是最大$m$子段和，$m=$数组长度。</p>
<p>代码1
</p><pre class="brush:cpp">
// LeetCode, Best Time to Buy and Sell Stock II
// 时间复杂度O(n)，空间复杂度O(1)
class Solution {
public:
    int maxProfit(vector&lt;int&gt; &amp;prices) {
        int sum = 0;
        for (int i = 1; i &lt; prices.size(); i++) {
            int diff = prices[i] - prices[i - 1];
            if (diff &gt; 0) sum += diff;
        }
        return sum;
    }
};
</pre>
<p>Java代码:
</p><pre class="brush:java">public class Solution {
    public int maxProfit(int[] prices) {
      if(prices.length == 0) return 0;
      int ans = 0;
      for(int i=1; i&lt;prices.length; i++){
          if(prices[i] &gt; prices[i-1])
            ans += prices[i]-prices[i-1];
      }
      return ans;
    }
}</pre>
<p><strong>相关题目</strong><br/>
<a href="/leetcode-solution-best-time-to-buy-and-sell-stock-6282.html">Best Time to Buy and Sell Stock</a><br/>
<a href="/leetcode-solution-best-time-to-buy-and-sell-stock-iii-6280.html">Best Time to Buy and Sell Stock III</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-74359">
<article class="comment" id="comment-74359">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530591" rel="external nofollow">新用户057340</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-74359" rel="nofollow"><time datetime="2017-04-12T01:59:36+00:00" pubdate="">2017年4月12日 at 上午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>自己还是要努力的。他们要求不是超越你的能力范围，而还是你自己不用功吧，如开头所说，从网吧回来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31512">
<article class="comment" id="comment-31512">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31512" rel="nofollow"><time datetime="2015-06-28T02:01:27+00:00" pubdate="">2015年6月28日 at 上午2:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31521">
<article class="comment" id="comment-31521">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31521" rel="nofollow"><time datetime="2015-06-15T02:31:48+00:00" pubdate="">2015年6月15日 at 上午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31519">
<article class="comment" id="comment-31519">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31519" rel="nofollow"><time datetime="2015-06-07T06:29:55+00:00" pubdate="">2015年6月7日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>simple, however efficient. A lot of instances it is difficult to get that a??perfect balancea?? among usability and appearance. I must say that youa??ve done a exceptional task with this. Also, the blog masses quite fast for me on Web explore.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49997">
<article class="comment" id="comment-49997">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-49997" rel="nofollow"><time datetime="2015-06-05T19:34:19+00:00" pubdate="">2015年6月5日 at 下午7:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>目前为止见过的最易懂的一个，多谢分享</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49998">
<article class="comment" id="comment-49998">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-49998" rel="nofollow"><time datetime="2015-06-03T07:59:54+00:00" pubdate="">2015年6月3日 at 上午7:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31517">
<article class="comment" id="comment-31517">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31517" rel="nofollow"><time datetime="2015-05-12T10:58:58+00:00" pubdate="">2015年5月12日 at 上午10:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31522">
<article class="comment" id="comment-31522">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31522" rel="nofollow"><time datetime="2015-04-21T08:23:57+00:00" pubdate="">2015年4月21日 at 上午8:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个 。。。。不是动态规划吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31513">
<article class="comment" id="comment-31513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31513" rel="nofollow"><time datetime="2015-04-01T07:41:47+00:00" pubdate="">2015年4月1日 at 上午7:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一段代码中：<br/>
 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
明显不对吧，应该是 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =j;才对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31520">
<article class="comment" id="comment-31520">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">TimeFight</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31520" rel="nofollow"><time datetime="2015-03-09T20:25:59+00:00" pubdate="">2015年3月9日 at 下午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31518">
<article class="comment" id="comment-31518">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31518" rel="nofollow"><time datetime="2015-03-08T10:39:31+00:00" pubdate="">2015年3月8日 at 上午10:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力的文章，例子也非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31516">
<article class="comment" id="comment-31516">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31516" rel="nofollow"><time datetime="2015-01-07T20:35:07+00:00" pubdate="">2015年1月7日 at 下午8:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个才是我想要的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31514">
<article class="comment" id="comment-31514">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31514" rel="nofollow"><time datetime="2015-01-03T22:32:14+00:00" pubdate="">2015年1月3日 at 下午10:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-31515">
<article class="comment" id="comment-31515">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31515" rel="nofollow"><time datetime="2015-01-02T18:57:53+00:00" pubdate="">2015年1月2日 at 下午6:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于第一题，我的直觉告诉我换不换都一样，求指教</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-31523">
<article class="comment" id="comment-31523">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/leetcode-solution-best-time-to-buy-and-sell-stock-ii-6245.html#comment-31523" rel="nofollow"><time datetime="2014-12-09T03:51:53+00:00" pubdate="">2014年12月9日 at 上午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>