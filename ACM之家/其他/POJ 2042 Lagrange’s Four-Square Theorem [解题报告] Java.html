<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 2042 Lagrange’s Four-Square Theorem [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观686次</span><span class="i3"><a class="ds-thread-count" data-thread-key="597" href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comments" title="《POJ 2042 Lagrange’s Four-Square Theorem [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Lagrange’s Four-Square Theorem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The fact that any positive integer has a representation as the sum of at most four positive squares (i.e. squares of positive integers) is known as Lagrange’s Four-Square Theorem. The first published proof of the theorem was given by Joseph-Louis Lagrange in 1770. Your mission however is not to explain the original proof nor to discover a new proof but to show that the theorem holds for some specific numbers by counting how many such possible representations there are.<br/>
<br/>For a given positive integer n, you should report the number of all representations of n as the sum of at most four positive squares. The order of addition does not matter, e.g. you should consider 4^2 + 3^2 and 3^2 + 4^2 are the same representation.
<p>For example, let’s check the case of 25. This integer has just three representations 1^2+2^2+2^2+4^2, 3^2 + 4^2, and 5^2. Thus you should report 3 in this case. Be careful not to count 4^2 + 3^2 and 3^2 + 4^2 separately.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input is composed of at most 255 lines, each containing a single positive integer less than 2^15, followed by a line containing a single zero. The last line is not a part of the input data. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output should be composed of lines, each containing a single integer. No other characters should appear in the output.
<p>The output integer corresponding to the input integer n is the number of all representations of n as the sum of at most four positive squares.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
25
2003
211
20007
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3
48
7
738
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2042">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2042">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2042">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">/* @author: */
import java.util.Scanner;
public class Main {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
 
    int n, s, t1, t2, t;
    while( sc.hasNext() )
    {
       n=sc.nextInt();
	if( n == 0 ) break;
	s = 0;
	for(int i=(int)Math.sqrt( n/4 ); i*i&lt;=n; i++ )
	{
         t1=n-i*i;
	  for(int j=(int)Math.sqrt( t1/3 ); j&lt;=i &amp;&amp; j*j&lt;=t1; j++ )
	  {
	    t2=t1-j*j;
	    for(int k=(int)Math.sqrt(t2/2) ; k&lt;=j &amp;&amp; k*k&lt;=t2; k++ )
	    {
		t = (int)Math.sqrt( t2 - k*k );
		if( t &lt;= k &amp;&amp; t*t == t2 - k*k )
		   s++;
	    }
	  }
       }
	System.out.printf( "%d\n", s );
    }
   }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-6518">
<article class="comment" id="comment-6518">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6518" rel="nofollow"><time datetime="2015-06-05T17:26:17+00:00" pubdate="">2015年6月5日 at 下午5:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常好，初学者就应该先理解递归</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6514">
<article class="comment" id="comment-6514">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6514" rel="nofollow"><time datetime="2015-05-24T07:14:55+00:00" pubdate="">2015年5月24日 at 上午7:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6515">
<article class="comment" id="comment-6515">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6515" rel="nofollow"><time datetime="2015-05-23T09:32:16+00:00" pubdate="">2015年5月23日 at 上午9:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37535">
<article class="comment" id="comment-37535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-37535" rel="nofollow"><time datetime="2015-05-09T19:40:42+00:00" pubdate="">2015年5月9日 at 下午7:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个差别应该不会太大，或许编辑器就自动优化成内联函数了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6513">
<article class="comment" id="comment-6513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6513" rel="nofollow"><time datetime="2015-03-25T00:10:07+00:00" pubdate="">2015年3月25日 at 上午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题答案确实应该是A。文中已修改，感谢一楼的提醒！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6516">
<article class="comment" id="comment-6516">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6516" rel="nofollow"><time datetime="2015-02-23T16:33:50+00:00" pubdate="">2015年2月23日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53036">
<article class="comment" id="comment-53036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ktcer</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-53036" rel="nofollow"><time datetime="2014-12-29T14:28:23+00:00" pubdate="">2014年12月29日 at 下午2:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然看懂了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6520">
<article class="comment" id="comment-6520">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6520" rel="nofollow"><time datetime="2014-10-31T05:02:45+00:00" pubdate="">2014年10月31日 at 上午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6517">
<article class="comment" id="comment-6517">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jxfactor</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6517" rel="nofollow"><time datetime="2014-09-17T01:18:11+00:00" pubdate="">2014年9月17日 at 上午1:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53035">
<article class="comment" id="comment-53035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-53035" rel="nofollow"><time datetime="2014-07-09T08:58:12+00:00" pubdate="">2014年7月9日 at 上午8:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说的就是无向图啊，有向图的算法也是类似的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6522">
<article class="comment" id="comment-6522">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6522" rel="nofollow"><time datetime="2014-05-13T15:54:14+00:00" pubdate="">2014年5月13日 at 下午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37536">
<article class="comment" id="comment-37536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-37536" rel="nofollow"><time datetime="2014-04-29T11:57:53+00:00" pubdate="">2014年4月29日 at 上午11:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6521">
<article class="comment" id="comment-6521">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6521" rel="nofollow"><time datetime="2014-04-01T20:39:47+00:00" pubdate="">2014年4月1日 at 下午8:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6519">
<article class="comment" id="comment-6519">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/POJ-2042-Lagrange%27s-Four-Square-Theorem-blog-597.html#comment-6519" rel="nofollow"><time datetime="2014-02-27T22:35:57+00:00" pubdate="">2014年2月27日 at 下午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>