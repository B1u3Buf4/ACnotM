<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-24</div>
<div class="tit"><h1 class="entry-title">剑指offer(18)-二叉树中和为某一值的路径[数据结构]九度1368</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a></span><span class="i4">围观826次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4585" href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comments" title="《剑指offer(18)-二叉树中和为某一值的路径[数据结构]九度1368》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来自九度剑指offer系列</p>
<dl>
<dt><b>题目描述：</b></dt>
<dd>输入一颗二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。 </dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>每个测试案例包括n+1行：第一行为2个整数n，k(1&lt;=n&lt;=10000)，n表示结点的个数，k表示要求的路径和，结点编号从1到n。接下来有n行。这n行中每行为3个整数vi,leftnode,rightnode，vi表示第i个结点的值，leftnode表示第i个结点的左孩子结点编号，rightnode表示第i个结点的右孩子结点编号，若无结点值为-1。编号为1的结点为根结点。
<p> </p>
</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>对应每个测试案例，先输出“result:”占一行，接下来按字典顺序输出满足条件的所有路径，这些路径由结点编号组成，输出格式参照输出样例。 </dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>5 22
10 2 3
5 4 5
12 -1 -1
4 -1 -1
7 -1 -1
1 5
1 -1 -1</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>result:
A path is found: 1 2 5
A path is found: 1 3
result:</pre>
</dd>
</dl>
<p>面试题中经常会遇到关于二叉树的问题。基本思路一般就是递归，深搜。这一题其实也是这样，没有太特别的。</p>
<p>详细思路：<a href="http://www.acmerblog.com/interview-4-1937.html">http://www.acmerblog.com/interview-4-1937.html</a></p>
<p>下面的代码有两个技巧：1） 由于是按字典序输出，可以让左孩子的值是总是小的。先序遍历就行了。</p>
<p>2） 存储路径，其实是类似栈，函数结束要弹出。</p>
<pre class="brush:cpp">//============================================================================
// Name        : 二叉树和.cpp
// Author      : coder
// Version     :
// Copyright   : www.acmerblog.com
// Description : Hello World in C++, Ansi-style
//============================================================================
#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
using namespace std;
int n,k,b,c;
struct Tree{
    int l, r;
    int data;
};
Tree tree[10010];
int path[10010],cnt;//存储路径
void find(int index,int sum){
    if(index != -1){
        Tree t = tree[index];
        sum += t.data;
        path[cnt++] = index; //存入当前节点的编号
        if(sum == k &amp;&amp; tree[index].l==-1 &amp;&amp; tree[index].r == -1){
            printf("A path is found:");
            for(int j=0; j&lt;cnt; j++) printf(" %d",path[j]);
            puts("");
            cnt--;
            return;
        }else if(sum &gt; k){
            cnt--;
            return;
        }
        find(t.l,sum);
        find(t.r,sum);
        cnt--; //函数返回时记得弹出当前的节点
    }
}
int main() {
    while(scanf("%d%d", &amp;n, &amp;k) != EOF){
        cnt = 0;
        for(int i=1; i&lt;=n; i++){
            scanf("%d%d%d", &amp;tree[i].data, &amp;b, &amp;c);
            if(b &gt; c) swap(b ,c);//保证字典序
            tree[i].l = b;
            tree[i].r = c;
        }
        puts("result:");
        find(1,0);
    }
    return 0;
}
/**************************************************************
    Problem: 1368
    User: 从此醉
    Language: C++
    Result: Accepted
    Time:40 ms
    Memory:1676 kb
****************************************************************/</pre>
<p>ACM之家原创，链接：<a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html">http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81091">
<article class="comment" id="comment-81091">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81091" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81090">
<article class="comment" id="comment-81090">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81090" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81089">
<article class="comment" id="comment-81089">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81089" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81088">
<article class="comment" id="comment-81088">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81088" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81087">
<article class="comment" id="comment-81087">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81087" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81086">
<article class="comment" id="comment-81086">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81086" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81085">
<article class="comment" id="comment-81085">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81085" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81084">
<article class="comment" id="comment-81084">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519865" rel="external nofollow">新用户944544</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-81084" rel="nofollow"><time datetime="2017-04-12T18:13:48+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>tx 的锅。。。上次教你的方法不行了么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57761">
<article class="comment" id="comment-57761">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57761" rel="nofollow"><time datetime="2015-05-15T04:56:10+00:00" pubdate="">2015年5月15日 at 上午4:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57760">
<article class="comment" id="comment-57760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57760" rel="nofollow"><time datetime="2015-02-22T09:00:29+00:00" pubdate="">2015年2月22日 at 上午9:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47307">
<article class="comment" id="comment-47307">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-47307" rel="nofollow"><time datetime="2015-02-21T07:42:26+00:00" pubdate="">2015年2月21日 at 上午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目重复了，删掉一个吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57763">
<article class="comment" id="comment-57763">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57763" rel="nofollow"><time datetime="2014-12-28T03:59:49+00:00" pubdate="">2014年12月28日 at 上午3:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26342">
<article class="comment" id="comment-26342">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-26342" rel="nofollow"><time datetime="2014-09-02T02:48:50+00:00" pubdate="">2014年9月2日 at 上午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26341">
<article class="comment" id="comment-26341">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-26341" rel="nofollow"><time datetime="2014-08-22T13:47:38+00:00" pubdate="">2014年8月22日 at 下午1:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26343">
<article class="comment" id="comment-26343">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-26343" rel="nofollow"><time datetime="2014-08-14T04:54:28+00:00" pubdate="">2014年8月14日 at 上午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57766">
<article class="comment" id="comment-57766">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57766" rel="nofollow"><time datetime="2014-07-22T20:39:33+00:00" pubdate="">2014年7月22日 at 下午8:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢指出，已改正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57765">
<article class="comment" id="comment-57765">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangdilj</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57765" rel="nofollow"><time datetime="2014-07-20T15:36:14+00:00" pubdate="">2014年7月20日 at 下午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63057">
<article class="comment" id="comment-63057">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-63057" rel="nofollow"><time datetime="2014-07-09T23:16:38+00:00" pubdate="">2014年7月9日 at 下午11:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;stdio.h&gt;<br/>
int main(void)<br/>
{<br/>
int arr[] = {10,20,30,40,50,60};<br/>
int *p=arr;<br/>
printf("%d,%d,",*p++,*++p);<br/>
printf("%d,%d,%d",*p,*p++,*++p);<br/>
return 0;<br/>
}</p>
<p>为什么是 20,20,50,40,50. 我觉得的应该是 20,20,40,40,50 . 谁能解释下？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63058">
<article class="comment" id="comment-63058">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa_zmt</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-63058" rel="nofollow"><time datetime="2014-05-07T23:32:17+00:00" pubdate="">2014年5月7日 at 下午11:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长好。我是一个准备创业的互联网小白,我们打算做一个有关国*际*游*学的平台。手上也有了一些境外资源。现阶段的团队现在没有cto.原意出让一些管理股寻找一个靠谱的技术专家做合伙人, 不知道是不是能得到您的帮助。发个帖子或者其他方式。期待您的回应。可以加我微信tianxielemon聊聊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57762">
<article class="comment" id="comment-57762">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57762" rel="nofollow"><time datetime="2014-04-22T17:18:37+00:00" pubdate="">2014年4月22日 at 下午5:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57764">
<article class="comment" id="comment-57764">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/interview-offer18-jiudu-1368-4585.html#comment-57764" rel="nofollow"><time datetime="2014-03-24T01:23:02+00:00" pubdate="">2014年3月24日 at 上午1:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>