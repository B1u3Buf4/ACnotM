<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 2785 4 Values whose Sum is 0 [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a></span><span class="i4">围观726次</span><span class="i3"><a class="ds-thread-count" data-thread-key="874" href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comments" title="《POJ 2785 4 Values whose Sum is 0 [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">4 Values whose Sum is 0</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The SUM problem can be formulated as follows: given four lists A, B, C, D of integer values, compute how many quadruplet (a, b, c, d ) ∈ A x B x C x D are such that a + b + c + d = 0 . In the following, we assume that all lists have the same size n . </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of the input file contains the size of the lists n (this value can be as large as 4000). We then have n lines containing four integer values (with absolute value as large as 2<sup>28</sup> ) that belong respectively to A, B, C and D .  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each input file, your program has to write the number quadruplets whose sum is zero. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
6
-45 22 42 -16
-41 -27 56 30
-36 53 -37 77
-36 30 -75 -46
26 -38 -10 62
-32 -54 -6 45
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
5
</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
Sample Explanation: Indeed, the sum of the five following quadruplets is zero: (-45, -27, 42, 30), (26, 30, -10, -46), (-32, 22, 56, -46),(-32, 30, -75, 77), (-32, -54, 56, 30). </div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2785">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2785">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2785">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.*;
import java.util.*;
public class Main
{
 public static void main(String[] args) throws IOException
 {
	InputStreamReader is=new InputStreamReader(System.in);
	BufferedReader in=new BufferedReader(is);
	String s=in.readLine();
	int a=Integer.parseInt(s);
	int[] t1=new int[a];
	int[] t2=new int[a];
	int[] t3=new int[a];
	int[] t4=new int[a];
	int[] t5=new int[a*a];
	int[] t6=new int[a*a];
	int abl=0,cdl=0;
	String[] ss;
	for(int i=0;i&lt; a;i++)
	{
         ss=in.readLine().split(" ");
	  t1[i]=Integer.parseInt(ss[0]);
	  t2[i]=Integer.parseInt(ss[1]);
	  t3[i]=Integer.parseInt(ss[2]);
	  t4[i]=Integer.parseInt(ss[3]);
	}
	for(int i=0;i&lt; a;i++)
	  for(int j=0;j&lt; a;j++)
	  {
	   t5[abl++]=t1[i]+t2[j];
	   t6[cdl++]=t3[i]+t4[j];
	  }
	Arrays.sort(t5);
	Arrays.sort(t6);
	int l1=0,l2=cdl-1,ans=0,k,m;
	while(l1&lt; abl&amp;&amp;l2&gt;-1)
	{
	  if(t5[l1]+t6[l2]==0){
		k=0;
		m=0;
		for(int i=l1;i&lt; abl;i++)
	         if(t5[l1]!=t5[i]) break;
		  else k++;
		l1+=k;
		for(int i=l2;i&gt;-1;i--)
		  if(t6[l2]!=t6[i]) break;
		  else m++;
		l2-=m;
		ans+=k*m;
	  }
	  else if(t5[l1]+t6[l2]&gt;0) l2--;
	  else l1++;
      }
      System.out.println(ans);
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-8442">
<article class="comment" id="comment-8442">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8442" rel="nofollow"><time datetime="2015-05-20T14:38:32+00:00" pubdate="">2015年5月20日 at 下午2:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，这里说的最长回文子序列，非子串</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38549">
<article class="comment" id="comment-38549">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CHEATBEATER</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-38549" rel="nofollow"><time datetime="2015-03-08T03:29:13+00:00" pubdate="">2015年3月8日 at 上午3:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38551">
<article class="comment" id="comment-38551">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wizcabbit</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-38551" rel="nofollow"><time datetime="2015-02-18T03:40:33+00:00" pubdate="">2015年2月18日 at 上午3:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了。找到这题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38547">
<article class="comment" id="comment-38547">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-38547" rel="nofollow"><time datetime="2015-02-11T21:22:34+00:00" pubdate="">2015年2月11日 at 下午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>懂了，谢谢啦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8446">
<article class="comment" id="comment-8446">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8446" rel="nofollow"><time datetime="2015-01-18T22:51:31+00:00" pubdate="">2015年1月18日 at 下午10:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8443">
<article class="comment" id="comment-8443">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8443" rel="nofollow"><time datetime="2015-01-06T05:01:31+00:00" pubdate="">2015年1月6日 at 上午5:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38550">
<article class="comment" id="comment-38550">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-38550" rel="nofollow"><time datetime="2014-11-30T10:20:38+00:00" pubdate="">2014年11月30日 at 上午10:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8445">
<article class="comment" id="comment-8445">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8445" rel="nofollow"><time datetime="2014-10-10T08:53:51+00:00" pubdate="">2014年10月10日 at 上午8:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8444">
<article class="comment" id="comment-8444">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8444" rel="nofollow"><time datetime="2014-09-15T23:34:01+00:00" pubdate="">2014年9月15日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>good !</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60906">
<article class="comment" id="comment-60906">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-60906" rel="nofollow"><time datetime="2014-08-04T22:45:01+00:00" pubdate="">2014年8月4日 at 下午10:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38548">
<article class="comment" id="comment-38548">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-38548" rel="nofollow"><time datetime="2014-07-03T17:22:48+00:00" pubdate="">2014年7月3日 at 下午5:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8449">
<article class="comment" id="comment-8449">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8449" rel="nofollow"><time datetime="2014-02-18T00:54:22+00:00" pubdate="">2014年2月18日 at 上午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8448">
<article class="comment" id="comment-8448">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8448" rel="nofollow"><time datetime="2014-02-13T11:47:48+00:00" pubdate="">2014年2月13日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输出规范写错了哦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8447">
<article class="comment" id="comment-8447">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/POJ-2785-4-Values-whose-Sum-is-0-blog-874.html#comment-8447" rel="nofollow"><time datetime="2013-12-04T12:47:36+00:00" pubdate="">2013年12月4日 at 下午12:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>