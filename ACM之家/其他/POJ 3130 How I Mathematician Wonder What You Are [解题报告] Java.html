<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3130 How I Mathematician Wonder What You Are! [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观568次</span><span class="i3"><a class="ds-thread-count" data-thread-key="971" href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comments" title="《POJ 3130 How I Mathematician Wonder What You Are! [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">How I Mathematician Wonder What You Are!</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>After counting so many stars in the sky in his childhood, Isaac, now an astronomer and a mathematician uses a big astronomical telescope and lets his image processing program count stars. The hardest part of the program is to judge if shining object in the sky is really a star. As a mathematician, the only way he knows is to apply a mathematical definition of <i>stars</i>.</p>
<p>The mathematical definition of a star shape is as follows: A planar shape <i>F</i> is <i>star-shaped</i> if and only if there is a point C ∈ <i>F</i> such that, for any point P ∈ <i>F</i>, the line segment CP is contained in <i>F</i>. Such a point C is called a <i>center</i> of <i>F</i>. To get accustomed to the definition let’s see some examples below.</p>
<div align="center"><img src="http://www.acmerblog.com/img/poj/3130-40.gif"/></div>
<p>The first two are what you would normally call stars. According to the above definition, however, all shapes in the first row are star-shaped. The two in the second row are not. For each star shape, a center is indicated with a dot. Note that a star shape in general has infinitely many centers. Fore Example, for the third quadrangular shape, all points in it are centers.</p>
<p>Your job is to write a program that tells whether a given polygonal shape is star-shaped or not.</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>The input is a sequence of datasets followed by a line containing a single zero. Each dataset specifies a polygon, and is formatted as follows.</p>
<blockquote><table border="0" width="60">
<tr>
<td width="50%"><i>n</i></td>
<td width="50%"></td>
</tr>
<tr>
<td width="50%"><i>x</i><sub>1</sub></td>
<td width="50%"><i>y</i><sub>1</sub></td>
</tr>
<tr>
<td width="50%"><i>x</i><sub>2</sub></td>
<td width="50%"><i>y</i><sub>2</sub></td>
</tr>
<tr>
<td colspan="2" width="100%">
<p align="center">…</p></td>
</tr>
<tr>
<td width="50%"><i>x<sub>n</sub></i></td>
<td width="50%"><i>y<sub>n</sub></i></td>
</tr>
</table>
</blockquote>
<p>The first line is the number of vertices, <i>n</i>, which satisfies 4 ≤ <i>n</i> ≤ 50. Subsequent <i>n</i> lines are the <i>x</i>- and <i>y</i>-coordinates of the <i>n</i> vertices. They are integers and satisfy 0 ≤ <i>x<sub>i</sub></i> ≤ 10000 and 0 ≤ <i>y<sub>i</sub></i> ≤ 10000 (<i>i</i> = 1, …, <i>n</i>). Line segments (<i>x<sub>i</sub></i>, <i>y<sub>i</sub></i>)–(<i>x<sub>i</sub></i><sub> + 1</sub>, <i>y<sub>i</sub></i><sub> + 1</sub>) (<i>i</i> = 1, …, <i>n</i> − 1) and the line segment (<i>x<sub>n</sub></i>, <i>y<sub>n</sub></i>)–(<i>x</i><sub>1</sub>, <i>y</i><sub>1</sub>) form the border of the polygon in the counterclockwise order. That is, these line segments see the inside of the polygon in the left of their directions.</p>
<p>You may assume that the polygon is <i>simple</i>, that is, its border never crosses or touches itself. You may assume assume that no three edges of the polygon meet at a single point even when they are infinitely extended.</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>For each dataset, output “<code>1</code>” if the polygon is star-shaped and “<code>0</code>” otherwise. Each number must be in a separate line and the line should not contain any other characters.</p>
<p></p></span></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
6 
66 13 
96 61 
76 98 
13 94 
4 0 
45 68 
8 
27 21 
55 14 
93 12 
56 95 
15 48 
38 46 
51 65 
64 31 
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
0</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3130">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3130">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3130">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">import java.util.Scanner;  
  
public class Main {  
  
    static double x[], y[];  
    static double tx[], ty[];  
    static double txp[], typ[];  
    static int num;  
    static int tnum;  
    static double a, b, c;  
  
    public static void main(String[] args) {  
  
        Scanner scan = new Scanner(System.in);  
  
        while (true) {  
  
            int n = scan.nextInt();  
            if (n == 0)  
                break;  
            num = n;  
  
            x = new double[100];  
            y = new double[100];  
            tx = new double[100];  
            ty = new double[100];  
            txp = new double[100];  
            typ = new double[100];  
  
            for (int i = 0; i &lt; n; i++) {  
                x[i] = scan.nextDouble();  
                y[i] = scan.nextDouble();  
                tx[i + 1] = x[i];  
                ty[i + 1] = y[i];  
            }  
  
            x[n] = x[0];  
            y[n] = y[0];  
            tx[0] = tx[n];  
            ty[0] = ty[n];  
            tx[n + 1] = tx[1];  
            ty[n + 1] = ty[1];  
  
            for (int i = 0; i &lt; n; i++) {  
                a = y[i + 1] - y[i]; //求直线aX+bY+c=0的参数a,b,c   
                b = x[i] - x[i + 1];  
                c = x[i + 1] * y[i] - x[i] * y[i + 1];  
                solve();  
            }  
  
            if (num == 0)  
                System.out.println("0");  
            else  
                System.out.println("1");  
  
        }  
  
    }  
  
    public static void solve() {  
  
        tnum = 0;  
  
        for (int i = 1; i &lt;= num; i++) {  
  
            if (sig(a * tx[i] + b * ty[i] + c) &lt;= 0) {  // 在一侧   
                txp[tnum] = tx[i];  
                typ[tnum++] = ty[i];  
            } else {                                    // 在另一侧   
                if (sig(a * tx[i - 1] + b * ty[i - 1] + c) &lt; 0)  //小于0才会有交点   
                    insert(tx[i - 1], ty[i - 1], tx[i], ty[i]);  
                if (sig(a * tx[i + 1] + b * ty[i + 1] + c )&lt; 0)  
                    insert(tx[i + 1], ty[i + 1], tx[i], ty[i]);  
            }  
        }  
  
        num = tnum;                       //更新  num,tx,ty   
  
        for (int j = 1; j &lt;= num; j++) {  
            tx[j] = txp[j - 1];  
            ty[j] = typ[j - 1];  
        }  
        tx[0] = tx[num];  
        ty[0] = ty[num];  
        tx[num + 1] = tx[1];  
        ty[num + 1] = ty[1];  
  
    }  
  
    private static int sig(double d) {  
        if(d&lt; 1e-10)  
            return -1;  
        else if(d&gt;1e-10)  
            return 1;  
        return 0;  
    }  
   //求两直线交点  其中一条直线  已经表示成ax+by+c=0,  另一直线 是两个点   
    public static void insert(double x1, double y1, double x2, double y2) { 
        double xx = Math.abs(a * x1 + b * y1 + c);  
        double yy = Math.abs(a * x2 + b * y2 + c);  
        txp[tnum] = (x1 * yy + x2 * xx) / (xx + yy);  
        typ[tnum++] = (y1 * yy + y2 * xx) / (xx + yy);  
  
    }  
  
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-38843">
<article class="comment" id="comment-38843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-38843" rel="nofollow"><time datetime="2015-04-29T17:39:01+00:00" pubdate="">2015年4月29日 at 下午5:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种题解就相当于直接贴代码了，，想看的是思路</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38845">
<article class="comment" id="comment-38845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-38845" rel="nofollow"><time datetime="2014-11-10T18:18:07+00:00" pubdate="">2014年11月10日 at 下午6:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9106">
<article class="comment" id="comment-9106">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qq1005873807</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9106" rel="nofollow"><time datetime="2014-11-08T15:16:19+00:00" pubdate="">2014年11月8日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38847">
<article class="comment" id="comment-38847">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-38847" rel="nofollow"><time datetime="2014-11-03T17:48:30+00:00" pubdate="">2014年11月3日 at 下午5:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9108">
<article class="comment" id="comment-9108">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9108" rel="nofollow"><time datetime="2014-10-24T10:38:29+00:00" pubdate="">2014年10月24日 at 上午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>加了星号 (*) 表示跳过此数据不读入. 因为scanf是不读取本行回车的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38846">
<article class="comment" id="comment-38846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-38846" rel="nofollow"><time datetime="2014-09-21T00:49:13+00:00" pubdate="">2014年9月21日 at 上午12:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9102">
<article class="comment" id="comment-9102">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9102" rel="nofollow"><time datetime="2014-09-08T06:54:47+00:00" pubdate="">2014年9月8日 at 上午6:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9105">
<article class="comment" id="comment-9105">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9105" rel="nofollow"><time datetime="2014-08-16T11:41:17+00:00" pubdate="">2014年8月16日 at 上午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9107">
<article class="comment" id="comment-9107">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9107" rel="nofollow"><time datetime="2014-07-05T19:12:36+00:00" pubdate="">2014年7月5日 at 下午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看见的晚了，只能提交一次唉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9100">
<article class="comment" id="comment-9100">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9100" rel="nofollow"><time datetime="2014-06-21T06:12:21+00:00" pubdate="">2014年6月21日 at 上午6:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9101">
<article class="comment" id="comment-9101">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9101" rel="nofollow"><time datetime="2014-06-12T14:53:32+00:00" pubdate="">2014年6月12日 at 下午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for taking the time to examine this, I really feel strongly about it and love studying a lot more on this topic. If possible, as you acquire experience</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38844">
<article class="comment" id="comment-38844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-38844" rel="nofollow"><time datetime="2014-06-02T18:32:20+00:00" pubdate="">2014年6月2日 at 下午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9103">
<article class="comment" id="comment-9103">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9103" rel="nofollow"><time datetime="2014-05-28T16:44:46+00:00" pubdate="">2014年5月28日 at 下午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9104">
<article class="comment" id="comment-9104">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/POJ-3130-How-I-Mathematician-Wonder-What-You-Are%21-blog-971.html#comment-9104" rel="nofollow"><time datetime="2014-03-06T11:15:12+00:00" pubdate="">2014年3月6日 at 上午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分三种情况讨论。Not Possible就是impossible</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>