<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>04-11</div>
<div class="tit"><h1 class="entry-title">巴比伦算法求平方根</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/gaotong2055" rel="author" title="由dragon发布">dragon</a></span><span class="i1"><a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/zhuanti/algorithm" rel="category tag" title="查看算法分析中的全部文章">算法分析</a></span><span class="i4">围观1262次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5644" href="http://www.acmerblog.com/square-root-5644.html#comments" title="《巴比伦算法求平方根》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p><strong><span><span>算法描述：</span></span></strong><br/>
<span><span>这种方法比较久远了，类似牛顿迭代法。</span></span></p>
<p>x^2=n ，给出n 要求x 的值。</p>
<pre class="brush:other">1 从一个任意的值x开始（越靠近根越好）。
2 初始化y = 1.
3. 重复一下步骤直到求得近似值：
  a) 取x和y的平均数为下一个近似的根
  b) y = n/x</pre>
<p>不管刚开始x，y的相差有多大，最终都会向中间靠拢的，最后 x*y = n。例如 n=50时</p>
<p>x=50   y=1<br/>
x=25.5   y=1.96078<br/>
x=13.7304   y=3.64156<br/>
x=8.68597   y=5.75641<br/>
x=7.22119   y=6.92407<br/>
x=7.07263   y=7.06951</p>
<p>代码实现：</p>
<pre class="brush:cpp">/*Returns the square root of n. Note that the function */
float squareRoot(float n)
{
  /*使用n作为初始化，其实还有待优化 */
  float x = n;
  float y = 1;
  float e = 0.000001; /* e 确定精度 */
  while(x - y &gt; e)
  {
    x = (x + y)/2;
    y = n/x;
  }
  return x;
}

int main()
{
  int n = 50;
  printf ("Square root of %d is %f", n, squareRoot(n));
  getchar();
}</pre>
<p>例子：</p>
<pre>n = 4 /*n 被用作初始解 */
Initialize x = 4, y = 1
下一个近似解 x = (x + y)/2 (= 2.500000), 
y = n/x  (=1.600000)
下一个近似解 x = 2.050000,
y = 1.951220
下一个近似解 x = 2.000610,
y = 1.999390
下一个近似解 x = 2.000000, 
y = 2.000000
停止： (x - y) &gt; e .</pre>
<p>如果我们可以确定n是完全平方数(解为整数)，可以使用下面的方法。对于非完全平方数，程序 会进入死循环</p>
<pre class="brush:cpp">unsigned int squareRoot(int n)
{
  int x = n;
  int y = 1;
  while(x &gt; y)
  {
    x = (x + y)/2;
    y = n/x;
  }
  return x;
}

/* 测试*/
int main()
{
  int n = 49;
  printf (" root of %d is %d", n, squareRoot(n));
  getchar();
}</pre>
<p>参考：http://www.geeksforgeeks.org/square-root-of-a-perfect-square/</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75852">
<article class="comment" id="comment-75852">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75852" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75851">
<article class="comment" id="comment-75851">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75851" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75850">
<article class="comment" id="comment-75850">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75850" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75849">
<article class="comment" id="comment-75849">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75849" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75848">
<article class="comment" id="comment-75848">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75848" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75847">
<article class="comment" id="comment-75847">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75847" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75846">
<article class="comment" id="comment-75846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75846" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75845">
<article class="comment" id="comment-75845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75845" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75844">
<article class="comment" id="comment-75844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75844" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75843">
<article class="comment" id="comment-75843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75843" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75842">
<article class="comment" id="comment-75842">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75842" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75841">
<article class="comment" id="comment-75841">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75841" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75840">
<article class="comment" id="comment-75840">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75840" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75839">
<article class="comment" id="comment-75839">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527951" rel="external nofollow">新用户722792</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-75839" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度果然大手笔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58756">
<article class="comment" id="comment-58756">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-58756" rel="nofollow"><time datetime="2015-04-16T15:50:49+00:00" pubdate="">2015年4月16日 at 下午3:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30250">
<article class="comment" id="comment-30250">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-30250" rel="nofollow"><time datetime="2015-04-14T20:24:17+00:00" pubdate="">2015年4月14日 at 下午8:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30251">
<article class="comment" id="comment-30251">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-30251" rel="nofollow"><time datetime="2015-03-18T20:44:37+00:00" pubdate="">2015年3月18日 at 下午8:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30253">
<article class="comment" id="comment-30253">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jhxxszy</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-30253" rel="nofollow"><time datetime="2015-01-24T04:16:20+00:00" pubdate="">2015年1月24日 at 上午4:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58755">
<article class="comment" id="comment-58755">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-58755" rel="nofollow"><time datetime="2014-12-23T21:35:39+00:00" pubdate="">2014年12月23日 at 下午9:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30254">
<article class="comment" id="comment-30254">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-30254" rel="nofollow"><time datetime="2014-12-21T07:30:39+00:00" pubdate="">2014年12月21日 at 上午7:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30252">
<article class="comment" id="comment-30252">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mazilian</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-30252" rel="nofollow"><time datetime="2014-11-26T05:35:58+00:00" pubdate="">2014年11月26日 at 上午5:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49296">
<article class="comment" id="comment-49296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/square-root-5644.html#comment-49296" rel="nofollow"><time datetime="2014-07-18T10:55:43+00:00" pubdate="">2014年7月18日 at 上午10:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太好了，收藏</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>