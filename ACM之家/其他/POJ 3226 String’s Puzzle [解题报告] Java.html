<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3226 String’s Puzzle [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观736次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1000" href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comments" title="《POJ 3226 String’s Puzzle [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">String’s Puzzle</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<img align="right" hspace="10" src="http://www.acmerblog.com/img/poj/3226-0.jpg" vspace="10"/>Zhu Ming and Small Li find a strange stone tablet, which has some capitals printed on it. Capitals in every string are different with each other, and every capital string is followed by a number. Because of their supernormal intelligence, Zhu Ming and Small Li find the number following the string is numbered in the order of dictionary sequence from little to big (the original number is 0).For example, when the length of capital string is 3, number following the string will be: <br/>　<br/>
<table align="center" border="0" id="table1" width="250">
<tr>
<td width="50%">ABC</td>
<td>0</td>
</tr>
<tr>
<td>ABD</td>
<td>1</td>
</tr>
<tr>
<td>……</td>
<td>　</td>
</tr>
<tr>
<td>ZYX</td>
<td>15599</td>
</tr>
</table>
<p>To better study this puzzle, please make a program to given a n-length string (1&lt;=n&lt;=26), output the number of the string. </p>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases.<br/>Each data is made up of two lines.<br/>The first line is number n (1&lt;=n&lt;=26)<br/>The second line is a string with its length of n.<br/>n=0 means end of the input. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output the string number for each group of data tested.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
ABC
3
ZYX 
3
ABD
4
ABCD
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0
15599
1
0</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3226">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3226">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3226">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author:alpc12
import java.io.*;
import java.util.*;
import java.math.*;

public class Main {
	
BigInteger[][] Ank = new BigInteger[27][27];
	
void pre() {
 BigInteger i, j;
 for(i = BigInteger.ONE; i.compareTo(new BigInteger("27")) != 0; i = i.add(BigInteger.ONE)) {
  Ank[i.intValue()][0] = BigInteger.ONE;
  Ank[i.intValue()][1] = i;
  for(j = new BigInteger("2"); j.compareTo(i) &lt;= 0; j = j.add(BigInteger.ONE)) {
   Ank[i.intValue()][j.intValue()] = Ank[i.intValue()][j.intValue()-1].multiply(i.subtract(j).add(BigInteger.ONE));
  }	
 }
}
	
 BigInteger cal(String s, int n, int pos) {
   BigInteger ret = BigInteger.ZERO;
   boolean[] chk = new boolean[26];
   int i, ava = s.charAt(pos)-'A';
   for(i = 0; i &lt; pos; ++i)
	chk[s.charAt(i)-'A'] = true;
   for(i = 0; i &lt; s.charAt(pos)-'A'; ++i)
	if(chk[i])
   ava--;
   BigInteger a = new BigInteger(""+ava);	
   if(pos == n-1)
	return a;
   ret = ret.add(a.multiply(Ank[26-pos-1][n-pos-1]));
   return ret.add( cal(s, n, pos+1) );
  }
	
  void run() {
   Scanner cin = new Scanner(System.in);
   pre();
   while(true) {
	int n = cin.nextInt();
	if(n == 0) 
		break;
	String s = cin.next();
	System.out.println(cal(s, s.length(), 0));
   }
  }

 public static void main(String[] args) {
	new Main().run();

 }

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-9270">
<article class="comment" id="comment-9270">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9270" rel="nofollow"><time datetime="2015-06-25T23:50:35+00:00" pubdate="">2015年6月25日 at 下午11:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9266">
<article class="comment" id="comment-9266">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9266" rel="nofollow"><time datetime="2015-05-31T22:19:39+00:00" pubdate="">2015年5月31日 at 下午10:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9263">
<article class="comment" id="comment-9263">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1832044043</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9263" rel="nofollow"><time datetime="2015-05-13T19:16:01+00:00" pubdate="">2015年5月13日 at 下午7:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9271">
<article class="comment" id="comment-9271">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9271" rel="nofollow"><time datetime="2015-03-22T23:33:50+00:00" pubdate="">2015年3月22日 at 下午11:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9272">
<article class="comment" id="comment-9272">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9272" rel="nofollow"><time datetime="2015-02-05T11:56:53+00:00" pubdate="">2015年2月5日 at 上午11:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>為甚麼fln*20+0.5f</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9262">
<article class="comment" id="comment-9262">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9262" rel="nofollow"><time datetime="2014-12-03T22:24:00+00:00" pubdate="">2014年12月3日 at 下午10:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目和代码都不一样好吗！！！搞错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9264">
<article class="comment" id="comment-9264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9264" rel="nofollow"><time datetime="2014-11-12T01:18:08+00:00" pubdate="">2014年11月12日 at 上午1:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一段代码中：<br/>
 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
明显不对吧，应该是 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =j;才对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9269">
<article class="comment" id="comment-9269">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9269" rel="nofollow"><time datetime="2014-10-11T21:41:12+00:00" pubdate="">2014年10月11日 at 下午9:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不直接用STL排序呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9265">
<article class="comment" id="comment-9265">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9265" rel="nofollow"><time datetime="2014-08-17T16:34:58+00:00" pubdate="">2014年8月17日 at 下午4:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38973">
<article class="comment" id="comment-38973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-38973" rel="nofollow"><time datetime="2014-08-11T05:36:07+00:00" pubdate="">2014年8月11日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不直接用STL排序呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9268">
<article class="comment" id="comment-9268">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9268" rel="nofollow"><time datetime="2014-07-26T21:43:40+00:00" pubdate="">2014年7月26日 at 下午9:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9267">
<article class="comment" id="comment-9267">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9267" rel="nofollow"><time datetime="2014-06-15T10:07:32+00:00" pubdate="">2014年6月15日 at 上午10:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9273">
<article class="comment" id="comment-9273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9273" rel="nofollow"><time datetime="2014-02-03T17:36:39+00:00" pubdate="">2014年2月3日 at 下午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你这个代码显示风格很给你啊，怎么做出来的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9274">
<article class="comment" id="comment-9274">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/POJ-3226-String%27s-Puzzle-blog-1000.html#comment-9274" rel="nofollow"><time datetime="2013-11-29T01:28:12+00:00" pubdate="">2013年11月29日 at 上午1:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>