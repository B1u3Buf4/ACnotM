<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2470 Ambiguous permutations [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/hash" rel="category tag" title="查看Hash表中的全部文章">Hash表</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/math/bignumber" rel="category tag" title="查看高精度计算中的全部文章">高精度计算</a></span><span class="i4">围观855次</span><span class="i3"><a class="ds-thread-count" data-thread-key="748" href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comments" title="《POJ 2470 Ambiguous permutations [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Ambiguous permutations</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Some programming contest problems are really tricky: not only do they require a different output format from what you might have expected, but also the sample output does not show the difference. For an example, let us look at permutations.<br/>
<br/>A permutation of the integers 1 to n is an ordering of these integers. So the natural way to represent a permutation is to list the integers in this order. With n = 5, a permutation might look like 2, 3, 4, 5, 1.<br/>
<br/>However, there is another possibility of representing a permutation: You create a list of numbers where the i-th number is the position of the integer i in the permutation. Let us call this second possibility an inverse permutation. The inverse permutation for the sequence above is 5, 1, 2, 3, 4.<br/>
<br/>An ambiguous permutation is a permutation which cannot be distinguished from its inverse permutation. The permutation 1, 4, 3, 2 for example is ambiguous, because its inverse permutation is the same. To get rid of such annoying sample test cases, you have to write a program which detects if a given permutation is ambiguous or not. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several test cases.<br/>
<br/>The first line of each test case contains an integer n (1 &lt;= n &lt;= 100000). Then a permutation of the integers 1 to n follows in the next line. There is exactly one space character between consecutive integers. You can assume that every integer between 1 and n appears exactly once in the permutation.<br/>
<br/>The last test case is followed by a zero.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case output whether the permutation is ambiguous or not. Adhere to the format shown in the sample output.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
1 4 3 2
5
2 3 4 5 1
1
1
0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
ambiguous
not ambiguous
ambiguous
</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
Huge input,scanf is recommended.</div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2470">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2470">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2470">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author 洪晓鹏&lt;hongxp11@163.com&gt;
//读大数据 buffered

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import java.util.StringTokenizer;

public class Main {
 public static void main(String[] args) throws IOException {
		
  BufferedReader in = new BufferedReader(new InputStreamReader(System.in));

   while (true) {
	int n = Integer.parseInt(in.readLine());
	if (n == 0)
		break;
	//StringTokenizer st = new StringTokenizer(in.readLine()," ");
	String s = in.readLine();
	String[] sArray=s.split(" ");
	Map&lt; Integer, Integer&gt; map = new HashMap&lt; Integer, Integer&gt;();
	int[] array = new int[n];
	int i = 0;
//	while(st.hasMoreTokens()) {
//		int key = Integer.parseInt(st.nextToken());
//		array[i] = key;
//		map.put(key, i+1);
//		i++;
//	}
//	int sl = sArray.length;
	//System.out.println(sl);
	for(i = 0; i&lt; n; i++){
		int key = Integer.parseInt(sArray[i]);
		array[i] = key;
		map.put(key, i+1);
	}
	int count = 0;
	for (i = 0; i &lt; n; i++) {
		if (map.get(i+1) == array[i])
			count++;
		else
			break;
		//System.out.println(array[i]+" "+map.get(i+1));
	
	}
	if (count == n)
		System.out.println("ambiguous");
	else
		System.out.println("not ambiguous");
		
  }
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-38064">
<article class="comment" id="comment-38064">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-38064" rel="nofollow"><time datetime="2015-04-12T09:01:53+00:00" pubdate="">2015年4月12日 at 上午9:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分三种情况讨论。Not Possible就是impossible</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53317">
<article class="comment" id="comment-53317">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-53317" rel="nofollow"><time datetime="2014-12-31T17:24:27+00:00" pubdate="">2014年12月31日 at 下午5:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7517">
<article class="comment" id="comment-7517">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7517" rel="nofollow"><time datetime="2014-12-03T05:04:01+00:00" pubdate="">2014年12月3日 at 上午5:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7525">
<article class="comment" id="comment-7525">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7525" rel="nofollow"><time datetime="2014-11-13T11:59:27+00:00" pubdate="">2014年11月13日 at 上午11:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38063">
<article class="comment" id="comment-38063">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-38063" rel="nofollow"><time datetime="2014-11-12T13:34:40+00:00" pubdate="">2014年11月12日 at 下午1:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7521">
<article class="comment" id="comment-7521">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7521" rel="nofollow"><time datetime="2014-10-31T13:55:34+00:00" pubdate="">2014年10月31日 at 下午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额楼主能否在发布代码的同时对解题思路做个讲解呢？这样大家在学习的时候就方便多了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7527">
<article class="comment" id="comment-7527">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7527" rel="nofollow"><time datetime="2014-10-07T10:40:53+00:00" pubdate="">2014年10月7日 at 上午10:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7519">
<article class="comment" id="comment-7519">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7519" rel="nofollow"><time datetime="2014-08-19T02:51:31+00:00" pubdate="">2014年8月19日 at 上午2:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-1]）这个地方也也有笔误<br/>
应改为L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-2]）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7524">
<article class="comment" id="comment-7524">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7524" rel="nofollow"><time datetime="2014-08-13T19:22:55+00:00" pubdate="">2014年8月13日 at 下午7:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7518">
<article class="comment" id="comment-7518">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7518" rel="nofollow"><time datetime="2014-07-13T19:56:58+00:00" pubdate="">2014年7月13日 at 下午7:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7522">
<article class="comment" id="comment-7522">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7522" rel="nofollow"><time datetime="2014-05-22T08:00:22+00:00" pubdate="">2014年5月22日 at 上午8:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7520">
<article class="comment" id="comment-7520">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7520" rel="nofollow"><time datetime="2014-02-06T20:24:37+00:00" pubdate="">2014年2月6日 at 下午8:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;stdio.h&gt;<br/>
int main(void)<br/>
{<br/>
int arr[] = {10,20,30,40,50,60};<br/>
int *p=arr;<br/>
printf("%d,%d,",*p++,*++p);<br/>
printf("%d,%d,%d",*p,*p++,*++p);<br/>
return 0;<br/>
}</p>
<p>为什么是 20,20,50,40,50. 我觉得的应该是 20,20,40,40,50 . 谁能解释下？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7523">
<article class="comment" id="comment-7523">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7523" rel="nofollow"><time datetime="2014-02-01T04:26:41+00:00" pubdate="">2014年2月1日 at 上午4:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请不要灌水，多谢！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7526">
<article class="comment" id="comment-7526">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/POJ-2470-Ambiguous-permutations-blog-748.html#comment-7526" rel="nofollow"><time datetime="2014-01-08T16:17:12+00:00" pubdate="">2014年1月8日 at 下午4:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太好了，收藏</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>