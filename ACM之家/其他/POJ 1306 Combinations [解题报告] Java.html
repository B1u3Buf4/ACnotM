<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1306 Combinations [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观979次</span><span class="i3"><a class="ds-thread-count" data-thread-key="351" href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comments" title="《POJ 1306 Combinations [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Combinations</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Computing the exact number of ways that N things can be taken M at a time can be a great challenge when N and/or M become very large. Challenges are the stuff of contests. Therefore, you are to make just such a computation given the following:<br/>
<br/>GIVEN: 	5 &lt;= N &lt;= 100; 5 &lt;= M &lt;= 100; M &lt;= N<br/>
<br/>Compute the EXACT value of: 	C = N! / (N-M)!M!<br/>
<br/>You may assume that the final value of C will fit in a 32-bit Pascal LongInt or a C long. For the record, the exact value of 100! is:<br/>
<br/> 93,326,215,443,944,152,681,699,238,856,266,700,490,715,968,264,381,621,        468,592,963,895,217,599,993,229,915,608,941,463,976,156,518,286,253,      697,920,827,223,758,251,185,210,916,864,000,000,000,000,000,000,000,000
 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input to this program will be one or more lines each containing zero or more leading spaces, a value for N, one or more spaces, and a value for M. The last line of the input file will contain a dummy N, M pair with both values equal to zero. Your program should terminate when this line is read.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output from this program should be in the form:<br/>
<br/>N things taken M at a time is C exactly.<br/>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
100  6
20  5
18  6
0  0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
100 things taken 6 at a time is 1192052400 exactly.
20 things taken 5 at a time is 15504 exactly.
18 things taken 6 at a time is 18564 exactly.</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1306">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1306">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1306">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author 洪晓鹏&lt;hongxp11@163.com&gt;
import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.Scanner;


public class Main {

	public static void main(String[] args) {
		Scanner in = new Scanner(System.in);
		while(true)
		{
			int n = in.nextInt();
			int m = in.nextInt();
			int m1 = m;
			BigInteger sum1 = new BigInteger("1");
			BigInteger sum2 = new BigInteger("1");
			BigDecimal a;
			if(n == 0 &amp;&amp; m == 0)
				break;
			if(m &gt; n/2)
			{
				m = n - m;
			}
			for(int i = 0; i&lt; m; i++)
			{
				sum1 = sum1.multiply(new BigInteger(String.valueOf(n-i))); 
			}
			for(int i = 0; i&lt; m; i++)
			{
				sum2 = sum2.multiply(new BigInteger(String.valueOf(i+1)));
			}
			System.out.println(n + " things taken " + m1 +" at a time is " 
					+ sum1.divide(sum2) +" exactly.");
		}
	}

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36776">
<article class="comment" id="comment-36776">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36776" rel="nofollow"><time datetime="2015-06-02T14:15:33+00:00" pubdate="">2015年6月2日 at 下午2:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4710">
<article class="comment" id="comment-4710">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-4710" rel="nofollow"><time datetime="2015-05-21T20:06:30+00:00" pubdate="">2015年5月21日 at 下午8:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36777">
<article class="comment" id="comment-36777">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36777" rel="nofollow"><time datetime="2014-12-06T01:17:44+00:00" pubdate="">2014年12月6日 at 上午1:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你的理解应该是：即使主持人拿走一个箱子对结果没有影响。这样想，主持人拿走的箱子只是没有影响到你初始选择的那个箱子中有奖品的概率，但是改变了其余两个箱子的概率分布。由 1/3,1/3 变成了 0, 2/3</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36779">
<article class="comment" id="comment-36779">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36779" rel="nofollow"><time datetime="2014-11-11T17:48:16+00:00" pubdate="">2014年11月11日 at 下午5:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法，他认识我，我不认识他，后来有人告诉我你写的这段代码就是XXX算法。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36778">
<article class="comment" id="comment-36778">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36778" rel="nofollow"><time datetime="2014-11-03T08:48:54+00:00" pubdate="">2014年11月3日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36775">
<article class="comment" id="comment-36775">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36775" rel="nofollow"><time datetime="2014-09-18T05:13:56+00:00" pubdate="">2014年9月18日 at 上午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36774">
<article class="comment" id="comment-36774">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xrjervis</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36774" rel="nofollow"><time datetime="2014-08-26T16:23:56+00:00" pubdate="">2014年8月26日 at 下午4:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36770">
<article class="comment" id="comment-36770">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36770" rel="nofollow"><time datetime="2014-08-04T23:35:00+00:00" pubdate="">2014年8月4日 at 下午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36771">
<article class="comment" id="comment-36771">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36771" rel="nofollow"><time datetime="2014-08-02T16:19:11+00:00" pubdate="">2014年8月2日 at 下午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>想问下computeLSPArray那里，if(len!=0) len=lps[len-1]是什么意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36773">
<article class="comment" id="comment-36773">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36773" rel="nofollow"><time datetime="2014-05-23T02:24:02+00:00" pubdate="">2014年5月23日 at 上午2:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36769">
<article class="comment" id="comment-36769">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36769" rel="nofollow"><time datetime="2014-05-08T09:54:19+00:00" pubdate="">2014年5月8日 at 上午9:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52685">
<article class="comment" id="comment-52685">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-52685" rel="nofollow"><time datetime="2014-04-14T06:23:29+00:00" pubdate="">2014年4月14日 at 上午6:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36772">
<article class="comment" id="comment-36772">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/POJ-1306-Combinations-blog-351.html#comment-36772" rel="nofollow"><time datetime="2014-02-08T09:55:44+00:00" pubdate="">2014年2月8日 at 上午9:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>