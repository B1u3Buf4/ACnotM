<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-10</div>
<div class="tit"><h1 class="entry-title">剑指offer(06)-数值的整数次方[快速幂]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a></span><span class="i4">围观1324次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1944" href="http://www.acmerblog.com/offer-5-1944.html#comments" title="《剑指offer(06)-数值的整数次方[快速幂]》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来自剑指offer系列 <strong>九度 1514 ：http://ac.jobdu.com/problem.php?pid=1514</strong></p>
<dl>
<dt><b>题目描述：</b></dt>
<dd>给定一个double类型的浮点数base和int类型的整数exponent。求base的exponent次方。</dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>输入可能包含多个测试样例。<br/>
对于每个输入文件，第一行输入一个整数T，表示测试案例的数目，接下来的T行每行输入一个浮点数base和一个整数exponent，两个数中间用一个空格隔开。</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>对应每个测试案例，<br/>
输出一个浮点数代表答案，保留两位小数即可。</dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>5
1.0 10
0.0 -5
1.0 0
1.2 5
2.0 -1</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>1.00e+00f
INF
1.00e+00f
2.49e+00f
5.00e-01f</pre>
</dd>
</dl>
<dl>
<dt><b>提示：</b></dt>
<dd> 请特别注意不同的编译器对于科学计数法格式输出中指数位数的差别。建议使用九度Online Judge所使用的编译环境。</dd>
<dd><span style="color: #0000ff;">此处指定 指数为整数，是在考察快速幂。</span></dd>
</dl>
<pre class="brush:c">//============================================================================
// Name        : 数值的整数次方.cpp
// Author      : coder
// Version     :
// Copyright   : www.acmerblog.com
// Description : 数值的整数次方, 使用快速幂, Ansi-style
//============================================================================
#include &lt;stdio.h&gt;
double x, ans, tmp;
int e, n, i;
int main() {
	while(scanf("%d", &amp;n) != EOF){
		for( i=0; i&lt;n; i++){
			scanf("%lf%d",&amp;x, &amp;e);
			//计算 x^e
			if(x != 0.0){
				if(e &lt; 0){
					e = -e;
					x = 1/x;
				}
				ans = 1.0;
				//快速幂
				while(e){
					if(e &amp; 1)
						ans *= x;
					x *= x;
					e &gt;&gt;=1;
				}
				 printf("%1.2ef\n", ans);
			}else{
				 if(e &gt; 0)
					 printf("0.00e+00f\n");
				else
					printf("INF\n");
			}
		}
	}
	return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-61605">
<article class="comment" id="comment-61605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61605" rel="nofollow"><time datetime="2015-04-22T01:25:26+00:00" pubdate="">2015年4月22日 at 上午1:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题的样例描述不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61607">
<article class="comment" id="comment-61607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61607" rel="nofollow"><time datetime="2015-03-24T14:56:01+00:00" pubdate="">2015年3月24日 at 下午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>老实说，这种方法就是穷举，复杂度是2^n，之所以能够AC是应为题目的测试数据有问题，要么数据量很小，要么能够得到k == t，否则即使n = 30，也要很久才能得出结果，本人亲测</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61606">
<article class="comment" id="comment-61606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61606" rel="nofollow"><time datetime="2015-02-12T19:54:00+00:00" pubdate="">2015年2月12日 at 下午7:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不需要输出，只要函数返回值正确就行</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13420">
<article class="comment" id="comment-13420">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-13420" rel="nofollow"><time datetime="2015-02-02T06:40:29+00:00" pubdate="">2015年2月2日 at 上午6:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61604">
<article class="comment" id="comment-61604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61604" rel="nofollow"><time datetime="2014-12-23T05:22:56+00:00" pubdate="">2014年12月23日 at 上午5:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61600">
<article class="comment" id="comment-61600">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61600" rel="nofollow"><time datetime="2014-11-20T18:59:27+00:00" pubdate="">2014年11月20日 at 下午6:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41041">
<article class="comment" id="comment-41041">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-41041" rel="nofollow"><time datetime="2014-09-30T00:42:21+00:00" pubdate="">2014年9月30日 at 上午12:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54822">
<article class="comment" id="comment-54822">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-54822" rel="nofollow"><time datetime="2014-09-08T07:22:21+00:00" pubdate="">2014年9月8日 at 上午7:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61603">
<article class="comment" id="comment-61603">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61603" rel="nofollow"><time datetime="2014-08-09T08:01:18+00:00" pubdate="">2014年8月9日 at 上午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61601">
<article class="comment" id="comment-61601">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61601" rel="nofollow"><time datetime="2014-08-04T05:47:03+00:00" pubdate="">2014年8月4日 at 上午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13419">
<article class="comment" id="comment-13419">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-13419" rel="nofollow"><time datetime="2014-03-19T14:28:19+00:00" pubdate="">2014年3月19日 at 下午2:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61602">
<article class="comment" id="comment-61602">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/offer-5-1944.html#comment-61602" rel="nofollow"><time datetime="2013-12-18T17:36:24+00:00" pubdate="">2013年12月18日 at 下午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个..  真没看出来</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>