<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1068 Parencodings [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观785次</span><span class="i3"><a class="ds-thread-count" data-thread-key="254" href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comments" title="《POJ 1068 Parencodings [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Parencodings</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Let S = s1 s2…s2n  be a well-formed string of parentheses. S can be encoded in two different ways:<br/>
<br/>q	By an integer sequence P = p1 p2…pn where pi is the number of left parentheses before the ith right parenthesis in S (P-sequence).<br/>
<br/>q	By an integer sequence W = w1 w2…wn where for each right parenthesis, say a in S, we associate an integer which is the number of right parentheses counting from the matched left parenthesis of a up to a. (W-sequence).
<p>Following is an example of the above encodings:<br/>
</p><pre>
<br/>	S		(((()()())))
<br/>	P-sequence	    4 5 6666
<br/>	W-sequence	    1 1 1456
<br/></pre>
<p>Write a program to convert P-sequence of a well-formed string to the W-sequence of the same string.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of the input contains a single integer t (1 &lt;= t &lt;= 10), the number of test cases, followed by the input data for each test case. The first line of each test case is an integer n (1 &lt;= n &lt;= 20), and the second line is the P-sequence of a well-formed string. It contains n positive integers, separated with blanks, representing the P-sequence. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output file consists of exactly t lines corresponding to test cases. For each test case, the output line should contain n integers describing the W-sequence of the string corresponding to its given P-sequence.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
6
4 5 6 6 6 6
9 
4 6 6 6 6 8 9 9 9
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 1 1 4 5 6
1 1 2 4 5 1 1 3 9</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1068">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1068">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1068">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">import java.util.Scanner;

 public class Main {

     int t;
     int len;
     int[] p;
     int[] w;
     String[] s;
     int index;
     int temp;
     int pos;

     public Main() {
         Scanner scan = new Scanner(System.in);
         t = scan.nextInt();
         for (int i = 0; i &lt; t; i++) {
             len = scan.nextInt();
             p = new int[len];
             w = new int[len];
             s = new String[len * 2];
             for (int j = 0; j &lt; len; j++) {
                 p[j] = scan.nextInt();
             }
             pos = 0;
             temp = 0;
             index = 0;
             for (int k = 0; k &lt; len; k++) {
                 for (; pos &lt; p[k]; pos++) {
                     s[index++] = "(";
                 }
                 s[index++] = ")";
             }
             search();
             for (int m = 0; m &lt; len; m++) {
                 System.out.print(w[m] + " ");
             }
             System.out.println();
         }
     }

     public void search() {
         pos = 0;
         int k = 0;
         for (int i = 0; i &lt; len; i++) {
             for (; k &lt; 2 * len; k++) {
                 if (s[k].equals(")")) {
                     pos = k;
                     k++;
                     break;
                 }
             }
             temp = 0;
             index = 1;
             for (int j = pos - 1;; j--) {
                 if (s[j].equals("(")) {
                     temp++;
                     index--;
                 } else {
                     index++;
                 }
                 if (index == 0) {
                     w[i] = temp;
                     break;
                 }
             }
         }
     }

     public static void main(String[] args) {
         new Main();
     } 
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-4099">
<article class="comment" id="comment-4099">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">winter</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4099" rel="nofollow"><time datetime="2015-06-24T07:11:57+00:00" pubdate="">2015年6月24日 at 上午7:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4091">
<article class="comment" id="comment-4091">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4091" rel="nofollow"><time datetime="2015-05-26T19:37:24+00:00" pubdate="">2015年5月26日 at 下午7:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4095">
<article class="comment" id="comment-4095">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4095" rel="nofollow"><time datetime="2015-05-02T22:13:27+00:00" pubdate="">2015年5月2日 at 下午10:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>afsasfasfasf</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4104">
<article class="comment" id="comment-4104">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4104" rel="nofollow"><time datetime="2015-04-15T10:10:12+00:00" pubdate="">2015年4月15日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4093">
<article class="comment" id="comment-4093">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4093" rel="nofollow"><time datetime="2015-03-19T06:20:42+00:00" pubdate="">2015年3月19日 at 上午6:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有意思，可惜我很菜啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4092">
<article class="comment" id="comment-4092">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4092" rel="nofollow"><time datetime="2015-01-30T15:57:36+00:00" pubdate="">2015年1月30日 at 下午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4096">
<article class="comment" id="comment-4096">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4096" rel="nofollow"><time datetime="2015-01-28T18:01:38+00:00" pubdate="">2015年1月28日 at 下午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4102">
<article class="comment" id="comment-4102">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4102" rel="nofollow"><time datetime="2014-12-24T00:40:02+00:00" pubdate="">2014年12月24日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4100">
<article class="comment" id="comment-4100">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4100" rel="nofollow"><time datetime="2014-05-23T11:21:00+00:00" pubdate="">2014年5月23日 at 上午11:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++语言的代码？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4094">
<article class="comment" id="comment-4094">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4094" rel="nofollow"><time datetime="2014-03-22T00:53:59+00:00" pubdate="">2014年3月22日 at 上午12:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4101">
<article class="comment" id="comment-4101">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4101" rel="nofollow"><time datetime="2014-03-06T04:50:27+00:00" pubdate="">2014年3月6日 at 上午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不对，仔细对比一下输入输出， 怎么会有‘‘printf("The winning moves are:");’’这种输出呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4098">
<article class="comment" id="comment-4098">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4098" rel="nofollow"><time datetime="2014-01-04T07:27:35+00:00" pubdate="">2014年1月4日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此 了解了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4103">
<article class="comment" id="comment-4103">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4103" rel="nofollow"><time datetime="2013-12-04T23:50:50+00:00" pubdate="">2013年12月4日 at 下午11:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此 了解了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4097">
<article class="comment" id="comment-4097">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/POJ-1068-Parencodings-blog-254.html#comment-4097" rel="nofollow"><time datetime="2013-11-10T01:14:34+00:00" pubdate="">2013年11月10日 at 上午1:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>