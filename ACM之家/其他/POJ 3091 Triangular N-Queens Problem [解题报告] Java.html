<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3091 Triangular N-Queens Problem [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观992次</span><span class="i3"><a class="ds-thread-count" data-thread-key="954" href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comments" title="《POJ 3091 Triangular N-Queens Problem [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Triangular N-Queens Problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>A “queen” piece on a triangular array of cells, <i><b>N</b></i> cells on a side, can attack any cell on a file parallel to one of the sides containing the queen’s cell. For example, in the array in Figure 1, a queen on the black cell, attacks all of the shaded cells. The Triangular N-Queens Problem of size <i><b>N</b></i>, is to find a maximal set of queen positions in a triangular array with <i><b>N</b></i> cells on a side so that no queen is attacking any other queen. For example, the black cells in Figure 2 give a maximal set of queen positions in a size 6 array. It turns out that a size <i><b>N</b></i> array always has <i><b>floor</b></i>((2 * <i><b>N</b></i> + 1) ⁄ 3) as the maximal number of non-attacking queen positions.</p>
<p></p><center><img src="http://www.acmerblog.com/img/poj/3091-41.png"/></center>
<p>Write a program, which, given the size, <i><b>N</b></i>, of the triangular array, finds a maximal set of non-attacking queen positions on the array (<i><b>floor</b></i>((2 * <i><b>N</b></i> + 1) ⁄ 3) of them).</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>The input begins with a line containing an integer value specifying the number of datasets that follow, <i><b>C</b></i> (1 ≤ <i><b>C</b></i> ≤ 1000). Each dataset consists of a single line containing a single integer <i><b>N</b></i>, (1 ≤ <i><b>N</b></i> ≤ 1000), which is the size of the triangular array.</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>The first output line for each problem gives the problem number starting at 1, a single space, the input size, a single space and the number of queen positions. Following the first line will be the queen positions, 8 positions per line except perhaps for the last line of positions. Each position has the format open bracket (‘[’), row number starting with 1, a comma, the position from the left within the row starting at 1 and a close bracket (‘]’). Positions within a line are separated by a single space. For example, the queen positions in Figure 2 are [1,1] [4,2] [5,4] [6,3]. The lines of position values are followed by a single blank line.</p>
<p></p></span></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
6
3
6
9
10
14
18</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 3 2
[1,1] [3,2]

2 6 4
[3,1] [4,3] [5,5] [6,2]

3 9 6
[4,1] [5,3] [6,5] [7,7] [8,2] [9,4]

4 10 7
[4,1] [5,3] [6,5] [7,7] [8,2] [9,4] [10,6]

5 14 9
[6,1] [7,3] [8,5] [9,7] [10,9] [11,11] [12,2] [13,4]
[14,6]

6 18 12
[7,1] [8,3] [9,5] [10,7] [11,9] [12,11] [13,13] [14,2]
[15,4] [16,6] [17,8] [18,10]</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
<p><b>Notes</b></p>
<ol>
<li>There may be many different correct answers to a particular problem, so your answers need not be the same as those in the Sample Output above.</li>
<li>Some solution methods for this problem may cause the time limit to be exceeded. Be sure to try the larger values before submitting your solution.</li>
</ol>
</div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3091">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3091">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3091">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">/* @author: */
import java.util.*;
import java.io.*;
import java.lang.reflect.Array;

public class Main {
  static public void main( String [] str ) throws Exception{
   int n;
   int m;
   Scanner cin = new Scanner( System.in );
   n = cin.nextInt();
   for( int k=1; k&lt;=n; k++ ) {
     m = cin.nextInt();
     System.out.println( k+" "+m+" "+(m*2+1)/3 );
     int j = 1;
     int count = -1;
     for( int i=(m+4)/3; i&lt;=m; i+=2 ) {
	System.out.print( "["+i+","+j+"] " );
	j++;
	count++;
	if( count % 8 == 7 )
	  System.out.println();
     }
     j = (m+4)/3+1;

     for( int i=(m+4)/3+1; i&lt;=m; i+=2 ) {
	System.out.print( "["+i+","+j+"] " );
	j++;
       count++;
	if( count % 8 == 7 )
	  System.out.println();
     }
     if( count % 8 != 7 )
	System.out.println();
     System.out.println();
   }
		
  return;
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-8994">
<article class="comment" id="comment-8994">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8994" rel="nofollow"><time datetime="2015-06-07T05:12:41+00:00" pubdate="">2015年6月7日 at 上午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://beeder.me" rel="nofollow">http://beeder.me</a> 这个网站上有很多poj和hihoCoder的题解，质量不错，欢迎转载。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8996">
<article class="comment" id="comment-8996">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8996" rel="nofollow"><time datetime="2015-05-25T19:58:34+00:00" pubdate="">2015年5月25日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于AC了！next数组还是不好理解啊，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8998">
<article class="comment" id="comment-8998">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8998" rel="nofollow"><time datetime="2015-05-25T04:44:02+00:00" pubdate="">2015年5月25日 at 上午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然看懂了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9003">
<article class="comment" id="comment-9003">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9003" rel="nofollow"><time datetime="2015-03-12T06:32:05+00:00" pubdate="">2015年3月12日 at 上午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9005">
<article class="comment" id="comment-9005">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9005" rel="nofollow"><time datetime="2015-01-03T15:56:18+00:00" pubdate="">2015年1月3日 at 下午3:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8995">
<article class="comment" id="comment-8995">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8995" rel="nofollow"><time datetime="2014-11-21T09:53:48+00:00" pubdate="">2014年11月21日 at 上午9:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，解决了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9007">
<article class="comment" id="comment-9007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9007" rel="nofollow"><time datetime="2014-11-17T18:46:17+00:00" pubdate="">2014年11月17日 at 下午6:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8999">
<article class="comment" id="comment-8999">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8999" rel="nofollow"><time datetime="2014-09-17T03:29:01+00:00" pubdate="">2014年9月17日 at 上午3:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有两个重复的话结果是正确的，但解法不够严谨，后面重复的覆盖掉前面的，由于题目数据限制也比较严，所以能提交通过。已更新算法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9000">
<article class="comment" id="comment-9000">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9000" rel="nofollow"><time datetime="2014-07-02T17:16:35+00:00" pubdate="">2014年7月2日 at 下午5:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>打字员路过。。。。。。算法是啥。。。能干嘛。。。。。。。。能吃么。。哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9004">
<article class="comment" id="comment-9004">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9004" rel="nofollow"><time datetime="2014-02-21T04:13:29+00:00" pubdate="">2014年2月21日 at 上午4:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能告诉我为什么对于每一个m，cnt的值不用更新吗?这儿我想不通啊，谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9002">
<article class="comment" id="comment-9002">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9002" rel="nofollow"><time datetime="2014-02-14T14:01:15+00:00" pubdate="">2014年2月14日 at 下午2:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9006">
<article class="comment" id="comment-9006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9006" rel="nofollow"><time datetime="2013-11-20T02:46:24+00:00" pubdate="">2013年11月20日 at 上午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for taking the time to examine this, I really feel strongly about it and love studying a lot more on this topic. If possible, as you acquire experience</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9001">
<article class="comment" id="comment-9001">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-9001" rel="nofollow"><time datetime="2013-11-19T06:30:58+00:00" pubdate="">2013年11月19日 at 上午6:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>scanner改用StreamTokenizer就不超时了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8997">
<article class="comment" id="comment-8997">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/POJ-3091-Triangular-N-Queens-Problem-blog-954.html#comment-8997" rel="nofollow"><time datetime="2013-11-16T21:58:10+00:00" pubdate="">2013年11月16日 at 下午9:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>