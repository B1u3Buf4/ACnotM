<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 1927 Area in Triangle [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观2015次</span><span class="i3"><a class="ds-thread-count" data-thread-key="554" href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comments" title="《POJ 1927 Area in Triangle [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Area in Triangle</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a triangle field and a rope of a certain length (Figure-1), you are required to use the rope to enclose a region within the field and make the region as large as possible.<br/>
<br/><center><img src="http://www.acmerblog.com/img/poj/1927-3.jpg"/></center>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input has several sets of test data. Each set is one line containing four numbers separated by a space. The first three indicate the lengths of the edges of the triangle field, and the fourth is the length of the rope. Each of the four numbers have exactly four digits after the decimal point. The line containing four zeros ends the input and should not be processed. You can assume each of the edges are not longer than 100.0000 and the length of the rope is not longer than the perimeter of the field. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output one line for each case in the following format:
<p>Case i: X</p>
<p>Where i is the case number, and X is the largest area which is rounded to two digits after the decimal point.<br/>
</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
12.0000 23.0000 17.0000 40.0000
84.0000 35.0000 91.0000 210.0000
100.0000 100.0000 100.0000 181.3800
0 0 0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 89.35
Case 2: 1470.00
Case 3: 2618.00
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1927">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1927">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1927">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">/* @author: */
import java.util.Scanner;
public class Main {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
  
   int k = 1;
   double l1, l2, l3, s, c, p, R, ctg1, ctg2, ctg3, len, r, ls, area;

   while( sc.hasNext() )
   {
      l1=sc.nextDouble();
      l2=sc.nextDouble();
      l3=sc.nextDouble();
      len=sc.nextDouble();
      if( l1 == 0 &amp;&amp; l2 == 0 &amp;&amp; l3 == 0 &amp;&amp; len == 0 )
	  break;

      c = l1 + l2 + l3;
      p = ( l1 + l2 + l3 ) / 2;
      s = Math.sqrt( p * (p-l1) * (p-l2) * (p-l3) );

      if( len &gt;= c )
      {
	   System.out.printf( "Case %d: %.2f\n", k++, s );
	   continue;
	}
	R = s * 2 / c ;
	if( len &lt;= R * 2 * Math.PI )
	{
           System.out.printf( "Case %d: %.2f\n", k++, len*len / (4*Math.PI) );
	    continue;
	}
	ctg1 = ( p - l1 ) / R;
	ctg2 = ( p - l2 ) / R;
	ctg3 = ( p - l3 ) / R;
	r = ( c - len ) / ( 2 * ( ctg1 + ctg2 + ctg3 ) - 2 * Math.PI );
	ls = c - 2 * ( ctg1 + ctg2 + ctg3 ) * r;
	l1 -= ( ctg2 + ctg3 ) * r;
	l2 -= ( ctg1 + ctg3 ) * r;
	l3 -= ( ctg1 + ctg2 ) * r;
	p = ( l1 + l2 + l3 ) / 2;
	area = ls * r + Math.sqrt( p * (p-l1) * (p-l2) * (p-l3) ) + r * r * Math.PI;
	System.out.printf( "Case %d: %.2f\n", k++, area ); 
   }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-52971">
<article class="comment" id="comment-52971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52971" rel="nofollow"><time datetime="2015-07-13T02:56:21+00:00" pubdate="">2015年7月13日 at 上午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>5.1处，反了；“上一个操作符的优先级比操作符ch的优先级大，或栈是空的就入栈。”如代码所述，应为“上一个操作符的优先级比操作符ch的优先级小，或栈是空的就入栈。”</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37399">
<article class="comment" id="comment-37399">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-37399" rel="nofollow"><time datetime="2015-06-01T16:35:55+00:00" pubdate="">2015年6月1日 at 下午4:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6194">
<article class="comment" id="comment-6194">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-6194" rel="nofollow"><time datetime="2014-12-05T12:42:06+00:00" pubdate="">2014年12月5日 at 下午12:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于第一题，我的直觉告诉我换不换都一样，求指教</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52967">
<article class="comment" id="comment-52967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">neil2wm</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52967" rel="nofollow"><time datetime="2014-09-16T08:23:54+00:00" pubdate="">2014年9月16日 at 上午8:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52970">
<article class="comment" id="comment-52970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52970" rel="nofollow"><time datetime="2014-08-27T09:22:17+00:00" pubdate="">2014年8月27日 at 上午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52968">
<article class="comment" id="comment-52968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52968" rel="nofollow"><time datetime="2014-08-18T20:17:56+00:00" pubdate="">2014年8月18日 at 下午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37398">
<article class="comment" id="comment-37398">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-37398" rel="nofollow"><time datetime="2014-06-23T19:41:30+00:00" pubdate="">2014年6月23日 at 下午7:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52965">
<article class="comment" id="comment-52965">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52965" rel="nofollow"><time datetime="2014-05-26T23:07:20+00:00" pubdate="">2014年5月26日 at 下午11:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37397">
<article class="comment" id="comment-37397">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-37397" rel="nofollow"><time datetime="2014-05-19T09:08:00+00:00" pubdate="">2014年5月19日 at 上午9:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>头文件的颜色是有意设成这种灰暗色的吗？感觉看不清</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37396">
<article class="comment" id="comment-37396">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-37396" rel="nofollow"><time datetime="2014-04-25T18:36:48+00:00" pubdate="">2014年4月25日 at 下午6:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个差别应该不会太大，或许编辑器就自动优化成内联函数了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37400">
<article class="comment" id="comment-37400">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-37400" rel="nofollow"><time datetime="2014-02-26T12:16:56+00:00" pubdate="">2014年2月26日 at 下午12:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52969">
<article class="comment" id="comment-52969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52969" rel="nofollow"><time datetime="2014-02-04T01:00:37+00:00" pubdate="">2014年2月4日 at 上午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于输出格式不用控制？？还是直接使用cout输出。？？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6195">
<article class="comment" id="comment-6195">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-6195" rel="nofollow"><time datetime="2014-01-15T23:56:01+00:00" pubdate="">2014年1月15日 at 下午11:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52966">
<article class="comment" id="comment-52966">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/POJ-1927-Area-in-Triangle-blog-554.html#comment-52966" rel="nofollow"><time datetime="2013-12-08T09:30:53+00:00" pubdate="">2013年12月8日 at 上午9:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>