<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2371 Questions and answers [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a></span><span class="i4">围观765次</span><span class="i3"><a class="ds-thread-count" data-thread-key="706" href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comments" title="《POJ 2371 Questions and answers [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Questions and answers</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The database of the Pentagon contains a top-secret information. We don’t know what the information is — you know, it’s top-secret, — but we know the format of its representation. It is extremely simple. We don’t know why, but all the data is coded by the natural numbers from 1 up to 5000. The size of the main base (we’ll denote it be N) is rather big — it may contain up to 100 000 those numbers. The database is to process quickly every query. The most often query is: “Which element is i-th by its value?”— with i being a natural number in a range from 1 to N.
<p>Your program is to play a role of a controller of the database. In the other words, it should be able to process quickly queries like this. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The standard input of the problem consists of two parts. At first, a database is written, and then there’s a sequence of queries. The format of database is very simple: in the first line there’s a number N, in the next N lines there are numbers of the database one in each line in an arbitrary order. A sequence of queries is written simply as well: in the first line of the sequence a number of queries K (1 &lt;= K &lt;= 100) is written, and in the next K lines there are queries one in each line. The query "Which element is i-th by its value?" is coded by the number i. A database is separated from a sequence of queries by the string of three symbols "#". </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output should consist of K lines. In each line there should be an answer to the corresponding query. The answer to the query “i” is an element from the database, which is i-th by its value (in the order from the least up to the greatest element).</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
7
121
123
7
121
###
4
3
3
2
5
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
121
121
7
123
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2371">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2371">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2371">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">import java.util.Arrays;
import java.util.Scanner;
public class Main {

	public static void quickSort(int[] data, int s, int t) {
		int i = s+1;
		int j = t;
		int x = data[s];
		while (i &lt;= j) {
			while (i &lt;= j &amp;&amp; data[j] &gt;= x)
				--j;
			while (i &lt;= j &amp;&amp; x &gt;= data[i])
				++i;
			if (i &lt;= j) {
				data[i] = data[j] + ((data[j] = data[i]) &amp; 0);
				i++;
				j--;
			}
		}

		if (j != s) {
			data[s] = data[j];
			data[j] = x;
		}
		if (s &lt; j - 1)
			quickSort(data, s, j - 1);
		if (j + 1 &lt; t)
			quickSort(data, j + 1, t);
	}

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		int sum = sc.nextInt();
		int[] database = new int[sum];
		for (int i = 0; i &lt; sum; ++i) {
			database[i] = sc.nextInt();
		}
		// Arrays.sort(database);
		quickSort(database, 0, database.length-1);
		sc.nextLine();
		sc.nextLine();
		int queryCount = sc.nextInt();
		for (int i = 0; i &lt; queryCount; ++i) {
			int queryNum = sc.nextInt();
			System.out.println(database[queryNum - 1]);
		}
//		for(int i = 0 ; i &lt; database.length ;++i)
//			System.out.print(database[i]+" ");
	}

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37932">
<article class="comment" id="comment-37932">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37932" rel="nofollow"><time datetime="2015-05-12T15:59:55+00:00" pubdate="">2015年5月12日 at 下午3:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37921">
<article class="comment" id="comment-37921">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37921" rel="nofollow"><time datetime="2015-01-24T15:13:42+00:00" pubdate="">2015年1月24日 at 下午3:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37931">
<article class="comment" id="comment-37931">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37931" rel="nofollow"><time datetime="2014-11-23T12:05:23+00:00" pubdate="">2014年11月23日 at 下午12:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37927">
<article class="comment" id="comment-37927">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37927" rel="nofollow"><time datetime="2014-11-07T00:54:14+00:00" pubdate="">2014年11月7日 at 上午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37926">
<article class="comment" id="comment-37926">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37926" rel="nofollow"><time datetime="2014-09-29T04:54:28+00:00" pubdate="">2014年9月29日 at 上午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37924">
<article class="comment" id="comment-37924">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37924" rel="nofollow"><time datetime="2014-09-24T17:29:29+00:00" pubdate="">2014年9月24日 at 下午5:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>方法二可行，已测试<br/>
<a href="http://blog.csdn.net/alpc_paul/article/details/33769407" rel="nofollow">http://blog.csdn.net/alpc_paul/article/details/33769407</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37920">
<article class="comment" id="comment-37920">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37920" rel="nofollow"><time datetime="2014-08-18T08:51:00+00:00" pubdate="">2014年8月18日 at 上午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37925">
<article class="comment" id="comment-37925">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37925" rel="nofollow"><time datetime="2014-06-08T09:02:18+00:00" pubdate="">2014年6月8日 at 上午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37930">
<article class="comment" id="comment-37930">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37930" rel="nofollow"><time datetime="2014-05-23T01:39:10+00:00" pubdate="">2014年5月23日 at 上午1:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉这里的评分标准没啥作用阿，反而显得显得赘余，还不如直接去掉好了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37928">
<article class="comment" id="comment-37928">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37928" rel="nofollow"><time datetime="2014-04-24T18:47:36+00:00" pubdate="">2014年4月24日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37929">
<article class="comment" id="comment-37929">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37929" rel="nofollow"><time datetime="2014-03-02T04:24:47+00:00" pubdate="">2014年3月2日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37923">
<article class="comment" id="comment-37923">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37923" rel="nofollow"><time datetime="2014-02-19T21:40:17+00:00" pubdate="">2014年2月19日 at 下午9:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37922">
<article class="comment" id="comment-37922">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37922" rel="nofollow"><time datetime="2014-02-06T20:36:21+00:00" pubdate="">2014年2月6日 at 下午8:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>5.1处，反了；“上一个操作符的优先级比操作符ch的优先级大，或栈是空的就入栈。”如代码所述，应为“上一个操作符的优先级比操作符ch的优先级小，或栈是空的就入栈。”</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37919">
<article class="comment" id="comment-37919">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/POJ-2371-Questions-and-answers-blog-706.html#comment-37919" rel="nofollow"><time datetime="2013-11-13T19:39:50+00:00" pubdate="">2013年11月13日 at 下午7:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，再乘以m的就多余了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>