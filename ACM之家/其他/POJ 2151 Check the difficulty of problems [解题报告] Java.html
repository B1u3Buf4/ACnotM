<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 2151 Check the difficulty of problems [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观643次</span><span class="i3"><a class="ds-thread-count" data-thread-key="625" href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comments" title="《POJ 2151 Check the difficulty of problems [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Check the difficulty of problems</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Organizing a programming contest is not an easy job. To avoid making the problems too difficult, the organizer usually expect the contest result satisfy the following two terms:<br/>
<br/>1.	All of the teams solve at least one problem.<br/>
<br/>2.	The champion (One of those teams that solve the most problems) solves at least a certain number of problems.
<p>Now the organizer has studied out the contest problems, and through the result of preliminary contest, the organizer can estimate the probability that a certain team can successfully solve a certain problem.</p>
<p>Given the number of contest problems M, the number of teams T, and the number of problems N that the organizer expect the champion solve at least. We also assume that team i solves problem j with the probability Pij (1 &lt;= i &lt;= T, 1&lt;= j &lt;= M). Well, can you calculate the probability that all of the teams solve at least one problem, and at the same time the champion team solves at least N problems?
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. The first line of each test case contains three integers M (0 &lt; M &lt;= 30), T (1 &lt; T &lt;= 1000) and N (0 &lt; N &lt;= M). Each of the following T lines contains M floating-point numbers in the range of [0,1]. In these T lines, the j-th number in the i-th line is just Pij. A test case of M = T = N = 0 indicates the end of input, and should not be processed. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, please output the answer in a separate line. The result should be rounded to three digits after the decimal point. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 2 2
0.9 0.9
1 0.9
0 0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0.972</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2151">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2151">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2151">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: <strong>
import java.util.*;
public class Main
{
 
 public static void main(String[] args){
   Scanner sc = new Scanner(System.in);
   double dp[][]=new double[40][40];
   int n,m,t;
   double p,e,tp;
   while (sc.hasNext()) {
     m=sc.nextInt();
     if(m==0) break;    

     t=sc.nextInt();
     n=sc.nextInt();
     e=tp=1;
     for (int i=1;i&lt;=t;i++) {
	 double tem=0;
	 dp[0][0]=1;
	 for (int j=1;j&lt;=m;j++) {
	  p=sc.nextDouble();
	  if (j==1) {
	    dp[1][0]=1-p;
	    dp[1][1]=p;
	  }
	  else {
	    dp[j][0]=dp[j-1][0]*(1-p);
	    for (int k=1;k&lt;=j;k++) dp[j][k]=dp[j-1][k-1]*p+dp[j-1][k]*(1-p);
	  }
	}
	for (int j=1;j&lt; n;j++) tem+=dp[m][j];
       tp*=tem;
	for (int j=n;j&lt;=m;j++) tem+=dp[m][j];
	e*=tem;
    }
    System.out.printf("%.3f\n",e-tp);
   }
  }
}</strong></pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-6725">
<article class="comment" id="comment-6725">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6725" rel="nofollow"><time datetime="2015-06-29T19:35:02+00:00" pubdate="">2015年6月29日 at 下午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6723">
<article class="comment" id="comment-6723">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6723" rel="nofollow"><time datetime="2015-05-30T03:47:03+00:00" pubdate="">2015年5月30日 at 上午3:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>老实说，这种方法就是穷举，复杂度是2^n，之所以能够AC是应为题目的测试数据有问题，要么数据量很小，要么能够得到k == t，否则即使n = 30，也要很久才能得出结果，本人亲测</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37648">
<article class="comment" id="comment-37648">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-37648" rel="nofollow"><time datetime="2015-05-27T08:47:59+00:00" pubdate="">2015年5月27日 at 上午8:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6722">
<article class="comment" id="comment-6722">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6722" rel="nofollow"><time datetime="2015-04-04T04:20:58+00:00" pubdate="">2015年4月4日 at 上午4:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很赞的解答</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53071">
<article class="comment" id="comment-53071">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-53071" rel="nofollow"><time datetime="2015-02-24T13:56:58+00:00" pubdate="">2015年2月24日 at 下午1:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果两个序列的最后字符不匹配（即X [M-1]！= Y [N-1]）<br/>
L（X [0 .. M-1]，Y [0 .. N-1]）= MAX（L（X [0 .. M-2]，Y [0 .. N-1]），L（X [0 .. M-1]，Y [0 .. N-1]）<br/>
这里写错了吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60698">
<article class="comment" id="comment-60698">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-60698" rel="nofollow"><time datetime="2014-12-20T22:30:48+00:00" pubdate="">2014年12月20日 at 下午10:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，再乘以m的就多余了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37646">
<article class="comment" id="comment-37646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-37646" rel="nofollow"><time datetime="2014-11-29T08:21:13+00:00" pubdate="">2014年11月29日 at 上午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得是D哎……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6719">
<article class="comment" id="comment-6719">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6719" rel="nofollow"><time datetime="2014-11-02T22:50:46+00:00" pubdate="">2014年11月2日 at 下午10:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6720">
<article class="comment" id="comment-6720">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6720" rel="nofollow"><time datetime="2014-10-28T07:38:22+00:00" pubdate="">2014年10月28日 at 上午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6724">
<article class="comment" id="comment-6724">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6724" rel="nofollow"><time datetime="2014-09-23T03:15:39+00:00" pubdate="">2014年9月23日 at 上午3:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>简洁的代码</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60699">
<article class="comment" id="comment-60699">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-60699" rel="nofollow"><time datetime="2014-08-01T20:13:48+00:00" pubdate="">2014年8月1日 at 下午8:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6721">
<article class="comment" id="comment-6721">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-6721" rel="nofollow"><time datetime="2014-07-26T15:34:15+00:00" pubdate="">2014年7月26日 at 下午3:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37647">
<article class="comment" id="comment-37647">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/POJ-2151-Check-the-difficulty-of-problems-blog-625.html#comment-37647" rel="nofollow"><time datetime="2014-07-12T07:18:53+00:00" pubdate="">2014年7月12日 at 上午7:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个 。。。。不是动态规划吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>