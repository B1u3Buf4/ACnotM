<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-13</div>
<div class="tit"><h1 class="entry-title">POJ 3893 Hard-working Student [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1872次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1155" href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comments" title="《POJ 3893 Hard-working Student [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Hard-working Student</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Billy is a hard-working student. He is fond of computers and intends to learn as much as possible. Now he studies graph theory, and must write a program to build the graph which is shown on the Figure.
<p></p><center><img src="http://cdn.acmerblog.com/img/poj/3893-5.png"/></center>
<p>The vertices of the graph are labeled sequentially with integer keys starting from 0 to N – 1 (N≤10000). There are two types of edges: backward edges – labeled with B in the Figure (for example from node 4 to node 2, or from node 3 to node 1), and forward edges, labeled with F in the Figure (for example from node 1 to node 2 or from node 0 to node 3). Billy’s program starts with an initial graph that contains the vertices 0, 1, 2, 3, and must continue to build the graph based on a sequence of commands written in a text file. A command has the following specification:</p>
<p></p><center>index0 string_of_characters index1</center>
<p>where index0 and index1 are the keys of vertices, and string_of_characters is a sequence of actions <b>executed from right to left</b>. An action is represented by one of the following characters:<br/>
<br/></p><center><br/>
<br/>
<table border="1">
<tr>
<td>Character</td>
<td>Action</td>
</tr>
<tr>
<td>f</td>
<td>Follow the Forward edge if it does exist or creates it and the corresponding vertex from an argument node</td>
</tr>
<tr>
<td>b</td>
<td>Follow the backward edge if it does exist or creates it and corresponding vertex, starting from an argument node</td>
</tr>
<tr>
<td>k</td>
<td>Prints the key of the argument node</td>
</tr>
<tr>
<td>&lt;</td>
<td>v[index0] = argument node</td>
</tr>
<tr>
<td>=</td>
<td>Prints ‘=’ if v[index0] == node or ‘#’ otherwise</td>
</tr>
</table>
<p></p></center><br/>
<br/>where v is the array of the nodes of the graph. The argument of the first operation is the node v[index1]. The result of the operations f and b is a node that represents the argument for all the other operations. The operations &lt; and = are the leftmost specified. For example, for the command 4 &lt;kff 0 the actions are:<br/>
<p style="padding-left: 30px">
<br/>index0 = 4, index1 = 0<br/>
<br/>x = f(v[0]) // forward to node 3,  x = 3<br/>
<br/>y = f(x) // forward  creates node (4), y = 4<br/>
<br/>k(y) // prints the key (4)<br/>
<br/>V[4] = y // put node (4) in array v<br/>
</p>
<p>A node is put in the array v only by the command &lt;. Initially the array contains the nodes with keys 0, 1, 2, 3, v[0]=0, v[1]=1,v[2]=2 and v[3]=3. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The file contains the sequence of commands. White spaces can occur freely in the input. The input data terminate with an end of file. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Each print must be to the standard output from the beginning of a line. There are no empty lines in between.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 &lt;kf 3
0 =bb 4
7 &lt;ff 3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
4
=</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3893">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3893">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3893">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author:
import java.util.*;
public class Main{
  public static void main(String args[]){
   Scanner in=new Scanner(System.in);
   char s[]=new char[10001];
   int v[]=new int[10001];
   v[1]=1;v[2]=2;v[3]=3;
   int a,b,len;
   while(in.hasNext()){
    a=in.nextInt();
    s=in.next().toCharArray();
    b=in.nextInt();
    b=v[b];
    len=s.length;
    for(int i=len-1; i&gt;=0; i--){
     if(s[i]=='&lt; ')
      v[a]=b;
     if(s[i]=='=')
      System.out.println(v[a]==b?"=":"#");
     if(s[i]=='k')
      System.out.printf("%d\n",b);
     if(s[i]=='b')
       b-=2;
     if(s[i]=='f'){
       if((b&amp;1)!=0)
         b++;
       else
         b+=3;
     }
     }
    }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-53981">
<article class="comment" id="comment-53981">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53981" rel="nofollow"><time datetime="2015-06-18T21:11:06+00:00" pubdate="">2015年6月18日 at 下午9:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有意思，可惜我很菜啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10161">
<article class="comment" id="comment-10161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10161" rel="nofollow"><time datetime="2015-06-10T19:02:47+00:00" pubdate="">2015年6月10日 at 下午7:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢~速度真快，我很喜欢这个网站，从基础看起。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10160">
<article class="comment" id="comment-10160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10160" rel="nofollow"><time datetime="2015-05-20T15:56:50+00:00" pubdate="">2015年5月20日 at 下午3:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53983">
<article class="comment" id="comment-53983">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53983" rel="nofollow"><time datetime="2015-03-30T15:51:41+00:00" pubdate="">2015年3月30日 at 下午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10165">
<article class="comment" id="comment-10165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10165" rel="nofollow"><time datetime="2014-12-31T15:16:39+00:00" pubdate="">2014年12月31日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39435">
<article class="comment" id="comment-39435">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-39435" rel="nofollow"><time datetime="2014-12-15T22:26:24+00:00" pubdate="">2014年12月15日 at 下午10:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53982">
<article class="comment" id="comment-53982">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53982" rel="nofollow"><time datetime="2014-11-19T17:39:53+00:00" pubdate="">2014年11月19日 at 下午5:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以参考算法导论中的时间戳。就是结束访问时间，最后结束的顶点肯定是入度为0的顶点，因为DFS要回溯</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53986">
<article class="comment" id="comment-53986">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53986" rel="nofollow"><time datetime="2014-09-27T08:03:08+00:00" pubdate="">2014年9月27日 at 上午8:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>等待后面的实现，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10166">
<article class="comment" id="comment-10166">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10166" rel="nofollow"><time datetime="2014-08-27T07:25:22+00:00" pubdate="">2014年8月27日 at 上午7:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53984">
<article class="comment" id="comment-53984">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53984" rel="nofollow"><time datetime="2014-07-10T16:34:01+00:00" pubdate="">2014年7月10日 at 下午4:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10163">
<article class="comment" id="comment-10163">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10163" rel="nofollow"><time datetime="2014-06-21T20:35:53+00:00" pubdate="">2014年6月21日 at 下午8:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>27行 minStack.push(minValue); 去掉就对了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53985">
<article class="comment" id="comment-53985">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jxfactor</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-53985" rel="nofollow"><time datetime="2014-05-14T02:07:44+00:00" pubdate="">2014年5月14日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10164">
<article class="comment" id="comment-10164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10164" rel="nofollow"><time datetime="2014-04-29T05:38:03+00:00" pubdate="">2014年4月29日 at 上午5:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10162">
<article class="comment" id="comment-10162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-3893-Hard-working-Student-blog-1155.html#comment-10162" rel="nofollow"><time datetime="2013-12-08T13:33:36+00:00" pubdate="">2013年12月8日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>