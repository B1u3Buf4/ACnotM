<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 1877 Flooded! [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a></span><span class="i4">围观813次</span><span class="i3"><a class="ds-thread-count" data-thread-key="542" href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comments" title="《POJ 1877 Flooded! [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Flooded!</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
To enable homebuyers to estimate the cost of flood insurance, a real-estate firm provides clients with the elevation of each 10-meter by 10-meter square of land in regions where homes may be purchased. Water from rain, melting snow, and burst water mains will collect first in those squares with the lowest elevations, since water from squares of higher elevation will run downhill. For simplicity, we also assume that storm sewers enable water from high-elevation squares in valleys (completely enclosed by still higher elevation squares) to drain to lower elevation squares, and that water will not be absorbed by the land.<br/>
<br/>From weather data archives, we know the typical volume of water that collects in a region. As prospective homebuyers, we wish to know the elevation of the water after it has collected in low-lying squares, and also the percentage of the region’s area that is completely submerged (that is, the percentage of 10-meter squares whose elevation is strictly less than the water level). You are to write the program that provides these results.
 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of a sequence of region descriptions. Each begins with a pair of integers, m and n, each less than 30, giving the dimensions of the rectangular region in 10-meter units. Immediately following are m lines of n integers giving the elevations of the squares in row-major order. Elevations are given in meters, with positive and negative numbers representing elevations above and below sea level, respectively. The final value in each region description is an integer that indicates the number of cubic meters of water that will collect in the region. A pair of zeroes follows the description of the last region.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each region, display the region number (1, 2, …), the water level (in meters above or below sea level) and the percentage of the region’s area under water, each on a separate line. The water level and percentage of the region’s area under water are to be displayed accurate to two fractional digits. Follow the output for each region with a blank line. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 3
25 37 45
51 12 34
94 83 27
10000
0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Region 1
Water level is 46.67 meters.
66.67 percent of the region is under water.
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1877">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1877">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1877">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 
import java.io.*;
import java.util.*;
public class Main
{
	public static void main(String args[]) throws Exception
	{
		Scanner cin=new Scanner(System.in);
		int m,n,i,water,tmp;
		double shen;
		int r=0;
		int[] lev;
		while(true)
		{
			m=cin.nextInt();
			n=cin.nextInt();
			if(m==0&amp;&amp;n==0) break;
			lev=new int[m*n];
			for(i=0;i&lt; n*m;i++)
			{
				lev[i]=cin.nextInt();
			}
			water=cin.nextInt();
			Arrays.sort(lev);
			shen=lev[0];
			for(i=0;water&gt;0&amp;&amp;i&lt; m*n-1;)
			{
				tmp=(i+1)*100*(lev[i+1]-lev[i]);
				if(tmp&gt;=water)
				{
					shen=lev[i]+(double)water/((i+1)*100);
					water=0;
					i++;
					break;
				}
				else
				{
					water-=tmp;
					shen=lev[i+1];
					i++;
				}
			}
			if(i==(m*n-1)&amp;&amp;water&gt;0) 
			{
				shen=lev[m*n-1]+(double)water/(m*n*100);
				i=m*n;
			}
System.out.printf("Region %d\nWater level is %.2f meters.\n%.2f percent of the region is under water.\n\n",++r,shen,100.0*i/m/n);
		}
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-6126">
<article class="comment" id="comment-6126">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">changjf</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6126" rel="nofollow"><time datetime="2015-06-09T11:26:28+00:00" pubdate="">2015年6月9日 at 上午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52945">
<article class="comment" id="comment-52945">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-52945" rel="nofollow"><time datetime="2015-05-02T05:57:53+00:00" pubdate="">2015年5月2日 at 上午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6130">
<article class="comment" id="comment-6130">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6130" rel="nofollow"><time datetime="2015-04-09T05:08:06+00:00" pubdate="">2015年4月9日 at 上午5:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>补充：此算法求出的不一定是最优解，之前理解错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37331">
<article class="comment" id="comment-37331">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-37331" rel="nofollow"><time datetime="2015-01-31T23:36:06+00:00" pubdate="">2015年1月31日 at 下午11:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6131">
<article class="comment" id="comment-6131">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6131" rel="nofollow"><time datetime="2014-12-26T14:31:20+00:00" pubdate="">2014年12月26日 at 下午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60630">
<article class="comment" id="comment-60630">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-60630" rel="nofollow"><time datetime="2014-12-08T02:43:15+00:00" pubdate="">2014年12月8日 at 上午2:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说的就是无向图啊，有向图的算法也是类似的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6129">
<article class="comment" id="comment-6129">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6129" rel="nofollow"><time datetime="2014-12-04T08:30:48+00:00" pubdate="">2014年12月4日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52949">
<article class="comment" id="comment-52949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-52949" rel="nofollow"><time datetime="2014-11-10T19:56:08+00:00" pubdate="">2014年11月10日 at 下午7:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6128">
<article class="comment" id="comment-6128">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6128" rel="nofollow"><time datetime="2014-08-22T13:55:11+00:00" pubdate="">2014年8月22日 at 下午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52948">
<article class="comment" id="comment-52948">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-52948" rel="nofollow"><time datetime="2014-05-15T16:13:30+00:00" pubdate="">2014年5月15日 at 下午4:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6127">
<article class="comment" id="comment-6127">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-6127" rel="nofollow"><time datetime="2014-04-20T19:20:25+00:00" pubdate="">2014年4月20日 at 下午7:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52946">
<article class="comment" id="comment-52946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-52946" rel="nofollow"><time datetime="2014-04-19T23:57:07+00:00" pubdate="">2014年4月19日 at 下午11:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52947">
<article class="comment" id="comment-52947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-52947" rel="nofollow"><time datetime="2014-04-04T11:16:06+00:00" pubdate="">2014年4月4日 at 上午11:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60631">
<article class="comment" id="comment-60631">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/POJ-1877-Flooded%21-blog-542.html#comment-60631" rel="nofollow"><time datetime="2013-11-23T02:10:29+00:00" pubdate="">2013年11月23日 at 上午2:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>