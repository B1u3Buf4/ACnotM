<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-25</div>
<div class="tit"><h1 class="entry-title">Uva-1388-Graveyard[数学]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/gaotong2055" rel="author" title="由dragon发布">dragon</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/uva" rel="category tag" title="查看UVA中的全部文章">UVA</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观1146次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4603" href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comments" title="《Uva-1388-Graveyard[数学]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p style="text-align: center;"><strong>Graveyard</strong></p>
<p>Programming contests became so popular in the year 2397 that the governor of New Earck — the largest human-inhabited planet of the galaxy — opened a special Alley of Contestant Memories (ACM) at the local graveyard. The ACM encircles a green park, and holds the holographic statues of famous contestants placed equidistantly along the park perimeter. The alley has to be renewed from time to time when a new group of memorials arrives.</p>
<p>When new memorials are added, the exact place for each can be selected arbitrarily along the ACM, but the equidistant disposition must be maintained by moving some of the old statues along the alley.</p>
<p>Surprisingly, humans are still quite superstitious in 24th century: the graveyard keepers believe the holograms are holding dead people souls, and thus always try to renew the ACM with minimal possible movements of existing statues (besides, the holographic equipment is very heavy). Statues are moved along the park perimeter. Your work is to find a renewal plan which minimizes the sum of travel distances of all statues. Installation of a new hologram adds no distance penalty, so choose the places for newcomers wisely!</p>
<h2><span style="color: #ff0000; font-size: large;"><a href="http://acm.hust.edu.cn/vjudge/" name="SECTION0001001000000000000000">Input</a> </span></h2>
<p>The input file contains several test cases, each of them consists of a a line that contains two integer numbers: <i>n</i> – the number of holographic statues initially located at the ACM, and <i>m</i> – the number of statues to be added (2<img align="MIDDLE" alt="$ \le$" border="0" height="31" src="http://uva.onlinejudge.org/external/13/3708img1.png" width="18"/><i>n</i><img align="MIDDLE" alt="$ \le$" border="0" height="31" src="http://uva.onlinejudge.org/external/13/3708img1.png" width="18"/>1000, 1<img align="MIDDLE" alt="$ \le$" border="0" height="31" src="http://uva.onlinejudge.org/external/13/3708img1.png" width="18"/><i>m</i><img align="MIDDLE" alt="$ \le$" border="0" height="31" src="http://uva.onlinejudge.org/external/13/3708img1.png" width="18"/>1000) . The length of the alley along the park perimeter is exactly 10 000 feet.</p>
<h2><span style="color: #ff0000; font-size: large;"><a href="http://acm.hust.edu.cn/vjudge/" name="SECTION0001002000000000000000">Output</a> </span></h2>
<p>For each test case, write to the output a line with a single real number — the minimal sum of travel distances of all statues (in feet). The answer must be precise to at least 4 digits after decimal point.</p>
<div align="CENTER"><img align="BOTTOM" alt="\epsfbox{p3708.eps}" border="0" height="217" src="http://uva.onlinejudge.org/external/13/p3708.jpg" width="984"/></div>
<p>Pictures show the first three examples. Marked circles denote original statues, empty circles denote new equidistant places, arrows denote movement plans for existing statues.</p>
<h2><span style="color: #ff0000; font-size: large;"><a href="http://acm.hust.edu.cn/vjudge/" name="SECTION0001003000000000000000">Sample Input</a> </span></h2>
<pre>2 1 
2 3 
3 1 
10 10</pre>
<h2><span style="color: #ff0000; font-size: large;"><a href="http://acm.hust.edu.cn/vjudge/" name="SECTION0001004000000000000000">Sample Output</a> </span></h2>
<pre>1666.6667 
1000.0 
1666.6667 
0.0</pre>
<p>思想和<a href="http://www.acmerblog.com/uva-11300-spreading-the-wealth-4598.html" rel="bookmark" title="链向 UVA-11300-Spreading the Wealth[中位数] 的固定链接">UVA-11300-Spreading the Wealth[中位数]</a> 此题有些类似。找一个定点作为原点，此点是不需要移动的。但是代码需要这技巧。书中是把园等比例缩小为周长为n，同时floor(x+0.5)先进行四舍五入，然后然后向下取整，求得新的坐标，最后再将结果*10000还原。</p>
<p>书上的代码：</p>
<pre class="brush:other">#include &lt;cstdio&gt;
#include &lt;cmath&gt;
int main ()
{
 //   freopen("in.txt","r",stdin);
    int n, m;
    double pos, ans;
    while(scanf("%d%d",&amp;n,&amp;m)==2)
    {
        ans = 0.0;
        if(m!=n) for(int i = 1; i &lt; n; i++)
        {
            pos = 1.0*i/n*(m+n);//求得需要移动的坐标，其中*（m+n)是为了与下面求和通分，很巧妙
            ans += fabs(pos-floor(pos+0.5))/(n+m);
        }
        printf("%.4lf\n",ans*10000);
    }
    return 0;
}</pre>
<p>ACM之家原创，链接：<a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html">http://www.acmerblog.com/uva-1388-graveyard-4603.html</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-26378">
<article class="comment" id="comment-26378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26378" rel="nofollow"><time datetime="2015-07-09T20:56:43+00:00" pubdate="">2015年7月9日 at 下午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是最朴素的KMP实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26376">
<article class="comment" id="comment-26376">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rocky</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26376" rel="nofollow"><time datetime="2015-06-28T18:16:21+00:00" pubdate="">2015年6月28日 at 下午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题本身没错，但是HDOJ放题目的时候，前面有个题目解释了什么是XXX定律。<br/>
这里直接放了这个题目，肯定没几个人明白是干啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63060">
<article class="comment" id="comment-63060">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-63060" rel="nofollow"><time datetime="2015-06-22T21:35:21+00:00" pubdate="">2015年6月22日 at 下午9:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哎，path[0]应该是从零开始吧，为什么是赋值1呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26369">
<article class="comment" id="comment-26369">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26369" rel="nofollow"><time datetime="2015-06-18T01:35:08+00:00" pubdate="">2015年6月18日 at 上午1:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26374">
<article class="comment" id="comment-26374">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26374" rel="nofollow"><time datetime="2015-06-13T05:27:16+00:00" pubdate="">2015年6月13日 at 上午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26368">
<article class="comment" id="comment-26368">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26368" rel="nofollow"><time datetime="2015-04-29T04:18:24+00:00" pubdate="">2015年4月29日 at 上午4:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26379">
<article class="comment" id="comment-26379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26379" rel="nofollow"><time datetime="2015-02-22T15:34:09+00:00" pubdate="">2015年2月22日 at 下午3:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>一开始就规定不相邻节点颜色相同，可能得不到最优解。我想个类似的算法，也不确定是否总能得到最优解：先着一个点，随机挑一个相邻点，着第二色，继续随机选一个点，但必须至少有一个边和已着点相邻，着上不同色，当然尽量不增加新色，直到完成。我还找不到反例验证他的错误。。希望LZ也帮想想, 有想法欢迎来邮件。谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26373">
<article class="comment" id="comment-26373">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26373" rel="nofollow"><time datetime="2015-02-02T01:55:44+00:00" pubdate="">2015年2月2日 at 上午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以根据二叉排序树的定义进行严格的排序树创建和后序遍历操作。如果形成的排序树相同，其树的前、中、后序遍历是相同的，但在此处不能使用中序遍历，因为，中序遍历的结果就是排序的结果。经在九度测试，运行时间90ms，比楼主的要快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26370">
<article class="comment" id="comment-26370">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26370" rel="nofollow"><time datetime="2014-12-21T15:14:04+00:00" pubdate="">2014年12月21日 at 下午3:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26377">
<article class="comment" id="comment-26377">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26377" rel="nofollow"><time datetime="2014-10-20T12:48:44+00:00" pubdate="">2014年10月20日 at 下午12:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26372">
<article class="comment" id="comment-26372">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26372" rel="nofollow"><time datetime="2014-09-11T08:56:05+00:00" pubdate="">2014年9月11日 at 上午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26375">
<article class="comment" id="comment-26375">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26375" rel="nofollow"><time datetime="2014-04-27T12:30:44+00:00" pubdate="">2014年4月27日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26380">
<article class="comment" id="comment-26380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26380" rel="nofollow"><time datetime="2014-04-10T19:15:36+00:00" pubdate="">2014年4月10日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26371">
<article class="comment" id="comment-26371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">michaelwen</a></span> on <a href="http://www.acmerblog.com/uva-1388-graveyard-4603.html#comment-26371" rel="nofollow"><time datetime="2014-03-07T17:56:42+00:00" pubdate="">2014年3月7日 at 下午5:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>