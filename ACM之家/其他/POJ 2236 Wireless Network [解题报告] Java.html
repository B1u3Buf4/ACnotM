<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 2236 Wireless Network [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1021次</span><span class="i3"><a class="ds-thread-count" data-thread-key="650" href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comments" title="《POJ 2236 Wireless Network [解题报告] Java》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Wireless Network</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
An earthquake takes place in Southeast Asia. The ACM (Asia Cooperated Medical team) have set up a wireless network with the lap computers, but an unexpected aftershock attacked, all computers in the network were all broken. The computers are repaired one by one, and the network gradually began to work again. Because of the hardware restricts, each computer can only directly communicate with the computers that are not farther than d meters from it. But every computer can be regarded as the intermediary of the communication between two other computers, that is to say computer A and computer B can communicate if computer A and computer B can communicate directly or there is a computer C that can communicate with both A and B. 
<p>In the process of repairing the network, workers can take two kinds of operations at every moment, repairing a computer, or testing if two computers can communicate. Your job is to answer all the testing operations.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains two integers N and d (1 &lt;= N &lt;= 1001, 0 &lt;= d &lt;= 20000). Here N is the number of computers, which are numbered from 1 to N, and D is the maximum distance two computers can communicate directly. In the next N lines, each contains two integers xi, yi (0 &lt;= xi, yi &lt;= 10000), which is the coordinate of N computers. From the (N+1)-th line to the end of input, there are operations, which are carried out one by one. Each line contains an operation in one of following two formats:<br/>
<br/>1.	“O p” (1 &lt;= p &lt;= N), which means repairing computer p.<br/>
<br/>2.	“S p q” (1 &lt;= p, q &lt;= N), which means testing whether computer p and q can communicate.
<p>The input will not exceed 300000 lines.<br/>
</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each Testing operation, print “SUCCESS” if the two computers can communicate, or “FAIL” if not.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 1
0 1
0 2
0 3
0 4
O 1
O 2
O 4
S 1 4
O 3
S 1 4
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
FAIL
SUCCESS
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2236">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2236">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2236">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.util.*;
public class Main
{
 public static void main(String[] args)
 {
  Scanner in=new Scanner(System.in);
  int a=in.nextInt();
  int max=in.nextInt();
  max*=max;
  int[] ax=new int[a+1];
  int[] ay=new int[a+1];
  int[] arr=new int[a+1];
  int[] bool=new int[a+1];
  for(int i=1;i&lt;=a;i++)
	arr[i]=i;
  for(int i=1;i&lt;=a;i++)
  {
    ax[i]=in.nextInt();
    ay[i]=in.nextInt();
  }
  while(in.hasNext())
  {
   if(in.next().equals("O"))
    {
	int w=in.nextInt();
	if(bool[w]==1) continue;
	for(int j=1;j&lt;=a;j++)
	 {
	   if(bool[j]==0) continue;
	   int u=j;
	   while(arr[u]!=u)
		u=arr[u];
	   int l=w;
	   while(arr[l]!=l)
		l=arr[l];
	   if(l==u) continue;
	   int x=ax[w]-ax[j];
	   int y=ay[w]-ay[j];
	   if(x*x+y*y&lt;=max)
	    {
		if(u&gt;l) arr[j]=arr[w]=arr[u]=l;
		else arr[j]=arr[w]=arr[l]=u;
	    }
	  }
	bool[w]=1;
     }
     else
     {
	int r=in.nextInt(),w=r;
	while(arr[w]!=w)
	   w=arr[w];
	int t=in.nextInt(),u=t;
	while(arr[u]!=u)
	   u=arr[u];
	arr[r]=w;
	arr[t]=u;
	if(arr[w]==arr[u]&amp;&amp;bool[w]==1) System.out.println("SUCCESS");
	else System.out.println("FAIL");
      }
   }
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37731">
<article class="comment" id="comment-37731">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37731" rel="nofollow"><time datetime="2015-05-18T10:31:03+00:00" pubdate="">2015年5月18日 at 上午10:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3中，GetRightPosition()和GetLeftPosition()与STL中的upper_bound()和lower_boune()的代码实现一样吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37733">
<article class="comment" id="comment-37733">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37733" rel="nofollow"><time datetime="2015-05-11T19:15:39+00:00" pubdate="">2015年5月11日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6889">
<article class="comment" id="comment-6889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-6889" rel="nofollow"><time datetime="2015-02-03T14:47:28+00:00" pubdate="">2015年2月3日 at 下午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6888">
<article class="comment" id="comment-6888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-6888" rel="nofollow"><time datetime="2014-12-06T05:13:14+00:00" pubdate="">2014年12月6日 at 上午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37736">
<article class="comment" id="comment-37736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37736" rel="nofollow"><time datetime="2014-08-07T15:39:39+00:00" pubdate="">2014年8月7日 at 下午3:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>较好的写法是 start+(end-start)/2</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37734">
<article class="comment" id="comment-37734">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37734" rel="nofollow"><time datetime="2014-07-31T02:58:00+00:00" pubdate="">2014年7月31日 at 上午2:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37735">
<article class="comment" id="comment-37735">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37735" rel="nofollow"><time datetime="2014-07-05T02:43:27+00:00" pubdate="">2014年7月5日 at 上午2:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错，支持一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37732">
<article class="comment" id="comment-37732">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">haojunyu</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-37732" rel="nofollow"><time datetime="2014-02-25T15:56:56+00:00" pubdate="">2014年2月25日 at 下午3:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53124">
<article class="comment" id="comment-53124">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-53124" rel="nofollow"><time datetime="2014-02-02T14:45:18+00:00" pubdate="">2014年2月2日 at 下午2:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6887">
<article class="comment" id="comment-6887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-6887" rel="nofollow"><time datetime="2014-01-03T12:28:06+00:00" pubdate="">2014年1月3日 at 下午12:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-6886">
<article class="comment" id="comment-6886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/POJ-2236-Wireless-Network-blog-650.html#comment-6886" rel="nofollow"><time datetime="2013-11-23T13:43:17+00:00" pubdate="">2013年11月23日 at 下午1:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的很好~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>