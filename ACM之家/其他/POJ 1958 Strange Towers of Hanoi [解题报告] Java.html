<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 1958 Strange Towers of Hanoi [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1030次</span><span class="i3"><a class="ds-thread-count" data-thread-key="564" href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comments" title="《POJ 1958 Strange Towers of Hanoi [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Strange Towers of Hanoi</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<b>Background</b><br/>
<br/>Charlie Darkbrown sits in another one of those boring Computer Science lessons: At the moment the teacher just explains the standard Tower of Hanoi problem, which bores Charlie to death!<br/>
<br/><center><img src="http://www.acmerblog.com/img/poj/1958-8.jpg"/></center><br/>
<br/>The teacher points to the blackboard (Fig. 4) and says: “So here is the problem:<br/>
<ul>
<li>There are three towers: A, B and C.<br/>
</li>
<li>There are n disks. The number n is constant while working the puzzle.<br/>
</li>
<li>All disks are different in size.<br/>
</li>
<li>The disks are initially stacked on tower A increasing in size from the top to the bottom.<br/>
</li>
<li>The goal of the puzzle is to transfer all of the disks from tower A to tower C.<br/>
</li>
<li>One disk at a time can be moved from the top of a tower either to an empty tower or to a tower with a larger disk on the top.</li>
</ul>
<p>So your task is to write a program that calculates the smallest number of disk moves necessary to move all the disks from tower A to C.”<br/>
<br/>Charlie: “This is incredibly boring—everybody knows that this can be solved using a simple recursion.I deny to code something as simple as this!”<br/>
<br/>The teacher sighs: “Well, Charlie, let’s think about something for you to do: For you there is a fourth tower D. Calculate the smallest number of disk moves to move all the disks from tower A to tower D using all four towers.”<br/>
<br/>Charlie looks irritated: “Urgh. . . Well, I don’t know an optimal algorithm for four towers. . . ”<br/>
<br/><b>Problem</b><br/>
<br/>So the real problem is that problem solving does not belong to the things Charlie is good at. Actually, the only thing Charlie is really good at is “sitting next to someone who can do the job”. And now guess what — exactly! It is you who is sitting next to Charlie, and he is already glaring at you.<br/>
<br/>Luckily, you know that the following algorithm works for n &lt;= 12: At first k &gt;= 1 disks on tower A are fixed and the remaining n-k disks are moved from tower A to tower B using the algorithm for four towers.Then the remaining k disks from tower A are moved to tower D using the algorithm for three towers. At last the n – k disks from tower B are moved to tower D again using the algorithm for four towers (and thereby not moving any of the k disks already on tower D). Do this for all k 2 ∈{1, …. , n} and find the k with the minimal number of moves.<br/>
<br/>So for n = 3 and k = 2 you would first move 1 (3-2) disk from tower A to tower B using the algorithm for four towers (one move). Then you would move the remaining two disks from tower A to tower D using the algorithm for three towers (three moves). And the last step would be to move the disk from tower B to tower D using again the algorithm for four towers (another move). Thus the solution for n = 3 and k = 2 is 5 moves. To be sure that this really is the best solution for n = 3 you need to check the other possible values 1 and 3 for k. (But, by the way, 5 is optimal. . . ) </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There is no input. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each n (1 &lt;= n &lt;= 12) print a single line containing the minimum number of moves to solve the problem for four towers and n disks.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
No input.</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
REFER TO OUTPUT.</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1958">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1958">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1958">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: geshenghua@live.com.sg
import java.util.*;
public class Main {

    static Scanner in = new Scanner(System.in);

    public static void main(String[] args) {
        for (int i = 1; i &lt;= 12; i++) {
            System.out.println(move4(i));
        }
    }

    public static int move4(int k) {
        if (k == 1) return 1;
        if (k == 2) return 3;
        if (k == 3) {
            return 5;
        }
        int min = Integer.MAX_VALUE;
        for (int i = 1; i &lt; k; i++) {
            int t = 2 * move4(k - i) + move3(i);
            if (t &lt; min) {
                min = t;
            }
        }
        return min;
    }

    public static int move3(int k) {
        if (k == 0) {
            return 0;
        }
        return move3(k - 1) + move3(k - 1) + 1;
    }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37432">
<article class="comment" id="comment-37432">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37432" rel="nofollow"><time datetime="2015-07-08T14:47:46+00:00" pubdate="">2015年7月8日 at 下午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37430">
<article class="comment" id="comment-37430">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37430" rel="nofollow"><time datetime="2015-06-27T10:57:46+00:00" pubdate="">2015年6月27日 at 上午10:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37431">
<article class="comment" id="comment-37431">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37431" rel="nofollow"><time datetime="2015-05-16T18:55:50+00:00" pubdate="">2015年5月16日 at 下午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>一开始就规定不相邻节点颜色相同，可能得不到最优解。我想个类似的算法，也不确定是否总能得到最优解：先着一个点，随机挑一个相邻点，着第二色，继续随机选一个点，但必须至少有一个边和已着点相邻，着上不同色，当然尽量不增加新色，直到完成。我还找不到反例验证他的错误。。希望LZ也帮想想, 有想法欢迎来邮件。谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37423">
<article class="comment" id="comment-37423">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37423" rel="nofollow"><time datetime="2015-04-11T23:56:57+00:00" pubdate="">2015年4月11日 at 下午11:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37435">
<article class="comment" id="comment-37435">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuyuedeyu</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37435" rel="nofollow"><time datetime="2015-04-04T20:06:20+00:00" pubdate="">2015年4月4日 at 下午8:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37434">
<article class="comment" id="comment-37434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37434" rel="nofollow"><time datetime="2014-12-13T16:14:29+00:00" pubdate="">2014年12月13日 at 下午4:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37424">
<article class="comment" id="comment-37424">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37424" rel="nofollow"><time datetime="2014-10-21T00:38:12+00:00" pubdate="">2014年10月21日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个差别应该不会太大，或许编辑器就自动优化成内联函数了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37425">
<article class="comment" id="comment-37425">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37425" rel="nofollow"><time datetime="2014-08-18T02:49:24+00:00" pubdate="">2014年8月18日 at 上午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37426">
<article class="comment" id="comment-37426">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CHEATBEATER</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37426" rel="nofollow"><time datetime="2014-08-15T23:49:19+00:00" pubdate="">2014年8月15日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37427">
<article class="comment" id="comment-37427">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37427" rel="nofollow"><time datetime="2014-07-31T02:33:27+00:00" pubdate="">2014年7月31日 at 上午2:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37433">
<article class="comment" id="comment-37433">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37433" rel="nofollow"><time datetime="2014-06-30T06:03:07+00:00" pubdate="">2014年6月30日 at 上午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题这里的解法最坏情况似乎应该是指数的。回溯的时候<br/>
O(n) = O(n-1) + O(n-2) + ….<br/>
O(n-1) = O(n-2) + O(n-3)+ …<br/>
O(n) – O(n-1) = O(n-1)<br/>
O(n) = 2O(n-1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37422">
<article class="comment" id="comment-37422">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37422" rel="nofollow"><time datetime="2014-05-26T14:30:33+00:00" pubdate="">2014年5月26日 at 下午2:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37428">
<article class="comment" id="comment-37428">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37428" rel="nofollow"><time datetime="2013-12-30T12:58:38+00:00" pubdate="">2013年12月30日 at 下午12:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37429">
<article class="comment" id="comment-37429">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-1958-Strange-Towers-of-Hanoi-blog-564.html#comment-37429" rel="nofollow"><time datetime="2013-12-07T17:30:12+00:00" pubdate="">2013年12月7日 at 下午5:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>