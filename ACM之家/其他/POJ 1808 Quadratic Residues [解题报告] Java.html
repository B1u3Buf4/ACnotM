<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 1808 Quadratic Residues [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观764次</span><span class="i3"><a class="ds-thread-count" data-thread-key="521" href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comments" title="《POJ 1808 Quadratic Residues [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Quadratic Residues</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Background<br/>
<br/>In 1801, Carl Friedrich Gauss (1777-1855) published his “Disquisitiones Arithmeticae”, which basically created modern number theory and is still being sold today. One of the many topics treated in his book was the problem of quadratic residues.<br/>
<br/>Consider a prime number p and an integer a !≡ 0 (mod p). Then a is called a quadratic residue mod p if there is an integer x such that<br/>
<br/>x<sup>2</sup> ≡ a (mod p),<br/>
<br/>and a quadratic non residue otherwise. Lagrange (1752-1833) introduced the following notation, called the “Legendre symbol”:<br/>
<br/><center><img src="http://www.acmerblog.com/img/poj/1808-15.jpg"/></center><br/>
<br/>For the calculation of these symbol there are the following rules, valid only for distinct odd prime numbers p, q and integers a, b not divisible by p:<br/>
<br/><img src="http://www.acmerblog.com/img/poj/1808-21.jpg"/><br/>
<br/>The statements 1. to 3. are obvious from the definition, 4. is called the Completion Theorem, and 5. is the famous Law of Quadratic Reciprocity for which Gauss himself gave no less than six different proofs in the “Disquisitiones Arithmeticae”. Knowing these facts, one can calculate all possible Legendre symbols as in the following example:<br/>
<br/><center><img src="http://www.acmerblog.com/img/poj/1808-27.jpg"/></center> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains the number of scenarios.<br/>
<br/>For each scenario, there is one line containing the integers a and p separated by a single blank, where 2 &lt; p &lt; 10<sup>9</sup> is an odd prime, and a satisfies both a !≡ 0 (mod p) and |a| &lt;= 10<sup>9</sup>. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Start the output for every scenario with a line containing “Scenario #i:”, where i is the number of the scenario starting at 1. Then print a single line containing (a/p), followed by a blank line.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
29 79
2 29
1 3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Scenario #1:
-1

Scenario #2:
-1

Scenario #3:
1
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1808">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1808">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1808">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: ccQ.SuperSupper
import java.io.*;
import java.util.*;
import java.math.*;
public class Main 
{
	public static long mod(long a,long b,long c)
	{
		long ret=1%c;
		while(b!=0)
		{
			if((b&amp;0x1)!=0)
				ret=ret*a%c;
			a=a*a%c;
			b&gt;&gt;=1;
		}
		return ret;
	}
	public static void main(String args[]) throws Exception {
	
		int idx=0;
		Scanner cin=new Scanner(System.in);
		long a,p;
		int t;
		t=cin.nextInt();
		while(t!=0)
		{
			--t;
			a=cin.nextLong();
			p=cin.nextLong();
			a%=p;
			if(a&lt; 0)a+=p;
			++idx;
			System.out.println("Scenario #"+idx+":");
			if(mod(a,(p-1)/2,p)==1)
				System.out.println("1");
			else
				System.out.println("-1");
			System.out.println();
		}
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-5969">
<article class="comment" id="comment-5969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-5969" rel="nofollow"><time datetime="2015-07-05T14:52:17+00:00" pubdate="">2015年7月5日 at 下午2:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37264">
<article class="comment" id="comment-37264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37264" rel="nofollow"><time datetime="2015-02-22T03:48:59+00:00" pubdate="">2015年2月22日 at 上午3:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请问printAllCombination的时间复杂度怎么分析呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37261">
<article class="comment" id="comment-37261">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37261" rel="nofollow"><time datetime="2015-01-16T01:40:29+00:00" pubdate="">2015年1月16日 at 上午1:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用代码高亮的插件，再修改下css</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5971">
<article class="comment" id="comment-5971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-5971" rel="nofollow"><time datetime="2014-12-17T12:08:09+00:00" pubdate="">2014年12月17日 at 下午12:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>沙发呢，我抢到了沙发</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5970">
<article class="comment" id="comment-5970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-5970" rel="nofollow"><time datetime="2014-11-18T07:14:18+00:00" pubdate="">2014年11月18日 at 上午7:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37266">
<article class="comment" id="comment-37266">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37266" rel="nofollow"><time datetime="2014-11-07T16:02:37+00:00" pubdate="">2014年11月7日 at 下午4:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60618">
<article class="comment" id="comment-60618">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Yaunxi</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-60618" rel="nofollow"><time datetime="2014-10-26T17:10:37+00:00" pubdate="">2014年10月26日 at 下午5:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60615">
<article class="comment" id="comment-60615">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-60615" rel="nofollow"><time datetime="2014-08-14T07:15:33+00:00" pubdate="">2014年8月14日 at 上午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60617">
<article class="comment" id="comment-60617">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-60617" rel="nofollow"><time datetime="2014-07-14T15:44:47+00:00" pubdate="">2014年7月14日 at 下午3:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不直接用STL排序呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60616">
<article class="comment" id="comment-60616">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-60616" rel="nofollow"><time datetime="2014-06-18T23:12:28+00:00" pubdate="">2014年6月18日 at 下午11:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37265">
<article class="comment" id="comment-37265">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37265" rel="nofollow"><time datetime="2014-04-01T22:08:09+00:00" pubdate="">2014年4月1日 at 下午10:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A猴子认识的所有猴子和B猴子认识的所有猴子都能认识，这句话用《爱屋及乌》描述比较容易理解……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37262">
<article class="comment" id="comment-37262">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37262" rel="nofollow"><time datetime="2014-04-01T05:02:00+00:00" pubdate="">2014年4月1日 at 上午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37267">
<article class="comment" id="comment-37267">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37267" rel="nofollow"><time datetime="2014-02-08T22:31:39+00:00" pubdate="">2014年2月8日 at 下午10:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37263">
<article class="comment" id="comment-37263">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/POJ-1808-Quadratic-Residues-blog-521.html#comment-37263" rel="nofollow"><time datetime="2014-01-07T02:44:01+00:00" pubdate="">2014年1月7日 at 上午2:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>very good solutions.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>