<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1091 跳蚤 [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观904次</span><span class="i3"><a class="ds-thread-count" data-thread-key="263" href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comments" title="《POJ 1091 跳蚤 [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">跳蚤</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Z城市居住着很多只跳蚤。在Z城市周六生活频道有一个娱乐节目。一只跳蚤将被请上一个高空钢丝的正中央。钢丝很长，可以看作是无限长。节目主持人会给该跳蚤发一张卡片。卡片上写有N+1个自然数。其中最后一个是M，而前N个数都不超过M，卡片上允许有相同的数字。跳蚤每次可以从卡片上任意选择一个自然数S，然后向左，或向右跳S个单位长度。而他最终的任务是跳到距离他左边一个单位长度的地方，并捡起位于那里的礼物。<br/>
<br/>比如当N=2，M=18时，持有卡片(10, 15, 18)的跳蚤，就可以完成任务：他可以先向左跳10个单位长度，然后再连向左跳3次，每次15个单位长度，最后再向右连跳3次，每次18个单位长度。而持有卡片(12, 15, 18)的跳蚤，则怎么也不可能跳到距他左边一个单位长度的地方。<br/>
<br/>当确定N和M后，显然一共有M^N张不同的卡片。现在的问题是，在这所有的卡片中，有多少张可以完成任务。
 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
两个整数N和M(N &lt;= 15 , M &lt;= 100000000)。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
可以完成任务的卡片数。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
12</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
这12张卡片分别是：<br/>
<br/>(1, 1, 4), (1, 2, 4), (1, 3, 4), (1, 4, 4), (2, 1, 4), (2, 3, 4),<br/>
<br/>(3, 1, 4), (3, 2, 4), (3, 3, 4), (3, 4, 4), (4, 1, 4), (4, 3, 4)<br/>
</div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1091">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1091">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1091">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author popop0p0popo
import java.util.*;
import java.math.*;

public class Main{
	public static void main(String[] args){
		Scanner scanner=new Scanner(System.in);
		int n=scanner.nextInt();
		int m=scanner.nextInt();
		int[] yue=getYue(m);
		for (int i=0;i&lt; yue.length ;i++ ){
			if (yue[i]==0){
				break;
			}
			m=m/yue[i];
		}
		BigInteger ok=(new BigInteger(""+m)).pow(n);
		BigInteger tmp=BigInteger.ONE;
		for (int i=0;i&lt; yue.length ;i++ ){
			if (yue[i]==0){
				break;
			}
	         tmp=tmp.multiply(((new BigInteger(""+yue[i])).pow(n)).subtract(BigInteger.ONE));
		}
		ok=ok.multiply(tmp);
		System.out.println(ok.toString());
	}

	public static int[] getYue(int n){
		int l=0;
		int[] yue=new int[16];
		if (n%2==0){
			yue[l]=2;
			l++;
		}
		for (int i=3;i&lt;=n/2 ;i=i+2 ){
			if (n%i==0&amp;&amp;isZh(i)){
				yue[l]=i;
				l++;
			}
		}
		if (isZh(n)){
			yue[l]=n;
		}
		return yue;
	}

	public static boolean isZh(int n){
		for (int i=2;i&lt;=(int)Math.pow(n,0.5) ;i++ ){
			if (n%i==0){
				return false;
			}
		}
		return true;
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-4162">
<article class="comment" id="comment-4162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4162" rel="nofollow"><time datetime="2015-07-08T22:23:55+00:00" pubdate="">2015年7月8日 at 下午10:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你的理解应该是：即使主持人拿走一个箱子对结果没有影响。这样想，主持人拿走的箱子只是没有影响到你初始选择的那个箱子中有奖品的概率，但是改变了其余两个箱子的概率分布。由 1/3,1/3 变成了 0, 2/3</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4171">
<article class="comment" id="comment-4171">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4171" rel="nofollow"><time datetime="2015-05-31T06:10:34+00:00" pubdate="">2015年5月31日 at 上午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看见的晚了，只能提交一次唉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4166">
<article class="comment" id="comment-4166">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4166" rel="nofollow"><time datetime="2015-05-16T13:13:48+00:00" pubdate="">2015年5月16日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4170">
<article class="comment" id="comment-4170">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4170" rel="nofollow"><time datetime="2015-04-16T11:35:22+00:00" pubdate="">2015年4月16日 at 上午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4160">
<article class="comment" id="comment-4160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4160" rel="nofollow"><time datetime="2015-02-23T08:38:53+00:00" pubdate="">2015年2月23日 at 上午8:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4167">
<article class="comment" id="comment-4167">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4167" rel="nofollow"><time datetime="2014-11-13T06:15:00+00:00" pubdate="">2014年11月13日 at 上午6:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4164">
<article class="comment" id="comment-4164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4164" rel="nofollow"><time datetime="2014-07-16T07:18:52+00:00" pubdate="">2014年7月16日 at 上午7:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常好，初学者就应该先理解递归</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4161">
<article class="comment" id="comment-4161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4161" rel="nofollow"><time datetime="2014-07-05T13:00:37+00:00" pubdate="">2014年7月5日 at 下午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个才是我想要的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4168">
<article class="comment" id="comment-4168">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4168" rel="nofollow"><time datetime="2014-05-31T19:23:27+00:00" pubdate="">2014年5月31日 at 下午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>51行错了，改为：void Union(struct subset subsets[], int x, int y)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4165">
<article class="comment" id="comment-4165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4165" rel="nofollow"><time datetime="2014-04-26T07:26:21+00:00" pubdate="">2014年4月26日 at 上午7:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第36行，struct node **head_ref，怎么理解，那个函数感觉不是很懂啊！？？弱渣求助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4159">
<article class="comment" id="comment-4159">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4159" rel="nofollow"><time datetime="2014-02-26T07:03:34+00:00" pubdate="">2014年2月26日 at 上午7:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4158">
<article class="comment" id="comment-4158">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4158" rel="nofollow"><time datetime="2014-02-11T05:02:47+00:00" pubdate="">2014年2月11日 at 上午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>very good solutions.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4163">
<article class="comment" id="comment-4163">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4163" rel="nofollow"><time datetime="2014-02-08T11:41:31+00:00" pubdate="">2014年2月8日 at 上午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4169">
<article class="comment" id="comment-4169">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/POJ-1091-%E8%B7%B3%E8%9A%A4-blog-263.html#comment-4169" rel="nofollow"><time datetime="2014-01-01T06:44:47+00:00" pubdate="">2014年1月1日 at 上午6:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>