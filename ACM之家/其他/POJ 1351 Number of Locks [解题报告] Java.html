<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1351 Number of Locks [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观840次</span><span class="i3"><a class="ds-thread-count" data-thread-key="376" href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comments" title="《POJ 1351 Number of Locks [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Number of Locks</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In certain factory a kind of spring locks is manufactured. There are n slots (1 &lt; n &lt; 17, n is a natural number.) for each lock. The height of each slot may be any one of the 4 values in｛1,2,3,4｝( neglect unit ). Among the slots of a lock there are at least one pair of neighboring slots with their difference of height equal to 3 and also there are at least 3 different height values of the slots for a lock.  If a batch of locks is manufactured by taking all over the 4 values for slot height and meet the two limitations above, find the number of the locks produced. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There is one given data n (number of slots) on every line.  At the end of all the input data is -1, which means the end of input. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
According to the input data, count the number of locks. Each output occupies one line. Its fore part is a repetition of the input data and then followed by a colon and a space. The last part of it is the number of the locks counted.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
-1
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2: 0
3: 8
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1351">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1351">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1351">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">/* @author:zeropinzuo */
import java.io.*;
import java.util.*;

public class Main{
 static Scanner cin;
 static long[] f,g;
	
 public static void main(String args[]){
  cin = new Scanner(System.in);
  f = new long[17];
  g = new long[17];
		
  g[1]=4;
  g[2]=14;
  for(int i=3;i&lt; 17;i++)
	g[i]=3*g[i-1]+2*g[i-2];
		
  for(int i=2;i&lt; 17;i++)
	f[i] = (1&lt;&lt; (2*i))-(1&lt;&lt; i)-g[i]+2;
			
  while(run()==true)
			;
 }
	
 static boolean run(){
   int n = cin.nextInt();
   if(n==-1)
	return false;
   if(n==16){
     System.out.println(16+": 3553389280");
     return true;
    }
			
   System.out.println(n+": "+f[n]);
   return true;
	
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36841">
<article class="comment" id="comment-36841">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36841" rel="nofollow"><time datetime="2015-07-12T02:27:31+00:00" pubdate="">2015年7月12日 at 上午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52703">
<article class="comment" id="comment-52703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-52703" rel="nofollow"><time datetime="2015-07-11T23:59:17+00:00" pubdate="">2015年7月11日 at 下午11:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36840">
<article class="comment" id="comment-36840">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36840" rel="nofollow"><time datetime="2015-07-01T10:36:40+00:00" pubdate="">2015年7月1日 at 上午10:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯，尽量吧。题目太多了，很多解题报告是用程序自动发布的，所以就只有代码了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36838">
<article class="comment" id="comment-36838">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36838" rel="nofollow"><time datetime="2015-05-05T16:24:35+00:00" pubdate="">2015年5月5日 at 下午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36839">
<article class="comment" id="comment-36839">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36839" rel="nofollow"><time datetime="2014-11-27T18:45:32+00:00" pubdate="">2014年11月27日 at 下午6:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36845">
<article class="comment" id="comment-36845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36845" rel="nofollow"><time datetime="2014-09-23T04:53:41+00:00" pubdate="">2014年9月23日 at 上午4:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36844">
<article class="comment" id="comment-36844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36844" rel="nofollow"><time datetime="2014-06-08T12:21:28+00:00" pubdate="">2014年6月8日 at 下午12:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52705">
<article class="comment" id="comment-52705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-52705" rel="nofollow"><time datetime="2014-05-02T02:05:55+00:00" pubdate="">2014年5月2日 at 上午2:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法，他认识我，我不认识他，后来有人告诉我你写的这段代码就是XXX算法。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52704">
<article class="comment" id="comment-52704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-52704" rel="nofollow"><time datetime="2014-04-05T22:55:41+00:00" pubdate="">2014年4月5日 at 下午10:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60491">
<article class="comment" id="comment-60491">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-60491" rel="nofollow"><time datetime="2014-03-15T15:53:04+00:00" pubdate="">2014年3月15日 at 下午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36843">
<article class="comment" id="comment-36843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36843" rel="nofollow"><time datetime="2014-03-04T10:10:51+00:00" pubdate="">2014年3月4日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不好意思，写错了．应该是　path[0]=0,  visited[V] = true;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36846">
<article class="comment" id="comment-36846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36846" rel="nofollow"><time datetime="2013-12-17T11:41:09+00:00" pubdate="">2013年12月17日 at 上午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36842">
<article class="comment" id="comment-36842">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/POJ-1351-Number-of-Locks-blog-376.html#comment-36842" rel="nofollow"><time datetime="2013-12-03T08:01:22+00:00" pubdate="">2013年12月3日 at 上午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题这里的解法最坏情况似乎应该是指数的。回溯的时候<br/>
O(n) = O(n-1) + O(n-2) + ….<br/>
O(n-1) = O(n-2) + O(n-3)+ …<br/>
O(n) – O(n-1) = O(n-1)<br/>
O(n) = 2O(n-1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>