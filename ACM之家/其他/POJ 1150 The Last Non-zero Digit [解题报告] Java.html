<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1150 The Last Non-zero Digit [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1025次</span><span class="i3"><a class="ds-thread-count" data-thread-key="286" href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comments" title="《POJ 1150 The Last Non-zero Digit [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The Last Non-zero Digit</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In this problem you will be given two decimal integer number N, M. You will have to find the last non-zero digit of the <sup>N</sup>P<sub>M</sub>.This means no of permutations of N things taking M at a time. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several lines of input. Each line of the input file contains two integers N (0 &lt;= N&lt;= 20000000), M (0 &lt;= M &lt;= N). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each line of the input you should output a single digit, which is the last non-zero digit of <sup>N</sup>P<sub>M</sub>. For example, if <sup>N</sup>P<sub>M</sub> is 720 then the last non-zero digit is 2. So in this case your output should be 2.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
10 10
10 5
25 6</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
8
4
2</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1150">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1150">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1150">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author: 82638882@163.com
import java.util.Scanner;
public class Main
{
	public static void main(String[] args)
	{
		Scanner in=new Scanner(System.in);
		int[] b2=new int[]{6,2,4,8};
		int[] b3=new int[]{1,3,9,7};
		int[] b7=new int[]{1,7,9,3};
		int[] b9=new int[]{1,9,1,9};
		while(in.hasNext())
		{
			int n=in.nextInt();
			int m=n-in.nextInt();
			int e,a2=0,a3=0,a5=0,a7=0,a9=0;
			e=n;while((e=e/2)!=0)a2+=e;
			e=m;while((e=e/2)!=0)a2-=e;
			e=n;while((e=e/5)!=0)a5+=e;
			e=m;while((e=e/5)!=0)a5-=e;
			a3=f(n,3)-f(m,3);
			a7=f(n,7)-f(m,7);
			a9=f(n,9)-f(m,9);
			int ans=1;
			if(a5&gt;a2)System.out.println(5);
			else{
				a2-=a5;
				if(a2!=0){
					a2=a2%4;
					ans*=b2[a2];
				}
				ans*=b3[a3%4];
				ans=ans%10;
				ans*=b7[a7%4];
				ans=ans%10;
				ans*=b9[a9%4];
				ans=ans%10;
				System.out.println(ans);
			}
		}
	}
	public static int f(int n,int a)
	{
		if(n==0)return 0;
		else return f(n/2,a)+g(n,a);
	}
	public static int g(int n,int a)
	{
		if(n==0)return 0;
		else if(n%10&lt; a)return n/10+g(n/5,a);
		else return n/10+1+g(n/5,a);
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36548">
<article class="comment" id="comment-36548">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36548" rel="nofollow"><time datetime="2015-07-04T06:02:23+00:00" pubdate="">2015年7月4日 at 上午6:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36541">
<article class="comment" id="comment-36541">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36541" rel="nofollow"><time datetime="2015-06-04T03:49:21+00:00" pubdate="">2015年6月4日 at 上午3:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36540">
<article class="comment" id="comment-36540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36540" rel="nofollow"><time datetime="2015-03-08T20:54:50+00:00" pubdate="">2015年3月8日 at 下午8:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36543">
<article class="comment" id="comment-36543">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36543" rel="nofollow"><time datetime="2015-03-08T18:35:50+00:00" pubdate="">2015年3月8日 at 下午6:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>加了星号 (*) 表示跳过此数据不读入. 因为scanf是不读取本行回车的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36546">
<article class="comment" id="comment-36546">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36546" rel="nofollow"><time datetime="2015-02-16T10:06:36+00:00" pubdate="">2015年2月16日 at 上午10:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36544">
<article class="comment" id="comment-36544">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36544" rel="nofollow"><time datetime="2015-02-11T18:55:40+00:00" pubdate="">2015年2月11日 at 下午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36536">
<article class="comment" id="comment-36536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36536" rel="nofollow"><time datetime="2015-02-01T11:04:16+00:00" pubdate="">2015年2月1日 at 上午11:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36538">
<article class="comment" id="comment-36538">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36538" rel="nofollow"><time datetime="2014-12-02T16:52:23+00:00" pubdate="">2014年12月2日 at 下午4:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36542">
<article class="comment" id="comment-36542">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36542" rel="nofollow"><time datetime="2014-10-04T08:54:22+00:00" pubdate="">2014年10月4日 at 上午8:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52561">
<article class="comment" id="comment-52561">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">michaelwen</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-52561" rel="nofollow"><time datetime="2014-09-10T08:28:51+00:00" pubdate="">2014年9月10日 at 上午8:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太好了，收藏</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36547">
<article class="comment" id="comment-36547">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36547" rel="nofollow"><time datetime="2014-07-21T03:52:39+00:00" pubdate="">2014年7月21日 at 上午3:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这代码的输出格式不对阿，else语句的low=p移动一下位置，增加可读性</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36539">
<article class="comment" id="comment-36539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bcys</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36539" rel="nofollow"><time datetime="2014-03-24T23:02:07+00:00" pubdate="">2014年3月24日 at 下午11:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36545">
<article class="comment" id="comment-36545">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36545" rel="nofollow"><time datetime="2014-02-20T08:50:09+00:00" pubdate="">2014年2月20日 at 上午8:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36537">
<article class="comment" id="comment-36537">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-1150-The-Last-Non-zero-Digit-blog-286.html#comment-36537" rel="nofollow"><time datetime="2014-02-11T21:52:36+00:00" pubdate="">2014年2月11日 at 下午9:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输入样例作为一个整体输入，带回车</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>