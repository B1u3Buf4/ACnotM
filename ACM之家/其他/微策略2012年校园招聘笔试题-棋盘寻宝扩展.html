<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-25</div>
<div class="tit"><h1 class="entry-title">微策略2012年校园招聘笔试题-棋盘寻宝扩展</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/backtracking" rel="category tag" title="查看回溯和剪枝中的全部文章">回溯和剪枝</a></span><span class="i4">围观698次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1243" href="http://www.acmerblog.com/blog-1243.html#comments" title="《微策略2012年校园招聘笔试题-棋盘寻宝扩展》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<dl>
<dt><strong>题目描述：</strong></dt>
<dd>现在有一个8*8的棋盘，上面放着64个不同价值的礼物，每个小的棋盘上面放置一个礼物（礼物的价值大于0小于100），一个人初始位置在棋盘的左上角，每次他只能向下或向右移动一步，并拿走对应棋盘上的礼物，结束位置在棋盘的右下角。从棋盘的左上角移动到右下角的时候的，每次他只能向下或向右移动一步，并拿走对应棋盘上的礼物，但是拿到的所有的礼物的价值之和不大于一个限定值limit，请设计一个算法请实现，使其能够获得不超过限制值limit的最大价值的礼物。 
</dd>
</dl>
<dl>
<dt><strong>输入：</strong></dt>
<dd>输入包含多个测试用例，每个测试用例共有9行，第一行是一个限制值limit&lt;=1000，下面还有8行8列，第i行的第j列的数字代表了该处棋盘上的礼物的价值，每两个数之间用空格隔开。 
</dd>
</dl>
<dl>
<dt><strong>输出：</strong></dt>
<dd>对于每组测试用例，请输出你能够获得不超过限制值limit的最大价值的礼物。若没有符合条件的线路则输出-1。 
</dd>
</dl>
<dl>
<dt><strong>样例输入：</strong></dt>
<dd>
<pre>90
4 2 5 1 3 8 9 7
4 5 2 3 7 1 8 6
7 2 1 8 5 9 3 6
2 8 9 5 6 3 1 7
1 2 4 5 3 7 9 6
3 5 7 8 9 6 2 4
10 8 1 4 7 5 3 9
7 4 6 2 1 3 9 8</pre>
</dd>
</dl>
<dl>
<dt><strong>样例输出：</strong></dt>
<dd>
<pre>90</pre>
</dd>
</dl>
<p><strong>加了限制，这时只能考虑所有情况了。这里使用dfs求解，加上剪枝:</strong></p>
<p><strong>if (sum &gt; limit) return;</strong></p>
<pre class="brush:cpp">#include &lt;stdio.h&gt;
int map[8][8], i, j, ans, limit;
void f(int x, int y, int sum) {
	sum += map[x][y];
	if (sum &gt; limit)
		return;
	if (x == 7 &amp;&amp; y == 7 &amp;&amp; sum &gt; ans)
		ans = sum;
	if (x &lt; 7)
		f(x + 1, y, sum);
	if (y &lt; 7)
		f(x, y + 1, sum);
}

int main() {
	while(~scanf("%d",&amp;limit)) {
		ans = 0;
		for(i=0; i&lt;8; i++) {
			for(j=0; j&lt;8; j++) {
				scanf("%d",&amp;map[i][j]);
			}
		}
		f(0,0,0);
		if(ans &gt; 0)
		printf("%d\n",ans);
		else puts("-1");
	}
	return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-94888">
<article class="comment" id="comment-94888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94888" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94887">
<article class="comment" id="comment-94887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94887" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94886">
<article class="comment" id="comment-94886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94886" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94885">
<article class="comment" id="comment-94885">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94885" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94884">
<article class="comment" id="comment-94884">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94884" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94883">
<article class="comment" id="comment-94883">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94883" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94882">
<article class="comment" id="comment-94882">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94882" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94881">
<article class="comment" id="comment-94881">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519719" rel="external nofollow">新用户735357</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-94881" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者你从一开始就在挖坑为毛要有两个男主呢，到最后了到底是谁呢，是十月的话对不起喜欢琉星，是琉星吧对不起喜欢十月的，作者可是机智啊直接跳了过去让粉丝自己想出自己喜欢的结局谁都对得起，所以说作者真是太机智了。所以大家不要骂作者了，作者不是也承诺我们在单行本给</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10367">
<article class="comment" id="comment-10367">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10367" rel="nofollow"><time datetime="2015-07-06T00:45:03+00:00" pubdate="">2015年7月6日 at 上午12:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10369">
<article class="comment" id="comment-10369">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10369" rel="nofollow"><time datetime="2015-02-20T20:10:44+00:00" pubdate="">2015年2月20日 at 下午8:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>样例输出和程序输出不吻合，修改一下样例输出吧。我用的是VC编译器，会提示我的i和j变量重复定义</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39547">
<article class="comment" id="comment-39547">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-39547" rel="nofollow"><time datetime="2014-08-24T02:21:58+00:00" pubdate="">2014年8月24日 at 上午2:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10370">
<article class="comment" id="comment-10370">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10370" rel="nofollow"><time datetime="2014-07-05T13:01:18+00:00" pubdate="">2014年7月5日 at 下午1:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10366">
<article class="comment" id="comment-10366">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10366" rel="nofollow"><time datetime="2014-06-08T11:35:04+00:00" pubdate="">2014年6月8日 at 上午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10364">
<article class="comment" id="comment-10364">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10364" rel="nofollow"><time datetime="2014-05-13T14:02:16+00:00" pubdate="">2014年5月13日 at 下午2:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39546">
<article class="comment" id="comment-39546">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-39546" rel="nofollow"><time datetime="2014-05-10T06:33:04+00:00" pubdate="">2014年5月10日 at 上午6:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>97行缺一个分号</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10368">
<article class="comment" id="comment-10368">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10368" rel="nofollow"><time datetime="2014-04-21T05:52:36+00:00" pubdate="">2014年4月21日 at 上午5:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10371">
<article class="comment" id="comment-10371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10371" rel="nofollow"><time datetime="2014-03-01T14:17:35+00:00" pubdate="">2014年3月1日 at 下午2:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10365">
<article class="comment" id="comment-10365">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/blog-1243.html#comment-10365" rel="nofollow"><time datetime="2013-12-03T15:30:03+00:00" pubdate="">2013年12月3日 at 下午3:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>