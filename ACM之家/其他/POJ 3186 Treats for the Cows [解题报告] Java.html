<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3186 Treats for the Cows [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观992次</span><span class="i3"><a class="ds-thread-count" data-thread-key="987" href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comments" title="《POJ 3186 Treats for the Cows [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Treats for the Cows</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
FJ has purchased N (1 &lt;= N &lt;= 2000) yummy treats for the cows who get money for giving vast amounts of milk. FJ sells one treat per day and wants to maximize the money he receives over a given period time.
<p>The treats are interesting for many reasons:
</p><ul>
<li>The treats are numbered 1..N and stored sequentially in single file in a long box that is open at both ends. On any day, FJ can retrieve one treat from either end of his stash of treats.</li>
<li>Like fine wines and delicious cheeses, the treats improve with age and command greater prices.</li>
<li>The treats are not uniform: some are better and have higher intrinsic value. Treat i has value v(i) (1 &lt;= v(i) &lt;= 1000).</li>
<li>Cows pay more for treats that have aged longer: a cow will pay v(i)*a for a treat of age a.</li>
</ul>
<p>Given the values v(i) of each of the treats lined up in order of the index i in their box, what is the greatest value FJ can receive for them if he orders their sale optimally?</p>
<p>The first treat is sold on day 1 and has age a=1. Each subsequent day increases the age by 1. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Line 1: A single integer, N
<p>Lines 2..N+1: Line i+1 contains the value of treat v(i) </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Line 1: The maximum revenue FJ can achieve by selling the treats</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
1
3
1
5
2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
43</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
Explanation of the sample:
<p>Five treats. On the first day FJ can sell either treat #1 (value 1) or treat #5 (value 2).</p>
<p>FJ sells the treats (values 1, 3, 1, 5, 2) in the following order of indices: 1, 5, 2, 3, 4, making 1×1 + 2×2 + 3×3 + 4×1 + 5×5 = 43.</p></div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3186">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3186">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3186">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.*;
public class Main
{
 public static void main(String[] args) throws IOException
 {
	InputStreamReader is=new InputStreamReader(System.in);
	BufferedReader in=new BufferedReader(is);
	String s=in.readLine();
	int a=Integer.parseInt(s);
	int[] arr=new int[a];
	int[][] ds=new int[a][a];
	for(int i=0;i&lt; a;i++)
	{
		s=in.readLine();
		arr[i]=Integer.parseInt(s);
	}
	System.out.println(f(arr,0,a-1,ds));
	
   }

 public static int f(int[] arr,int l,int r,int[][] ds)
 {
	if(ds[l][r]!=0) return ds[l][r];
	int n=arr.length;
	if(l==r) return ds[l][l]=n*arr[l];
	int w=f(arr,l+1,r,ds)+(n-r+l)*arr[l];
	int o=f(arr,l,r-1,ds)+(n-r+l)*arr[r];
	ds[l][r]=Math.max(w, o);
	return ds[l][r];
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-9184">
<article class="comment" id="comment-9184">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9184" rel="nofollow"><time datetime="2015-06-16T22:42:27+00:00" pubdate="">2015年6月16日 at 下午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说一下tmp数组和solve都是干嘛的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9191">
<article class="comment" id="comment-9191">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9191" rel="nofollow"><time datetime="2015-06-01T04:02:13+00:00" pubdate="">2015年6月1日 at 上午4:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9187">
<article class="comment" id="comment-9187">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9187" rel="nofollow"><time datetime="2015-05-06T09:10:29+00:00" pubdate="">2015年5月6日 at 上午9:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9186">
<article class="comment" id="comment-9186">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9186" rel="nofollow"><time datetime="2015-04-23T22:43:11+00:00" pubdate="">2015年4月23日 at 下午10:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>a是根先忽略掉，递归子树。剩下前缀bejkcfghid和后缀jkebfghicd，分拆的原则的是每个子树前缀和后缀的节点个数是一样的，根节点出现在前缀的第一个，后缀的最后一个。根节点b出现后缀的第四个位置，则第一部分为四个节点，前缀bejk，后缀jkeb，剩下的c出现在后缀的倒数第2个，就划分为cfghi和 fghic，第3部分就为c、c</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61001">
<article class="comment" id="comment-61001">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-61001" rel="nofollow"><time datetime="2015-04-13T06:57:34+00:00" pubdate="">2015年4月13日 at 上午6:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9188">
<article class="comment" id="comment-9188">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xy7850151</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9188" rel="nofollow"><time datetime="2015-03-08T00:25:36+00:00" pubdate="">2015年3月8日 at 上午12:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;stdio.h&gt;<br/>
int main(void)<br/>
{<br/>
int arr[] = {10,20,30,40,50,60};<br/>
int *p=arr;<br/>
printf("%d,%d,",*p++,*++p);<br/>
printf("%d,%d,%d",*p,*p++,*++p);<br/>
return 0;<br/>
}</p>
<p>为什么是 20,20,50,40,50. 我觉得的应该是 20,20,40,40,50 . 谁能解释下？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9183">
<article class="comment" id="comment-9183">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Yaunxi</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9183" rel="nofollow"><time datetime="2015-02-15T20:46:44+00:00" pubdate="">2015年2月15日 at 下午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9182">
<article class="comment" id="comment-9182">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9182" rel="nofollow"><time datetime="2015-01-21T17:31:36+00:00" pubdate="">2015年1月21日 at 下午5:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的很好~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9185">
<article class="comment" id="comment-9185">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9185" rel="nofollow"><time datetime="2014-12-21T17:19:35+00:00" pubdate="">2014年12月21日 at 下午5:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9190">
<article class="comment" id="comment-9190">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9190" rel="nofollow"><time datetime="2014-11-08T18:08:41+00:00" pubdate="">2014年11月8日 at 下午6:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>补充：此算法求出的不一定是最优解，之前理解错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9189">
<article class="comment" id="comment-9189">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa_zmt</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9189" rel="nofollow"><time datetime="2014-10-15T22:08:13+00:00" pubdate="">2014年10月15日 at 下午10:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38900">
<article class="comment" id="comment-38900">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-38900" rel="nofollow"><time datetime="2014-05-22T07:43:23+00:00" pubdate="">2014年5月22日 at 上午7:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9181">
<article class="comment" id="comment-9181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-9181" rel="nofollow"><time datetime="2014-01-14T06:21:34+00:00" pubdate="">2014年1月14日 at 上午6:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>以了解 想問為甚麼 Tbl[6001] = {1} 初始化都是1<br/>
為何不是Tbl[0]=1 其他為0</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61002">
<article class="comment" id="comment-61002">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-3186-Treats-for-the-Cows-blog-987.html#comment-61002" rel="nofollow"><time datetime="2013-12-13T15:35:59+00:00" pubdate="">2013年12月13日 at 下午3:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>