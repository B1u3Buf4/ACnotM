<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2704 Pascal’s Travels [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观465次</span><span class="i3"><a class="ds-thread-count" data-thread-key="848" href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comments" title="《POJ 2704 Pascal’s Travels [解题报告] Java》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Pascal’s Travels</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
An n x n game board is populated with integers, one nonnegative integer per square. The goal is to travel along any legitimate path from the upper left corner to the lower right corner of the board. The integer in any one square dictates how large a step away from that location must be. If the step size would advance travel off the game board, then a step in that particular direction is forbidden. All steps must be either to the right or toward the bottom. Note that a 0 is a dead end which prevents any further progress.
<p>Consider the 4 x 4 board shown in Figure 1, where the solid circle identifies the start position and the dashed circle identifies the target. Figure 2 shows the three paths from the start to the target, with the irrelevant numbers in each removed.<br/>
<br/>
</p><table border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><img src="http://cdn.acmerblog.com/img/poj/2704-12.jpg"/></td>
<td><img src="http://cdn.acmerblog.com/img/poj/2704-15.jpg"/></td>
</tr>
<tr>
<td>Figure 1</td>
<td>Figure 2</td>
</tr>
</tbody>
</table></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains data for one to thirty boards, followed by a final line containing only the integer -1. The data for a board starts with a line containing a single positive integer n, 4 &lt;= n &lt;= 34, which is the number of rows in this board. This is followed by n rows of data. Each row contains n single digits, 0-9, with no spaces between them.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output consists of one line for each board, containing a single integer, which is the number of paths from the upper left corner to the lower right corner. There will be fewer than 2<sup>63</sup> paths for any board.<br/>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
2331
1213
1231
3110
4
3332
1213
1232
2120
5
11101
01111
11111
11101
11101
-1
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
0
7</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
Brute force methods examining every path will likely exceed the allotted time limit. 64-bit integer values are available as long values in Java or long long values using the contest’s C/C++ compilers. </div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2704">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2704">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2704">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.*;
public class Main
{
 static int[][] p;
 static int a;
 static long[][] w;
 public static void main(String[] args) throws IOException
 {
  InputStreamReader is=new InputStreamReader(System.in);
  BufferedReader in=new BufferedReader(is);
  while(true)
  {
    a=Integer.parseInt(in.readLine());
    if(a==-1) break;
    p=new int[a][a];
    w=new long[a][a];
    w[0][0]=1;
    for(int i=0;i&lt; a; i++)
    {
	for(int j=0;j&lt; a; j++)
		p[i][j]=in.read()-'0';
	in.readLine();
    }
    for(int j=0;j&lt; a;j++)
	if(p[0][j]+j&lt; a) w[0][p[0][j]+j]+=w[0][j];
    for(int i=1;i&lt; a;i++)
    {
	for(int j=0;j&lt; a;j++)
		if(p[i-1][j]+i-1&lt; a) w[p[i-1][j]+i-1][j]+=w[i-1][j];
	for(int j=0;j&lt; a-1;j++)
		if(p[i][j]+j&lt; a) w[i][p[i][j]+j]+=w[i][j];	
     }
     System.out.println(w[a-1][a-1]);
   }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-53470">
<article class="comment" id="comment-53470">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-53470" rel="nofollow"><time datetime="2015-05-04T14:05:22+00:00" pubdate="">2015年5月4日 at 下午2:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8257">
<article class="comment" id="comment-8257">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CHEATBEATER</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8257" rel="nofollow"><time datetime="2014-12-06T18:13:40+00:00" pubdate="">2014年12月6日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看见的晚了，只能提交一次唉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8261">
<article class="comment" id="comment-8261">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8261" rel="nofollow"><time datetime="2014-07-03T22:20:36+00:00" pubdate="">2014年7月3日 at 下午10:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码可真够长的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8255">
<article class="comment" id="comment-8255">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8255" rel="nofollow"><time datetime="2014-06-22T07:24:16+00:00" pubdate="">2014年6月22日 at 上午7:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8256">
<article class="comment" id="comment-8256">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8256" rel="nofollow"><time datetime="2014-05-03T15:22:26+00:00" pubdate="">2014年5月3日 at 下午3:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8259">
<article class="comment" id="comment-8259">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8259" rel="nofollow"><time datetime="2014-05-02T04:15:47+00:00" pubdate="">2014年5月2日 at 上午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38451">
<article class="comment" id="comment-38451">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-38451" rel="nofollow"><time datetime="2014-01-21T01:13:22+00:00" pubdate="">2014年1月21日 at 上午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8258">
<article class="comment" id="comment-8258">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8258" rel="nofollow"><time datetime="2014-01-21T00:45:53+00:00" pubdate="">2014年1月21日 at 上午12:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好厉害～</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8254">
<article class="comment" id="comment-8254">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8254" rel="nofollow"><time datetime="2013-11-25T11:34:14+00:00" pubdate="">2013年11月25日 at 上午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么鬼，怎么多头文件</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8260">
<article class="comment" id="comment-8260">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-2704-Pascal%27s-Travels-blog-848.html#comment-8260" rel="nofollow"><time datetime="2013-11-22T10:43:55+00:00" pubdate="">2013年11月22日 at 上午10:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没敢用map，总怕stl用着会超时</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>