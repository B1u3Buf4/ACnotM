<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>07-23</div>
<div class="tit"><h1 class="entry-title">包含min函数的栈-剑指offer</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观930次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5990" href="http://www.acmerblog.com/stack-with-min-5990.html#comments" title="《包含min函数的栈-剑指offer》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目：定义栈的数据结构，要求添加一个min函数，能够得到栈的最小元素。要求函数min、push以及pop的时间复杂度都是O(1)。</p>
<p>分析：google的一道面试题。我看到这道题目时，第一反应就是每次push一个新元素时，将栈里所有逆序元素排序。这样栈顶元素将是最小元素。但由于不能保证最后push进栈的元素最先出栈，这种思路设计的数据结构已经不是一个栈了。</p>
<p>在栈里添加一个成员变量存放最小元素（或最小元素的位置）。每次push一个新元素进栈的时候，如果该元素比当前的最小元素还要小，则更新最小元素。</p>
<p>乍一看这样思路挺好的。但仔细一想，该思路存在一个重要的问题：如果当前最小元素被pop出去，如何才能得到下一个最小元素？</p>
<p>注意读题：对空间复杂的没有特别的要求，完全可以借助<strong>辅助空间</strong>！</p>
<p>因此仅仅只添加一个成员变量存放最小元素（或最小元素的位置）是不够的。我们需要一个辅助栈。每次push一个新元素的时候，同时将最小元素（或最小元素的位置。考虑到栈元素的类型可能是复杂的数据结构，用最小元素的位置将能减少空间消耗）push到辅助栈中；每次pop一个元素出栈的时候，同时pop辅助栈。</p>
<p>Java代码如下：</p>
<pre class="brush:cpp">public class MinStack&lt;T&gt; {
	private Stack&lt;T&gt; data;
	private Stack&lt;T&gt; minStack;

	public MinStack(){
		data = new Stack();
		minStack = new Stack();
	}

	public T min(){
		return minStack.peek();
	}

	public T pop(){
		minStack.pop();
		return data.pop();
	}

	public void push(T t){
		if(data.size() == 0 ){
			minStack.push(t);
		}else{
			T minValue = min();
			if(( (Comparable) t ).compareTo( minValue ) &lt; 0)
				minStack.push(t);
			else
				minStack.push(minValue);
		}
		data.push(t);
	}

	public static void main(String[] args) {
		MinStack&lt;Integer&gt; ms = new MinStack&lt;Integer&gt;();
		ms.push(4);;
		ms.push(3);
		ms.push(2);
		ms.push(5);
		ms.push(1); 
		System.out.println("min:" + ms.min() + "  pop:" +ms.pop() );
		System.out.println("min:" + ms.min() + "  pop:" +ms.pop() );		
		System.out.println("min:" + ms.min() + "  pop:" +ms.pop() );		
		System.out.println("min:" + ms.min() + "  pop:" +ms.pop() );

	}
}</pre>
<p>参考：http://zhedahht.blog.163.com/blog/static/25411174200712895228171/</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75142">
<article class="comment" id="comment-75142">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75142" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75141">
<article class="comment" id="comment-75141">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75141" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75140">
<article class="comment" id="comment-75140">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75140" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75139">
<article class="comment" id="comment-75139">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75139" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75138">
<article class="comment" id="comment-75138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75138" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75137">
<article class="comment" id="comment-75137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75137" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75136">
<article class="comment" id="comment-75136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75136" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75135">
<article class="comment" id="comment-75135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522625" rel="external nofollow">新用户448566</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-75135" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30598">
<article class="comment" id="comment-30598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30598" rel="nofollow"><time datetime="2015-07-02T06:04:30+00:00" pubdate="">2015年7月2日 at 上午6:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30607">
<article class="comment" id="comment-30607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30607" rel="nofollow"><time datetime="2015-05-15T15:00:01+00:00" pubdate="">2015年5月15日 at 下午3:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30602">
<article class="comment" id="comment-30602">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30602" rel="nofollow"><time datetime="2015-05-07T00:34:40+00:00" pubdate="">2015年5月7日 at 上午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30597">
<article class="comment" id="comment-30597">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30597" rel="nofollow"><time datetime="2015-04-22T12:59:29+00:00" pubdate="">2015年4月22日 at 下午12:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30600">
<article class="comment" id="comment-30600">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30600" rel="nofollow"><time datetime="2015-04-16T19:24:56+00:00" pubdate="">2015年4月16日 at 下午7:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题本身没错，但是HDOJ放题目的时候，前面有个题目解释了什么是XXX定律。<br/>
这里直接放了这个题目，肯定没几个人明白是干啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2998">
<article class="comment" id="comment-2998">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">HaagenDaz</span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-2998" rel="nofollow"><time datetime="2015-03-19T17:14:43+00:00" pubdate="">2015年3月19日 at 下午5:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>27行 minStack.push(minValue); 去掉就对了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30595">
<article class="comment" id="comment-30595">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30595" rel="nofollow"><time datetime="2015-02-28T07:08:01+00:00" pubdate="">2015年2月28日 at 上午7:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30603">
<article class="comment" id="comment-30603">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30603" rel="nofollow"><time datetime="2015-02-04T19:49:53+00:00" pubdate="">2015年2月4日 at 下午7:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第36行，struct node **head_ref，怎么理解，那个函数感觉不是很懂啊！？？弱渣求助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30596">
<article class="comment" id="comment-30596">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30596" rel="nofollow"><time datetime="2015-02-01T10:00:18+00:00" pubdate="">2015年2月1日 at 上午10:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30604">
<article class="comment" id="comment-30604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30604" rel="nofollow"><time datetime="2014-12-07T06:53:16+00:00" pubdate="">2014年12月7日 at 上午6:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30599">
<article class="comment" id="comment-30599">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30599" rel="nofollow"><time datetime="2014-10-30T19:32:35+00:00" pubdate="">2014年10月30日 at 下午7:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30606">
<article class="comment" id="comment-30606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30606" rel="nofollow"><time datetime="2014-10-28T18:00:50+00:00" pubdate="">2014年10月28日 at 下午6:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30601">
<article class="comment" id="comment-30601">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30601" rel="nofollow"><time datetime="2014-08-10T09:36:09+00:00" pubdate="">2014年8月10日 at 上午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30605">
<article class="comment" id="comment-30605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/stack-with-min-5990.html#comment-30605" rel="nofollow"><time datetime="2014-08-06T01:19:08+00:00" pubdate="">2014年8月6日 at 上午1:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>