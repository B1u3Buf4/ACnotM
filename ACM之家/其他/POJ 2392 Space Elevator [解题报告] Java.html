<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2392 Space Elevator [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a></span><span class="i4">围观851次</span><span class="i3"><a class="ds-thread-count" data-thread-key="716" href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comments" title="《POJ 2392 Space Elevator [解题报告] Java》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Space Elevator</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The cows are going to space!  They plan to achieve orbit by building a sort of space elevator: a giant tower of blocks.  They have K (1 &lt;= K &lt;= 400) different types of blocks with which to build the tower.  Each block of type i has height h_i (1 &lt;= h_i &lt;= 100) and is available in quantity c_i (1 &lt;= c_i &lt;= 10).  Due to possible damage caused by cosmic rays, no part of a block of type i can exceed a maximum altitude a_i (1 &lt;= a_i &lt;= 40000).
<p>Help the cows build the tallest space elevator possible by stacking blocks on top of each other according to the rules. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
* Line 1: A single integer, K
<p>* Lines 2..K+1: Each line contains three space-separated integers: h_i, a_i, and c_i. Line i+1 describes block type i. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
* Line 1: A single integer H, the maximum height of a tower that can be built</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
7 40 3
5 23 8
2 52 6</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
48</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
OUTPUT DETAILS:
<p>From the bottom: 3 blocks of type 2, below 3 of type 1, below 6 of type 3.  Stacking 4 blocks of type 2 and 3 of type 1 is not legal, since the top of the last type 1 block would exceed height 40.</p></div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2392">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2392">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2392">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 
import java.util.Scanner;
import java.util.Arrays;
public class Main{
  private int k;
  private Block block[];
  private boolean access[]=new boolean[400001];

   public Main(int k,Block block[]){
    this.k=k;
    this.block=block;
  }

  private int doIt(){
   int maxs=0;
   access[0]=true;
   Arrays.sort(block);
   for(int i=0;i&lt; k;i++)
    {
       int t=0;
       int tmp=maxs;
       for(int j=maxs;j&gt;=t;j--)
       {
          if(access[j])
           for(int h=1;h&lt;=block[i].c;h++)
           {
                  int x=h*block[i].h+j;
                  if(x&gt;block[i].a) break;
                  if(tmp&lt; x) tmp=x;
                  access[x]=true;        
           }      
       }
       maxs=tmp;
    }
    return maxs;
   }

   public static void main(String args[]){
     Scanner sc=new Scanner(System.in);
     int k=sc.nextInt();
     Block b[]=new Block[k];
     for(int i=0;i&lt; k;i++){
       b[i]=new Block();
       b[i].h=sc.nextInt();
       b[i].a=sc.nextInt();
       b[i].c=sc.nextInt();
     }
     Main m=new Main(k,b);
     System.out.println(m.doIt());
   }
}

class Block implements Comparable{//石头类型
  int h;//石头的高度
  int a;//最大建造高度
  int c;//这种石头的数量

  public Block(){
    h=0;
    a=0;
    c=0;
  }

  public Block(int h,int a,int c){
     this.h=h;
     this.a=a;
     this.c=c;
  }

   public int compareTo(Object o){ 
        Block bl = (Block)o; 
        return (int)(this.a - bl.a); 
    } 

   
 public String toString(){ 
        return "( "+ h +"-"+ a +"-"+c +" )"; 
    } 
 }</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37971">
<article class="comment" id="comment-37971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37971" rel="nofollow"><time datetime="2015-06-09T10:37:04+00:00" pubdate="">2015年6月9日 at 上午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37972">
<article class="comment" id="comment-37972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37972" rel="nofollow"><time datetime="2015-05-31T23:57:18+00:00" pubdate="">2015年5月31日 at 下午11:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37970">
<article class="comment" id="comment-37970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37970" rel="nofollow"><time datetime="2015-05-24T07:12:12+00:00" pubdate="">2015年5月24日 at 上午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37977">
<article class="comment" id="comment-37977">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37977" rel="nofollow"><time datetime="2014-10-02T00:29:34+00:00" pubdate="">2014年10月2日 at 上午12:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37973">
<article class="comment" id="comment-37973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37973" rel="nofollow"><time datetime="2014-08-18T08:07:15+00:00" pubdate="">2014年8月18日 at 上午8:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37976">
<article class="comment" id="comment-37976">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37976" rel="nofollow"><time datetime="2014-07-01T14:07:20+00:00" pubdate="">2014年7月1日 at 下午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A的话不是不能避免冲突么？感觉出题者在考察是否考虑了冲突解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37969">
<article class="comment" id="comment-37969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37969" rel="nofollow"><time datetime="2014-06-27T04:21:21+00:00" pubdate="">2014年6月27日 at 上午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不对，仔细对比一下输入输出， 怎么会有‘‘printf("The winning moves are:");’’这种输出呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37975">
<article class="comment" id="comment-37975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">radish</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37975" rel="nofollow"><time datetime="2014-06-10T11:40:24+00:00" pubdate="">2014年6月10日 at 上午11:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37978">
<article class="comment" id="comment-37978">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37978" rel="nofollow"><time datetime="2014-06-06T09:54:24+00:00" pubdate="">2014年6月6日 at 上午9:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>老实说，这种方法就是穷举，复杂度是2^n，之所以能够AC是应为题目的测试数据有问题，要么数据量很小，要么能够得到k == t，否则即使n = 30，也要很久才能得出结果，本人亲测</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37968">
<article class="comment" id="comment-37968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37968" rel="nofollow"><time datetime="2014-04-22T05:40:24+00:00" pubdate="">2014年4月22日 at 上午5:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37974">
<article class="comment" id="comment-37974">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/POJ-2392-Space-Elevator-blog-716.html#comment-37974" rel="nofollow"><time datetime="2014-04-06T21:43:54+00:00" pubdate="">2014年4月6日 at 下午9:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>