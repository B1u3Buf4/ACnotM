<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2645 Boastin’ Red Socks [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观391次</span><span class="i3"><a class="ds-thread-count" data-thread-key="828" href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comments" title="《POJ 2645 Boastin’ Red Socks [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Boastin’ Red Socks</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
You have a drawer that is full of two kinds of socks: red and black. You know that there are at least 2 socks, and not more than 50000. However, you do not know how many there actually are, nor do you know how many are red, or how many are black. (Your mother does the laundry!)<br/>
<br/>You have noticed, though, that when you reach into the drawer each morning and choose two socks to wear (in pitch darkness, so you cannot distinguish red from black), the probability that you pick two red socks is exactly p/q, where 0 &lt; q and 0 &lt;= p &lt;= q. 
<p>From this, can you determine how many socks of each colour are in your drawer? There may be multiple solutions – if so, pick the solution with the fewest total number of socks. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input consists of multiple problems, each on a separate line. Each problem consists of the integers p and q separated by a single space. Note that p and q will both fit into an unsigned long integer.<br/>
<br/>Input is terminated by a line consisting of two zeroes.<br/>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each problem, output a single line consisting of the number of red socks and the number of black socks in your drawer, separated by one space. If there is no solution to the problem, print “impossible”. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 2
6 8
12 2499550020
56 789
0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3 1
7 1
4 49992
impossible
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2645">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2645">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2645">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author:
import java.util.*;
import java.io.*;
import java.lang.reflect.Array;

public class Main {
  static public void main( String [] string ) throws Exception{
   Scanner cin = new Scanner( System.in );
   long p, q;
   while( true ) {
    p = cin.nextLong();
    q = cin.nextLong();
    if( p == 0 &amp;&amp; q == 0 )
	break;
    if( p == 0 ) {
	System.out.println( "0 2" );
	continue;
    }
    long s, i, j, sum=2;
    boolean key = false;
    for( i=1; i&lt;=50000 &amp;&amp; !key; i++ ) {
	if( sum*q%p == 0 ){
	  s = sum*q/p;
	  j = (long)Math.sqrt( s );
	  if( j+1 &gt; 50000 )
	    break;
	  if( j*(j+1) == s ) {
	    System.out.println( (i+1) + " " + (j-i) );
	    key = true;
	    break;
	   }
	}
	sum += 2*i+2;
     }
     if( !key )
	System.out.println( "impossible" );
    }
    return;
   }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-8134">
<article class="comment" id="comment-8134">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8134" rel="nofollow"><time datetime="2015-05-11T06:49:33+00:00" pubdate="">2015年5月11日 at 上午6:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然看懂了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38339">
<article class="comment" id="comment-38339">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38339" rel="nofollow"><time datetime="2015-04-23T17:29:39+00:00" pubdate="">2015年4月23日 at 下午5:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8132">
<article class="comment" id="comment-8132">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8132" rel="nofollow"><time datetime="2015-02-25T02:57:53+00:00" pubdate="">2015年2月25日 at 上午2:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8137">
<article class="comment" id="comment-8137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8137" rel="nofollow"><time datetime="2015-02-18T01:39:09+00:00" pubdate="">2015年2月18日 at 上午1:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38340">
<article class="comment" id="comment-38340">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38340" rel="nofollow"><time datetime="2015-01-12T11:43:18+00:00" pubdate="">2015年1月12日 at 上午11:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8138">
<article class="comment" id="comment-8138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8138" rel="nofollow"><time datetime="2015-01-12T04:06:29+00:00" pubdate="">2015年1月12日 at 上午4:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害，支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38336">
<article class="comment" id="comment-38336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38336" rel="nofollow"><time datetime="2015-01-11T07:15:30+00:00" pubdate="">2015年1月11日 at 上午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38334">
<article class="comment" id="comment-38334">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38334" rel="nofollow"><time datetime="2014-12-10T20:34:19+00:00" pubdate="">2014年12月10日 at 下午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38335">
<article class="comment" id="comment-38335">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38335" rel="nofollow"><time datetime="2014-10-27T20:49:13+00:00" pubdate="">2014年10月27日 at 下午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说的就是无向图啊，有向图的算法也是类似的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38338">
<article class="comment" id="comment-38338">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38338" rel="nofollow"><time datetime="2014-08-11T01:35:50+00:00" pubdate="">2014年8月11日 at 上午1:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8133">
<article class="comment" id="comment-8133">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8133" rel="nofollow"><time datetime="2014-05-20T22:43:41+00:00" pubdate="">2014年5月20日 at 下午10:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38337">
<article class="comment" id="comment-38337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-38337" rel="nofollow"><time datetime="2014-02-07T23:26:21+00:00" pubdate="">2014年2月7日 at 下午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8135">
<article class="comment" id="comment-8135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1832044043</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8135" rel="nofollow"><time datetime="2014-01-02T05:27:05+00:00" pubdate="">2014年1月2日 at 上午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>文章写得挺好，就是最后的斐波那契那个没有看明白</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8136">
<article class="comment" id="comment-8136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/POJ-2645-Boastin%27-Red-Socks-blog-828.html#comment-8136" rel="nofollow"><time datetime="2013-11-30T05:23:11+00:00" pubdate="">2013年11月30日 at 上午5:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>6题应该就是算概率的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>