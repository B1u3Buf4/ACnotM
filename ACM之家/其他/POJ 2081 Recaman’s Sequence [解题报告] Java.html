<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 2081 Recaman’s Sequence [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/hash" rel="category tag" title="查看Hash表中的全部文章">Hash表</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观952次</span><span class="i3"><a class="ds-thread-count" data-thread-key="606" href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comments" title="《POJ 2081 Recaman’s Sequence [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Recaman’s Sequence</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The Recaman’s sequence is defined by a0 = 0 ; for m &gt; 0, a<sub>m</sub> = a<sub>m−1</sub> − m if the rsulting a<sub>m</sub> is positive and not already in the sequence, otherwise a<sub>m</sub> = a<sub>m−1</sub> + m.<br/>
<br/>The first few numbers in the Recaman’s Sequence is 0, 1, 3, 6, 2, 7, 13, 20, 12, 21, 11, 22, 10, 23, 9 …<br/>
<br/>Given k, your task is to calculate a<sub>k</sub>. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. Each line of the input contains an integer k where 0 &lt;= k &lt;= 500000.<br/>
<br/>The last line contains an integer −1, which should not be processed. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each k given in the input, print one line containing a<sub>k</sub> to the output.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
7
10000
-1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
20
18658</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2081">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2081">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2081">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">(1)
import java.util.Scanner;
import java.util.HashMap;
import java.util.StringTokenizer;
public class Main{
    public static void main(String args[]) throws Exception {
        int a[]=new int[500001];
        a[0]=0;
        HashMap&lt; Integer,Boolean&gt; ha=new HashMap&lt; Integer,Boolean&gt;();
        Scanner in=new Scanner(System.in);
       for(int i=1;i&lt;=500000;i++){
        if(a[i-1]-i&gt;0&amp;&amp;ha.get(a[i-1]-i)==null){
             a[i] = a[i-1]-i;
             ha.put(a[i],true);
         }else{
             a[i] = a[i-1]+i;
             ha.put(a[i],true);
          }
     }
      
     
   
        String input = new String();
        while(!(input=in.nextLine()).equals("-1")) {
          int n = Integer.parseInt(input);
          System.out.println(a[n]);
        }
      }
 
}
(2)

import java.util.Scanner;
public class Main{
    public static void main(String args[]) throws Exception {
        int a[]=new int[500001];
        a[0]=0;
        boolean flag[] =new boolean[3012501];
        Scanner sc=new Scanner(System.in);
        int n=0;
       for(int i=1;i&lt;=500000;i++){
        if(a[i-1]-i&gt;0&amp;&amp;flag[a[i-1]-i]==false){
             a[i] = a[i-1]-i;
             flag[a[i-1]-i] = true;
         }else{
             a[i] = a[i-1]+i;
             flag[a[i-1]+i] = true;
          }
     }
          
      while((n=sc.nextInt())!=-1){
         System.out.println(a[n]);
         
      }
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37579">
<article class="comment" id="comment-37579">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37579" rel="nofollow"><time datetime="2015-07-02T08:05:22+00:00" pubdate="">2015年7月2日 at 上午8:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为要修改链表头(指针)，所以要用指针的指针</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37578">
<article class="comment" id="comment-37578">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37578" rel="nofollow"><time datetime="2015-05-29T18:18:40+00:00" pubdate="">2015年5月29日 at 下午6:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还有个解释：没说桌子有多大，可以假设桌子和硬币一样大，肯定是先手胜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37576">
<article class="comment" id="comment-37576">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37576" rel="nofollow"><time datetime="2015-05-26T14:00:27+00:00" pubdate="">2015年5月26日 at 下午2:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37581">
<article class="comment" id="comment-37581">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37581" rel="nofollow"><time datetime="2015-05-01T10:35:18+00:00" pubdate="">2015年5月1日 at 上午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37575">
<article class="comment" id="comment-37575">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37575" rel="nofollow"><time datetime="2015-02-19T16:02:45+00:00" pubdate="">2015年2月19日 at 下午4:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37573">
<article class="comment" id="comment-37573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37573" rel="nofollow"><time datetime="2015-01-08T19:29:02+00:00" pubdate="">2015年1月8日 at 下午7:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37582">
<article class="comment" id="comment-37582">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vincent_ynh</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37582" rel="nofollow"><time datetime="2014-11-01T12:37:15+00:00" pubdate="">2014年11月1日 at 下午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>打字员路过。。。。。。算法是啥。。。能干嘛。。。。。。。。能吃么。。哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37580">
<article class="comment" id="comment-37580">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37580" rel="nofollow"><time datetime="2014-08-03T01:19:06+00:00" pubdate="">2014年8月3日 at 上午1:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60685">
<article class="comment" id="comment-60685">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-60685" rel="nofollow"><time datetime="2014-05-02T18:25:23+00:00" pubdate="">2014年5月2日 at 下午6:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60684">
<article class="comment" id="comment-60684">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-60684" rel="nofollow"><time datetime="2014-01-22T14:31:20+00:00" pubdate="">2014年1月22日 at 下午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37577">
<article class="comment" id="comment-37577">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37577" rel="nofollow"><time datetime="2013-12-31T02:46:07+00:00" pubdate="">2013年12月31日 at 上午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环，比如<br/>
0 0 0 0 0<br/>
1 1 1 1 0<br/>
1 0 0 0 0<br/>
1 0 1 0 1<br/>
1 0 0 0 0<br/>
会陷入死循环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37574">
<article class="comment" id="comment-37574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tonight</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37574" rel="nofollow"><time datetime="2013-12-08T12:04:56+00:00" pubdate="">2013年12月8日 at 下午12:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37583">
<article class="comment" id="comment-37583">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-37583" rel="nofollow"><time datetime="2013-11-28T16:19:40+00:00" pubdate="">2013年11月28日 at 下午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好厉害～</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60683">
<article class="comment" id="comment-60683">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1832044043</a></span> on <a href="http://www.acmerblog.com/POJ-2081-Recaman%27s-Sequence-blog-606.html#comment-60683" rel="nofollow"><time datetime="2013-11-23T08:08:17+00:00" pubdate="">2013年11月23日 at 上午8:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>