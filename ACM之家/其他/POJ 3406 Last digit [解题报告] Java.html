<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3406 Last digit [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1079次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1046" href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comments" title="《POJ 3406 Last digit [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Last digit</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<p>Determine the last nonzero digit in value of expression</p>
<div align="center"><img align="absmiddle" src="http://cdn.acmerblog.com/img/poj/3406-4.png"/>.</div>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<p>The input contains a single line with <i>n</i> and <i>m</i> separated by one or several spaces; <i>n</i>, <i>m</i> are natural numbers from 1 to 1000000, <i>n</i> ≥ <i>m</i>.</p>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<p>The output contains a single line with the last nonzero digit.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
6</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3406">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3406">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3406">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.util.Scanner;
public class Main
{
 public static void main(String[] args)
 {
   Scanner in=new Scanner(System.in);
   int[] b2=new int[]{6,2,4,8};
   int[] b3=new int[]{1,3,9,7};
   int[] b7=new int[]{1,7,9,3};
   int[] b9=new int[]{1,9,1,9};
   int n=in.nextInt();
   int m=in.nextInt();
   int w=n-m;
   int e,a2=0,a3=0,a5=0,a7=0,a9=0;
   e=n;while((e=e/2)!=0) a2+=e;
   e=m;while((e=e/2)!=0) a2-=e;
   e=w;while((e=e/2)!=0) a2-=e;
   e=n;while((e=e/5)!=0) a5+=e;
   e=m;while((e=e/5)!=0) a5-=e;
   e=w;while((e=e/5)!=0) a5-=e;
   a3=f(n,3)-f(m,3)-f(w,3);
   a7=f(n,7)-f(m,7)-f(w,7);
   a9=f(n,9)-f(m,9)-f(w,9);
   int ans=1;
   if(a5&gt;a2) System.out.println(5);
   else{
	a2-=a5;
	if(a2!=0){
         a2=a2%4;
	  ans*=b2[a2];
	  ans=ans%10;
	}
	ans*=b3[(a3%4+4)%4];
	ans=ans%10;
	ans*=b7[(a7%4+4)%4];
	ans=ans%10;
	ans*=b9[(a9%4+4)%4];
	ans=ans%10;
	System.out.println(ans);
    }
  }

  public static int f(int n,int a)
  {
	if(n==0) return 0;
	else return f(n/2,a)+g(n,a);
   }

  public static int g(int n,int a)
  {
	if(n==0)return 0;
	else if(n%10&lt; a)return n/10+g(n/5,a);
	else return n/10+1+g(n/5,a);
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-9563">
<article class="comment" id="comment-9563">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9563" rel="nofollow"><time datetime="2015-07-05T00:05:13+00:00" pubdate="">2015年7月5日 at 上午12:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9564">
<article class="comment" id="comment-9564">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9564" rel="nofollow"><time datetime="2015-05-31T09:35:42+00:00" pubdate="">2015年5月31日 at 上午9:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9575">
<article class="comment" id="comment-9575">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9575" rel="nofollow"><time datetime="2015-04-28T16:19:24+00:00" pubdate="">2015年4月28日 at 下午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9574">
<article class="comment" id="comment-9574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9574" rel="nofollow"><time datetime="2015-04-26T20:35:07+00:00" pubdate="">2015年4月26日 at 下午8:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61053">
<article class="comment" id="comment-61053">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-61053" rel="nofollow"><time datetime="2015-02-21T13:05:35+00:00" pubdate="">2015年2月21日 at 下午1:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9565">
<article class="comment" id="comment-9565">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9565" rel="nofollow"><time datetime="2015-01-04T05:12:41+00:00" pubdate="">2015年1月4日 at 上午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9566">
<article class="comment" id="comment-9566">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9566" rel="nofollow"><time datetime="2014-06-25T22:53:08+00:00" pubdate="">2014年6月25日 at 下午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9570">
<article class="comment" id="comment-9570">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9570" rel="nofollow"><time datetime="2014-03-20T06:54:32+00:00" pubdate="">2014年3月20日 at 上午6:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目重复了，删掉一个吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9572">
<article class="comment" id="comment-9572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9572" rel="nofollow"><time datetime="2014-03-06T10:22:07+00:00" pubdate="">2014年3月6日 at 上午10:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9569">
<article class="comment" id="comment-9569">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">haojunyu</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9569" rel="nofollow"><time datetime="2014-02-13T08:52:46+00:00" pubdate="">2014年2月13日 at 上午8:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9573">
<article class="comment" id="comment-9573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ktcer</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9573" rel="nofollow"><time datetime="2014-02-04T19:04:15+00:00" pubdate="">2014年2月4日 at 下午7:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++语言的代码？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9571">
<article class="comment" id="comment-9571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9571" rel="nofollow"><time datetime="2013-12-12T19:21:13+00:00" pubdate="">2013年12月12日 at 下午7:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有限自动机在ACM中是必须掌握的算法，实际上在面试当中几乎不可能让你单独的去实现这个算法，如果有题目要用到有限自动机来降低时间复杂度，那么这种面试题应该属于很难的级别了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9567">
<article class="comment" id="comment-9567">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9567" rel="nofollow"><time datetime="2013-12-01T01:17:34+00:00" pubdate="">2013年12月1日 at 上午1:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9568">
<article class="comment" id="comment-9568">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-3406-Last-digit-blog-1046.html#comment-9568" rel="nofollow"><time datetime="2013-11-17T02:46:05+00:00" pubdate="">2013年11月17日 at 上午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>