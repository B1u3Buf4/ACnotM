<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2406 Power Strings [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/basis/string" rel="category tag" title="查看字符串处理中的全部文章">字符串处理</a></span><span class="i4">围观1340次</span><span class="i3"><a class="ds-thread-count" data-thread-key="723" href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comments" title="《POJ 2406 Power Strings [解题报告] Java》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Power Strings</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given two strings a and b we define a*b to be their concatenation. For example, if a = “abc” and b = “def” then a*b = “abcdef”. If we think of concatenation as multiplication, exponentiation by a non-negative integer is defined in the normal way: a^0 = “” (the empty string) and a^(n+1) = a*(a^n). </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each test case is a line of input representing s, a string of printable characters. The length of s will be at least 1 and will not exceed 1 million characters. A line containing a period follows the last test case. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each s you should print the largest n such that s = a^n for some string a. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
abcd
aaaa
ababab
.
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
4
3
</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
This problem has huge input, use scanf instead of cin to avoid time limit exceed.</div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2406">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2406">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2406">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">import java.util.Scanner;   
public class Main {   
    public static void main(String[] args) {   
        Scanner scn = new Scanner(System.in);         
        String input = "";   
        while(scn.hasNext()){   
            input = scn.next(); 
             if(input.equals(".")){  
                break;
             } 
            System.out.println(kmp(input)); 
        }   
    }   
  
    private static int kmp(String input) {   
        int len = input.length();   
        int[] next = new int[len + 1];   
       
        int i = 0,j = -1;   
        next[0] = -1;   
        while(i &lt; len){   
            if( j == -1 || input.charAt(i) == input.charAt(j)){   
                i++;   
                j++;   
                next[i] = j;   
            }else{   
                j = next[j];   
            }   
        }   
        
        if(len % (len - next[len]) == 0){   
            return len /(len - next[len]);   
        }   
        return 1;   
    }   
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-7347">
<article class="comment" id="comment-7347">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7347" rel="nofollow"><time datetime="2015-06-18T14:00:00+00:00" pubdate="">2015年6月18日 at 下午2:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7350">
<article class="comment" id="comment-7350">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7350" rel="nofollow"><time datetime="2015-05-15T09:27:17+00:00" pubdate="">2015年5月15日 at 上午9:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7352">
<article class="comment" id="comment-7352">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7352" rel="nofollow"><time datetime="2015-03-23T03:33:03+00:00" pubdate="">2015年3月23日 at 上午3:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7355">
<article class="comment" id="comment-7355">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7355" rel="nofollow"><time datetime="2014-09-05T17:57:34+00:00" pubdate="">2014年9月5日 at 下午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不好意思，写错了．应该是　path[0]=0,  visited[V] = true;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7351">
<article class="comment" id="comment-7351">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7351" rel="nofollow"><time datetime="2014-08-23T16:26:33+00:00" pubdate="">2014年8月23日 at 下午4:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我又来学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7346">
<article class="comment" id="comment-7346">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7346" rel="nofollow"><time datetime="2014-07-14T21:10:31+00:00" pubdate="">2014年7月14日 at 下午9:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是有公式吗？何不直接计算</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7353">
<article class="comment" id="comment-7353">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7353" rel="nofollow"><time datetime="2014-05-27T00:04:13+00:00" pubdate="">2014年5月27日 at 上午12:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已经挂掉了，给个参考呗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7349">
<article class="comment" id="comment-7349">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zoe_music</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7349" rel="nofollow"><time datetime="2014-05-20T14:44:07+00:00" pubdate="">2014年5月20日 at 下午2:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请不要灌水，多谢！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53270">
<article class="comment" id="comment-53270">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-53270" rel="nofollow"><time datetime="2014-05-09T01:17:49+00:00" pubdate="">2014年5月9日 at 上午1:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7348">
<article class="comment" id="comment-7348">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7348" rel="nofollow"><time datetime="2014-02-23T04:27:24+00:00" pubdate="">2014年2月23日 at 上午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7354">
<article class="comment" id="comment-7354">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/POJ-2406-Power-Strings-blog-723.html#comment-7354" rel="nofollow"><time datetime="2014-01-08T21:48:44+00:00" pubdate="">2014年1月8日 at 下午9:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果两个序列的最后字符不匹配（即X [M-1]！= Y [N-1]）<br/>
L（X [0 .. M-1]，Y [0 .. N-1]）= MAX（L（X [0 .. M-2]，Y [0 .. N-1]），L（X [0 .. M-1]，Y [0 .. N-1]）<br/>
这里写错了吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>