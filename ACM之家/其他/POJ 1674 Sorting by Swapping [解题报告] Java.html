<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-10</div>
<div class="tit"><h1 class="entry-title">POJ 1674 Sorting by Swapping [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/hash" rel="category tag" title="查看Hash表中的全部文章">Hash表</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观813次</span><span class="i3"><a class="ds-thread-count" data-thread-key="482" href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comments" title="《POJ 1674 Sorting by Swapping [解题报告] Java》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Sorting by Swapping</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a permutation of numbers from 1 to n, we can always get the sequence 1, 2, 3, …, n by swapping pairs of numbers. For example, if the initial sequence is 2, 3, 5, 4, 1, we can sort them in the following way:
<p>2 3 5 4 1<br/>
<br/>1 3 5 4 2<br/>
<br/>1 3 2 4 5<br/>
<br/>1 2 3 4 5</p>
<p>Here three swaps have been used. The problem is, given a specific permutation, how many swaps we needs to take at least.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains a single integer t (1 &lt;= t &lt;= 20) that indicates the number of test cases. Then follow the t cases. Each case contains two lines. The first line contains the integer n (1 &lt;= n &lt;= 10000), and the second line gives the initial permutation. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, the output will be only one integer, which is the least number of swaps needed to get the sequence 1, 2, 3, …, n from the initial permutation. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
1 2 3
5
2 3 5 4 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0
3</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1674">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1674">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1674">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.*;
import java.util.*;
public class Main
{
 public static void main(String[] args) throws IOException
 {
  InputStreamReader is=new InputStreamReader(System.in);
  BufferedReader in=new BufferedReader(is);
  String[] ss;
  int a=Integer.parseInt(in.readLine());
  HashSet&lt; Integer&gt; hs=new HashSet&lt; Integer&gt;();
  while((a--)!=0)
  {
	int b=Integer.parseInt(in.readLine());
	ss=in.readLine().split(" ");
	int[] arr=new int[b+1];
	for(int i=0;i&lt; b;i++)
		arr[i+1]=Integer.parseInt(ss[i]);
	int c=0;
	for(int i=1;i&lt;=b;i++)
	{
         int u=arr[i];
	if(!hs.contains(u))
	{
	 while(!hs.contains(u))
	  {
		hs.add(u);
		u=arr[u];
	   }
	   c++;
	 }
       }
	System.out.println(b-c);
	hs.clear();
    }
  }		
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-95938">
<article class="comment" id="comment-95938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456110" rel="external nofollow">新用户109831</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-95938" rel="nofollow"><time datetime="2017-04-13T23:45:27+00:00" pubdate="">2017年4月13日 at 下午11:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，太有意思了，都要笑崩了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5653">
<article class="comment" id="comment-5653">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5653" rel="nofollow"><time datetime="2015-06-24T02:41:57+00:00" pubdate="">2015年6月24日 at 上午2:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5658">
<article class="comment" id="comment-5658">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5658" rel="nofollow"><time datetime="2015-04-05T17:05:01+00:00" pubdate="">2015年4月5日 at 下午5:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37165">
<article class="comment" id="comment-37165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">radish</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-37165" rel="nofollow"><time datetime="2015-03-08T14:37:43+00:00" pubdate="">2015年3月8日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我又来学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5659">
<article class="comment" id="comment-5659">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vincent_ynh</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5659" rel="nofollow"><time datetime="2014-10-19T16:57:31+00:00" pubdate="">2014年10月19日 at 下午4:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确性是关键，冲突是都会有的，主要是那种算法冲突的概率低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5654">
<article class="comment" id="comment-5654">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5654" rel="nofollow"><time datetime="2014-08-25T09:11:50+00:00" pubdate="">2014年8月25日 at 上午9:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太懂呀，乡亲们。原理知道代码不会</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52847">
<article class="comment" id="comment-52847">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-52847" rel="nofollow"><time datetime="2014-06-25T16:50:58+00:00" pubdate="">2014年6月25日 at 下午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5652">
<article class="comment" id="comment-5652">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5652" rel="nofollow"><time datetime="2014-06-24T07:31:35+00:00" pubdate="">2014年6月24日 at 上午7:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5655">
<article class="comment" id="comment-5655">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5655" rel="nofollow"><time datetime="2014-05-27T18:37:37+00:00" pubdate="">2014年5月27日 at 下午6:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>97行缺一个分号</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5662">
<article class="comment" id="comment-5662">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5662" rel="nofollow"><time datetime="2014-04-07T21:47:48+00:00" pubdate="">2014年4月7日 at 下午9:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5657">
<article class="comment" id="comment-5657">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5657" rel="nofollow"><time datetime="2014-04-04T08:17:37+00:00" pubdate="">2014年4月4日 at 上午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请问printAllCombination的时间复杂度怎么分析呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5660">
<article class="comment" id="comment-5660">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5660" rel="nofollow"><time datetime="2014-02-26T21:17:00+00:00" pubdate="">2014年2月26日 at 下午9:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉我好像很多都不会做。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5661">
<article class="comment" id="comment-5661">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5661" rel="nofollow"><time datetime="2014-02-01T02:08:13+00:00" pubdate="">2014年2月1日 at 上午2:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5651">
<article class="comment" id="comment-5651">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5651" rel="nofollow"><time datetime="2014-01-01T14:55:07+00:00" pubdate="">2014年1月1日 at 下午2:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5656">
<article class="comment" id="comment-5656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/poj-1674-sorting-by-swapping-blog-482.html#comment-5656" rel="nofollow"><time datetime="2013-12-19T23:03:56+00:00" pubdate="">2013年12月19日 at 下午11:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞！！~~大赞！！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>