<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1105 S-Trees [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观699次</span><span class="i3"><a class="ds-thread-count" data-thread-key="268" href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comments" title="《POJ 1105 S-Trees [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">S-Trees</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
A Strange Tree (S-tree) over the variable set Xn = {x1,x2,…,xn} is a binary tree representing a Boolean function f:{0,1}-&gt;{0,1}. Each path of the S-tree begins at the root node and consists of n+1 nodes. Each of the S-tree’s nodes has a depth, which is the amount of nodes between itself and the root (so the root has depth 0). The nodes with depth less than n are called non-terminal nodes. All non-terminal nodes have two children: the right child and the left child. Each non-terminal node is marked with some variable xi from the variable set Xn. All non-terminal nodes with the same depth are marked with the same variable, and non-terminal nodes with different depth are marked with different variables. So, there is a unique variable xi1 corresponding to the root, a unique variable xi2 corresponding to the nodes with depth 1, and so on. The sequence of the variables xi1,xi2,…,xin is called the variable ordering. The nodes having depth n are called terminal nodes. They have no children and are marked with either 0 or 1. Note that the variable ordering and the distribution of 0′s and 1′s on terminal nodes are sufficient to completely describe an S-tree.<br/>
<br/>As stated earlier, each S-tree represents a Boolean function f. If you have an S-tree and values for the variables x1,x2,…,xn, then it is quite simple to find out what f(x1,x2,…,xn) is: start with the root. Now repeat the following: if the node you are at is labelled with a variable xi, then depending on whether the value of the variable is 1 or 0, you go its right or left child, respectively. Once you reach a terminal node, its label gives the value of the function.<br/>
<br/><center><img src="http://cdn.acmerblog.com/img/poj/1105-5.gif"/></center><br/>
<br/><center>Figure 1: S-trees for the x1 and (x2 or x3) function </center><br/>
<br/>On the picture, two S-trees representing the same Boolean function,f(x1,x2,x3) = x1 and (x2 or x3), are shown. For the left tree, the variable ordering is x1, x2, x3, and for the right tree it is x3, x1, x2. 
<p>The values of the variables x1,x2,…,xn, are given as a Variable Values Assignment (VVA)<br/>
<br/></p><center>(x1 = b1, x2 = b2, …, xn = bn)</center><br/>
<br/>with b1,b2,…,bn in {0,1}. For instance, ( x1 = 1, x2 = 1 x3 = 0) would be a valid VVA for n = 3, resulting for the sample function above in the value f(1,1,0) = 1 and (1 or 0) = 1. The corresponding paths are shown bold in the picture. 
<p>Your task is to write a program which takes an S-tree and some VVAs and computes f(x1,x2,…,xn) as described above. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains the description of several S-trees with associated VVAs which you have to process. Each description begins with a line containing a single integer n, 1 &lt;= n &lt;= 7, the depth of the S-tree. This is followed by a line describing the variable ordering of the S-tree. The format of that line is xi1 xi2 ...xin. (There will be exactly n different space-separated strings). So, for n = 3 and the variable ordering x3, x1, x2, this line would look as follows:<br/>
<br/>x3 x1 x2 
<p>In the next line the distribution of 0′s and 1′s over the terminal nodes is given. There will be exactly 2^n characters (each of which can be 0 or 1), followed by the new-line character. The characters are given in the order in which they appear in the S-tree, the first character corresponds to the leftmost terminal node of the S-tree, the last one to its rightmost terminal node. </p>
<p>The next line contains a single integer m, the number of VVAs, followed by m lines describing them. Each of the m lines contains exactly n characters (each of which can be 0 or 1), followed by a new-line character. Regardless of the variable ordering of the S-tree, the first character always describes the value of x1, the second character describes the value of x2, and so on. So, the line </p>
<p>110 </p>
<p>corresponds to the VVA ( x1 = 1, x2 = 1, x3 = 0). </p>
<p>The input is terminated by a test case starting with n = 0. This test case should not be processed.  </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each S-tree, output the line “S-Tree #j:”, where j is the number of the S-tree. Then print a line that contains the value of f(x1,x2,…,xn) for each of the given m VVAs, where f is the function defined by the S-tree. 
<p>Output a blank line after each test case. </p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
x1 x2 x3
00000111
4
000
010
111
110
3
x3 x1 x2
00010011
4
000
010
111
110
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
S-Tree #1:
0011

S-Tree #2:
0011</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1105">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1105">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1105">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">/* @author: */
import java.util.Scanner;
import java.util.Arrays;
public class Main{
  
 public static void main(String args[]){
  Scanner sc=new Scanner(System.in);
  int n,m,times=1,map[]=new int[7];
  char bits[]=new char[129],s[]=new char[20];
  while(true){
    n=sc.nextInt();
    if(n==0)
	break;
    for(int i=0;i&lt; n;i++){
	s=sc.next().toCharArray();
	map[s[1]-'1']=(char)i;
    }
    bits=sc.next().toCharArray();
    m=sc.nextInt();
    System.out.printf("S-Tree #%d:\n",times++);
    while((m--)!=0){
	char tem[]=new char[20];
	int res=0;
	s=sc.next().toCharArray();;
	for(int i=0;i&lt; n;i++)
	  tem[map[i]]=(char)(s[i]-'0');
	for(int i=0;i&lt; n;i++){
	  res&lt;&lt;=1;
	  if(tem[i]!=0)
	    res++;
	}
	System.out.printf("%c",bits[res]);
     }
     System.out.println();
     System.out.println();
   }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-4199">
<article class="comment" id="comment-4199">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4199" rel="nofollow"><time datetime="2015-02-11T10:17:08+00:00" pubdate="">2015年2月11日 at 上午10:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4204">
<article class="comment" id="comment-4204">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4204" rel="nofollow"><time datetime="2014-12-23T00:02:03+00:00" pubdate="">2014年12月23日 at 上午12:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4197">
<article class="comment" id="comment-4197">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4197" rel="nofollow"><time datetime="2014-12-16T19:56:49+00:00" pubdate="">2014年12月16日 at 下午7:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4203">
<article class="comment" id="comment-4203">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4203" rel="nofollow"><time datetime="2014-10-13T11:14:36+00:00" pubdate="">2014年10月13日 at 上午11:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36465">
<article class="comment" id="comment-36465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-36465" rel="nofollow"><time datetime="2014-10-06T20:16:31+00:00" pubdate="">2014年10月6日 at 下午8:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4202">
<article class="comment" id="comment-4202">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4202" rel="nofollow"><time datetime="2014-10-05T22:44:58+00:00" pubdate="">2014年10月5日 at 下午10:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你这个代码显示风格很给你啊，怎么做出来的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4200">
<article class="comment" id="comment-4200">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4200" rel="nofollow"><time datetime="2014-09-01T14:18:05+00:00" pubdate="">2014年9月1日 at 下午2:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个后缀数组不是常用的那个.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4198">
<article class="comment" id="comment-4198">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4198" rel="nofollow"><time datetime="2014-07-26T18:43:06+00:00" pubdate="">2014年7月26日 at 下午6:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有用，收藏了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4206">
<article class="comment" id="comment-4206">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4206" rel="nofollow"><time datetime="2014-07-04T23:27:02+00:00" pubdate="">2014年7月4日 at 下午11:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看来学好代数很重要啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52531">
<article class="comment" id="comment-52531">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-52531" rel="nofollow"><time datetime="2014-05-22T04:29:48+00:00" pubdate="">2014年5月22日 at 上午4:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还有个解释：没说桌子有多大，可以假设桌子和硬币一样大，肯定是先手胜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36464">
<article class="comment" id="comment-36464">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-36464" rel="nofollow"><time datetime="2014-03-02T17:48:55+00:00" pubdate="">2014年3月2日 at 下午5:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4205">
<article class="comment" id="comment-4205">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4205" rel="nofollow"><time datetime="2014-01-25T09:51:39+00:00" pubdate="">2014年1月25日 at 上午9:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4196">
<article class="comment" id="comment-4196">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4196" rel="nofollow"><time datetime="2014-01-24T05:53:40+00:00" pubdate="">2014年1月24日 at 上午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>We do not harbor that I couldn’t remove other individuals’ problems whenever this arrived at.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4201">
<article class="comment" id="comment-4201">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/POJ-1105-S-Trees-blog-268.html#comment-4201" rel="nofollow"><time datetime="2013-11-20T20:26:44+00:00" pubdate="">2013年11月20日 at 下午8:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有两个重复的话结果是正确的，但解法不够严谨，后面重复的覆盖掉前面的，由于题目数据限制也比较严，所以能提交通过。已更新算法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>