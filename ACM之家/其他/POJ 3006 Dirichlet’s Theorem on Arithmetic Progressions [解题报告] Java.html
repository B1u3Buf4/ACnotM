<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3006 Dirichlet’s Theorem on Arithmetic Progressions [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观528次</span><span class="i3"><a class="ds-thread-count" data-thread-key="916" href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comments" title="《POJ 3006 Dirichlet’s Theorem on Arithmetic Progressions [解题报告] Java》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Dirichlet’s Theorem on Arithmetic Progressions</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<p>If <i>a</i> and <i>d</i> are relatively prime positive integers, the arithmetic sequence beginning with <i>a</i> and increasing by <i>d</i>, i.e., <i>a</i>, <i>a</i> + <i>d</i>, <i>a</i> + 2<i>d</i>, <i>a</i> + 3<i>d</i>, <i>a</i> + 4<i>d</i>, …, contains infinitely many prime numbers. This fact is known as Dirichlet’s Theorem on Arithmetic Progressions, which had been conjectured by Johann Carl Friedrich Gauss (1777 – 1855) and was proved by Johann Peter Gustav Lejeune Dirichlet (1805 – 1859) in 1837.</p>
<p>For example, the arithmetic sequence beginning with 2 and increasing by 3, i.e.,</p>
<blockquote><p>2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, … ,</p>
</blockquote>
<p>contains infinitely many prime numbers</p>
<blockquote><p>2, 5, 11, 17, 23, 29, 41, 47, 53, 59, 71, 83, 89, … .</p>
</blockquote>
<p>Your mission, should you decide to accept it, is to write a program to find the <i>n</i>th prime number in this arithmetic sequence for given positive integers <i>a</i>, <i>d</i>, and <i>n</i>.</p>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<p>The input is a sequence of datasets. A dataset is a line containing three positive integers <i>a</i>, <i>d</i>, and <i>n</i> separated by a space. <i>a</i> and <i>d</i> are relatively prime. You may assume <i>a</i> &lt;= 9307, <i>d</i> &lt;= 346, and <i>n</i> &lt;= 210.</p>
<p>The end of the input is indicated by a line containing three zeros separated by a space. It is not a dataset.</p>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<p>The output should be composed of as many lines as the number of the input datasets. Each line should contain a single integer and should never contain extra characters.</p>
<p>The output integer corresponding to a dataset <i>a</i>, <i>d</i>, <i>n</i> should be the <i>n</i>th prime number among those contained in the arithmetic sequence beginning with <i>a</i> and increasing by <i>d</i>.</p>
<p>FYI, it is known that the result is always less than 10<sup>6</sup> (one million) under this input condition.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
367 186 151
179 10 203
271 37 39
103 230 1
27 104 185
253 50 85
1 1 1
9075 337 210
307 24 79
331 221 177
259 170 40
269 58 102
0 0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
92809
6709
12037
103
93523
14503
2
899429
5107
412717
22699
25673</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3006">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3006">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3006">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author popop0p0popo
import java.util.*;
import java.io.*;

public class Main{
 public static void main(String[] args){
  Scanner scanner=new Scanner(new BufferedReader(new InputStreamReader(System.in)));
	while (true){
		int a=scanner.nextInt();
		int d=scanner.nextInt();
		int n=scanner.nextInt();
		if (a+d+n==0){
			break;
		}
		int index=0;
		int i=0;
		while (index&lt; n){
			if (isZh(a+d*i)){
				index++;
			}
			i++;
		}
		System.out.println(a+d*(i-1));
	}
  }

	public static boolean isZh(int p){
		if (p==1){
			return false;
		}
		if (p==2){
			return true;
		}
		if (p%2==0){
			return false;
		}
		for (int i=3;i*i&lt;=p ;i=i+2 ){
			if (p%i==0){
				return false;
			}
		}
		return true;
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-60938">
<article class="comment" id="comment-60938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-60938" rel="nofollow"><time datetime="2015-06-23T15:14:45+00:00" pubdate="">2015年6月23日 at 下午3:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好的，多谢指出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60937">
<article class="comment" id="comment-60937">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-60937" rel="nofollow"><time datetime="2015-03-04T03:37:13+00:00" pubdate="">2015年3月4日 at 上午3:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60936">
<article class="comment" id="comment-60936">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-60936" rel="nofollow"><time datetime="2015-02-09T21:08:48+00:00" pubdate="">2015年2月9日 at 下午9:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38646">
<article class="comment" id="comment-38646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-38646" rel="nofollow"><time datetime="2014-12-13T16:54:28+00:00" pubdate="">2014年12月13日 at 下午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>scanner改用StreamTokenizer就不超时了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60935">
<article class="comment" id="comment-60935">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-60935" rel="nofollow"><time datetime="2014-09-21T20:19:55+00:00" pubdate="">2014年9月21日 at 下午8:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8723">
<article class="comment" id="comment-8723">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8723" rel="nofollow"><time datetime="2014-09-02T23:35:05+00:00" pubdate="">2014年9月2日 at 下午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8724">
<article class="comment" id="comment-8724">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8724" rel="nofollow"><time datetime="2014-08-12T17:40:56+00:00" pubdate="">2014年8月12日 at 下午5:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，这里说的最长回文子序列，非子串</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8725">
<article class="comment" id="comment-8725">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8725" rel="nofollow"><time datetime="2014-07-05T19:47:38+00:00" pubdate="">2014年7月5日 at 下午7:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38645">
<article class="comment" id="comment-38645">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-38645" rel="nofollow"><time datetime="2014-06-21T08:01:29+00:00" pubdate="">2014年6月21日 at 上午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8727">
<article class="comment" id="comment-8727">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8727" rel="nofollow"><time datetime="2014-05-28T13:22:36+00:00" pubdate="">2014年5月28日 at 下午1:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8728">
<article class="comment" id="comment-8728">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8728" rel="nofollow"><time datetime="2014-05-19T09:56:37+00:00" pubdate="">2014年5月19日 at 上午9:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8726">
<article class="comment" id="comment-8726">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-3006-Dirichlet%27s-Theorem-on-Arithmetic-Progressions-blog-916.html#comment-8726" rel="nofollow"><time datetime="2014-04-16T17:27:35+00:00" pubdate="">2014年4月16日 at 下午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，算是枚举吧，已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>