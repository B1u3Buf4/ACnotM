<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1491 Pi [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观749次</span><span class="i3"><a class="ds-thread-count" data-thread-key="413" href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comments" title="《POJ 1491 Pi [解题报告] Java》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Pi</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Professor Robert A. J. Matthews of the Applied Mathematics and Computer Science Department at the University of Aston in Birmingham, England has recently described howthe positions of stars across the night skymay be used to deduce a surprisingly accurate value of π. This result followed from the application of certain theorems in number theory.<br/>
<br/>Here, we don’t have the night sky, but can use the same theoretical basis to form an estimate for π: 
<p>Given any pair of whole numbers chosen from a large, random collection of numbers, the probability that the twonumbers have no common factor other than one (1) is </p>
<p></p><center>6/π<sup>2</sup></center>
<p>For example, using the small collection of numbers: 2, 3, 4, 5, 6; there are 10 pairs that can be formed: (2,3), (2,4), etc. Six of the 10 pairs: (2,3), (2,5), (3,4), (3,5), (4,5) and (5,6) have no common factor other than one. Using the ratio of the counts as the probability we have:<br/>
<br/></p><center><br/>
<br/>6/π<sup>2</sup> ≈ 6/10<br/>
<br/>π ≈ 3.162</center>
<p>In this problem, you’ll receive a series of data sets. Each data set contains a set of pseudo-random positive integers. For each data set, find the portion of the pairs which may be formed that have nocommon factor other than one (1), and use the method illustrated above to obtain an estimate for π. Report this estimate for each data set.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of a series of data sets. 
<p>The first line of each data set contains a positive integer value, N, greater than one (1) and less than 50. </p>
<p>There is one positive integer per line for the next N lines that constitute the set for which the pairs are to be examined. These integers are each greater than 0 and less than 32768. </p>
<p>Each integer of the input stream has its first digit as the first character on the input line. </p>
<p>The set size designator, N, will be zero to indicate the end of data.<br/>
</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
A line with a single real value is to be emitted for each input data set encountered. This value is the estimate π for the data set. An output format like the sample below should be used. Answers must be rounded to six digits after the decimal point. 
<p>For some data sets, it may be impossible to estimate a value for π. This occurs when there are no pairs without common factors. In these cases, emit the single-line message: </p>
<p>No estimate for this data set. </p>
<p>exactly, starting with the first character, “N”, as the first character on the line.<br/>
</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
2
3
4
5
6
2
13
39
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3.162278
No estimate for this data set.</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1491">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1491">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1491">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author 洪晓鹏&lt;hongxp11@163.com&gt;
import java.text.DecimalFormat;
import java.util.Scanner;
import java.util.Vector;

public class Main {

	public static int factor(int a, int b) {
	if (b == 0)
		return a;
	else
	  return factor(b, a % b);

	}

public static void main(String[] args) {
  // TODO Auto-generated method stub
 Scanner in = new Scanner(System.in);
  while (true) {
	int n = in.nextInt();
	if (n == 0)
		break;
	int[] array = new int[n];
	for (int i = 0; i &lt; n; i++) {
		array[i] = in.nextInt();
	}
	int total = (n - 1) * n / 2;
	int count = 0;
	for (int i = 0; i &lt; n; i++) {
		for (int j = i + 1; j &lt; n; j++) {
			if (factor(array[i], array[j]) == 1)
				count++;
		}
	}
	if (count == 0)
		System.out.println("No estimate for this data set.");
	else {
		double pi = Math.sqrt(6.0 * total / count);
		DecimalFormat output = new DecimalFormat("#.######");
		System.out.println(output.format(pi));
	}
   }
 }

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36968">
<article class="comment" id="comment-36968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-36968" rel="nofollow"><time datetime="2015-04-24T15:01:47+00:00" pubdate="">2015年4月24日 at 下午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么编译器啊，不通过</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36966">
<article class="comment" id="comment-36966">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-36966" rel="nofollow"><time datetime="2015-01-15T09:05:30+00:00" pubdate="">2015年1月15日 at 上午9:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这代码的输出格式不对阿，else语句的low=p移动一下位置，增加可读性</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5138">
<article class="comment" id="comment-5138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5138" rel="nofollow"><time datetime="2014-10-05T19:54:22+00:00" pubdate="">2014年10月5日 at 下午7:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是往年的笔试题，非在线，主要考察基础，Java会在面试时问到</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52760">
<article class="comment" id="comment-52760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-52760" rel="nofollow"><time datetime="2014-08-24T20:43:37+00:00" pubdate="">2014年8月24日 at 下午8:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输出规范写错了哦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5140">
<article class="comment" id="comment-5140">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5140" rel="nofollow"><time datetime="2014-07-21T00:23:15+00:00" pubdate="">2014年7月21日 at 上午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36967">
<article class="comment" id="comment-36967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-36967" rel="nofollow"><time datetime="2014-07-04T05:53:04+00:00" pubdate="">2014年7月4日 at 上午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5141">
<article class="comment" id="comment-5141">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5141" rel="nofollow"><time datetime="2014-07-02T00:38:38+00:00" pubdate="">2014年7月2日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>编辑的时候有些不小心了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5137">
<article class="comment" id="comment-5137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5137" rel="nofollow"><time datetime="2014-03-31T18:32:22+00:00" pubdate="">2014年3月31日 at 下午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-5136">
<article class="comment" id="comment-5136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5136" rel="nofollow"><time datetime="2014-02-14T11:14:57+00:00" pubdate="">2014年2月14日 at 上午11:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>编辑的时候有些不小心了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-5139">
<article class="comment" id="comment-5139">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/POJ-1491-Pi-blog-413.html#comment-5139" rel="nofollow"><time datetime="2014-01-03T14:48:15+00:00" pubdate="">2014年1月3日 at 下午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>