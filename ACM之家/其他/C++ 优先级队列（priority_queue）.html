<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-26</div>
<div class="tit"><h1 class="entry-title">C++ 优先级队列（priority_queue）</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/algorithm" rel="category tag" title="查看算法分析中的全部文章">算法分析</a></span><span class="i4">围观1551次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2928" href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comments" title="《C++ 优先级队列（priority_queue）》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h2 style="text-align: center;">C++ 优先级队列（priority_queue）</h2>
<pre>　　优先级队列顾名思义是根据元素的优先级被读取，接口和queues非常相近。程序员可以通过template参数指定一个排序准则。缺省的排序准则是利用operator&lt; 形成降序排列，那么所谓“下一个元素”就是“数值最大的元素”。<br/>如果同时存在若干个数值最大的元素，无法确知究竟哪一个会入选。</pre>
<pre>头文件：&lt;queue&gt;</pre>
<pre>在文件 &lt;queue&gt; 中，class priority_queue 定义如下：</pre>
<pre>namespace std {</pre>
<pre>    template &lt; class T ,</pre>
<pre>           class Container = vector&lt;T&gt; ,</pre>
<pre>           class Compare = less &lt;typename Container::value_type&gt; &gt;</pre>
<pre>    class priority_queue ;</pre>
<pre>}</pre>
<pre>由于priority queue需要用到STL heap算法，所以其内部容器必须支持随机存取迭代器。例如你可以使用deque来容纳元素：</pre>
<pre>std::priority_queue&lt; float, std::deque&lt;float&gt; &gt; pbuffer ;</pre>
<h3>核心接口</h3>
<pre>push() 将一个元素置于priority queue中</pre>
<pre>top()  返回priority queue中的“下一个元素”</pre>
<pre>pop() 从priority queue 中移除一个元素</pre>
<pre><span style="color: #ff0000;">注意：如果priority queue 内没有元素，执行top()和pop()会导致未定义的行为，应该先采用size()或empty()来检验容器是否为空。</span></pre>
<h3>运用实例</h3>
<pre class="brush:cpp ">// 使用VS2008 和 code::blocks 10.05调试通过
#include &lt;iostream&gt;
#include &lt;queue&gt;
using namespace std ;

int main()
{
    priority_queue&lt;float&gt; q;

    // insert three elements into the priority queue
    q.push (66.6);
    q.push (22.2);
    q.push (44.4);

    // read and print two elements
    cout &lt;&lt; q.top () &lt;&lt; ' ';
    q.pop ();
    cout &lt;&lt; q.top () &lt;&lt; endl;
    q.pop ();

    // insert three more elements
    q.push (11.1);
    q.push (55.5);
    q.push (33.3);

    // skip one element
    q.pop ();

    // pop and print remaining elements
    while (!q.empty ()) {
        cout &lt;&lt; q.top () &lt;&lt; ' ';
        q.pop ();
    }
    cout &lt;&lt; endl ;
}</pre>
<pre><strong>参考资料 《C++标准程序库》侯捷 孟岩译</strong></pre>
<p>转自：http://www.cnblogs.com/chinazhangjie/archive/2010/10/31/1865653.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-87566">
<article class="comment" id="comment-87566">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87566" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87565">
<article class="comment" id="comment-87565">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87565" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87564">
<article class="comment" id="comment-87564">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87564" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87563">
<article class="comment" id="comment-87563">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87563" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87562">
<article class="comment" id="comment-87562">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87562" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87561">
<article class="comment" id="comment-87561">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87561" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87560">
<article class="comment" id="comment-87560">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516333" rel="external nofollow">新用户968551</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-87560" rel="nofollow"><time datetime="2017-04-13T06:42:37+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实Remux都出来4个月了…….</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18800">
<article class="comment" id="comment-18800">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18800" rel="nofollow"><time datetime="2015-07-11T14:31:36+00:00" pubdate="">2015年7月11日 at 下午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18797">
<article class="comment" id="comment-18797">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18797" rel="nofollow"><time datetime="2015-04-15T18:59:10+00:00" pubdate="">2015年4月15日 at 下午6:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是错的吧，明显没有判断不和该节点相邻的其他节点是否相互相邻</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18799">
<article class="comment" id="comment-18799">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18799" rel="nofollow"><time datetime="2015-04-09T23:08:42+00:00" pubdate="">2015年4月9日 at 下午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“再把所有不和该节点相邻的节点着相同的颜色”，程序中没有进行不和该节点相邻的其他节点是否相邻进行判断。再说求出来的也不一样是颜色数最少的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18803">
<article class="comment" id="comment-18803">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18803" rel="nofollow"><time datetime="2015-04-06T23:11:52+00:00" pubdate="">2015年4月6日 at 下午11:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thank you very much</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43802">
<article class="comment" id="comment-43802">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-43802" rel="nofollow"><time datetime="2015-03-15T06:10:12+00:00" pubdate="">2015年3月15日 at 上午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>排版</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18798">
<article class="comment" id="comment-18798">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18798" rel="nofollow"><time datetime="2014-11-21T16:21:24+00:00" pubdate="">2014年11月21日 at 下午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43803">
<article class="comment" id="comment-43803">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-43803" rel="nofollow"><time datetime="2014-09-25T14:50:56+00:00" pubdate="">2014年9月25日 at 下午2:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是往年的笔试题，非在线，主要考察基础，Java会在面试时问到</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18801">
<article class="comment" id="comment-18801">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18801" rel="nofollow"><time datetime="2014-07-10T14:29:19+00:00" pubdate="">2014年7月10日 at 下午2:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18806">
<article class="comment" id="comment-18806">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18806" rel="nofollow"><time datetime="2014-06-24T05:54:44+00:00" pubdate="">2014年6月24日 at 上午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，已改正。应该都是protected</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18802">
<article class="comment" id="comment-18802">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18802" rel="nofollow"><time datetime="2014-05-29T11:58:46+00:00" pubdate="">2014年5月29日 at 上午11:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18804">
<article class="comment" id="comment-18804">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18804" rel="nofollow"><time datetime="2014-05-12T10:46:59+00:00" pubdate="">2014年5月12日 at 上午10:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18807">
<article class="comment" id="comment-18807">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18807" rel="nofollow"><time datetime="2014-04-07T19:23:48+00:00" pubdate="">2014年4月7日 at 下午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18805">
<article class="comment" id="comment-18805">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Anne</a></span> on <a href="http://www.acmerblog.com/cpp-priority-queue-2928.html#comment-18805" rel="nofollow"><time datetime="2014-03-27T13:30:03+00:00" pubdate="">2014年3月27日 at 下午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>