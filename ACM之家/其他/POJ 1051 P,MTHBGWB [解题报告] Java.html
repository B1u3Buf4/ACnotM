<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1051 P,MTHBGWB [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/data-struct/hash" rel="category tag" title="查看Hash表中的全部文章">Hash表</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观716次</span><span class="i3"><a class="ds-thread-count" data-thread-key="244" href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comments" title="《POJ 1051 P,MTHBGWB [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">P,MTHBGWB</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Morse code represents characters as variable length sequences of dots and dashes. In practice, characters in a message are delimited by short pauses. The following table shows the Morse code sequences:<br/>
<br/>
<table border="1" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="12%">A</td>
<td width="12%">.-</td>
<td width="12%">H</td>
<td width="12%">….</td>
<td width="13%">O</td>
<td width="13%">—</td>
<td width="13%">V</td>
<td width="13%">…-</td>
</tr>
<tr>
<td width="12%">B</td>
<td width="12%">-…</td>
<td width="12%">I</td>
<td width="12%">..</td>
<td width="13%">P</td>
<td width="13%">.–.</td>
<td width="13%">W</td>
<td width="13%">.–</td>
</tr>
<tr>
<td width="12%">C</td>
<td width="12%">-.-.</td>
<td width="12%">J</td>
<td width="12%">.—</td>
<td width="13%">Q</td>
<td width="13%">–.-</td>
<td width="13%">X</td>
<td width="13%">-..-</td>
</tr>
<tr>
<td width="12%">D</td>
<td width="12%">-..</td>
<td width="12%">K</td>
<td width="12%">-.-</td>
<td width="13%">R</td>
<td width="13%">.-.</td>
<td width="13%">Y</td>
<td width="13%">-.–</td>
</tr>
<tr>
<td width="12%">E</td>
<td width="12%">.</td>
<td width="12%">L</td>
<td width="12%">.-..</td>
<td width="13%">S</td>
<td width="13%">…</td>
<td width="13%">Z</td>
<td width="13%">–..</td>
</tr>
<tr>
<td width="12%">F</td>
<td width="12%">..-.</td>
<td width="12%">M</td>
<td width="12%">–</td>
<td width="13%">T</td>
<td width="13%">-</td>
<td width="13%">　</td>
<td width="13%">　</td>
</tr>
<tr>
<td width="12%">G</td>
<td width="12%">–.</td>
<td width="12%">N</td>
<td width="12%">-.</td>
<td width="13%">U</td>
<td width="13%">..-</td>
<td width="13%">　</td>
<td width="13%">　</td>
</tr>
</table>
<p>Note that four dot-dash combinations are unassigned. For the purposes of this problem we will assign them as follows (these are not the assignments for actual Morse code):<br/>
<br/>
</p><table border="1" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="25%">underscore</td>
<td width="25%">..–</td>
<td width="25%">period</td>
<td width="25%">—.</td>
</tr>
<tr>
<td width="25%">comma</td>
<td width="25%">.-.-</td>
<td width="25%">question mark</td>
<td width="25%">—-</td>
</tr>
</table>
<p>Thus, the message “ACM_GREATER_NY_REGION” is encoded as:<br/>
<br/>.- -.-. — ..– –. .-. . .- – . .-. ..– -. -.– ..– .-. . –. .. — -.<br/>
<br/>M.E. Ohaver proposed an encryption scheme based on mutilating Morse code. Her scheme replaces the pauses between letters, necessary because Morse is a variable-length encoding that is not prefix-free, with a string that identifies the number of dots and dashes in each. For example, consider the message “.–.-.–”. Without knowing where the pauses should be, this could be “ACM”, “ANK”, or several other possibilities. If we add length information, however, “.–.-.–242″, then the code is unabiguous.<br/>
<br/>Ohaver’s scheme has three steps, the same for encryption and decryption:<br/>
<br/>1.	Convert the text to Morse code without pauses but with a string of numbers to indicate code lengths<br/>
<br/>2.	Reverse the string of numbers<br/>
<br/>3.	Convert the dots and dashes back into to text using the reversed string of numbers as code lengths<br/>
<br/>As an example, consider the encrypted message “AKADTOF_IBOETATUK_IJN”. Converting to Morse code with a length string yields “.–.-.–..—-..-…–..-…—.-.–..–.-..–…—-.232313442431121334242″. Reversing the numbers and decoding yields the original message “ACM_GREATER_NY_REGION”.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
This problem requires that you implement Ohaver’s encoding algorithm. The input will consist of several messages encoded with Ohaver’s algorithm. The first line of the input is an integer n that specifies the number of test cases. The following n lines contain one message per line. Each message will use only the twenty-six capital letters, underscores, commas, periods, and question marks. Messages will not exceed 100 characters in length. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each message in the input, output the line number starting in column one, a colon, a space, and then the decoded message. The output format must be adhered to precisely.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
AKADTOF_IBOETATUK_IJN
PUEL
QEWOISE.EIVCAEFNRXTBELYTGD.
?EJHUT.TSMYGW?EJHOT
DSU.XFNCJEVE.OE_UJDXNO_YHU?VIDWDHPDJIKXZT?E
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1: ACM_GREATER_NY_REGION
2: PERL
3: QUOTH_THE_RAVEN,_NEVERMORE.
4: TO_BE_OR_NOT_TO_BE?
5: THE_QUICK_BROWN_FOX_JUMPS_OVER_THE_LAZY_DOG
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1051">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1051">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1051">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author 
import java.io.*; 
import java.util.*; 

public class Main 
{ 
    static HashMap&lt; String,String&gt; codeMap = new HashMap&lt; String,String&gt;(); 
    static HashMap&lt; String,String&gt; ref = new HashMap&lt; String,String&gt;(); 

    public static void main(String[] args) throws Exception 
    { 
        initMap(); 
        readFile(); 
    } 
    static void readFile() throws Exception 
    { 
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); 
        int n = Integer.valueOf(br.readLine()); 
        int count = 0; 
        while(count&lt; n) 
        { 
            process(br.readLine()); 
            count++; 
        } 
    } 
    static void initMap() 
    { 
        codeMap.put("A",".-"); 
        codeMap.put("B","-..."); 
        codeMap.put("C","-.-."); 
        codeMap.put("D","-.."); 
        codeMap.put("E","."); 
        codeMap.put("F","..-."); 
        codeMap.put("G","--."); 
        codeMap.put("H","...."); 
        codeMap.put("I",".."); 
        codeMap.put("J",".---"); 
        codeMap.put("K","-.-"); 
        codeMap.put("L",".-.."); 
        codeMap.put("M","--"); 
        codeMap.put("N","-."); 
        codeMap.put("O","---"); 
        codeMap.put("P",".--."); 
        codeMap.put("Q","--.-"); 
        codeMap.put("R",".-."); 
        codeMap.put("S","..."); 
        codeMap.put("T","-"); 
        codeMap.put("U","..-"); 
        codeMap.put("V","...-"); 
        codeMap.put("W",".--"); 
        codeMap.put("X","-..-"); 
        codeMap.put("Y","-.--"); 
        codeMap.put("Z","--.."); 
        codeMap.put("_","..--"); 
        codeMap.put(".","---."); 
        codeMap.put(",",".-.-"); 
        codeMap.put("?","----"); 

        ref.put(".-","A"); 
        ref.put("-...","B"); 
        ref.put("-.-.","C"); 
        ref.put("-..","D"); 
        ref.put(".","E"); 
        ref.put("..-.","F"); 
        ref.put("--.","G"); 
        ref.put("....","H"); 
        ref.put("..","I"); 
        ref.put(".---","J"); 
        ref.put("-.-","K"); 
        ref.put(".-..","L"); 
        ref.put("--","M"); 
        ref.put("-.","N"); 
        ref.put("---","O"); 
        ref.put(".--.","P"); 
        ref.put("--.-","Q"); 
        ref.put(".-.","R"); 
        ref.put("...","S"); 
        ref.put("-","T"); 
        ref.put("..-","U"); 
        ref.put("...-","V"); 
        ref.put(".--","W"); 
        ref.put("-..-","X"); 
        ref.put("-.--","Y"); 
        ref.put("--..","Z"); 
        ref.put("..--","_"); 
        ref.put("---.","."); 
        ref.put(".-.-",","); 
        ref.put("----","?"); 
    } 
    static void process(String str) 
    { 
        StringBuffer strCode = new StringBuffer(str); 
        StringBuffer lengthCode = new StringBuffer(); 
        StringBuffer currentCode = new StringBuffer(); 
        int index = 0; 
        while(index&lt; strCode.length()) 
        { 
            String code = codeMap.get(strCode.charAt(index++)+""); 
            currentCode.append(code); 
            lengthCode.append(code.length()); 
        } 
        index = lengthCode.length()-1; 
        int start = 0; 
        int end = 0; 
        StringBuffer result = new StringBuffer(); 
        while(index&gt;=0) 
        { 
            end = Integer.valueOf(lengthCode.charAt(index--)+"")+start; 
            String ttt = currentCode.substring(start,end); 
            result.append(ref.get(ttt)); 
            start = end; 
        } 
        if(flag!=0) 
            System.out.println(); 
        flag++; 
        System.out.print(flag+": " + result.toString()); 
    } 
    static int flag = 0; 
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36388">
<article class="comment" id="comment-36388">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36388" rel="nofollow"><time datetime="2015-07-05T05:57:45+00:00" pubdate="">2015年7月5日 at 上午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36393">
<article class="comment" id="comment-36393">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36393" rel="nofollow"><time datetime="2015-05-23T20:36:33+00:00" pubdate="">2015年5月23日 at 下午8:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4028">
<article class="comment" id="comment-4028">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-4028" rel="nofollow"><time datetime="2015-03-31T23:15:54+00:00" pubdate="">2015年3月31日 at 下午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4027">
<article class="comment" id="comment-4027">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-4027" rel="nofollow"><time datetime="2015-02-16T05:03:34+00:00" pubdate="">2015年2月16日 at 上午5:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36386">
<article class="comment" id="comment-36386">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36386" rel="nofollow"><time datetime="2014-12-19T16:02:21+00:00" pubdate="">2014年12月19日 at 下午4:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36392">
<article class="comment" id="comment-36392">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36392" rel="nofollow"><time datetime="2014-12-13T01:37:32+00:00" pubdate="">2014年12月13日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36394">
<article class="comment" id="comment-36394">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36394" rel="nofollow"><time datetime="2014-10-03T16:21:41+00:00" pubdate="">2014年10月3日 at 下午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36387">
<article class="comment" id="comment-36387">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36387" rel="nofollow"><time datetime="2014-09-23T02:33:41+00:00" pubdate="">2014年9月23日 at 上午2:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4030">
<article class="comment" id="comment-4030">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-4030" rel="nofollow"><time datetime="2014-06-22T06:50:04+00:00" pubdate="">2014年6月22日 at 上午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36390">
<article class="comment" id="comment-36390">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">winter</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36390" rel="nofollow"><time datetime="2014-05-12T17:41:01+00:00" pubdate="">2014年5月12日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4029">
<article class="comment" id="comment-4029">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-4029" rel="nofollow"><time datetime="2014-04-30T15:18:51+00:00" pubdate="">2014年4月30日 at 下午3:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目虽然简单，但是小编做的很到位，应该会给很多人启发吧！对于面试当中不给开辟额外空间的问题不是绝对的，实际上至少是允许少数变量存在的。之前遇到相似的问题也是恍然大悟，今天看到小编这篇文章相见恨晚。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36385">
<article class="comment" id="comment-36385">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36385" rel="nofollow"><time datetime="2013-12-29T04:46:15+00:00" pubdate="">2013年12月29日 at 上午4:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个后缀数组不是常用的那个.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36391">
<article class="comment" id="comment-36391">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36391" rel="nofollow"><time datetime="2013-12-20T17:47:54+00:00" pubdate="">2013年12月20日 at 下午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看来学好代数很重要啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36389">
<article class="comment" id="comment-36389">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/POJ-1051-P%2CMTHBGWB-blog-244.html#comment-36389" rel="nofollow"><time datetime="2013-12-13T12:28:43+00:00" pubdate="">2013年12月13日 at 下午12:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>