<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1207 The 3n + 1 problem [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观683次</span><span class="i3"><a class="ds-thread-count" data-thread-key="316" href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comments" title="《POJ 1207 The 3n + 1 problem [解题报告] Java》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The 3n + 1 problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Problems in Computer Science are often classified as belonging to a certain class of problems (e.g., NP, Unsolvable, Recursive). In this problem you will be analyzing a property of an algorithm whose classification is not known for all possible inputs.<br/>
<br/>Consider the following algorithm:<br/>
<pre>
<br/> 
<br/>		1. 		 input n
<br/>
<br/>		2. 		 print n
<br/>
<br/>		3. 		 if n = 1 then STOP
<br/>
<br/>		4. 		 		 if n is odd then   n 
<br/>		5. 		 		 else   n 
<br/>		6. 		 GOTO 2
<br/>
<br/></pre>
<p>Given the input 22, the following sequence of numbers will be printed 22 11 34 17 52 26 13 40 20 10 5 16 8 4 2 1 </p>
<p>It is conjectured that the algorithm above will terminate (when a 1 is printed) for any integral input value. Despite the simplicity of the algorithm, it is unknown whether this conjecture is true. It has been verified, however, for all integers n such that 0 &lt; n &lt; 1,000,000 (and, in fact, for many more numbers than this.) </p>
<p>Given an input n, it is possible to determine the number of numbers printed before the 1 is printed. For a given n this is called the cycle-length of n. In the example above, the cycle length of 22 is 16. </p>
<p>For any two numbers i and j you are to determine the maximum cycle length over all numbers between i and j. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist of a series of pairs of integers i and j, one pair of integers per line. All integers will be less than 10,000 and greater than 0. 
<p>You should process all pairs of integers and for each pair determine the maximum cycle length over all integers between and including i and j.<br/>
</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each pair of input integers i and j you should output i, j, and the maximum cycle length for integers between and including i and j. These three numbers should be separated by at least one space with all three numbers on one line and with one line of output for each line of input. The integers i and j must appear in the output in the same order in which they appeared in the input and should be followed by the maximum cycle length (on the same line). </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 10
100 200
201 210
900 1000</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 10 20
100 200 125
201 210 89
900 1000 174</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1207">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1207">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1207">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">import java.io.BufferedReader;
 import java.io.IOException;
 import java.io.InputStreamReader;

 public class Main {

     public static void main(String[] args) throws IOException {
         BufferedReader read = new BufferedReader(new InputStreamReader(
                 System.in));
         int t;
         int s;
         int[] len;
         String str;
         int start;
         int end;
         int max;
         len = new int[10000];
         for (int i = 1; i &lt; 10000; i++) {
             s = 1;
             t = i;
             while (t != 1) {
                 if (t &lt; 10000 &amp;&amp; len[t] != 0) {
                     s += len[t] - 1;
                     break;
                 }
                 if (t % 2 == 1) {
                     t = 3 * t + 1;
                 } else {
                     t = t / 2;
                 }
                 s++;
             }
             len[i] = s;
         }
         while ((str = read.readLine()) != null &amp;&amp; !str.equals("")) {
             start = Integer.parseInt(str.split(" ")[0]);
             end = Integer.parseInt(str.split(" ")[1]);
             max = 0;
             for (int i = Math.min(start, end); i &lt;= Math.max(start, end); i++) {
                 if (len[i] &gt; max) {
                     max = len[i];
                 }
             }
             System.out.printf("%d %d %d\n", start, end, max);
         }
     } 
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-4472">
<article class="comment" id="comment-4472">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-4472" rel="nofollow"><time datetime="2015-07-04T09:27:41+00:00" pubdate="">2015年7月4日 at 上午9:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此 了解了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4475">
<article class="comment" id="comment-4475">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-4475" rel="nofollow"><time datetime="2015-04-24T11:26:57+00:00" pubdate="">2015年4月24日 at 上午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52616">
<article class="comment" id="comment-52616">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-52616" rel="nofollow"><time datetime="2015-04-09T09:21:54+00:00" pubdate="">2015年4月9日 at 上午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4473">
<article class="comment" id="comment-4473">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-4473" rel="nofollow"><time datetime="2015-03-05T19:42:39+00:00" pubdate="">2015年3月5日 at 下午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36657">
<article class="comment" id="comment-36657">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-36657" rel="nofollow"><time datetime="2015-01-05T22:31:52+00:00" pubdate="">2015年1月5日 at 下午10:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36658">
<article class="comment" id="comment-36658">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-36658" rel="nofollow"><time datetime="2014-11-22T15:54:52+00:00" pubdate="">2014年11月22日 at 下午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A猴子认识的所有猴子和B猴子认识的所有猴子都能认识，这句话用《爱屋及乌》描述比较容易理解……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36655">
<article class="comment" id="comment-36655">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-36655" rel="nofollow"><time datetime="2014-11-21T15:42:09+00:00" pubdate="">2014年11月21日 at 下午3:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4474">
<article class="comment" id="comment-4474">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-4474" rel="nofollow"><time datetime="2014-10-28T01:31:30+00:00" pubdate="">2014年10月28日 at 上午1:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36656">
<article class="comment" id="comment-36656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-36656" rel="nofollow"><time datetime="2014-09-19T04:40:09+00:00" pubdate="">2014年9月19日 at 上午4:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52615">
<article class="comment" id="comment-52615">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-52615" rel="nofollow"><time datetime="2014-09-11T20:20:03+00:00" pubdate="">2014年9月11日 at 下午8:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4476">
<article class="comment" id="comment-4476">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-4476" rel="nofollow"><time datetime="2014-08-20T00:03:23+00:00" pubdate="">2014年8月20日 at 上午12:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>51行错了，改为：void Union(struct subset subsets[], int x, int y)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-52617">
<article class="comment" id="comment-52617">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">abguorui0928</a></span> on <a href="http://www.acmerblog.com/POJ-1207-The-3n-%2B-1-problem-blog-316.html#comment-52617" rel="nofollow"><time datetime="2014-05-19T16:52:36+00:00" pubdate="">2014年5月19日 at 下午4:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总数为2n，遍历到第n个，就是中间的位置</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>