<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2651 So you want to be a 2<sup>n</sup>-aire? [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1333次</span><span class="i3"><a class="ds-thread-count" data-thread-key="831" href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comments" title="《POJ 2651 So you want to be a 2n-aire? [解题报告] Java》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">So you want to be a 2<sup>n</sup>-aire?</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The player starts with a prize of $1, and is asked a sequence of n questions. For each question, he may<br/>
<ul>
<li>quit and keep his prize.<br/>
</li>
<li>answer the question. If wrong, he quits with nothing. If correct, the prize is doubled, and he continues with the next question. </li>
</ul>
<p>After the last question, he quits with his prize. The player wants to maximize his expected prize.<br/>
<br/>Once each question is asked, the player is able to assess the probability p that he will be able to answer it. For each question, we assume that p is a random variable uniformly distributed over the range t .. 1. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input is a number of lines, each with two numbers: an integer 1 &lt;= n &lt;= 30, and a real 0 &lt;= t &lt;= 1. Input is terminated by a line containing 0 0. This line should not be processed.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each input n and t, print the player’s expected prize, if he plays the best strategy. Output should be rounded to three fractional digits. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 0.5
1 0.3
2 0.6
24 0.25
0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1.500
1.357
2.560
230.138
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2651">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2651">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2651">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author:
import java.util.*;
public class Main {
  static double t=0;
  static double e( double s, int k) {
   if( k == 0 )
	return s;
   else {
     double temp = e( 2*s, k-1 );
     double h = s/temp;
     if( t &gt; h )
	return temp*(1-t*t)/2/(1-t);
     else
	return (s*(h-t)+temp*(1-h*h)/2)/(1-t);
    }
}

 static public void main( String [] str ){
   Scanner sc = new Scanner(System.in);
   while(sc.hasNext()) {
       int n=sc.nextInt();
       t=sc.nextDouble();
       if(n==0) break;
       System.out.printf( "%.3f\n", e( 1, n) );
   }
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-95598">
<article class="comment" id="comment-95598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527069" rel="external nofollow">新用户404453</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-95598" rel="nofollow"><time datetime="2017-04-13T22:09:30+00:00" pubdate="">2017年4月13日 at 下午10:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算了，反正到时候憋一下就都出来了（而且没有女朋友</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8153">
<article class="comment" id="comment-8153">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8153" rel="nofollow"><time datetime="2015-06-28T17:24:33+00:00" pubdate="">2015年6月28日 at 下午5:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8161">
<article class="comment" id="comment-8161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8161" rel="nofollow"><time datetime="2015-05-15T02:07:38+00:00" pubdate="">2015年5月15日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8154">
<article class="comment" id="comment-8154">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8154" rel="nofollow"><time datetime="2015-05-12T12:34:26+00:00" pubdate="">2015年5月12日 at 下午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8158">
<article class="comment" id="comment-8158">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8158" rel="nofollow"><time datetime="2015-02-06T12:07:19+00:00" pubdate="">2015年2月6日 at 下午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8159">
<article class="comment" id="comment-8159">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8159" rel="nofollow"><time datetime="2014-12-09T18:42:43+00:00" pubdate="">2014年12月9日 at 下午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>good !</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8160">
<article class="comment" id="comment-8160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8160" rel="nofollow"><time datetime="2014-11-13T18:25:32+00:00" pubdate="">2014年11月13日 at 下午6:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8155">
<article class="comment" id="comment-8155">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8155" rel="nofollow"><time datetime="2014-09-26T01:55:45+00:00" pubdate="">2014年9月26日 at 上午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8156">
<article class="comment" id="comment-8156">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8156" rel="nofollow"><time datetime="2014-08-27T17:17:03+00:00" pubdate="">2014年8月27日 at 下午5:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8164">
<article class="comment" id="comment-8164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8164" rel="nofollow"><time datetime="2014-08-02T22:16:18+00:00" pubdate="">2014年8月2日 at 下午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8162">
<article class="comment" id="comment-8162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8162" rel="nofollow"><time datetime="2014-05-04T21:36:11+00:00" pubdate="">2014年5月4日 at 下午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8163">
<article class="comment" id="comment-8163">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8163" rel="nofollow"><time datetime="2014-05-04T19:58:15+00:00" pubdate="">2014年5月4日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8166">
<article class="comment" id="comment-8166">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8166" rel="nofollow"><time datetime="2014-01-06T09:50:37+00:00" pubdate="">2014年1月6日 at 上午9:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8157">
<article class="comment" id="comment-8157">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8157" rel="nofollow"><time datetime="2013-12-24T09:29:23+00:00" pubdate="">2013年12月24日 at 上午9:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒，是漏掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8165">
<article class="comment" id="comment-8165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/poj-2651-so-you-want-to-be-a-2n-aire-blog-831.html#comment-8165" rel="nofollow"><time datetime="2013-11-17T02:10:52+00:00" pubdate="">2013年11月17日 at 上午2:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>bottes vernies blanches</strong></p>
<p>I appreciate the efforts you men and women place in to share blogs on such sort of matters, it was certainly useful. Keep Posting!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>