<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3105 Expectation [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观510次</span><span class="i3"><a class="ds-thread-count" data-thread-key="965" href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comments" title="《POJ 3105 Expectation [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Expectation</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>Eric has constructed an easy scheme for generating random integer numbers. His scheme inputs an integer <i>n</i> and generates evenly distributed random integer value between 0 and (<i>n</i> − 1) inclusive. For example, if <i>n</i> = 3, the scheme generates 0, 1 or 2, each with probability 1/3.</p>
<p>Now Eric is planning to construct more complicated schemes. The first one will consist of two independent random generators with their outputs forwarded to his favorite <code>XOR</code> gate, which does bitwise exclusive or with its two inputs.</p>
<p>Eric’s friend Nick studies math. Nick said that the scheme is very interesting, and the most interesting thing is the expectation of the result. Now they both think how to calculate the expectation. Could you help them?</p>
<p>Remember that the expectation of the random variable is its average value. For a variable <i>ξ</i> with nonnegative integer values it can be calculated as</p>
<p align="center"><img align="absmiddle" src="http://www.acmerblog.com/img/poj/3105-34.gif"/>,</p>
<p>where <i>p<sub>i</sub></i> is the probability of <i>ξ</i> being equal to <i>i</i>.</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>The first line of the input contains the number <i>k</i> of cases to solve (1 ≤ <i>k</i> ≤ 1 000). Each case consists of a single integer 1 ≤ <i>n</i> ≤ 10<sup>9</sup> on a separate line.</p>
<p></p></span> </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<span lang="en-us">
<p>For each case output the expected value of the new Eric’s scheme with at least two digits after the decimal point. Output each result on a separate line.</p>
<p></p></span></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1.33
1.50</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3105">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3105">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3105">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">/* @author: */
import java.util.*;
import java.io.*;
import java.lang.reflect.Array;

public class Main {
  static public void main( String [] string ) throws Exception{
    Scanner cin = new Scanner( System.in );
    int m = cin.nextInt();
    int n, i, p1, p0, s;
    double v;
    while( (m--) &gt; 0 ) {
	s = n = cin.nextInt();
	v = 0;
	for( i=1; i&lt; n; i&lt;&lt;=1 ) {
	  if( (s&amp;1) == 1 ) {
	    p0 = (s/2+1)*i;
	    p1 = n-p0;
	  }
	  else {
	    p1 = s/2*i;
	    p0 = n-p1;
	  }
	  v += i*(2.0*p1/n*p0/n);
	  s &gt;&gt;= 1;
	}
	System.out.printf( "%.2f\n", new Object[]{ Double.valueOf(v) } );
    }
    return;
   }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-38822">
<article class="comment" id="comment-38822">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38822" rel="nofollow"><time datetime="2015-06-11T02:12:18+00:00" pubdate="">2015年6月11日 at 上午2:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个方法是错的，不信你试试：<br/>
20 5<br/>
1 A:9<br/>
1 A:9<br/>
1 A:9<br/>
1 A:6<br/>
1 A:4<br/>
正确答案应该是19，这个答案是18</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38820">
<article class="comment" id="comment-38820">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38820" rel="nofollow"><time datetime="2015-03-15T06:41:20+00:00" pubdate="">2015年3月15日 at 上午6:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38821">
<article class="comment" id="comment-38821">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38821" rel="nofollow"><time datetime="2015-03-09T06:58:02+00:00" pubdate="">2015年3月9日 at 上午6:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53661">
<article class="comment" id="comment-53661">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-53661" rel="nofollow"><time datetime="2014-12-27T03:41:58+00:00" pubdate="">2014年12月27日 at 上午3:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我又来学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60968">
<article class="comment" id="comment-60968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-60968" rel="nofollow"><time datetime="2014-12-16T18:50:27+00:00" pubdate="">2014年12月16日 at 下午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38817">
<article class="comment" id="comment-38817">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38817" rel="nofollow"><time datetime="2014-12-11T17:36:27+00:00" pubdate="">2014年12月11日 at 下午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已经挂掉了，给个参考呗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38819">
<article class="comment" id="comment-38819">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38819" rel="nofollow"><time datetime="2014-10-30T04:27:58+00:00" pubdate="">2014年10月30日 at 上午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>6题应该就是算概率的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38818">
<article class="comment" id="comment-38818">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38818" rel="nofollow"><time datetime="2014-10-06T14:58:47+00:00" pubdate="">2014年10月6日 at 下午2:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9069">
<article class="comment" id="comment-9069">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-9069" rel="nofollow"><time datetime="2014-08-11T18:49:48+00:00" pubdate="">2014年8月11日 at 下午6:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38823">
<article class="comment" id="comment-38823">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-38823" rel="nofollow"><time datetime="2014-07-15T08:00:23+00:00" pubdate="">2014年7月15日 at 上午8:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你指的哪个问题？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9068">
<article class="comment" id="comment-9068">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-9068" rel="nofollow"><time datetime="2014-02-26T23:43:14+00:00" pubdate="">2014年2月26日 at 下午11:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9070">
<article class="comment" id="comment-9070">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-9070" rel="nofollow"><time datetime="2013-12-22T16:22:16+00:00" pubdate="">2013年12月22日 at 下午4:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9067">
<article class="comment" id="comment-9067">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">windy</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-9067" rel="nofollow"><time datetime="2013-11-22T13:11:43+00:00" pubdate="">2013年11月22日 at 下午1:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9066">
<article class="comment" id="comment-9066">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-3105-Expectation-blog-965.html#comment-9066" rel="nofollow"><time datetime="2013-11-17T01:49:49+00:00" pubdate="">2013年11月17日 at 上午1:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>