<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2336 Ferry Loading II [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1149次</span><span class="i3"><a class="ds-thread-count" data-thread-key="692" href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comments" title="《POJ 2336 Ferry Loading II [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Ferry Loading II</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Before bridges were common, ferries were used to transport cars across rivers. River ferries, unlike their larger cousins, run on a guide line and are powered by the river’s current. Cars drive onto the ferry from one end, the ferry crosses the river, and the cars exit from the other end of the ferry.<br/>
<br/>There is a ferry across the river that can take n cars across the river in t minutes and return in t minutes. m cars arrive at the ferry terminal by a given schedule. What is the earliest time that all the cars can be transported across the river? What is the minimum number of trips that the operator must make to deliver all cars by that time? </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of input contains c, the number of test cases. Each test case begins with n, t, m. m lines follow, each giving the arrival time for a car (in minutes since the beginning of the day). The operator can run the ferry whenever he or she wishes, but can take only the cars that have arrived up to that time. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, output a single line with two integers: the time, in minutes since the beginning of the day, when the last car is delivered to the other side of the river, and the minimum number of trips made by the ferry to carry the cars within that time. 
<p>You may assume that 0 &lt; n, t, m &lt; 1440. The arrival times for each test case are in non-decreasing order. </p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
2 10 10
0
10
20
30
40
50
60
70
80
90
2 10 3
10
30
40
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
100 5
50 2
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2336">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2336">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2336">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author 洪晓鹏&lt;hongxp11@163.com&gt;
import java.util.Scanner;


public class Main {
 public static void main(String[] args)
 {
  Scanner in = new Scanner(System.in);
  int num = in.nextInt();
  for(int i = 0; i&lt; num; i++)
  {
	int n = in.nextInt();
	int t = in.nextInt();
	int m = in.nextInt();
	int[] time = new int[m];
	int starttime = 0;
	for(int j = 0; j&lt; m; j++)
	{
		time[j] = in.nextInt();			
	}
	if(m % n == 0)
	{	
		starttime = time[n-1];
		for(int k = 1; k&lt; m/n; k++)
		{
			if(time[n*(k+1)-1] &gt; starttime + 2*t)
				starttime = time[n*(k+1)-1];
			else
				starttime += 2*t;
			
		}
	}
	else
	{
		starttime = time[m%n -1];
		int p = m/n;
        	int index = m%n -1;
		for(int k = 0; k&lt; p; k++)
		{
		  if(time[n*(k+1)+ index] &gt; starttime + 2*t)
		   starttime = time[n*(k+1)+ index];
		  else
		   starttime += 2*t;
		}
	}
	int result = (int)Math.ceil(1.0*m/n);
	System.out.println(starttime+t+" "+ result);
  }
 }
	
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-60760">
<article class="comment" id="comment-60760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-60760" rel="nofollow"><time datetime="2015-06-12T00:09:18+00:00" pubdate="">2015年6月12日 at 上午12:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7149">
<article class="comment" id="comment-7149">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7149" rel="nofollow"><time datetime="2015-03-25T19:23:33+00:00" pubdate="">2015年3月25日 at 下午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7151">
<article class="comment" id="comment-7151">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7151" rel="nofollow"><time datetime="2015-02-09T14:47:00+00:00" pubdate="">2015年2月9日 at 下午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7154">
<article class="comment" id="comment-7154">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7154" rel="nofollow"><time datetime="2015-01-13T04:03:20+00:00" pubdate="">2015年1月13日 at 上午4:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7155">
<article class="comment" id="comment-7155">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7155" rel="nofollow"><time datetime="2014-10-22T00:48:15+00:00" pubdate="">2014年10月22日 at 上午12:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7158">
<article class="comment" id="comment-7158">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7158" rel="nofollow"><time datetime="2014-09-28T02:52:34+00:00" pubdate="">2014年9月28日 at 上午2:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7157">
<article class="comment" id="comment-7157">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7157" rel="nofollow"><time datetime="2014-09-11T20:53:20+00:00" pubdate="">2014年9月11日 at 下午8:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>补充：此算法求出的不一定是最优解，之前理解错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7153">
<article class="comment" id="comment-7153">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7153" rel="nofollow"><time datetime="2014-08-24T14:07:05+00:00" pubdate="">2014年8月24日 at 下午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7152">
<article class="comment" id="comment-7152">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7152" rel="nofollow"><time datetime="2014-05-01T15:24:29+00:00" pubdate="">2014年5月1日 at 下午3:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7150">
<article class="comment" id="comment-7150">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7150" rel="nofollow"><time datetime="2014-03-12T03:48:58+00:00" pubdate="">2014年3月12日 at 上午3:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;</p>
<p>int main() {<br/>
	//answer must be odd<br/>
    int n, u, d;<br/>
    while(scanf("%d%d%d",&amp;n,&amp;u,&amp;d)==3 &amp;&amp; n&gt;0) {<br/>
        if(n&lt;=u) { puts("1"); continue; }<br/>
        n-=u; u-=d; n+=u-1; n/=u;<br/>
        n&lt;&lt;=1, ++n;<br/>
        printf("%dn",n);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7161">
<article class="comment" id="comment-7161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7161" rel="nofollow"><time datetime="2014-02-10T07:35:11+00:00" pubdate="">2014年2月10日 at 上午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，我的方法占用的内存更多些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7156">
<article class="comment" id="comment-7156">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7156" rel="nofollow"><time datetime="2014-01-26T06:05:47+00:00" pubdate="">2014年1月26日 at 上午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7160">
<article class="comment" id="comment-7160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7160" rel="nofollow"><time datetime="2014-01-14T01:11:15+00:00" pubdate="">2014年1月14日 at 上午1:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-1]）这个地方也也有笔误<br/>
应改为L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-2]）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7159">
<article class="comment" id="comment-7159">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/POJ-2336-Ferry-Loading-II-blog-692.html#comment-7159" rel="nofollow"><time datetime="2013-11-23T08:00:38+00:00" pubdate="">2013年11月23日 at 上午8:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>理解错了。。。。。谢谢楼主~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>