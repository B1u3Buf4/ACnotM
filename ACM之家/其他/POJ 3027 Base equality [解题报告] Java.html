<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3027 Base equality [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset" rel="category tag" title="查看ACM题库中的全部文章">ACM题库</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观757次</span><span class="i3"><a class="ds-thread-count" data-thread-key="927" href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comments" title="《POJ 3027 Base equality [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Base equality</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Numerous are the moments I as a programmer have been frustrated by the tedious conversions between decimal numbers and hexadecimal ones. Why have we chosen 10 as a base in our everyday numerical presentations, when 16 seems so practically appealing? Obviously because everyone is not the computer geek I am. Maybe some day the world will fully realise the benefits of the hexadecimal system. In the meantime I have to learn to master the base conversions since most of the time numbers do not resemble one another in different bases.
<p>Sometimes peculiar relationships emerge among the different base representations of numbers though. For instance, I noticed just the other day that 1040<sub>10</sub> * 4 = 1040<sub>16</sub>, i.e. (1*10<sup>3</sup>+0*10<sup>2</sup>+4*10<sup>1</sup>+0*10<sup>0</sup>)*4=(1*16<sup>3</sup>+0*16<sup>2</sup>+4*16<sup>1</sup>+0*16<sup>0</sup>). It made me wonder how often this is the case, that is, the digits of a number in one base, are exactly the same as the digits of a multiple of the number in another base. Formally, let B1 &lt; B2 be positive integers, and a0,a1,…,ak be integers in [0…B1-1]. For which ai’s is there a positive integer c such that<br/>
<br/><img src="http://www.acmerblog.com/img/poj/3027-46.jpg"/>
</p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
On the first line of input is a positive integer n telling the number of test cases that follow. Each test case is on a line of its own and consists of two integer bases B1, B2, 9 &lt;= B1 &lt; B2 &lt;= 100, and two integer range elements, r1, and r2, 0 &lt; r1 &lt; r2 &lt;= 10000. Notice that all numbers in the input are given in the base 10.</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, there should be one row containing the largest integer i, fulfilling r1 &lt; i &lt; r2, for which there is a positive integer c such that the digits of i in the base B1, are exactly the same as the digits of i*c in the base B2. If no such integer i exists, output the text ‘Non-existent.’.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
10 16 1 2000
10 16 1 4999
10 14 10 9999
11 14 10 9999

</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1040
4240
Non-existent.
9240</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3027">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3027">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3027">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">/* @author:张龙acmilan_fan@yahoo.cn */
import java.util.*;
public class Main {

 static public void main( String [] str ){

  Scanner sc=new Scanner(System.in);
  int tt=sc.nextInt();
  while(( tt--)!=0 ) { 
    int a, b, r1, r2, t, r, s;
    a=sc.nextInt();
    b=sc.nextInt();
    r1=sc.nextInt();
    r2=sc.nextInt();
    for( r2--; r2&gt;r1; r2-- ) {
	r = r2; t = 0; s = 1;
	while( r!=0 ) {
	  t += (r%a)*s;
	  s *= b;
	  r/=a;
	}
	if( t % r2 == 0 )
	  break;
    }
    if( r2 &gt; r1 )
	System.out.printf( "%d\n", r2 );
    else
	System.out.printf( "Non-existent.\n" );
   }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-60939">
<article class="comment" id="comment-60939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ktcer</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-60939" rel="nofollow"><time datetime="2015-07-06T05:42:27+00:00" pubdate="">2015年7月6日 at 上午5:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好厉害～</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8775">
<article class="comment" id="comment-8775">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8775" rel="nofollow"><time datetime="2015-06-18T05:49:27+00:00" pubdate="">2015年6月18日 at 上午5:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二块代码if(it != mp.end())应改为if(it != mp.end() &amp;&amp; (i+1)!=(it-&gt;second +1))；因为第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8774">
<article class="comment" id="comment-8774">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8774" rel="nofollow"><time datetime="2015-05-25T04:01:05+00:00" pubdate="">2015年5月25日 at 上午4:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8773">
<article class="comment" id="comment-8773">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bobo</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8773" rel="nofollow"><time datetime="2015-04-20T03:55:49+00:00" pubdate="">2015年4月20日 at 上午3:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8771">
<article class="comment" id="comment-8771">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8771" rel="nofollow"><time datetime="2015-04-08T08:53:00+00:00" pubdate="">2015年4月8日 at 上午8:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8776">
<article class="comment" id="comment-8776">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8776" rel="nofollow"><time datetime="2015-04-03T17:53:16+00:00" pubdate="">2015年4月3日 at 下午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rho快速因数分解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8772">
<article class="comment" id="comment-8772">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangdilj</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-8772" rel="nofollow"><time datetime="2015-03-30T17:15:57+00:00" pubdate="">2015年3月30日 at 下午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60940">
<article class="comment" id="comment-60940">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-60940" rel="nofollow"><time datetime="2015-01-14T04:54:59+00:00" pubdate="">2015年1月14日 at 上午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38666">
<article class="comment" id="comment-38666">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Anne</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-38666" rel="nofollow"><time datetime="2014-07-24T20:38:23+00:00" pubdate="">2014年7月24日 at 下午8:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;algorithm&gt;</p>
<p>struct LWPair{<br/>
    int l,w;<br/>
};</p>
<p>int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    const int MAXSIZE=5000, MAXVAL=10000;<br/>
    LWPair sticks[MAXSIZE];<br/>
    int store[MAXSIZE];<br/>
    int ncase, nstick, length,width, tmp, time, i,j;<br/>
    if(scanf("%d",&amp;ncase)!=1) return -1;<br/>
    while(ncase– &amp;&amp; scanf("%d",&amp;nstick)==1) {<br/>
        for(i=0;i&lt;nstick;++i) scanf("%d%d",&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .l,&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w);<br/>
        std::sort(sticks,sticks+nstick,[](const LWPair &amp;lhs, const LWPair &amp;rhs) { return lhs.l&gt;rhs.l || lhs.l==rhs.l &amp;&amp; lhs.w&gt;rhs.w; });<br/>
        for(time=-1,i=0;i&lt;nstick;++i) {<br/>
            tmp=sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w;<br/>
            for(j=time;j&gt;=0 &amp;&amp; store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> &gt;=tmp;–j) ; // search from right to left<br/>
            if(j==time) { store[++time]=tmp; }<br/>
            else { store[j+1]=tmp; }<br/>
        }<br/>
        printf("%dn",time+1);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53626">
<article class="comment" id="comment-53626">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-53626" rel="nofollow"><time datetime="2014-06-04T17:07:16+00:00" pubdate="">2014年6月4日 at 下午5:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53623">
<article class="comment" id="comment-53623">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-53623" rel="nofollow"><time datetime="2014-03-15T00:40:55+00:00" pubdate="">2014年3月15日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53622">
<article class="comment" id="comment-53622">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-53622" rel="nofollow"><time datetime="2014-02-20T16:45:09+00:00" pubdate="">2014年2月20日 at 下午4:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>等待后面的实现，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53624">
<article class="comment" id="comment-53624">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-53624" rel="nofollow"><time datetime="2014-02-18T22:44:17+00:00" pubdate="">2014年2月18日 at 下午10:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53625">
<article class="comment" id="comment-53625">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/POJ-3027-Base-equality-blog-927.html#comment-53625" rel="nofollow"><time datetime="2014-02-07T08:48:16+00:00" pubdate="">2014年2月7日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>