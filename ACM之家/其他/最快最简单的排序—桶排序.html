<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-06</div>
<div class="tit"><h1 class="entry-title">最快最简单的排序—桶排序</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a>, <a href="http://www.acmerblog.com/category/zhuanti/algorithm" rel="category tag" title="查看算法分析中的全部文章">算法分析</a></span><span class="i4">围观1601次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4884" href="http://www.acmerblog.com/bucket-sort-4884.html#comments" title="《最快最简单的排序—桶排序》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>在我们生活的这个世界中到处都是被排序过的。站队的时候会按照身高排序，考试的名次需要按照分数排序，网上购物的时候会按照价格排序，电子邮箱中的邮件按照时间排序……总之很多东西都需要排序，可以说排序是无处不在。现在我们举个具体的例子来介绍一下排序算法。</p>
<div align="left">
<p><img alt="120852kg1dvagi0b1ijtlv.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/120852kg1dvagi0b1ijtlv.png" width="396"/></p>
<div align="center"></div>
</div>
<div align="left">　　首先出场的我们的主人公小哼，上面这个可爱的娃就是啦。期末考试完了老师要将同学们的分数按照从高到低排序。小哼的班上只有5个同学，这5个同学分别考了5分、3分、5分、2分和8分，哎考的真是惨不忍睹（满分是10分）。接下来将分数进行从大到小排序，排序后是8 5 5 3 2。你有没有什么好方法编写一段程序，让计算机随机读入5个数然后将这5个数从大到小输出？请先想一想，至少想15分钟再往下看吧(*^__^*) 。</div>
<p><img alt="113320k0qonzwpnzmt5gpb.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113320k0qonzwpnzmt5gpb.png" width="548"/></p>
<p>我们这里只需借助一个一维数组就可以解决这个问题。请确定你真的仔细想过再往下看哦。</p>
<p>首先我们需要申请一个大小为11的数组int a[11]。OK现在你已经有了11个变量，编号从a[0]~a[10]。刚开始的时候，我们将a[0]~a[10]都初始化为0，表示这些分数还都没有人得过。例如a[0]等于0就表示目前还没有人得过0分，同理a[1]等于0就表示目前还没有人得过1分……a[10]等于0就表示目前还没有人得过10分。</p>
<div align="center" style="text-align: left;"><img alt="113320lz09fp0o7ff7h8xf.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113320lz09fp0o7ff7h8xf.png" width="377"/></div>
<p> </p>
<div align="left">下面开始处理每一个人的分数，第一个人的分数是5分，我们就将相对应a[5]的值在原来的基础增加1，即将a[5]的值从0改为1，表示5分出现过了一次。</div>
<p><img alt="113321w4iew2smzki8kmec.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113321w4iew2smzki8kmec.png" width="367"/></p>
<div align="left">　　第二个人的分数是3分，我们就把相对应a[3]的值在原来的基础上增加1，即将a[3]的值从0改为1，表示3分出现过了一次。</div>
<p><img alt="113321rmecknx06n92ppu7.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113321rmecknx06n92ppu7.png" width="367"/></p>
<div align="left">　　注意啦！第三个人的分数也是“5分”，所以a[5]的值需要在此基础上再增加1，即将a[5]的值从1改为2。表示5分出现过了两次。</div>
<p><img alt="113321a4euiehmeehcgpeb.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113321a4euiehmeehcgpeb.png" width="367"/></p>
<div align="left">　　按照刚才的方法处理第四个和第五个人的分数。最终结果就是下面这个图啦。</div>
<p><img alt="113321k7vs6474q39bo517.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113321k7vs6474q39bo517.png" width="367"/></p>
<div align="center"></div>
<div align="left">　　你发现没有，a[0]~a[10]中的数值其实就是0分到10分每个分数出现的次数。接下来，我们只需要将出现过的分数打印出来就可以了，出现几次就打印几次，具体如下。</div>
<div align="left">　　a[0]为0，表示“0”没有出现过，不打印。</div>
<div align="left">　　a[1]为0，表示“1”没有出现过，不打印。</div>
<div align="left">　　a[2]为1，表示“2”出现过1次，打印2。</div>
<div align="left">　　a[3]为1，表示“3”出现过1次，打印3。</div>
<div align="left">　　a[4]为0，表示“4”没有出现过，不打印。</div>
<div align="left">　　a[5]为2，表示“5”出现过2次，打印5 5。</div>
<div align="left">　　a[6]为0，表示“6”没有出现过，不打印。</div>
<div align="left">　　a[7]为0，表示“7”没有出现过，不打印。</div>
<div align="left">　　a[8]为1，表示“8”出现过1次，打印8。</div>
<div align="left">　　a[9]为0，表示“9”没有出现过，不打印。</div>
<div align="left">　　a[10]为0，表示“10”没有出现过，不打印。</div>
<div align="left">　　最终屏幕输出“2 3 5 5 8”，完整的代码如下。</div>
<div align="left">
<pre class="brush:cpp">#include &lt;stdio.h&gt;
int main()
{
    int a[11],i,j,t;
    for(i=0;i&lt;=10;i++)
        a[i]=0;  //初始化为0

    for(i=1;i&lt;=5;i++)  //循环读入5个数
    {
        scanf("%d",&amp;t);  //把每一个数读到变量t中
        a[t]++;  //进行计数
    }
    for(i=0;i&lt;=10;i++)  //依次判断a[0]~a[10]
        for(j=1;j&lt;=a[i];j++)  //出现了几次就打印几次
            printf("%d ",i);
    getchar();getchar();
    //这里的getchar();用来暂停程序，以便查看程序输出的内容
    //也可以用system("pause");等来代替
    return 0;
}</pre>
<p>输入数据为</p>
<pre class="brush:other">5 3 5 2 8</pre>
<p> </p>
<p>仔细观察的同学会发现，刚才实现的是从小到大排序。但是我们要求是从大到小排序，这该怎么办呢？还是先自己想一想再往下看哦。</p>
<p> </p>
<div align="left"></div>
<p>其实很简单。只需要将for(i=0;i&lt;=10;i++)改为for(i=10;i&gt;=0;i–)就OK啦，快去试一试吧。</p>
<p> </p>
<div align="left"></div>
<p>这种排序方法我们暂且叫他“桶排序”。因为其实真正的桶排序要比这个复杂一些，以后再详细讨论，目前此算法已经能够满足我们的需求了。</p>
<p> </p>
<div align="left"></div>
<div align="left">　　这个算法就好比有11个桶，编号从0~10。每出现一个数，就将对应编号的桶中的放一个小旗子，最后只要数数每个桶中有几个小旗子就OK了。例如2号桶中有1个小旗子，表示2出现了一次；3号桶中有1个小旗子，表示3出现了一次；5号桶中有2个小旗子，表示5出现了两次；8号桶中有1个小旗子，表示8出现了一次。</div>
<div align="left">
<p><img alt="113324mbblb83a3ij09lqf.png" src="http://bbs.ahalei.com/data/attachment/forum/201402/23/113324mbblb83a3ij09lqf.png" width="598"/></p>
</div>
<div align="left">　　现在你可以请尝试一下输入n个0~1000之间的整数，将他们从大到小排序。提醒一下如果需要对数据范围在0~1000之间的整数进行排序，我们需要1001个桶，来表示0~1000之间每一个数出现的次数，这一点一定要注意。另外此处的每一个桶的作用其实就是“标记”每个数出现的次数，因此我喜欢将之前的数组a换个更贴切的名字book（book这个单词有记录、标记的意思），代码实现如下。</div>
<div align="left">
<pre class="brush:cpp">#include &lt;stdio.h&gt;
int main()
{
    int book[1001],i,j,t,n;
    for(i=0;i&lt;=1000;i++)
        book[i]=0;
    scanf("%d",&amp;n);//输入一个数n，表示接下来有n个数
    for(i=1;i&lt;=n;i++)//循环读入n个数，并进行桶排序
    {
        scanf("%d",&amp;t);  //把每一个数读到变量t中
        book[t]++;  //进行计数，对编号为t的桶放一个小旗子
    }
    for(i=1000;i&gt;=0;i--)  //依次判断编号1000~0的桶
        for(j=1;j&lt;=book[i];j++)  //出现了几次就将桶的编号打印几次
             printf("%d ",i);
    getchar();getchar();
    return 0;
}</pre>
<p>可以输入以下数据进行验证</p>
<div>
<div>
<div>
<pre>10
8 100 50 22 15 6 1 1000 999 0</pre>
</div>
</div>
</div>
<div align="left">　运行结果是</div>
<div align="left">
<div>
<pre>1000 999 100 50 22 15 8 6 1 0</pre>
</div>
</div>
<p>最后来说下时间复杂度的问题。代码中第6行的循环一共循环了m次（m为桶的个数），第9行的代码循环了n次（n为待排序数的个数），第14和15行一共循环了m+n次。所以整个排序算法一共执行了m+n+m+n次。我们用大写字母O来表示时间复杂度，因此该算法的时间复杂度是O(m+n+m+n)即O(2*(m+n))。我们在说时间复杂度时候可以忽略较小的常数，最终桶排序的时间复杂度为O(m+n)。还有一点，在表示时间复杂度的时候，n和m通常用大写字母即O(M+N)。</p>
<p>这是一个非常快的排序算法。桶排序从1956年就开始被使用，该算法的基本思想是由E.J.Issac  R.C.Singleton提出来。之前说过，其实这并不是真正的桶排序算法，真正的桶排序算法要比这个更加复杂。但是考虑到此处是算法讲解的第一篇，我想还是越简单易懂越好，真正的桶排序留在以后再聊吧。需要说明一点的是：我们目前学习的简化版桶排序算法其本质上还不能算是一个真正意义上的排序算法。为什么呢？例如遇到下面这个例子就没辙了。</p>
<p>现在分别有5个人的名字和分数：huhu 5分、haha 3分、xixi 5分、hengheng 2分和gaoshou 8分。请按照分数从高到低，输出他们的名字。即应该输出gaoshou、huhu、xixi、haha、hengheng。发现问题了没有？如果使用我们刚才简化版的桶排序算法仅仅是把分数进行了排序。最终输出的也仅仅是分数，但没有对人本身进行排序。也就是说，我们现在并不知道排序后的分数原本对应着哪一个人！这该怎么办呢？不要着急请听下回——冒泡排序</p>
<div align="left">转载自：http://ahalei.blog.51cto.com/4767671/1362789</div>
</div>
<div align="left"></div>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78745">
<article class="comment" id="comment-78745">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919459153" rel="external nofollow">新用户373339</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-78745" rel="nofollow"><time datetime="2017-04-12T12:30:20+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也不知道从哪冒出熊孩子这个词的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27474">
<article class="comment" id="comment-27474">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27474" rel="nofollow"><time datetime="2015-06-10T23:55:47+00:00" pubdate="">2015年6月10日 at 下午11:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I go through some of your put up and I uncovered a good deal of expertise from it. Many thanks for posting this sort of exciting posts</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47866">
<article class="comment" id="comment-47866">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-47866" rel="nofollow"><time datetime="2015-03-20T05:36:08+00:00" pubdate="">2015年3月20日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27475">
<article class="comment" id="comment-27475">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27475" rel="nofollow"><time datetime="2015-01-22T22:00:02+00:00" pubdate="">2015年1月22日 at 下午10:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27471">
<article class="comment" id="comment-27471">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27471" rel="nofollow"><time datetime="2015-01-17T00:32:10+00:00" pubdate="">2015年1月17日 at 上午12:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63195">
<article class="comment" id="comment-63195">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-63195" rel="nofollow"><time datetime="2015-01-03T22:33:25+00:00" pubdate="">2015年1月3日 at 下午10:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47865">
<article class="comment" id="comment-47865">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ktcer</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-47865" rel="nofollow"><time datetime="2014-12-21T04:36:14+00:00" pubdate="">2014年12月21日 at 上午4:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47864">
<article class="comment" id="comment-47864">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-47864" rel="nofollow"><time datetime="2014-12-06T19:46:07+00:00" pubdate="">2014年12月6日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63196">
<article class="comment" id="comment-63196">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-63196" rel="nofollow"><time datetime="2014-10-30T22:15:18+00:00" pubdate="">2014年10月30日 at 下午10:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thank you very much</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47863">
<article class="comment" id="comment-47863">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-47863" rel="nofollow"><time datetime="2014-10-28T15:02:50+00:00" pubdate="">2014年10月28日 at 下午3:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27476">
<article class="comment" id="comment-27476">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27476" rel="nofollow"><time datetime="2014-10-27T16:50:43+00:00" pubdate="">2014年10月27日 at 下午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27473">
<article class="comment" id="comment-27473">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27473" rel="nofollow"><time datetime="2014-09-16T16:15:13+00:00" pubdate="">2014年9月16日 at 下午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>
	Hello Web Admin, I noticed that your On-Page SEO is is missing a few factors, for one you do not use all three H tags in your post, also I notice that you are not using bold or italics properly in your SEO optimization. On-Page SEO means more now than ever since the new Google update: Panda. No longer are backlinks and simply pinging or sending out a RSS feed the key to getting Google PageRank or Alexa Rankings, You now NEED On-Page SEO. So what is good On-Page SEO?First your keyword must appear in the title.Then it must appear in the URL.You have to optimize your keyword and make sure that it has a nice keyword density of 3-5% in your article with relevant LSI (Latent Semantic Indexing). Then you should spread all H1,H2,H3 tags in your article.Your Keyword should appear in your first paragraph and in the last sentence of the page. You should have relevant usage of Bold and italics of your keyword.There should be one internal link to a page on your blog and you should have one image with an alt tag that has your keyword….wait there's even more Now what if i told you there was a simple WordPress plugin that does all the On-Page SEO, and automatically for you? That's right AUTOMATICALLY, just watch this 4minute video for more information at.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27470">
<article class="comment" id="comment-27470">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27470" rel="nofollow"><time datetime="2014-07-06T00:39:31+00:00" pubdate="">2014年7月6日 at 上午12:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请问printAllCombination的时间复杂度怎么分析呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63194">
<article class="comment" id="comment-63194">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-63194" rel="nofollow"><time datetime="2014-05-19T15:18:12+00:00" pubdate="">2014年5月19日 at 下午3:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒。代码又编辑了一下</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27472">
<article class="comment" id="comment-27472">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/bucket-sort-4884.html#comment-27472" rel="nofollow"><time datetime="2014-04-13T13:41:40+00:00" pubdate="">2014年4月13日 at 下午1:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请不要灌水，多谢！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>