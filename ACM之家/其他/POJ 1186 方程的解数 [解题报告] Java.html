<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-07</div>
<div class="tit"><h1 class="entry-title">POJ 1186 方程的解数 [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观1408次</span><span class="i3"><a class="ds-thread-count" data-thread-key="305" href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comments" title="《POJ 1186 方程的解数 [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">方程的解数</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
已知一个n元高次方程：<br/>
<br/><img src="http://www.acmerblog.com/img/poj/1186-2.jpg"/><br/>
<br/>其中：x1, x2,…,xn是未知数，k1,k2,…,kn是系数，p1,p2,…pn是指数。且方程中的所有数均为整数。<br/>
<br/>假设未知数1 &lt;= xi &lt;= M, i=1,,,n，求这个方程的整数解的个数。<br/>
<br/>1 &lt;= n &lt;= 6；1 &lt;= M &lt;= 150。<br/>
<br/><img src="http://www.acmerblog.com/img/poj/1186-11.jpg"/><br/>
<br/>方程的整数解的个数小于2<sup>31</sup>。<br/>
<br/>★本题中，指数Pi(i=1,2,…,n)均为正整数。
 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
第1行包含一个整数n。第2行包含一个整数M。第3行到第n+2行，每行包含两个整数，分别表示ki和pi。两个整数之间用一个空格隔开。第3行的数据对应i=1，第n+2行的数据对应i=n。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
仅一行，包含一个整数，表示方程的整数解的个数。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
150
1  2
-1  2
1  2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
178</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1186">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1186">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1186">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author:
import java.math.BigInteger;
import java.util.Arrays;
import java.util.Comparator;
import java.util.Hashtable;
import java.util.Scanner;
public class Main
{
 static int[]k=new int[6];
 static int[]p=new int[6];
 static int n,m,mark;
 static int total;
 static Hashtable&lt; Long,Integer&gt;hash=new Hashtable&lt; Long,Integer&gt;();
 public static void main(String[] args)
 {
	int i,j;
	Scanner cin=new Scanner(System.in);
	while(cin.hasNext())
	{
        hash.clear();
	 total=0;
	 n=cin.nextInt();
	 m=cin.nextInt();
	 for(i=0;i&lt; n;i++)
	 {
	   k[i]=cin.nextInt();
	   p[i]=cin.nextInt();
	  }
	mark=n/2;
	dfs(0,0);
	dfs2(mark,0);
	System.out.println(total);
      }		
   }

  static void dfs(int pos,long sum)
  {
   if(pos==mark)
   {
    sum*=-1;
	if(hash.containsKey(sum))
	{
	   hash.put(sum,hash.get(sum)+1);
	}
	else
	  hash.put(sum,1);
	return;
    }
    int i,j;
    long tmp;
    for(i=1;i&lt;=m;i++)
    {
	tmp=(long)k[pos];
	for(j=0;j&lt; p[pos];j++)
	{
	   tmp*=i;
	}
	dfs(pos+1,sum+tmp);
     }
  }

 static void dfs2(int pos,long sum)
 {
   if(pos&gt;=n)
   {
	if(hash.containsKey(sum))
	{
		total+=hash.get(sum);
	}
	return;
    }
   int i,j;
   long tmp;
   for(i=1;i&lt;=m;i++)
   {
	tmp=(long)k[pos];
	for(j=0;j&lt; p[pos];j++)
	{
         tmp*=i;
	}
	dfs2(pos+1,sum+tmp);
    }
		
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-3734">
<article class="comment" id="comment-3734">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3734" rel="nofollow"><time datetime="2015-03-29T11:06:39+00:00" pubdate="">2015年3月29日 at 上午11:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>处凡愚而不减，在圣贤而不增；<br/>住烦恼而不乱，居禅定而不寂。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3732">
<article class="comment" id="comment-3732">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3732" rel="nofollow"><time datetime="2015-03-28T16:35:09+00:00" pubdate="">2015年3月28日 at 下午4:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3738">
<article class="comment" id="comment-3738">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3738" rel="nofollow"><time datetime="2015-02-20T19:26:29+00:00" pubdate="">2015年2月20日 at 下午7:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>scanner改用StreamTokenizer就不超时了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3739">
<article class="comment" id="comment-3739">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">TimeFight</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3739" rel="nofollow"><time datetime="2015-02-17T22:55:01+00:00" pubdate="">2015年2月17日 at 下午10:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有的，已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3737">
<article class="comment" id="comment-3737">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3737" rel="nofollow"><time datetime="2015-02-10T06:10:03+00:00" pubdate="">2015年2月10日 at 上午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3731">
<article class="comment" id="comment-3731">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3731" rel="nofollow"><time datetime="2014-10-23T15:27:54+00:00" pubdate="">2014年10月23日 at 下午3:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3733">
<article class="comment" id="comment-3733">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3733" rel="nofollow"><time datetime="2014-07-28T18:30:49+00:00" pubdate="">2014年7月28日 at 下午6:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3740">
<article class="comment" id="comment-3740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jupiterhyun</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3740" rel="nofollow"><time datetime="2014-07-22T14:17:47+00:00" pubdate="">2014年7月22日 at 下午2:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3736">
<article class="comment" id="comment-3736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3736" rel="nofollow"><time datetime="2014-06-07T14:32:56+00:00" pubdate="">2014年6月7日 at 下午2:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3729">
<article class="comment" id="comment-3729">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3729" rel="nofollow"><time datetime="2014-05-28T05:03:17+00:00" pubdate="">2014年5月28日 at 上午5:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>bottes vernies blanches</strong></p>
<p>I appreciate the efforts you men and women place in to share blogs on such sort of matters, it was certainly useful. Keep Posting!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3735">
<article class="comment" id="comment-3735">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jupiterhyun</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3735" rel="nofollow"><time datetime="2014-05-22T11:35:46+00:00" pubdate="">2014年5月22日 at 上午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;stdio.h&gt;<br/>
int main()<br/>
{<br/>
    int n,p,t[100]={1};<br/>
    for(int i=1;i&lt;100;i++)<br/>
        t <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i;<br/>
    while(scanf("%d",&amp;n)&amp;&amp;n!=0){<br/>
        if(n==1)<br/>
        printf("Printing order for 1 pages:nSheet 1, front: Blank, 1n");<br/>
        else {<br/>
        if(n%4) p=n/4+1;<br/>
        else p=n/4;<br/>
        int q=4*p;<br/>
        printf("Printing order for %d pages:n",n);<br/>
        for(int i=0;i&lt;p;i++){<br/>
            printf("Sheet %d, front: ",i+1);<br/>
            if(q&gt;n) {printf("Blank, %dn",t[2*i+1]);}<br/>
            else {printf("%d, %dn",q,t[2*i+1]);}<br/>
            q–;//打印表前<br/>
            printf("Sheet %d, back : ",i+1);<br/>
            if(q&gt;n) {printf("%d, Blankn",t[2*i+2]);}<br/>
            else {printf("%d, %dn",t[2*i+2],q);}<br/>
            q–;//打印表后<br/>
           }<br/>
        }<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3728">
<article class="comment" id="comment-3728">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3728" rel="nofollow"><time datetime="2014-02-28T21:38:59+00:00" pubdate="">2014年2月28日 at 下午9:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++编译的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3727">
<article class="comment" id="comment-3727">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3727" rel="nofollow"><time datetime="2014-02-23T15:36:35+00:00" pubdate="">2014年2月23日 at 下午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3730">
<article class="comment" id="comment-3730">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/poj-1186-%e6%96%b9%e7%a8%8b%e7%9a%84%e8%a7%a3%e6%95%b0-blog-305.html#comment-3730" rel="nofollow"><time datetime="2013-12-14T14:48:20+00:00" pubdate="">2013年12月14日 at 下午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>