<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2653 Pick-up sticks [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观795次</span><span class="i3"><a class="ds-thread-count" data-thread-key="832" href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comments" title="《POJ 2653 Pick-up sticks [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Pick-up sticks</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Stan has n sticks of various length. He throws them one at a time on the floor in a random way. After finishing throwing, Stan tries to find the top sticks, that is these sticks such that there is no stick on top of them. Stan has noticed that the last thrown stick is always on top but he wants to know all the sticks that are on top. Stan sticks are very, very thin such that their thickness can be neglected. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input consists of a number of cases. The data for each case start with 1 &lt;= n &lt;= 100000, the number of sticks for this case. The following n lines contain four numbers each, these numbers are the planar coordinates of the endpoints of one stick. The sticks are listed in the order in which Stan has thrown them. You may assume that there are no more than 1000 top sticks. The input is ended by the case with n=0. This case should not be processed.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each input case, print one line of output listing the top sticks in the format given in the sample. The top sticks should be listed in order in which they were thrown. 
<p>The picture to the right below illustrates the first case from input. <img align="right" src="images/2653_1.jpg"/></p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
1 1 4 2
2 3 3 1
1 -2.0 8 4
1 4 8 2
3 3 6 -2.0
3
0 0 1 1
1 0 2 1
2 0 3 1
0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Top sticks: 2, 4, 5.
Top sticks: 1, 2, 3.
</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
Huge input,scanf is recommended.</div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2653">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2653">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2653">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author:
import java.io.*;
import java.util.*;
public class Main
{
 public static void main(String args[]) throws Exception
 {
  Scanner cin=new Scanner(System.in);
  int N;
  double[][] point;
  int i,j;
  while(true)
  {
	N=cin.nextInt();
	if(N==0) break;
	point=new double[N][4];
	for(i=0;i&lt; N;i++)
	{
         for(j=0;j&lt; 4;j++)
	  {
	   point[i][j]=cin.nextDouble();
	   }
	 }
	 System.out.print("Top sticks:");
	  for(i=0;i&lt; N-1;i++)
	  {
	   for(j=i+1;j&lt; N;j++)
	   {
	    if(fun(point[i],point[j])) break;
	    }
	   if(j==N) System.out.print(" "+(i+1)+",");
	   }
	   System.out.println(" "+N+".");
   }
 }
	
 static boolean fun(double p[],double q[])
 {
  if(((q[1]-p[1])*(p[0]-p[2])+(q[0]-p[0])*(p[3]-p[1]))*((q[3]-p[1])*(p[0]-p[2])+(q[2]-p[0])*(p[3]-p[1]))&lt; 0)
  if(((p[1]-q[1])*(q[0]-q[2])+(p[0]-q[0])*(q[3]-q[1]))*((p[3]-q[1])*(q[0]-q[2])+(p[2]-q[0])*(q[3]-q[1]))&lt; 0)
	return true;
	return false;
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-8171">
<article class="comment" id="comment-8171">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8171" rel="nofollow"><time datetime="2015-07-12T11:18:50+00:00" pubdate="">2015年7月12日 at 上午11:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8176">
<article class="comment" id="comment-8176">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8176" rel="nofollow"><time datetime="2015-06-12T17:23:55+00:00" pubdate="">2015年6月12日 at 下午5:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8168">
<article class="comment" id="comment-8168">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8168" rel="nofollow"><time datetime="2015-03-06T01:17:00+00:00" pubdate="">2015年3月6日 at 上午1:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8170">
<article class="comment" id="comment-8170">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8170" rel="nofollow"><time datetime="2015-02-20T16:20:32+00:00" pubdate="">2015年2月20日 at 下午4:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8172">
<article class="comment" id="comment-8172">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8172" rel="nofollow"><time datetime="2015-01-08T14:31:06+00:00" pubdate="">2015年1月8日 at 下午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8173">
<article class="comment" id="comment-8173">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8173" rel="nofollow"><time datetime="2014-12-30T04:30:10+00:00" pubdate="">2014年12月30日 at 上午4:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站做得很好看，内容也多，全。前段时间在博客园里看到有人说：网页的好坏看字体。觉得微软雅黑的字体很好看，然后现在这个网站也用的这个字体！nice!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8178">
<article class="comment" id="comment-8178">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8178" rel="nofollow"><time datetime="2014-11-11T17:53:49+00:00" pubdate="">2014年11月11日 at 下午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8177">
<article class="comment" id="comment-8177">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8177" rel="nofollow"><time datetime="2014-11-09T03:12:42+00:00" pubdate="">2014年11月9日 at 上午3:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8167">
<article class="comment" id="comment-8167">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8167" rel="nofollow"><time datetime="2014-08-14T08:17:09+00:00" pubdate="">2014年8月14日 at 上午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8169">
<article class="comment" id="comment-8169">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8169" rel="nofollow"><time datetime="2014-07-22T16:28:45+00:00" pubdate="">2014年7月22日 at 下午4:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8179">
<article class="comment" id="comment-8179">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8179" rel="nofollow"><time datetime="2014-06-28T06:04:11+00:00" pubdate="">2014年6月28日 at 上午6:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8174">
<article class="comment" id="comment-8174">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8174" rel="nofollow"><time datetime="2014-06-13T22:19:33+00:00" pubdate="">2014年6月13日 at 下午10:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8175">
<article class="comment" id="comment-8175">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/POJ-2653-Pick-up-sticks-blog-832.html#comment-8175" rel="nofollow"><time datetime="2014-04-15T08:30:24+00:00" pubdate="">2014年4月15日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>