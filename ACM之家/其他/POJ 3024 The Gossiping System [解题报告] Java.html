<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3024 The Gossiping System [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观623次</span><span class="i3"><a class="ds-thread-count" data-thread-key="921" href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comments" title="《POJ 3024 The Gossiping System [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The Gossiping System</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
A common amusement in almost any society, though certainly not the most glamorous one, is for its inhabitants to spread rumours about each other. In the town of Knoxville, this is definitely known to be the case. In order to establish some sort of order without completely ruin the pleasure of gossiping,  they have agreed on a system for everyday life activities, in which rumours spread in a controlled fashion. The inhabitants meet in certain groups in their work, as well as in their spare time, on a daily basis. The following three criteria are met for their system:
<ul>
<li>Each group must have the same non-zero number of members m. </li>
<li>Each person must belong to the same number of groups r, as any other person. </li>
<li>Each pair of different groups has exactly one member in common. </li>
</ul>
<p>We say that a (n,g,m,r)-gossiping system is such a system consisting of n persons divided into g groups, with m and r as above. The beauty of these systems lies in their uniformity. The construction seems fair to everyone, and still all meetings are held in small groups. Since any two groups have a member in common, information about the activities and people in one group is swiftly transferred to all the other groups. Furthermore, it is easy for a messenger to lie if he or she would like to, since the truth is hard to validate due to the fact that no two persons share more than one group. Unfortunately, there are several combinations of n, g, and m for which these systems do not exist!</p>
<p>As a mathematician living in Knoxville, you are interested in studying the existence conditions for these systems for large values of n. However, you soon realise the complexity of these combinatorial objects, and choose to study only their simplest non-trivial class, the (n,g,m,2)-gossiping systems. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
On the first line of input, is a single positive integer t. Thereafter t test cases follow. Each test case consists of one positive number n, 1 &lt;= n &lt;= 10<sup>50</sup>,  given in the standard base 10 representation, where n specifies the number of persons. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case in the input, output the text ‘Yes.’ on a line of its own, if there exists a (n,g,m,2)-gossiping system for any positive integers g&gt;1 and m&gt;0  for the value of n in the test case, otherwise output the text ‘No.’</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
3
4
5
6
678678658335615
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Yes.
No.
No.
Yes.
Yes.</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3024">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3024">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3024">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 
import java.util.*;
import java.io.*;
import java.math.*;
class Main
{
 public static void main(String args[]) throws Exception
 {
  Scanner cin = new Scanner(System.in);
  String s;
  BigInteger bi;
  int T;
  boolean res;
  T = cin.nextInt();
  cin.nextLine();
  while (T-- &gt; 0)
  {
    s = cin.nextLine();
    bi = new BigInteger(s);
    res = check(bi);
    if (res) System.out.println("Yes.");
    else System.out.println("No.");
   }
  }
	
 static boolean check(BigInteger bi)
 {
   bi = bi.add(bi);
   BigInteger min, max, mid, tmp;
   BigInteger Two = BigInteger.ONE.add(BigInteger.ONE);
   BigInteger One = BigInteger.ONE;
   BigInteger nOne = BigInteger.valueOf(-1);
   min = BigInteger.ZERO;
   max = bi;
   while (min.compareTo(max) &lt;= 0)
   {
    mid = min.add(max).divide(Two);
    tmp = mid.add(One).multiply(mid);
    if (tmp.equals(bi)) return true;
    if (tmp.compareTo(bi) &lt; 0) min = mid.add(One);
    else max = mid.add(nOne);
    }
	return false;
   }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-38662">
<article class="comment" id="comment-38662">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38662" rel="nofollow"><time datetime="2015-06-11T05:53:44+00:00" pubdate="">2015年6月11日 at 上午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8756">
<article class="comment" id="comment-8756">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-8756" rel="nofollow"><time datetime="2015-05-12T21:22:01+00:00" pubdate="">2015年5月12日 at 下午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
牛逼牛逼</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53621">
<article class="comment" id="comment-53621">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-53621" rel="nofollow"><time datetime="2015-05-05T07:59:12+00:00" pubdate="">2015年5月5日 at 上午7:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38665">
<article class="comment" id="comment-38665">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38665" rel="nofollow"><time datetime="2015-04-29T11:26:36+00:00" pubdate="">2015年4月29日 at 上午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38659">
<article class="comment" id="comment-38659">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38659" rel="nofollow"><time datetime="2015-04-15T02:07:25+00:00" pubdate="">2015年4月15日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>排版</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38663">
<article class="comment" id="comment-38663">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38663" rel="nofollow"><time datetime="2015-02-02T02:45:06+00:00" pubdate="">2015年2月2日 at 上午2:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额，不对应吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8753">
<article class="comment" id="comment-8753">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-8753" rel="nofollow"><time datetime="2014-11-16T00:36:44+00:00" pubdate="">2014年11月16日 at 上午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38664">
<article class="comment" id="comment-38664">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38664" rel="nofollow"><time datetime="2014-09-24T14:15:43+00:00" pubdate="">2014年9月24日 at 下午2:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38658">
<article class="comment" id="comment-38658">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38658" rel="nofollow"><time datetime="2014-07-12T20:23:11+00:00" pubdate="">2014年7月12日 at 下午8:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38661">
<article class="comment" id="comment-38661">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38661" rel="nofollow"><time datetime="2014-05-11T13:25:25+00:00" pubdate="">2014年5月11日 at 下午1:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-38660">
<article class="comment" id="comment-38660">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-38660" rel="nofollow"><time datetime="2014-05-08T23:41:46+00:00" pubdate="">2014年5月8日 at 下午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学，非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8755">
<article class="comment" id="comment-8755">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-8755" rel="nofollow"><time datetime="2013-12-11T14:56:37+00:00" pubdate="">2013年12月11日 at 下午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>书上的解法更巧妙一些，在九度OJ实测的效率差不多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8754">
<article class="comment" id="comment-8754">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotong2055</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-8754" rel="nofollow"><time datetime="2013-11-30T04:27:54+00:00" pubdate="">2013年11月30日 at 上午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>afsasfasfasf</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53620">
<article class="comment" id="comment-53620">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/POJ-3024-The-Gossiping-System-blog-921.html#comment-53620" rel="nofollow"><time datetime="2013-11-19T21:32:33+00:00" pubdate="">2013年11月19日 at 下午9:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为要修改链表头(指针)，所以要用指针的指针</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>