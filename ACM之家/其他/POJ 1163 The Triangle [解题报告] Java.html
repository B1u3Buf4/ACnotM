<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1163 The Triangle [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1233次</span><span class="i3"><a class="ds-thread-count" data-thread-key="293" href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comments" title="《POJ 1163 The Triangle [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The Triangle</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<center>
<pre>7<br/>3   8<br/>8   1   0<br/>2   7   4   4<br/>4   5   2   6   5<br/><br/>(Figure 1)</pre>
<p></p></center>Figure 1 shows a number triangle. Write a program that calculates the highest sum of numbers passed on a route that starts at the top and ends somewhere on the base. Each step can go either diagonally down to the left or diagonally down to the right.
 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Your program is to read from standard input. The first line contains one integer N: the number of rows in the triangle. The following N lines describe the data of the triangle. The number of rows in the triangle is &gt; 1 but &lt;= 100. The numbers in the triangle, all integers, are between 0 and 99.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Your program is to write to standard output. The highest sum is written as an integer.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
7
3 8
8 1 0 
2 7 4 4
4 5 2 6 5</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
30</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1163">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1163">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1163">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">方法一:(来自:http://hi.baidu.com/maxupeng/blog/item/1709f6092ac19cc23ac76326.html)<br/>
import java.util.*;
public class Main {
 public static void main(String[] args) {
  Scanner cin = new Scanner(System.in);
  int n = cin.nextInt();
  int[] a = new int[n*(n+1)/2];
  for (int i = 0; i &lt; n; i++) {	//行
   for (int j = 0; j &lt;= i; j++) {	//列
	int next = cin.nextInt();
	int index = i*(i+1)/2 + j;
	if (j == 0) {	//行最左边的数，父亲为index-i
		a[index] = a[index] + next + a[index-i];
	} else if (j == i) { //行最右边的数，父亲为index-i-1
		a[index] = a[index] + next + a[index-i-1];
	} else {	//行中间的数，父亲为index-i和index-i-1
		a[index] = a[index] + next + Math.max(a[index-i], a[index-i-1]);
	}
    }
  }
  int max = 0;
  for (int i = (n-1)*n/2; i &lt; (n+1)*n/2; i++) {
	if (a[i] &gt; max) max = a[i];
  }
  System.out.println(max);
 }
}

方法二:
//Pku 1163 the Triangle by suqiang@neuq&amp;jlu 
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;


public class Main {

	public static void main(String[] args) throws Exception{
	
		BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
		int num = Integer.parseInt(in.readLine());
		int [][]number = new int[num][num];
		for(int i=0;i&lt; num;i++){
			String str = in.readLine();
			StringTokenizer strToke = new StringTokenizer(str);
			for(int j=0;j&lt;=i;j++){
				number[i][j] = Integer.parseInt(strToke.nextToken());
			}
		}
		for(int i=num-2;i&gt;=0;i--){
			for(int j=0;j&lt;=i;j++){
				number[i][j] = Math.max(number[i+1][j], number[i+1][j+1])+number[i][j];
			}
		}
		
		System.out.println(number[0][0]);
	}

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36577">
<article class="comment" id="comment-36577">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-36577" rel="nofollow"><time datetime="2015-06-23T04:30:35+00:00" pubdate="">2015年6月23日 at 上午4:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4339">
<article class="comment" id="comment-4339">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4339" rel="nofollow"><time datetime="2015-03-17T14:26:43+00:00" pubdate="">2015年3月17日 at 下午2:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跟书上的解法不一样，不知道哪个效率要高些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36576">
<article class="comment" id="comment-36576">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-36576" rel="nofollow"><time datetime="2015-01-26T22:29:20+00:00" pubdate="">2015年1月26日 at 下午10:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4338">
<article class="comment" id="comment-4338">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4338" rel="nofollow"><time datetime="2014-11-20T22:50:26+00:00" pubdate="">2014年11月20日 at 下午10:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52573">
<article class="comment" id="comment-52573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-52573" rel="nofollow"><time datetime="2014-10-13T09:02:12+00:00" pubdate="">2014年10月13日 at 上午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4336">
<article class="comment" id="comment-4336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4336" rel="nofollow"><time datetime="2014-10-02T02:10:56+00:00" pubdate="">2014年10月2日 at 上午2:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>以了解 想問為甚麼 Tbl[6001] = {1} 初始化都是1<br/>
為何不是Tbl[0]=1 其他為0</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52574">
<article class="comment" id="comment-52574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-52574" rel="nofollow"><time datetime="2014-09-15T10:56:55+00:00" pubdate="">2014年9月15日 at 上午10:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4337">
<article class="comment" id="comment-4337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4337" rel="nofollow"><time datetime="2014-08-06T03:20:04+00:00" pubdate="">2014年8月6日 at 上午3:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4335">
<article class="comment" id="comment-4335">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4335" rel="nofollow"><time datetime="2014-06-09T00:19:37+00:00" pubdate="">2014年6月9日 at 上午12:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是穷举，但是代码有优化（v数组），并不是2^n。测试数据应该没问题，之前有超时的代码。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36580">
<article class="comment" id="comment-36580">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-36580" rel="nofollow"><time datetime="2014-02-19T22:59:44+00:00" pubdate="">2014年2月19日 at 下午10:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36578">
<article class="comment" id="comment-36578">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-36578" rel="nofollow"><time datetime="2014-02-04T23:59:59+00:00" pubdate="">2014年2月4日 at 下午11:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以参考算法导论中的时间戳。就是结束访问时间，最后结束的顶点肯定是入度为0的顶点，因为DFS要回溯</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4340">
<article class="comment" id="comment-4340">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4340" rel="nofollow"><time datetime="2013-12-17T08:58:33+00:00" pubdate="">2013年12月17日 at 上午8:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36579">
<article class="comment" id="comment-36579">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-36579" rel="nofollow"><time datetime="2013-11-23T01:13:38+00:00" pubdate="">2013年11月23日 at 上午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真考人啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4334">
<article class="comment" id="comment-4334">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/POJ-1163-The-Triangle-blog-293.html#comment-4334" rel="nofollow"><time datetime="2013-11-17T02:40:28+00:00" pubdate="">2013年11月17日 at 上午2:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>