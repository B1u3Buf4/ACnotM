<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-13</div>
<div class="tit"><h1 class="entry-title">POJ 3641 Pseudoprime numbers [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a></span><span class="i4">围观634次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1113" href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comments" title="《POJ 3641 Pseudoprime numbers [解题报告] Java》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Pseudoprime numbers</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<p>Fermat’s theorem states that for any prime number <i>p</i> and for any integer <i>a</i> &gt; 1, <i>a<sup>p</sup></i> = <i>a</i> (mod <i>p</i>). That is, if we raise <i>a</i> to the <i>p</i><sup>th</sup> power and divide by <i>p</i>, the remainder is <i>a</i>. Some (but not very many) non-prime values of <i>p</i>, known as base-<i>a </i>pseudoprimes, have this property for some <i>a</i>. (And some, known as Carmichael Numbers, are base-<i>a</i> pseudoprimes for all <i>a</i>.)</p>
<p>Given 2 &lt; <i>p</i> ≤ 1000000000 and 1 &lt; <i>a</i> &lt; <i>p</i>, determine whether or not <i>p</i> is a base-<i>a</i> pseudoprime.</p>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<p>Input contains several test cases followed by a line containing "0 0". Each test case consists of a line containing <i>p</i> and <i>a</i>. </p>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<p>For each test case, output "yes" if p is a base-<i>a</i> pseudoprime; otherwise output "no".</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 2
10 3
341 2
341 3
1105 2
1105 3
0 0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
no
no
yes
no
yes
yes
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3641">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3641">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3641">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.util.Scanner;
public class Main
{
 public static void main(String[] args)
 {
  Scanner in=new Scanner(System.in);
  while(true)
  {
	long p=in.nextLong();
	long a=in.nextLong();
	if(a==0&amp;&amp;p==0) break;
	if(isPrime(p)){
		System.out.println("no");
		continue;
	}
	System.out.println(sum(a,p,p)==a?"yes":"no");
   }
  }

 public static boolean isPrime(long a)
 {
	if(a==2) return true;
	for(int i=3;i&lt;=Math.sqrt(a);i+=2)
		if(a%i==0) return false;
	return true;
  }

 public static long sum(long a,long n,long p)
 {
	if(n==0) return 1;
	long w=sum(a*a%p,n/2,p);
	if(n%2==1) w=(w*a)%p;
	return w;
 }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-53889">
<article class="comment" id="comment-53889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53889" rel="nofollow"><time datetime="2015-07-13T01:14:09+00:00" pubdate="">2015年7月13日 at 上午1:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53884">
<article class="comment" id="comment-53884">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53884" rel="nofollow"><time datetime="2015-06-12T05:56:42+00:00" pubdate="">2015年6月12日 at 上午5:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9918">
<article class="comment" id="comment-9918">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-9918" rel="nofollow"><time datetime="2015-05-17T08:13:41+00:00" pubdate="">2015年5月17日 at 上午8:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>else if也是要比较两次</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53886">
<article class="comment" id="comment-53886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53886" rel="nofollow"><time datetime="2015-02-17T20:31:56+00:00" pubdate="">2015年2月17日 at 下午8:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53882">
<article class="comment" id="comment-53882">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53882" rel="nofollow"><time datetime="2014-12-15T03:35:08+00:00" pubdate="">2014年12月15日 at 上午3:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53881">
<article class="comment" id="comment-53881">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liluvu</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53881" rel="nofollow"><time datetime="2014-11-30T09:06:42+00:00" pubdate="">2014年11月30日 at 上午9:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#pragma pack(2) 这个用法太坑爹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53885">
<article class="comment" id="comment-53885">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53885" rel="nofollow"><time datetime="2014-06-22T00:14:20+00:00" pubdate="">2014年6月22日 at 上午12:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码可真够长的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53887">
<article class="comment" id="comment-53887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53887" rel="nofollow"><time datetime="2014-03-20T08:25:32+00:00" pubdate="">2014年3月20日 at 上午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思考人生吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53888">
<article class="comment" id="comment-53888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53888" rel="nofollow"><time datetime="2014-03-09T23:10:27+00:00" pubdate="">2014年3月9日 at 下午11:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53883">
<article class="comment" id="comment-53883">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/POJ-3641-Pseudoprime-numbers-blog-1113.html#comment-53883" rel="nofollow"><time datetime="2014-01-14T06:15:57+00:00" pubdate="">2014年1月14日 at 上午6:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>