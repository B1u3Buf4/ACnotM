<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">剑指offer(14)-最大子向量和 九度1372</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a></span><span class="i4">围观1783次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3421" href="http://www.acmerblog.com/interview-14-3421.html#comments" title="《剑指offer(14)-最大子向量和 九度1372》上的评论">25 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来自<strong>九度 1372</strong> 剑指Offer系列：http://ac.jobdu.com/problem.php?pid=1372</p>
<dl>
<dt><b>题目描述：</b></dt>
<dd>HZ偶尔会拿些专业问题来忽悠那些非计算机专业的同学。今天JOBDU测试组开完会后,他又发话了:在古老的一维模式识别中,常常需要计算连续子向量的最大和,当向量全为正数的时候,问题很好解决。但是,如果向量中包含负数,是否应该包含某个负数,并期望旁边的正数会弥补它呢？例如:{6,-3,-2,7,-15,1,2,2},连续子向量的最大和为8(从第0个开始,到第3个为止)。你会不会被他忽悠住？</dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>输入有多组数据,每组测试数据包括两行。第一行为一个整数n(0&lt;=n&lt;=100000),当n=0时,输入结束。接下去的一行包含n个整数(我们保证所有整数属于[-1000,1000])。</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>对应每个测试案例,需要输出3个整数单独一行,分别表示连续子向量的最大和、该子向量的第一个元素的下标和最后一个元素的下标。若是存在多个子向量,则输出起始元素下标最小的那个。</dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>3
-1 -3 -2
5
-8 3 2 0 5
8
6 -3 -2 7 -15 1 2 2
0</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>-1 0 0
10 1 4
8 0 3</pre>
</dd>
</dl>
<p>其实也就是常见的连续子数组的最大和。可以发现规律，只要当前字段的和大于0，就可以一直加下去。</p>
<p>遍历一编即可，用几个变量存下中间结果。详见代码：</p>
<pre class="brush:cpp">//============================================================================
// Name        : 最大子序列.cpp
// Author      : coder
// Version     :
// Copyright   : www.acmerblog.com
// Description : Hello World in C++, Ansi-style
//============================================================================
#include &lt;stdio.h&gt;
int n, i;
int ans, sum; //分别记录结果和当前的总和
int start, end, curStart, tmp;//curStart为当前遍历字段的开始位置
int main() {
	//freopen("in.txt", "r", stdin);
	while(scanf("%d",&amp;n),n){
		ans = -1000;
		curStart = 0;
		sum = 0;
		for( i=0; i&lt;n; i++){
			scanf("%d", &amp;tmp);
			sum += tmp;
			if(sum &gt; ans){ //更新最大值
				ans = sum ;
				start = curStart;
				end = i;
			}
			if(sum &lt; 0){ //如果当前为负，就重新开始一个字段
				sum = 0;
				curStart = i+1;
			}
		}
		printf("%d %d %d\n",ans,start,end);
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-85836">
<article class="comment" id="comment-85836">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85836" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85835">
<article class="comment" id="comment-85835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85835" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-85834">
<article class="comment" id="comment-85834">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85834" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85833">
<article class="comment" id="comment-85833">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85833" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-85832">
<article class="comment" id="comment-85832">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85832" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85831">
<article class="comment" id="comment-85831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85831" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-85830">
<article class="comment" id="comment-85830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85830" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85829">
<article class="comment" id="comment-85829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85829" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-85828">
<article class="comment" id="comment-85828">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85828" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85827">
<article class="comment" id="comment-85827">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523133" rel="external nofollow">新用户895326</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-85827" rel="nofollow"><time datetime="2017-04-13T03:10:08+00:00" pubdate="">2017年4月13日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>9494害的我要花钱买QAQ</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-65037">
<article class="comment" id="comment-65037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://t.qq.com/suweitao5769" rel="external nofollow">苏伟涛</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-65037" rel="nofollow"><time datetime="2017-02-22T01:22:16+00:00" pubdate="">2017年2月22日 at 上午1:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int[] arr = new int[]{1,-2,3,10,-4,7,2,-5};				int currentSum = arr[0];		for (int i = 1; i &lt; arr.length – 1; i++) {			currentSum = Math.max(currentSum + arr <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> , arr <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> );		}		System.out.println(“结果为=” + currentSum);</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21454">
<article class="comment" id="comment-21454">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-21454" rel="nofollow"><time datetime="2015-07-13T17:52:06+00:00" pubdate="">2015年7月13日 at 下午5:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44997">
<article class="comment" id="comment-44997">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vincent_ynh</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-44997" rel="nofollow"><time datetime="2015-06-15T11:48:00+00:00" pubdate="">2015年6月15日 at 上午11:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>方法4中使用hash表，只要用出现次数作为Value，就可以解决重复元素的问题了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56696">
<article class="comment" id="comment-56696">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56696" rel="nofollow"><time datetime="2015-04-11T18:57:09+00:00" pubdate="">2015年4月11日 at 下午6:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21453">
<article class="comment" id="comment-21453">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-21453" rel="nofollow"><time datetime="2015-04-03T18:05:36+00:00" pubdate="">2015年4月3日 at 下午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不好意思，写错了．应该是　path[0]=0,  visited[V] = true;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56691">
<article class="comment" id="comment-56691">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56691" rel="nofollow"><time datetime="2015-02-18T21:44:05+00:00" pubdate="">2015年2月18日 at 下午9:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果两个序列的最后字符不匹配（即X [M-1]！= Y [N-1]）<br/>
L（X [0 .. M-1]，Y [0 .. N-1]）= MAX（L（X [0 .. M-2]，Y [0 .. N-1]），L（X [0 .. M-1]，Y [0 .. N-1]）<br/>
这里写错了吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21455">
<article class="comment" id="comment-21455">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-21455" rel="nofollow"><time datetime="2014-12-27T03:11:18+00:00" pubdate="">2014年12月27日 at 上午3:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56697">
<article class="comment" id="comment-56697">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56697" rel="nofollow"><time datetime="2014-12-14T10:23:21+00:00" pubdate="">2014年12月14日 at 上午10:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21451">
<article class="comment" id="comment-21451">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-21451" rel="nofollow"><time datetime="2014-11-19T15:53:37+00:00" pubdate="">2014年11月19日 at 下午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56694">
<article class="comment" id="comment-56694">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56694" rel="nofollow"><time datetime="2014-11-03T06:06:06+00:00" pubdate="">2014年11月3日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>bottes vernies blanches</strong></p>
<p>I appreciate the efforts you men and women place in to share blogs on such sort of matters, it was certainly useful. Keep Posting!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56695">
<article class="comment" id="comment-56695">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56695" rel="nofollow"><time datetime="2014-10-23T18:25:26+00:00" pubdate="">2014年10月23日 at 下午6:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个还不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21452">
<article class="comment" id="comment-21452">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-21452" rel="nofollow"><time datetime="2014-09-09T18:23:18+00:00" pubdate="">2014年9月9日 at 下午6:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个是代码高亮功能，那就再换一个颜色</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44996">
<article class="comment" id="comment-44996">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-44996" rel="nofollow"><time datetime="2014-07-20T03:01:57+00:00" pubdate="">2014年7月20日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56692">
<article class="comment" id="comment-56692">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56692" rel="nofollow"><time datetime="2014-04-09T10:22:07+00:00" pubdate="">2014年4月9日 at 上午10:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56693">
<article class="comment" id="comment-56693">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/interview-14-3421.html#comment-56693" rel="nofollow"><time datetime="2014-01-25T22:34:37+00:00" pubdate="">2014年1月25日 at 下午10:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不好意思，写错了．应该是　path[0]=0,  visited[V] = true;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>