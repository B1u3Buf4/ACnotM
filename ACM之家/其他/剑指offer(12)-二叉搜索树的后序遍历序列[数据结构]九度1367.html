<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-28</div>
<div class="tit"><h1 class="entry-title">剑指offer(12)-二叉搜索树的后序遍历序列[数据结构]九度1367</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a></span><span class="i4">围观2008次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2969" href="http://www.acmerblog.com/offer12-2969.html#comments" title="《剑指offer(12)-二叉搜索树的后序遍历序列[数据结构]九度1367》上的评论">19 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来自剑指offer系列 <strong>九度 1367：</strong>http://ac.jobdu.com/problem.php?pid=1367</p>
<dl>
<dt><b>题目描述：</b></dt>
<dd>输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则输出Yes,否则输出No。假设输入的数组的任意两个数字都互不相同。</dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>每个测试案例包括2行：第一行为1个整数n(1&lt;=n&lt;=10000)，表示数组的长度。
<p>第二行包含n个整数，表示这个数组，数组中的数的范围是[0,100000000]。</p>
</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>对应每个测试案例，如果输入数组是某二叉搜索树的后序遍历的结果输出Yes，否则输出No。</dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>7
5 7 6 9 11 10 8
4
7 4 6 5</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>Yes
No</pre>
</dd>
</dl>
<p>对应二叉树的问题普遍是用递归解决。二叉搜索树也就是二分查找树。左子树的每个节点都比根节点小，右子树的每个节点都比根节点大。</p>
<p>以 5 7 6 9 11 10 8 为例： 根节点为8，左子树为 5 7 6  又子树为 11 10。</p>
<p>所以，任务就是先找到左子树。</p>
<p>程序中是这样找的：</p>
<p>int k = start; //k为右子树的开始位置(左子树都是比根节点小的数)<br/>
while(arr[k] &lt; arr[end] &amp;&amp; k &lt;= end-1) k++;</p>
<p>此时，arr[k] == 11。即右子树开始的位置。 接下来判断右子树是否是符合要求的，即都比根节点大。</p>
<pre class="brush:cpp">//============================================================================
// Name        : 二叉搜索树的后序遍历序列.cpp
// Author      : coder
// Version     :
// Copyright   : www.acmerblog.com
// Description : Hello World in C++, Ansi-style
//============================================================================
#include &lt;stdio.h&gt;
int n, arr[10001], j;
bool check(int start, int end){
	//任意3个或3个以下的数都符合
	if(start &gt;= end-2) return true;
	int k = start; //k为右子树的开始位置(左子树都是比根节点小的数)
	while(arr[k] &lt; arr[end] &amp;&amp; k &lt;= end-1) k++;
	j = k;
	//只要右子树中有比根节点小的就不符合
	while(j &lt; end) if(arr[j++] &lt; arr[end]) return false;
	return check(start,k-1) &amp;&amp; check(k,end-1); //分别判断左右子树
}
int main() {
	while(scanf("%d", &amp;n) != EOF){
		for(int i=0; i&lt;n; i++) scanf("%d", &amp;arr[i]);
		if( check(0,n-1) ) puts("Yes");
		else puts("No");
	}
	return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-87441">
<article class="comment" id="comment-87441">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513997" rel="external nofollow">新用户706153</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-87441" rel="nofollow"><time datetime="2017-04-13T06:42:36+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跳上来，自己动</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87440">
<article class="comment" id="comment-87440">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513997" rel="external nofollow">新用户706153</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-87440" rel="nofollow"><time datetime="2017-04-13T06:42:36+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跳上来，自己动</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87439">
<article class="comment" id="comment-87439">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513997" rel="external nofollow">新用户706153</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-87439" rel="nofollow"><time datetime="2017-04-13T06:42:36+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跳上来，自己动</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87438">
<article class="comment" id="comment-87438">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513997" rel="external nofollow">新用户706153</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-87438" rel="nofollow"><time datetime="2017-04-13T06:42:36+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跳上来，自己动</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87437">
<article class="comment" id="comment-87437">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513997" rel="external nofollow">新用户706153</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-87437" rel="nofollow"><time datetime="2017-04-13T06:42:36+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跳上来，自己动</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18889">
<article class="comment" id="comment-18889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-18889" rel="nofollow"><time datetime="2015-06-16T21:57:46+00:00" pubdate="">2015年6月16日 at 下午9:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题的样例描述不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56130">
<article class="comment" id="comment-56130">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-56130" rel="nofollow"><time datetime="2014-12-27T21:10:32+00:00" pubdate="">2014年12月27日 at 下午9:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43862">
<article class="comment" id="comment-43862">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43862" rel="nofollow"><time datetime="2014-12-08T11:41:28+00:00" pubdate="">2014年12月8日 at 上午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43863">
<article class="comment" id="comment-43863">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Anne</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43863" rel="nofollow"><time datetime="2014-11-11T11:33:51+00:00" pubdate="">2014年11月11日 at 上午11:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个是代码高亮功能，那就再换一个颜色</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43859">
<article class="comment" id="comment-43859">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43859" rel="nofollow"><time datetime="2014-09-17T07:28:00+00:00" pubdate="">2014年9月17日 at 上午7:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码是给出了，但是解析的也太不清晰了吧！如 13 abejkcfghid jkebfghicda<br/>
第一步拆分为 三部分 (bejk, cfghi, d) * C(13,3)，为什么要这样拆分，原则是什么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43861">
<article class="comment" id="comment-43861">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43861" rel="nofollow"><time datetime="2014-08-29T18:08:32+00:00" pubdate="">2014年8月29日 at 下午6:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>涨姿势了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-683">
<article class="comment" id="comment-683">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">binbinlocky</span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-683" rel="nofollow"><time datetime="2014-08-10T13:47:22+00:00" pubdate="">2014年8月10日 at 下午1:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>简洁的代码</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43860">
<article class="comment" id="comment-43860">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43860" rel="nofollow"><time datetime="2014-06-26T11:37:25+00:00" pubdate="">2014年6月26日 at 上午11:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18891">
<article class="comment" id="comment-18891">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xun.gong</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-18891" rel="nofollow"><time datetime="2014-06-20T16:35:48+00:00" pubdate="">2014年6月20日 at 下午4:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18890">
<article class="comment" id="comment-18890">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-18890" rel="nofollow"><time datetime="2014-04-21T01:38:22+00:00" pubdate="">2014年4月21日 at 上午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>想问下computeLSPArray那里，if(len!=0) len=lps[len-1]是什么意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18892">
<article class="comment" id="comment-18892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-18892" rel="nofollow"><time datetime="2014-02-27T01:49:22+00:00" pubdate="">2014年2月27日 at 上午1:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43858">
<article class="comment" id="comment-43858">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-43858" rel="nofollow"><time datetime="2014-02-25T13:10:46+00:00" pubdate="">2014年2月25日 at 下午1:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉我好像很多都不会做。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18893">
<article class="comment" id="comment-18893">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-18893" rel="nofollow"><time datetime="2014-02-18T01:52:10+00:00" pubdate="">2014年2月18日 at 上午1:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉我好像很多都不会做。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56131">
<article class="comment" id="comment-56131">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/offer12-2969.html#comment-56131" rel="nofollow"><time datetime="2014-02-08T04:17:14+00:00" pubdate="">2014年2月8日 at 上午4:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>文章写得挺好，就是最后的斐波那契那个没有看明白</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>