<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>08-15</div>
<div class="tit"><h1 class="entry-title">从数组中取出r个数的所有组合</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/math/combination" rel="category tag" title="查看组合数学中的全部文章">组合数学</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观1286次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6059" href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comments" title="《从数组中取出r个数的所有组合》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p><strong>问题</strong></p>
<p>给一个数组arr，长度为n，找出从中取出r个数的所有组合。例如对于数组{1, 2, 3, 4} ，r = 2，则打印出：{1, 2}, {1, 3}, {1, 4}, {2, 3}, {2, 4} ，{3, 4}. 也就是 组合公式C(4,2) = 6个。 假设输入的元素没有重复，取出的r个数也没有重复。</p>
<p>使用递归是比较容易解决，类似分治法。组合数有如下的递归关系：C(n,r) = C(n-1, r-1) + C(n-1, r)。</p>
<p>我们可以考虑对当前的数取还是不取，从而不断缩小问题的范围。</p>
<p>代码如下：</p>
<pre class="brush:cpp">//============================================================================
// Name        : 所有组合.cpp
// Author      : Coder
// Version     :
// Copyright   : www.acmerblog.com
// Description : Hello World in C++, Ansi-style
//============================================================================

#include 
#include 
using namespace std;

void print(int arr[],int s,int e){
	for(int i=s; i&lt;=e; i++){
		printf("%d ", arr[i]);
	}
	puts("");
}
/*
 arr[] 输入数组， data[]保存当前的组合
  start, end 剩余数组的起始位置
  index 已经找到的组合数的个数
  r 总共需要的组合数的个数
  */
void printAllCombination(int arr[],int data[],int start, int end,int index , int r){
	//组合够r个就打印，并返回
	if(index == r ){
		for(int i=0; i&lt;r; i++)
			printf("%d ", data[i]);
		puts("");
		return;
	}
	//如果剩下的数组不够(r-index)个就直接返回。
	if(start + (r-index) &gt; end ) return;
	data[index] = arr[start];//记录当前数据
	printAllCombination(arr,data ,start+1, end, index+1, r);
	printAllCombination(arr, data,start+1, end, index, r);
}
int main() {
	int arr[] = {1,2,3,4,5};
	int r = 3;
	int * data = new int[r];//保持组合数
	printAllCombination(arr,data, 0, sizeof(arr)/sizeof(arr[0]) ,0 ,r);
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75134">
<article class="comment" id="comment-75134">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75134" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75133">
<article class="comment" id="comment-75133">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75133" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75132">
<article class="comment" id="comment-75132">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75132" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75131">
<article class="comment" id="comment-75131">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75131" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75130">
<article class="comment" id="comment-75130">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75130" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75129">
<article class="comment" id="comment-75129">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75129" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75128">
<article class="comment" id="comment-75128">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75128" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75127">
<article class="comment" id="comment-75127">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514778" rel="external nofollow">新用户062960</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-75127" rel="nofollow"><time datetime="2017-04-12T05:46:04+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他可以追上去啊，船舱应该逃逸不了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64859">
<article class="comment" id="comment-64859">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">wtxcV</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-64859" rel="nofollow"><time datetime="2016-11-12T03:35:01+00:00" pubdate="">2016年11月12日 at 上午3:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更C刺j激，准备好手纸哦 A 片。HTTp://T.Cn/Rc4PF3o <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64785">
<article class="comment" id="comment-64785">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">ZftHA</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-64785" rel="nofollow"><time datetime="2016-10-21T05:47:32+00:00" pubdate="">2016年10月21日 at 上午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺ｃ激，准备好手纸哦 A 片。。 <a href="http://T.CN/RcFeD2C" rel="nofollow">http://T.CN/RcFeD2C</a> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64726">
<article class="comment" id="comment-64726">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">NQHwv</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-64726" rel="nofollow"><time datetime="2016-10-10T07:12:09+00:00" pubdate="">2016年10月10日 at 上午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺ｃ激，准备好手纸哦 A 片。。 <a href="http://T.CN/RcFeD2C" rel="nofollow">http://T.CN/RcFeD2C</a> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49528">
<article class="comment" id="comment-49528">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-49528" rel="nofollow"><time datetime="2015-05-28T18:03:41+00:00" pubdate="">2015年5月28日 at 下午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30669">
<article class="comment" id="comment-30669">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-30669" rel="nofollow"><time datetime="2015-03-31T04:29:57+00:00" pubdate="">2015年3月31日 at 上午4:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30668">
<article class="comment" id="comment-30668">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-30668" rel="nofollow"><time datetime="2015-03-15T22:37:20+00:00" pubdate="">2015年3月15日 at 下午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30666">
<article class="comment" id="comment-30666">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-30666" rel="nofollow"><time datetime="2015-02-19T07:01:29+00:00" pubdate="">2015年2月19日 at 上午7:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30665">
<article class="comment" id="comment-30665">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-30665" rel="nofollow"><time datetime="2015-01-12T07:17:14+00:00" pubdate="">2015年1月12日 at 上午7:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30667">
<article class="comment" id="comment-30667">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-30667" rel="nofollow"><time datetime="2014-12-01T19:57:29+00:00" pubdate="">2014年12月1日 at 下午7:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-955">
<article class="comment" id="comment-955">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">aaa</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-955" rel="nofollow"><time datetime="2014-10-10T09:19:29+00:00" pubdate="">2014年10月10日 at 上午9:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目的核心一句话是：取还是不取。<br/>
如果当前取，则index+1作为参数。如果当前不取，则任用index作为参数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-750">
<article class="comment" id="comment-750">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">hailiyouyu</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-750" rel="nofollow"><time datetime="2014-08-24T17:11:56+00:00" pubdate="">2014年8月24日 at 下午5:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请问printAllCombination的时间复杂度怎么分析呢？</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-751">
<article class="comment" id="comment-751">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://weibo.com/itong2055" rel="external nofollow">管理员</a></span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-751" rel="nofollow"><time datetime="2014-08-24T18:16:31+00:00" pubdate="">2014年8月24日 at 下午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment even depth-3" id="li-comment-752">
<article class="comment" id="comment-752">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">hailiyouyu</span> on <a href="http://www.acmerblog.com/combinations-of-r-elements-6059.html#comment-752" rel="nofollow"><time datetime="2014-08-24T18:35:10+00:00" pubdate="">2014年8月24日 at 下午6:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ol>