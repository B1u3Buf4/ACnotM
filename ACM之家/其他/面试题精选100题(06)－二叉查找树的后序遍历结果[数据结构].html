<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-13</div>
<div class="tit"><h1 class="entry-title">面试题精选100题(06)－二叉查找树的后序遍历结果[数据结构]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/offer" rel="category tag" title="查看剑指offer中的全部文章">剑指offer</a>, <a href="http://www.acmerblog.com/category/data-struct/trees" rel="category tag" title="查看树形结构中的全部文章">树形结构</a></span><span class="i4">围观2062次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2421" href="http://www.acmerblog.com/interview-6-2421.html#comments" title="《面试题精选100题(06)－二叉查找树的后序遍历结果[数据结构]》上的评论">25 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目：输入一个整数数组，判断该数组是不是某二元查找树的后序遍历的结果。如果是返回true，否则返回false。</p>
<p>例如输入5、7、6、9、11、10、8，由于这一整数序列是如下树的后序遍历结果：</p>
<p>8<br/>
/  \<br/>
6    10<br/>
/ \    / \<br/>
5   7   9  11</p>
<p>因此返回true。</p>
<p>如果输入7、4、6、5，没有哪棵树的后序遍历的结果是这个序列，因此返回false。</p>
<p>分析：这是一道trilogy的笔试题，主要考查对二元查找树的理解。</p>
<p>在后续遍历得到的序列中，最后一个元素为树的根结点。从头开始扫描这个序列，比根结点小的元素都应该位于序列的左半部分；从第一个大于跟结点开始到跟结点前面的一个元素为止，所有元素都应该大于跟结点，因为这部分元素对应的是树的右子树。根据这样的划分，把序列划分为左右两部分，我们递归地确认序列的左、右两部分是不是都是二元查找树。</p>
<p>参考代码：</p>
<pre class="brush:cpp">using namespace std;

///////////////////////////////////////////////////////////////////////
// Verify whether a squence of integers are the post order traversal
// of a binary search tree (BST)
// Input: squence - the squence of integers
//        length  - the length of squence
// Return: return ture if the squence is traversal result of a BST,
//         otherwise, return false
///////////////////////////////////////////////////////////////////////
bool verifySquenceOfBST(int squence[], int length)
{
      if(squence == NULL || length &lt;= 0)
            return false;

      // root of a BST is at the end of post order traversal squence
      int root = squence[length - 1];

      // the nodes in left sub-tree are less than the root
      int i = 0;
      for(; i &lt; length - 1; ++ i)
      {
            if(squence[i] &gt; root)
                  break;
      }

      // the nodes in the right sub-tree are greater than the root
      int j = i;
      for(; j &lt; length - 1; ++ j)
      {
            if(squence[j] &lt; root)
                  return false;
      }

      // verify whether the left sub-tree is a BST
      bool left = true;
      if(i &gt; 0)
            left = verifySquenceOfBST(squence, i);

      // verify whether the right sub-tree is a BST
      bool right = true;
      if(i &lt; length - 1)
            right = verifySquenceOfBST(squence + i, length - i - 1);

      return (left &amp;&amp; right);
}</pre>
<p>转自：http://zhedahht.blog.163.com/</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-90385">
<article class="comment" id="comment-90385">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90385" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90384">
<article class="comment" id="comment-90384">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90384" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90383">
<article class="comment" id="comment-90383">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90383" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90382">
<article class="comment" id="comment-90382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90382" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90381">
<article class="comment" id="comment-90381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90381" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90380">
<article class="comment" id="comment-90380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90380" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90379">
<article class="comment" id="comment-90379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90379" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90378">
<article class="comment" id="comment-90378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90378" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90377">
<article class="comment" id="comment-90377">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90377" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90376">
<article class="comment" id="comment-90376">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90376" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90375">
<article class="comment" id="comment-90375">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457283" rel="external nofollow">新用户941306</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-90375" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>也有例外，比如外国人报警的破案就特快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15990">
<article class="comment" id="comment-15990">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15990" rel="nofollow"><time datetime="2015-06-18T12:30:50+00:00" pubdate="">2015年6月18日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于AC了！next数组还是不好理解啊，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42308">
<article class="comment" id="comment-42308">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42308" rel="nofollow"><time datetime="2015-06-15T02:00:18+00:00" pubdate="">2015年6月15日 at 上午2:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学，非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15994">
<article class="comment" id="comment-15994">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15994" rel="nofollow"><time datetime="2015-06-01T13:38:38+00:00" pubdate="">2015年6月1日 at 下午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>27行 minStack.push(minValue); 去掉就对了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42309">
<article class="comment" id="comment-42309">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42309" rel="nofollow"><time datetime="2015-03-06T09:23:25+00:00" pubdate="">2015年3月6日 at 上午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42306">
<article class="comment" id="comment-42306">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42306" rel="nofollow"><time datetime="2015-01-19T11:02:06+00:00" pubdate="">2015年1月19日 at 上午11:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55442">
<article class="comment" id="comment-55442">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">neil2wm</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-55442" rel="nofollow"><time datetime="2015-01-14T20:50:46+00:00" pubdate="">2015年1月14日 at 下午8:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55441">
<article class="comment" id="comment-55441">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-55441" rel="nofollow"><time datetime="2014-12-20T09:06:32+00:00" pubdate="">2014年12月20日 at 上午9:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15993">
<article class="comment" id="comment-15993">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15993" rel="nofollow"><time datetime="2014-11-05T00:22:04+00:00" pubdate="">2014年11月5日 at 上午12:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长好。我是一个准备创业的互联网小白,我们打算做一个有关国*际*游*学的平台。手上也有了一些境外资源。现阶段的团队现在没有cto.原意出让一些管理股寻找一个靠谱的技术专家做合伙人, 不知道是不是能得到您的帮助。发个帖子或者其他方式。期待您的回应。可以加我微信tianxielemon聊聊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15992">
<article class="comment" id="comment-15992">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15992" rel="nofollow"><time datetime="2014-10-24T21:04:37+00:00" pubdate="">2014年10月24日 at 下午9:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15991">
<article class="comment" id="comment-15991">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15991" rel="nofollow"><time datetime="2014-07-22T08:17:59+00:00" pubdate="">2014年7月22日 at 上午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>This write-up presents the gentle in which we can notice the fact. this is extremely wonderful one and gives in depth info.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42307">
<article class="comment" id="comment-42307">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42307" rel="nofollow"><time datetime="2014-03-24T19:51:56+00:00" pubdate="">2014年3月24日 at 下午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42310">
<article class="comment" id="comment-42310">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jhxxszy</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42310" rel="nofollow"><time datetime="2014-03-19T17:58:42+00:00" pubdate="">2014年3月19日 at 下午5:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哇，算法有这么多呢！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42311">
<article class="comment" id="comment-42311">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liluvu</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-42311" rel="nofollow"><time datetime="2014-02-26T10:16:22+00:00" pubdate="">2014年2月26日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15995">
<article class="comment" id="comment-15995">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/interview-6-2421.html#comment-15995" rel="nofollow"><time datetime="2014-01-10T13:33:41+00:00" pubdate="">2014年1月10日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一段代码中：<br/>
 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
明显不对吧，应该是 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =j;才对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>