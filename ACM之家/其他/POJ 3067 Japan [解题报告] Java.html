<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3067 Japan [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观1065次</span><span class="i3"><a class="ds-thread-count" data-thread-key="939" href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comments" title="《POJ 3067 Japan [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Japan</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Japan plans to welcome the ACM ICPC World Finals and a lot of roads must be built for the venue. Japan is tall island with N cities on the East coast and M cities on the West coast (M &lt;= 1000, N &lt;= 1000). K superhighways will be build. Cities on each coast are numbered 1, 2, ... from North to South. Each superhighway is straight line and connects city on the East coast with city of the West coast. The funding for the construction is guaranteed by ACM. A major portion of the sum is determined by the number of crossings between superhighways. At most two superhighways cross at one location. Write a program that calculates the number of the crossings between superhighways. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input file starts with T – the number of test cases. Each test case starts with three numbers – N, M, K. Each of the next K lines contains two numbers – the numbers of cities connected by the superhighway. The first one is the number of the city on the East coast and second one is the number of the city of the West coast.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case write one line on the standard output:<br/>
<br/>Test case (case number): (number of crossings)</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
3 4 4
1 4
2 3
3 2
3 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Test case 1: 5</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3067">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3067">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3067">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.*;
import java.util.Arrays;
public class Main
{
 static long ans=0;
 public static void main(String[] args) throws IOException
 {
  InputStreamReader is=new InputStreamReader(System.in);
  BufferedReader in=new BufferedReader(is);
  int a=Integer.parseInt(in.readLine());
  int cnt=0;
  while((a--)!=0)
  {
   ans=0;
   cnt++;
   String[] ss=in.readLine().split(" ");
   int n=Integer.parseInt(ss[2]);
   my[] p=new my[n];
   for(int i=0;i&lt; n;i++)
   {
	ss=in.readLine().split(" ");
	int x1=Integer.parseInt(ss[0]);
	int y1=Integer.parseInt(ss[1]);
	p[i]=new my(x1,y1);
    }
    Arrays.sort(p);
    mergesort(p,0,n);
    System.out.println("Test case "+cnt+": "+ans);
   }
 }

 static void mergesort(my[] arr,int f,int n)
 {
   int n1,n2;
   if(n&gt;1)
   {
	n1=n/2;
	n2=n-n1;
	mergesort(arr,f,n1);
	mergesort(arr,f+n1,n2);
	merge(arr,f,n1,n2);
   }
 }


 static void merge(my[] arr,int f,int n1,int n2)
 {
  int[] temp=new int[n1+n2];
  int cp=0,cp1=0,cp2=0,i=0;
  while((cp1&lt; n1)&amp;&amp;(cp2&lt; n2))
  {
	if(arr[f+cp1].y&lt; arr[f+n1+cp2].y)
		temp[cp++]=arr[f+(cp1++)].y;
	else if (arr[f+cp1].y==arr[f+n1+cp2].y)
	{
		temp[cp++]=arr[f+(cp1++)].y;
	}
	else {
		temp[cp++]=arr[f+n1+(cp2++)].y;
		ans+=n1-cp1;
	}
   }
  while(cp1&lt; n1)
	temp[cp++]=arr[f+(cp1++)].y;
  while(cp2&lt; n2)
	temp[cp++]=arr[f+n1+(cp2++)].y;
  for(i=0;i&lt; cp;i++)
	arr[f+i].y=temp[i];
 }
}

class my implements Comparable&lt; my&gt;
{
	int x,y;
	public my(int a,int b)
	{
         x=a;
	  y=b;
	}
	public int compareTo(my arg0) {
	  if(x==arg0.x)
		 return y-arg0.y;
	  return x-arg0.x;
	}
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-8865">
<article class="comment" id="comment-8865">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8865" rel="nofollow"><time datetime="2015-07-07T18:47:31+00:00" pubdate="">2015年7月7日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK),这样比较看，快排快</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8870">
<article class="comment" id="comment-8870">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8870" rel="nofollow"><time datetime="2015-06-09T11:36:23+00:00" pubdate="">2015年6月9日 at 上午11:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8864">
<article class="comment" id="comment-8864">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8864" rel="nofollow"><time datetime="2015-06-03T20:10:51+00:00" pubdate="">2015年6月3日 at 下午8:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8866">
<article class="comment" id="comment-8866">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bobo</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8866" rel="nofollow"><time datetime="2015-06-03T01:37:59+00:00" pubdate="">2015年6月3日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然是机试，还和13年重复。题目不难</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60949">
<article class="comment" id="comment-60949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60949" rel="nofollow"><time datetime="2015-06-02T09:34:58+00:00" pubdate="">2015年6月2日 at 上午9:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38711">
<article class="comment" id="comment-38711">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-38711" rel="nofollow"><time datetime="2015-05-07T10:42:18+00:00" pubdate="">2015年5月7日 at 上午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个方法是错的，不信你试试：<br/>
20 5<br/>
1 A:9<br/>
1 A:9<br/>
1 A:9<br/>
1 A:6<br/>
1 A:4<br/>
正确答案应该是19，这个答案是18</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60951">
<article class="comment" id="comment-60951">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60951" rel="nofollow"><time datetime="2015-02-26T20:45:51+00:00" pubdate="">2015年2月26日 at 下午8:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60950">
<article class="comment" id="comment-60950">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60950" rel="nofollow"><time datetime="2014-12-07T15:53:51+00:00" pubdate="">2014年12月7日 at 下午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60946">
<article class="comment" id="comment-60946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60946" rel="nofollow"><time datetime="2014-10-05T08:09:07+00:00" pubdate="">2014年10月5日 at 上午8:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题这里的解法最坏情况似乎应该是指数的。回溯的时候<br/>
O(n) = O(n-1) + O(n-2) + ….<br/>
O(n-1) = O(n-2) + O(n-3)+ …<br/>
O(n) – O(n-1) = O(n-1)<br/>
O(n) = 2O(n-1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60947">
<article class="comment" id="comment-60947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60947" rel="nofollow"><time datetime="2014-08-21T03:01:35+00:00" pubdate="">2014年8月21日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8869">
<article class="comment" id="comment-8869">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8869" rel="nofollow"><time datetime="2014-03-27T21:11:15+00:00" pubdate="">2014年3月27日 at 下午9:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>else if也是要比较两次</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60948">
<article class="comment" id="comment-60948">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-60948" rel="nofollow"><time datetime="2014-03-01T13:28:42+00:00" pubdate="">2014年3月1日 at 下午1:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-8867">
<article class="comment" id="comment-8867">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8867" rel="nofollow"><time datetime="2013-12-10T19:11:35+00:00" pubdate="">2013年12月10日 at 下午7:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8868">
<article class="comment" id="comment-8868">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jupiterhyun</a></span> on <a href="http://www.acmerblog.com/POJ-3067-Japan-blog-939.html#comment-8868" rel="nofollow"><time datetime="2013-11-14T17:39:20+00:00" pubdate="">2013年11月14日 at 下午5:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>