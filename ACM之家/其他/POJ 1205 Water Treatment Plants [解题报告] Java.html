<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1205 Water Treatment Plants [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观815次</span><span class="i3"><a class="ds-thread-count" data-thread-key="315" href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comments" title="《POJ 1205 Water Treatment Plants [解题报告] Java》上的评论">8 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Water Treatment Plants</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
River polution control is a major challenge that authorities face in order to ensure future clean water supply. Sewage treatment plants are used to clean-up the dirty water comming from cities before being discharged into the river. 
<p>As part of a coordinated plan, a pipeline is setup in order to connect cities to the sewage treatment plants distributed along the river. It is more efficient to have treatment plants running at maximum capacity and less-used ones switched off for a period. So, each city has its own treatment plant by the river and also a pipe to its neighbouring city upstream and a pipe to the next city downstream along the riverside. At each city’s treatment plant there are three choices:<br/>
</p><ul>
<li>either process any water it may receive from one neighbouring city, together with its own dirty water, discharging the cleaned-up water into the river;<br/>
</li>
<li>or send its own dirty water, plus any from its downstream neighbour, along to the upstream neighbouring city’s treatment plant (provided that city is not already using the pipe to send it’s dirty water downstream);<br/>
</li>
<li>or send its own dirty water, plus any from the upstream neighbour, to the downstream neighbouring city’s plant, if the pipe is not being used.<br/>
</li>
</ul>
<p></p><center><img src="http://www.acmerblog.com/img/poj/1205-25.jpg"/></center><br/>
<br/>The choices above ensure that: 
<p>every city must have its water treated somewhere and<br/>
<br/>at least one city must discharge the cleaned water into the river.<br/>
<br/>Let’s represent a city discharging water into the river as “V” (a downwards flow), passing water onto its neighbours as “&gt;” (to the next city on its right) or else “) and list the cities symbols in order. For example, two cities, A and B, can </p>
<p>each treat their own sewage and each discharges clean water into the river. So A’s action is denoted V as is B’s and we write “VV” ;<br/>
<br/>or else city A can send its sewage along the pipe (to the right) to B for treatment and discharge, denoted “&gt;V”;<br/>
<br/>or else city B can send its sewage to (the left to) A, which treats it with its own dirty water and discharges (V) the cleaned water into the river. So A discharges (V) and B passes water to the left (
<br/>We could not have “&gt;
</p><p>So we have just 3 possible set-ups that fit the conditions:<br/>
</p><pre>
<br/>         A    B       A &gt; B       A &lt; B 
<br/>         V    V           V       V             
<br/>  RIVER~ ~ ~ ~ ~     ~ ~ ~ ~ ~   ~ ~ ~ ~ ~RIVER
<br/>          "VV"        "&gt;V"         "V</pre>
<p>If we now consider three cities, we can determine 8 possible set-ups.<br/>
<br/>Your task is to produce a program that given the number of cities NC (or treatment plants) in the river bank, determines the number of possible set-ups, NS, that can be made according to the rules define above. </p>
<p>You need to be careful with your design as the number of cities can be as large as 100.
 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of a sequence of values, one per line, where each value represents the number of cities.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Your output should be a sequence of values, one per line, where each value represents the number of possible set-ups for the corresponding number of cities read in the same input line. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
20</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
8
102334155</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1205">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1205">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1205">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">//* @author:
import java.util.*;
import java.math.BigInteger;

public class Main {
    public static void main(String[] args)
    {
        BigInteger a[]=new BigInteger[105];
        int i,k;
        BigInteger temp;
        a[1]=new BigInteger("1");
        for(i=2;i&lt;=100;i++)
        {
            temp=new BigInteger("1");
            for(k=1;k&lt; i;k++)
            {
                temp=temp.add(a[k]);
            }
            a[i]=temp.add(a[i-1]);
        }
        Scanner stdin=new Scanner(System.in);
        while(stdin.hasNext())
        {
            int n=stdin.nextInt();
            System.out.println(a[n]);
        }
    }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-52612">
<article class="comment" id="comment-52612">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-52612" rel="nofollow"><time datetime="2015-06-23T16:12:30+00:00" pubdate="">2015年6月23日 at 下午4:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4470">
<article class="comment" id="comment-4470">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-4470" rel="nofollow"><time datetime="2015-05-01T04:44:55+00:00" pubdate="">2015年5月1日 at 上午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52613">
<article class="comment" id="comment-52613">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-52613" rel="nofollow"><time datetime="2015-04-16T08:25:45+00:00" pubdate="">2015年4月16日 at 上午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“可以发现,树将是满二叉树,”这句话不对吧，构造的树应该是“完全二叉树”，而非“满二叉树”。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4468">
<article class="comment" id="comment-4468">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-4468" rel="nofollow"><time datetime="2015-01-28T05:31:51+00:00" pubdate="">2015年1月28日 at 上午5:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36654">
<article class="comment" id="comment-36654">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liluvu</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-36654" rel="nofollow"><time datetime="2014-03-07T21:34:16+00:00" pubdate="">2014年3月7日 at 下午9:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4469">
<article class="comment" id="comment-4469">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-4469" rel="nofollow"><time datetime="2013-12-10T23:49:09+00:00" pubdate="">2013年12月10日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52614">
<article class="comment" id="comment-52614">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-52614" rel="nofollow"><time datetime="2013-12-06T03:47:45+00:00" pubdate="">2013年12月6日 at 上午3:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个是代码高亮功能，那就再换一个颜色</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4471">
<article class="comment" id="comment-4471">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/POJ-1205-Water-Treatment-Plants-blog-315.html#comment-4471" rel="nofollow"><time datetime="2013-11-09T23:42:22+00:00" pubdate="">2013年11月9日 at 下午11:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>