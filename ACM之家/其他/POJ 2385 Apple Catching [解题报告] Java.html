<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2385 Apple Catching [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观1213次</span><span class="i3"><a class="ds-thread-count" data-thread-key="710" href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comments" title="《POJ 2385 Apple Catching [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Apple Catching</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
It is a little known fact that cows love apples.  Farmer John has two apple trees (which are conveniently numbered 1 and 2) in his field, each full of apples.  Bessie cannot reach the apples when they are on the tree, so she must wait for them to fall.  However, she must catch them in the air since the apples bruise when they hit the ground (and no one wants to eat bruised apples).  Bessie is a quick eater, so an apple she does catch is eaten in just a few seconds.
<p>Each minute, one of the two apple trees drops an apple. Bessie, having much practice, can catch an apple if she is standing under a tree from which one falls. While Bessie can walk between the two trees quickly (in much less than a minute), she can stand under only one tree at any time. Moreover, cows do not get a lot of exercise, so she is not willing to walk back and forth between the trees endlessly (and thus misses some apples).</p>
<p>Apples fall (one each minute) for T (1 &lt;= T &lt;= 1,000) minutes. Bessie is willing to walk back and forth at most W (1 &lt;= W &lt;= 30) times. Given which tree will drop an apple each minute, determine the maximum number of apples which Bessie can catch.  Bessie starts at tree 1. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
* Line 1: Two space separated integers: T and W
<p>* Lines 2..T+1: 1 or 2: the tree that will drop an apple each minute. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
* Line 1: The maximum number of apples Bessie can catch without walking more than W times.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
7 2
2
1
1
2
2
1
1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
6</pre>
<div>
<p class="mytitle"> 温馨提示:</p>
</div>
<div class="mypanel">
INPUT DETAILS:
<p>Seven apples fall – one from tree 2, then two in a row from tree 1, then two in a row from tree 2, then two in a row from tree 1. Bessie is  willing to walk from one tree to the other twice.</p>
<p>OUTPUT DETAILS:</p>
<p>Bessie can catch six apples by staying under tree 1 until the first two have dropped, then moving to tree 2 for the next two, then returning back to tree 1 for the final two.</p></div>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2385">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2385">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2385">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: ccQ.SuperSupper
import java.io.*;
import java.util.*;

public class Main {

	/**
	 * @param args
	 */
	public static int max(int x,int y)
	{
		if(x&gt;y) return x;
		return y;
	}
	
	public static void main(String[] args) throws Exception{
		// TODO Auto-generated method stub
		
		int t,w,i,j,k,ans=0;
		int dp[][][]=new int[1005][35][2];
		int way[]=new int[1005];
		
		for(i=0;i&lt; 1005;++i) for(j=0;j&lt; 35;++j) for(k=0;k&lt; 2;++k)
			dp[i][j][k]=0;
		
		Scanner cin = new Scanner(System.in);
		
		t = cin.nextInt();
		w = cin.nextInt();
		
		for(i=1;i&lt;=t;++i)
			way[i]=cin.nextInt()-1;
		
		for(i=1;i&lt;=t;++i) for(j=0;j&lt;=w;++j) for(k=0;k&lt; 2;++k)
		{
		  if(way[i]==k)
			dp[i][j][k]=max(dp[i-1][j][k]+1,j&gt;0?dp[i-1][j-1][1-k]+1:1);
		  else dp[i][j][k]=max(dp[i-1][j][k],j&gt;0?dp[i-1][j-1][1-k]:0);
		  if(dp[i][j][k]&gt;ans&amp;&amp;((k==1&amp;&amp;j&lt; w)||(k==0&amp;&amp;j&lt;=w))) ans=dp[i][j][k];
		}
		
		System.out.println(ans);
	}

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-37949">
<article class="comment" id="comment-37949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37949" rel="nofollow"><time datetime="2015-06-09T22:15:22+00:00" pubdate="">2015年6月9日 at 下午10:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37946">
<article class="comment" id="comment-37946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">TimeFight</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37946" rel="nofollow"><time datetime="2015-06-03T02:40:20+00:00" pubdate="">2015年6月3日 at 上午2:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很赞的解答</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37947">
<article class="comment" id="comment-37947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37947" rel="nofollow"><time datetime="2015-05-29T15:10:43+00:00" pubdate="">2015年5月29日 at 下午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发的在线笔试题吗?发现很多C啊，阿里不是JAVA多么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37951">
<article class="comment" id="comment-37951">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xy7850151</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37951" rel="nofollow"><time datetime="2015-05-02T18:40:31+00:00" pubdate="">2015年5月2日 at 下午6:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有限自动机在ACM中是必须掌握的算法，实际上在面试当中几乎不可能让你单独的去实现这个算法，如果有题目要用到有限自动机来降低时间复杂度，那么这种面试题应该属于很难的级别了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37944">
<article class="comment" id="comment-37944">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37944" rel="nofollow"><time datetime="2015-02-14T04:41:17+00:00" pubdate="">2015年2月14日 at 上午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个是python代码啊。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37950">
<article class="comment" id="comment-37950">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37950" rel="nofollow"><time datetime="2015-01-28T06:05:36+00:00" pubdate="">2015年1月28日 at 上午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>97行缺一个分号</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37948">
<article class="comment" id="comment-37948">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37948" rel="nofollow"><time datetime="2015-01-24T06:27:21+00:00" pubdate="">2015年1月24日 at 上午6:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37941">
<article class="comment" id="comment-37941">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37941" rel="nofollow"><time datetime="2014-11-10T18:25:34+00:00" pubdate="">2014年11月10日 at 下午6:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37940">
<article class="comment" id="comment-37940">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37940" rel="nofollow"><time datetime="2014-10-22T17:33:30+00:00" pubdate="">2014年10月22日 at 下午5:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37943">
<article class="comment" id="comment-37943">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37943" rel="nofollow"><time datetime="2014-10-20T08:38:52+00:00" pubdate="">2014年10月20日 at 上午8:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是有公式吗？何不直接计算</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37945">
<article class="comment" id="comment-37945">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37945" rel="nofollow"><time datetime="2014-09-20T13:32:58+00:00" pubdate="">2014年9月20日 at 下午1:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37939">
<article class="comment" id="comment-37939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37939" rel="nofollow"><time datetime="2014-08-29T20:51:44+00:00" pubdate="">2014年8月29日 at 下午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码过于复杂了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-37942">
<article class="comment" id="comment-37942">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37942" rel="nofollow"><time datetime="2014-07-12T10:42:46+00:00" pubdate="">2014年7月12日 at 上午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为要修改链表头(指针)，所以要用指针的指针</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-37938">
<article class="comment" id="comment-37938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/POJ-2385-Apple-Catching-blog-710.html#comment-37938" rel="nofollow"><time datetime="2014-06-23T05:27:16+00:00" pubdate="">2014年6月23日 at 上午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>