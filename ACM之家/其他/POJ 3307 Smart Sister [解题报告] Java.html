<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3307 Smart Sister [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观1455次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1023" href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comments" title="《POJ 3307 Smart Sister [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Smart Sister</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<p>Yesterday, Kamran was working on a report, which he must submit to his boss next Saturday. He became tired and went out of his working room to take a nap. After some minutes, her sister, Kamelia, who is a first year university student, came to the room and found the report. She thought, "How many large positive integers in a document. I hate these large numbers, they make me see nightmares! I should represent them in a more compact way". At first, she devised an ambiguous way to represent a number. She computed the product of digits of a number to find a new number and repeated this process again and again until she reached a one digit number (For example, 972 was transformed to 126 and then to 12 and finally to 2).</p>
<p>But she simply understood that this process is not reversible and tried to find another way (Since she loves Kamran too much, she did not want to destroy his efforts!). Suddenly, she noticed an interesting  property in all the numbers of the report and called it productivity property in her mind. By her definition, a number with productivity property is a number that can be obtained by multiplying the digits of some other number (for instance, 126, 12, and 2 has productivity property, because they can be obtained from 972, 126, and 12 respectively). She thought, "Wow, I found it. If a number <i>x</i> in the report is the <i>i</i>th number in the increasing sequence of positive integers having productivity property, I will replace it by <i>i</i>". She replaced all numbers of the report, put a note for Kamran describing what she did with the numbers of his report and went to her friend’s home in a blink of an eye!!!</p>
<p>It is not hard to imagine, how loudly Kamran screamed when he saw the report and the note from<br/>Kamelia! In addition, he wondered how she did this! He thought "Again this naughty smart sister". Now, Kamran needs your help to find his original report numbers.</p>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<p>Input begins with a number <i>T</i> showing the number of test cases and then, <i>T</i> test cases follow. Each test case includes a positive integer <i>i</i> which is the number written by Kamran’s sister in the report. Please note than input includes thousands of test cases.</p>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<p>For each test case, your program must output the original number <i>x</i> that was converted to the given <i>i</i>.<br/>Please note that it is guaranteed that the output number is less than 10<sup>18</sup>.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
10
1
40
11</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
10
1
80
12</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3307">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3307">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3307">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author 
import java.util.*;
public class Main{
  public static void main(String args[]){
  
    int k,n;
    Scanner in=new Scanner(System.in);
    k=in.nextInt();
    init();
    while(k--&gt;0){
        n=in.nextInt();
       System.out.printf("%d\n",s[n]);
    }
   
   }

  static int MAX=80000;
  static long s[]=new long[MAX];       //用于存储结果，升序
  static long d2[]=new long[MAX];     //存储所有含有质因子2且符合条件的数
  static long d3[]=new long[MAX];     //存储所有含有质因子3且符合条件的数
  static long d5[]=new long[MAX];
  static long d7[]=new long[MAX];

  public static void init(){
    int i;
    int pos2,pos3,pos5,pos7;
    long a,b;
    s[1]=1;
    pos2=pos3=pos5=pos7=1;
    for(i=1;i&lt; MAX-1;i++){
        d2[i]=s[i]*2;
        d3[i]=s[i]*3;
        d5[i]=s[i]*5;
        d7[i]=s[i]*7;
        while(d2[pos2]&lt;=s[i])pos2++;     //如果这个数小于s[i]，那么它一定已经在s[i]中，可以去掉。
        while(d3[pos3]&lt;=s[i])pos3++;     //显然s[i]是从四个数组中从小到大选出来的，
        while(d5[pos5]&lt;=s[i])pos5++;     //所以上面的做法一定是正确的
        while(d7[pos7]&lt;=s[i])pos7++;
        a=d2[pos2]&lt; d3[pos3]?d2[pos2]:d3[pos3];
        b=d5[pos5]&lt; d7[pos7]?d5[pos5]:d7[pos7];
        s[i+1]=a&lt; b?a:b;
    }
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-39058">
<article class="comment" id="comment-39058">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39058" rel="nofollow"><time datetime="2015-05-19T15:19:35+00:00" pubdate="">2015年5月19日 at 下午3:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39060">
<article class="comment" id="comment-39060">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39060" rel="nofollow"><time datetime="2015-05-03T15:54:18+00:00" pubdate="">2015年5月3日 at 下午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39056">
<article class="comment" id="comment-39056">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39056" rel="nofollow"><time datetime="2015-04-25T01:51:00+00:00" pubdate="">2015年4月25日 at 上午1:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53768">
<article class="comment" id="comment-53768">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53768" rel="nofollow"><time datetime="2014-12-30T18:32:09+00:00" pubdate="">2014年12月30日 at 下午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>简洁的代码</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53765">
<article class="comment" id="comment-53765">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bcys</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53765" rel="nofollow"><time datetime="2014-12-20T23:08:55+00:00" pubdate="">2014年12月20日 at 下午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有限自动机在ACM中是必须掌握的算法，实际上在面试当中几乎不可能让你单独的去实现这个算法，如果有题目要用到有限自动机来降低时间复杂度，那么这种面试题应该属于很难的级别了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53763">
<article class="comment" id="comment-53763">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53763" rel="nofollow"><time datetime="2014-08-18T00:38:27+00:00" pubdate="">2014年8月18日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53764">
<article class="comment" id="comment-53764">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53764" rel="nofollow"><time datetime="2014-03-30T04:44:37+00:00" pubdate="">2014年3月30日 at 上午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此 了解了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53766">
<article class="comment" id="comment-53766">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Riddick</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53766" rel="nofollow"><time datetime="2014-03-06T15:36:21+00:00" pubdate="">2014年3月6日 at 下午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>scanner改用StreamTokenizer就不超时了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39057">
<article class="comment" id="comment-39057">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39057" rel="nofollow"><time datetime="2014-01-21T07:07:59+00:00" pubdate="">2014年1月21日 at 上午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53767">
<article class="comment" id="comment-53767">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-53767" rel="nofollow"><time datetime="2013-12-03T23:34:49+00:00" pubdate="">2013年12月3日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种题解就相当于直接贴代码了，，想看的是思路</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39059">
<article class="comment" id="comment-39059">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39059" rel="nofollow"><time datetime="2013-12-01T17:03:25+00:00" pubdate="">2013年12月1日 at 下午5:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以参考算法导论中的时间戳。就是结束访问时间，最后结束的顶点肯定是入度为0的顶点，因为DFS要回溯</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12">
<article class="comment" id="comment-12">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://jeu-pour-r4.menabwn.com" rel="external nofollow">r4 pour ds</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-12" rel="nofollow"><time datetime="2013-11-19T17:54:15+00:00" pubdate="">2013年11月19日 at 下午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11">
<article class="comment" id="comment-11">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://acheter-maillot-de-foot.menabwn.com" rel="external nofollow">acheter maillot de foot</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-11" rel="nofollow"><time datetime="2013-11-19T17:47:18+00:00" pubdate="">2013年11月19日 at 下午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39061">
<article class="comment" id="comment-39061">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/POJ-3307-Smart-Sister-blog-1023.html#comment-39061" rel="nofollow"><time datetime="2013-11-19T12:25:07+00:00" pubdate="">2013年11月19日 at 下午12:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>