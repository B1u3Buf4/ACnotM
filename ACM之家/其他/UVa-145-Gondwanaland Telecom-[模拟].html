<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-22</div>
<div class="tit"><h1 class="entry-title">UVa-145-Gondwanaland Telecom-[模拟]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/uva" rel="category tag" title="查看UVA中的全部文章">UVA</a>, <a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a></span><span class="i4">围观870次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3798" href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comments" title="《UVa-145-Gondwanaland Telecom-[模拟]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>Time limit: 3.000 seconds<br/><span style="color: #888888;">限时：3.000秒</span></p>
<p> </p>
<h2>Problem<br/><span style="color: #888888;">问题</span></h2>
<p>Gondwanaland Telecom makes charges for calls according to distance and time of day. The basis of the charging is contained in the following schedule, where the charging step is related to the distance:<br/><span style="color: #888888;">冈瓦纳电信公司按照一天中的时段和通话距离来收取话费。下表列出了基本通话费方案，其中话费阶段是按距离远近安排的。</span></p>
<p> </p>
<table align="center" border="1">
<tbody>
<tr>
<td align="center">Charging Step<br/>(distance)</td>
<td align="center">Day Rate<br/>8am to 6pm</td>
<td align="center">Evening Rate<br/>6pm to 10pm</td>
<td align="center">Night Rate<br/>10pm to 8am</td>
</tr>
<tr>
<td align="center">A</td>
<td align="center">0.10</td>
<td align="center">0.06</td>
<td align="center">0.02</td>
</tr>
<tr>
<td align="center">B</td>
<td align="center">0.25</td>
<td align="center">0.15</td>
<td align="center">0.05</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">0.53</td>
<td align="center">0.33</td>
<td align="center">0.13</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">0.87</td>
<td align="center">0.47</td>
<td align="center">0.17</td>
</tr>
<tr>
<td align="center">E</td>
<td align="center">1.44</td>
<td align="center">0.80</td>
<td align="center">0.30</td>
</tr>
</tbody>
</table>
<p> </p>
<p>All charges are in dollars per minute of the call. Calls which straddle a rate boundary are charged according to the time spent in each section. Thus a call starting at 5:58 pm and terminating at 6:04 pm will be charged for 2 minutes at the day rate and for 4 minutes at the evening rate. Calls less than a minute are not recorded and no call may last more than 24 hours.<br/><span style="color: #888888;">所有话费都是按照通话的分钟数累计的。若一次通话跨越了两个时段，则分别按照在各时段内的通话时间和费率进行收费。比如一次通话由晚5:58开始到晚6:04结束，则按2分钟的白天通话和4分钟的夜晚通话费率计算。通话少于1分钟的不计费，最长的通话不会超过24小时。</span></p>
<p>Write a program that reads call details and calculates the corresponding charges.<br/><span style="color: #888888;">写一个程序读取所有的通话信息并计算对应的话费。</span></p>
<p> </p>
<h2>Input and Output<br/><span style="color: #888888;">输入与输出</span></h2>
<p>Input lines will consist of the charging step (upper case letter ‘A’..’E'), the number called (a string of 7 digits and a hyphen in the approved format) and the start and end times of the call, all separated by exactly one blank. Times are recorded as hours and minutes in the 24 hour clock, separated by one blank and with two digits for each number. Input will be terminated by a line consisting of a single #.<br/><span style="color: #888888;">输入由多行组成，每一行数据都包括：话费阶段（大写字母“A”到“E”），拨出的号码（一个7位数组和横线组成的字符串），通话的开始和结束时间。这些数据间都由空格隔开。时间均由24小时制的小时和分钟表示，之间由一个空格隔开，每个数字都有两位数（译注：不足两位的前面补零）。只有一个#号的单独一行表示输入结束。</span></p>
<p>Output will consist of the called number, the time in minutes the call spent in each of the charge categories, the charging step and the total cost in the format shown below.<br/><span style="color: #888888;">输出的每一行要包括拨出的号码，每一个话费阶段的分钟数，话费阶段编号以及总费用。并按如下格式输出。</span></p>
<p> </p>
<h2>Sample Input<br/><span style="color: #888888;">输入示例</span></h2>
<p>A 183-5724 17 58 18 04<br/>#</p>
<p> </p>
<h2>Sample Output<br/><span style="color: #888888;">输出示例</span></h2>
<p><tt><span style="color: #888888;">0         10        20        30</span><span style="color: #888888;"><br/>123456789<span style="color: #ff0000;">0</span>12345<span style="color: #ff0000;">6</span>78901<span style="color: #ff0000;">2</span>34567<span style="color: #ff0000;">8</span>90<span style="color: #ff0000;">1</span>2345678<span style="color: #ff0000;">9</span></span><br/>  183-5724     2     4     0  A    0.44</tt></p>
<p><span style="color: #888888;">译注：原文中的示例输出为一张很不清晰的图片。上面的数据来自我AC的程序输出，格式与原图完全相同。最上面灰色的两行为表头表示字符的位置</span><span style="color: #888888;">，只作示例参照，你的程序不要输出该表头</span><span style="color: #888888;">。红色的数字表示下面一列数据需要对齐的位置（在下面一列的左侧为左对齐，在右侧为右对齐）。</span></p>
<p> </p>
<h2>Analysis<br/><span style="color: #888888;">输出示例</span></h2>
<p>一道没有任何难度的题目，解法也非常多，主要是练习格式化的输出。只需要注意两点，一是跨过24点（0点）的话时要能够正确计算，二是按题目要求话时可以等于24小时，即开始和结束时间相同。C++的格式化数据方法详参下面的代码。</p>
<p> </p>
<h2>Solution<br/><span style="color: #888888;">解答</span></h2>
<pre class="brush:cpp ">#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
//按照指定的开始和起始时间统计各时间段内的分钟数
void StepStatic(int nBeg, int nEnd, int *pCate, int nCnt, int *pResult) {
	int ic= 0; //ic表示当前时段，下面的循环找到开始时间所在时段
	for (; ic &lt; nCnt - 1 &amp;&amp; nBeg &gt;= pCate[ic]; ++ic);
	//开始时间的时段减去开始前的无通话时间
	pResult[ic - 1] -= (nBeg - pCate[ic - 1]);
	//循环统计每个时段的时间
	for (--ic; ic &lt; nCnt - 1 &amp;&amp; nEnd &gt;= pCate[ic]; ++ic) {
		pResult[ic] += pCate[ic + 1] - pCate[ic];
	}
	//结束时间所在时段减去结束后的无通话时间
	pResult[ic - 1] -= (pCate[ic] - nEnd);
}
int main(void) {
	int Cate[] = {0, 8 * 60, 18 * 60, 22 * 60, 24 * 60}; //时间段分钟数
	const int nCnt = sizeof(Cate) / sizeof(Cate[0]); //时间段数
	int Rate[5][3] = { {10, 6, 2}, {25, 15, 5}, {53, 33, 13},
		{87, 47, 17}, {144, 80, 30} }; //费率表
	cout.setf(ios_base::right); //输出格式居右对齐
	//循环处理每一行输入的数据，直到出现#号为止
	for (char cStep; cin &gt;&gt; cStep &amp;&amp; cStep != '#'; cout &lt;&lt; endl) {
		string Num;
		int BegH, BegM, EndH, EndM, nCharge = 0, Result[nCnt - 1] = {0};
		cin &gt;&gt; Num &gt;&gt; BegH &gt;&gt; BegM &gt;&gt; EndH &gt;&gt; EndM; //读入数据
		int nBeg = BegH * 60 + BegM, nEnd = EndH * 60 + EndM;
		if (nEnd &lt;= nBeg) { //如果开始时间小于或等于结束时间
			//先统计从开始时间到24点，再从0点到结束时间
			StepStatic(nBeg, Cate[nCnt - 1], Cate, nCnt, Result);
			StepStatic(0, nEnd, Cate, nCnt, Result);
		}
		else { //否则直接统计从开始时间到结束时间
			StepStatic(nBeg, nEnd, Cate, nCnt, Result);
		}
		//将最后到24点的时段和从0点开始的时段合并
		Result[nCnt - 2] += Result[0];
		cout &lt;&lt; setw(10) &lt;&lt; Num; //输出电话号码
		for (int i = 1; i &lt; nCnt - 1; ++i) { //统计话费并输出各时段话时
			nCharge += Rate[cStep - 'A'][i - 1] * Result[i];
			cout &lt;&lt; setw(6) &lt;&lt; Result[i];
		}
		cout &lt;&lt; setw(3) &lt;&lt; cStep; //输出距离及总话费
		cout &lt;&lt; setw(8) &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; (nCharge / 100.0f);
	}
	return 0;
}</pre>
<p>转自：http://www.cnblogs.com/devymex/archive/2010/09/06/1818058.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-85273">
<article class="comment" id="comment-85273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461063" rel="external nofollow">新用户124116</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-85273" rel="nofollow"><time datetime="2017-04-13T01:15:57+00:00" pubdate="">2017年4月13日 at 上午1:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>电击击晕不痛苦。放血不痛苦。天啊，你真应该问问被电击过的人，或者自己被电击一下，看看痛不痛苦。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45100">
<article class="comment" id="comment-45100">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-45100" rel="nofollow"><time datetime="2015-05-24T19:17:22+00:00" pubdate="">2015年5月24日 at 下午7:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么输入两个0程序还没退出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21715">
<article class="comment" id="comment-21715">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21715" rel="nofollow"><time datetime="2015-05-23T09:20:17+00:00" pubdate="">2015年5月23日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21711">
<article class="comment" id="comment-21711">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21711" rel="nofollow"><time datetime="2015-05-19T17:12:45+00:00" pubdate="">2015年5月19日 at 下午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21705">
<article class="comment" id="comment-21705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21705" rel="nofollow"><time datetime="2015-05-03T19:07:58+00:00" pubdate="">2015年5月3日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额楼主能否在发布代码的同时对解题思路做个讲解呢？这样大家在学习的时候就方便多了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21703">
<article class="comment" id="comment-21703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21703" rel="nofollow"><time datetime="2015-05-03T12:04:37+00:00" pubdate="">2015年5月3日 at 下午12:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21706">
<article class="comment" id="comment-21706">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21706" rel="nofollow"><time datetime="2015-03-08T08:32:24+00:00" pubdate="">2015年3月8日 at 上午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21713">
<article class="comment" id="comment-21713">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21713" rel="nofollow"><time datetime="2015-02-24T19:01:06+00:00" pubdate="">2015年2月24日 at 下午7:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21710">
<article class="comment" id="comment-21710">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21710" rel="nofollow"><time datetime="2015-02-16T08:08:34+00:00" pubdate="">2015年2月16日 at 上午8:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好吧~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21712">
<article class="comment" id="comment-21712">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21712" rel="nofollow"><time datetime="2015-01-11T01:16:07+00:00" pubdate="">2015年1月11日 at 上午1:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21714">
<article class="comment" id="comment-21714">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21714" rel="nofollow"><time datetime="2015-01-06T21:52:18+00:00" pubdate="">2015年1月6日 at 下午9:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21708">
<article class="comment" id="comment-21708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21708" rel="nofollow"><time datetime="2014-09-27T15:12:06+00:00" pubdate="">2014年9月27日 at 下午3:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21709">
<article class="comment" id="comment-21709">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21709" rel="nofollow"><time datetime="2014-09-18T00:52:54+00:00" pubdate="">2014年9月18日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21704">
<article class="comment" id="comment-21704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21704" rel="nofollow"><time datetime="2014-07-23T21:29:24+00:00" pubdate="">2014年7月23日 at 下午9:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得是D哎……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-21707">
<article class="comment" id="comment-21707">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/uva-145-gondwanaland-telecom-3798.html#comment-21707" rel="nofollow"><time datetime="2014-04-24T19:58:25+00:00" pubdate="">2014年4月24日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>