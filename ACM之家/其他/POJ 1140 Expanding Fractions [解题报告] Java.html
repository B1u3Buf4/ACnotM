<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-09</div>
<div class="tit"><h1 class="entry-title">POJ 1140 Expanding Fractions [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观762次</span><span class="i3"><a class="ds-thread-count" data-thread-key="281" href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comments" title="《POJ 1140 Expanding Fractions [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Expanding Fractions</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In this problem you are to print the decimal expansion of a quotient of two integers. As you well know, the decimal expansions of many integer quotients result in decimal expansions with repeating sequences of digits. You must identify these. You will print the decimal expansion of the integer quotient given, stopping just as the expansion terminates or just as the repeating pattern is to repeat itself for the first time. If there is a repeating pattern, you will say how many of the digits are in the repeating pattern. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There will be multiple input instances, each instance consists of two positive integers on a line. The first integer represents the numerator of the fraction and the second represents the denominator. In this problem, the numerator will always be less than the denominator and the denominator will be less than 1000. Input terminates when numerator and denominator are both zero.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each input instance, the output should consist of the decimal expansion of the fraction, starting with the decimal point. If the expansion terminates, you should print the complete decimal expansion. If the expansion is infinite, you should print the decimal expansion up to, but not including the digit where the repeated pattern first repeats itself. 
<p>For instance, 4/11 = .3636363636…, should be printed as .36. (Note that the shortest repeating pattern should be found. In the above example, 3636 and 363636, among others, are repeating patterns, but the shortest repeating pattern is 36.) </p>
<p>Since some of these expansions may be quite long, multiple line expansions should each contain exactly 50 characters on each line (except the last line, which, of course, may be shorter) – that includes the beginning decimal point. </p>
<p>On the line immediately following the last line of the decimal expansion there should be a line saying either “This expansion terminates.”, or “The last n digits repeat forever.”, where n is the number of digits in the repeating pattern. </p>
<p>Helpful hint: The number of digits before the pattern is repeated will never be more than the value of the denominator.<br/>
</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 7
345 800
112 990
53 122
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
.428571
The last 6 digits repeat forever.
.43125
This expansion terminates.
.113
The last 2 digits repeat forever.
.4344262295081967213114754098360655737704918032786
885245901639
The last 60 digits repeat forever.</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=1140">提交代码</a>   <a href="http://poj.org/bbs?problem_id=1140">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=1140">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java">/* @author: */

import java.io.*;
import java.util.*;
public class Main
{
    public static void main(String[] args)
    {
        Scanner cin = new Scanner(new BufferedInputStream(System.in));
        int a,b,i,j,c[],f,d;
        c=new int[2000];
        for(;;)
        {
         a=cin.nextInt();
         b=cin.nextInt();
         if(a==0&amp;b==0)break;
         c[0]=a;i=0;f=0;j=0;d=1;
         System.out.print(".");
         for(;;)
         {
          a=(a*10)%b;
          if(a!=0)
          {
           for(j=0;j&lt; i;j++)
           {
            if(c[j]==c[i])break;
           }
           if(c[j]==c[i]&amp;j!=i)break;
           System.out.printf("%d",c[i]*10/b);
           c[++i]=a;
           d++;
           if(d%50==0)System.out.println();
          }
          else
          {
           f=1;
           break;
          }
         }
         if(f==1)System.out.printf("%d\nThis expansion terminates.\n",c[i]*10/b);
         else
         {
          if(d%50!=0)System.out.printf("\n");
          System.out.printf("The last %d digits repeat forever.\n",i-j);
         }
        }
    }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-36503">
<article class="comment" id="comment-36503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bob</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36503" rel="nofollow"><time datetime="2015-07-15T08:26:09+00:00" pubdate="">2015年7月15日 at 上午8:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36506">
<article class="comment" id="comment-36506">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36506" rel="nofollow"><time datetime="2015-07-13T14:53:39+00:00" pubdate="">2015年7月13日 at 下午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great work！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36501">
<article class="comment" id="comment-36501">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36501" rel="nofollow"><time datetime="2015-06-21T09:50:37+00:00" pubdate="">2015年6月21日 at 上午9:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>simple, however efficient. A lot of instances it is difficult to get that a??perfect balancea?? among usability and appearance. I must say that youa??ve done a exceptional task with this. Also, the blog masses quite fast for me on Web explore.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4297">
<article class="comment" id="comment-4297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-4297" rel="nofollow"><time datetime="2015-03-19T14:09:16+00:00" pubdate="">2015年3月19日 at 下午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-60392">
<article class="comment" id="comment-60392">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-60392" rel="nofollow"><time datetime="2014-10-07T00:26:55+00:00" pubdate="">2014年10月7日 at 上午12:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-36502">
<article class="comment" id="comment-36502">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36502" rel="nofollow"><time datetime="2014-08-29T14:55:35+00:00" pubdate="">2014年8月29日 at 下午2:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-4295">
<article class="comment" id="comment-4295">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Riddick</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-4295" rel="nofollow"><time datetime="2014-07-05T13:03:53+00:00" pubdate="">2014年7月5日 at 下午1:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4294">
<article class="comment" id="comment-4294">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-4294" rel="nofollow"><time datetime="2014-05-10T09:29:04+00:00" pubdate="">2014年5月10日 at 上午9:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36505">
<article class="comment" id="comment-36505">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36505" rel="nofollow"><time datetime="2014-05-05T13:15:04+00:00" pubdate="">2014年5月5日 at 下午1:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>补充：此算法求出的不一定是最优解，之前理解错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4296">
<article class="comment" id="comment-4296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-4296" rel="nofollow"><time datetime="2014-02-16T11:09:18+00:00" pubdate="">2014年2月16日 at 上午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说一下tmp数组和solve都是干嘛的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-52559">
<article class="comment" id="comment-52559">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-52559" rel="nofollow"><time datetime="2014-01-22T16:55:29+00:00" pubdate="">2014年1月22日 at 下午4:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-4293">
<article class="comment" id="comment-4293">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-4293" rel="nofollow"><time datetime="2014-01-12T13:08:03+00:00" pubdate="">2014年1月12日 at 下午1:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>秒！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-36504">
<article class="comment" id="comment-36504">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/POJ-1140-Expanding-Fractions-blog-281.html#comment-36504" rel="nofollow"><time datetime="2013-11-19T17:25:08+00:00" pubdate="">2013年11月19日 at 下午5:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>