<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-11</div>
<div class="tit"><h1 class="entry-title">POJ 2570 Fiber Network [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观585次</span><span class="i3"><a class="ds-thread-count" data-thread-key="795" href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comments" title="《POJ 2570 Fiber Network [解题报告] Java》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Fiber Network</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Several startup companies have decided to build a better Internet, called the “FiberNet”. They have already installed many nodes that act as routers all around the world. Unfortunately, they started to quarrel about the connecting lines, and ended up with every company laying its own set of cables between some of the nodes.<br/>
<br/>Now, service providers, who want to send data from node A to node B are curious, which company is able to provide the necessary connections. Help the providers by answering their queries. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several test cases. Each test case starts with the number of nodes of the network n. Input is terminated by n=0. Otherwise, 1&lt;=n&lt;=200. Nodes have the numbers 1, ..., n. Then follows a list of connections. Every connection starts with two numbers A, B. The list of connections is terminated by A=B=0. Otherwise, 1&lt;=A,B&lt;=n, and they denote the start and the endpoint of the unidirectional connection, respectively. For every connection, the two nodes are followed by the companies that have a connection from node A to node B. A company is identified by a lower-case letter. The set of companies having a connection is just a word composed of lower-case letters.<br/>
<br/>After the list of connections, each test case is completed by a list of queries. Each query consists of two numbers A, B. The list (and with it the test case) is terminated by A=B=0. Otherwise, 1&lt;=A,B&lt;=n, and they denote the start and the endpoint of the query. You may assume that no connection and no query contains identical start and end nodes.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each query in every test case generate a line containing the identifiers of all the companies, that can route data packages on their own connections from the start node to the end node of the query. If there are no companies, output “-” instead. Output a blank line after each test case. <img align="right" src="images/2570_1.jpg"/></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1 2 abc
2 3 ad
1 3 b
3 1 de
0 0
1 3
2 1
3 2
0 0
2
1 2 z
0 0
1 2
2 1
0 0
0
</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
ab
d
-

z
-
</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=2570">提交代码</a>   <a href="http://poj.org/bbs?problem_id=2570">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=2570">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 82638882@163.com
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;
public class Main
{
 static int[][] m=new int[201][201];
 public static void main(String[] args) throws NumberFormatException, IOException
 {
  InputStreamReader is=new InputStreamReader(System.in);
  BufferedReader in=new BufferedReader(is);
  while(true)
   {
    int n=Integer.parseInt(in.readLine());
    if(n==0)break;
    for(int i=0;i&lt; 201;i++)
     for(int j=0;j&lt; 201;j++)
	m[i][j]=0;
    String[] ss;
    while(true)
    {
	ss=in.readLine().split(" ");
	int a=Integer.parseInt(ss[0]);
	int b=Integer.parseInt(ss[1]);
	if(a==0&amp;&amp;b==0)break;
	for(int i=0;i&lt; ss[2].length();i++)
	{
	  int w=ss[2].charAt(i)-'a';
	  m[a][b]|=1&lt;&lt; w;
	}
     }
     for(int k=1;k&lt;=n;k++)
       for(int i=1;i&lt;=n;i++)
	for(int j=1;j&lt;=n;j++)
	   m[i][j]|=m[i][k]&amp;m[k][j];
     while(true)
     {
	ss=in.readLine().split(" ");
	int a=Integer.parseInt(ss[0]);
	int b=Integer.parseInt(ss[1]);
	if(a==0&amp;&amp;b==0) break;
	char ch;
	for(ch='a';ch&lt;='z';ch++)
	{
	  if((m[a][b]&amp;(1&lt;
						                        
<div>

</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>

 </div>

<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>


					</pre></div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-7898">
<article class="comment" id="comment-7898">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7898" rel="nofollow"><time datetime="2015-06-09T05:06:11+00:00" pubdate="">2015年6月9日 at 上午5:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-38212">
<article class="comment" id="comment-38212">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-38212" rel="nofollow"><time datetime="2015-05-22T10:33:47+00:00" pubdate="">2015年5月22日 at 上午10:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7899">
<article class="comment" id="comment-7899">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7899" rel="nofollow"><time datetime="2015-05-04T17:27:10+00:00" pubdate="">2015年5月4日 at 下午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个是python代码啊。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7896">
<article class="comment" id="comment-7896">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7896" rel="nofollow"><time datetime="2015-01-21T23:01:02+00:00" pubdate="">2015年1月21日 at 下午11:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>為甚麼fln*20+0.5f</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53399">
<article class="comment" id="comment-53399">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-53399" rel="nofollow"><time datetime="2014-12-16T08:27:26+00:00" pubdate="">2014年12月16日 at 上午8:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7897">
<article class="comment" id="comment-7897">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7897" rel="nofollow"><time datetime="2014-11-09T19:04:23+00:00" pubdate="">2014年11月9日 at 下午7:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>清华也会出这么无聊的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7894">
<article class="comment" id="comment-7894">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7894" rel="nofollow"><time datetime="2014-10-14T22:29:15+00:00" pubdate="">2014年10月14日 at 下午10:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太懂呀，乡亲们。原理知道代码不会</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7892">
<article class="comment" id="comment-7892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7892" rel="nofollow"><time datetime="2014-09-27T08:16:18+00:00" pubdate="">2014年9月27日 at 上午8:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是错的吧，明显没有判断不和该节点相邻的其他节点是否相互相邻</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7890">
<article class="comment" id="comment-7890">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7890" rel="nofollow"><time datetime="2014-06-18T16:25:07+00:00" pubdate="">2014年6月18日 at 下午4:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-60851">
<article class="comment" id="comment-60851">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wizcabbit</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-60851" rel="nofollow"><time datetime="2014-05-11T03:41:45+00:00" pubdate="">2014年5月11日 at 上午3:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>贴的有些代码的头文件不见了，这是为啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7895">
<article class="comment" id="comment-7895">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7895" rel="nofollow"><time datetime="2014-04-11T18:12:44+00:00" pubdate="">2014年4月11日 at 下午6:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK),这样比较看，快排快</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-7893">
<article class="comment" id="comment-7893">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7893" rel="nofollow"><time datetime="2014-01-22T05:20:54+00:00" pubdate="">2014年1月22日 at 上午5:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-7891">
<article class="comment" id="comment-7891">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/POJ-2570-Fiber-Network-blog-795.html#comment-7891" rel="nofollow"><time datetime="2013-12-25T19:46:58+00:00" pubdate="">2013年12月25日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>