<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-12</div>
<div class="tit"><h1 class="entry-title">POJ 3505 Tower Parking [解题报告] Java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/zhuanti/java-poj" rel="category tag" title="查看Java解POJ中的全部文章">Java解POJ</a>, <a href="http://www.acmerblog.com/category/problemset/poj2" rel="category tag" title="查看POJ-北大中的全部文章">POJ-北大</a></span><span class="i4">围观686次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1070" href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comments" title="《POJ 3505 Tower Parking [解题报告] Java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Tower Parking</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<p>There is a new revolution in the parking lot business: the parking tower. The concept is simple: you drive your car into the elevator at the entrance of the tower, and the elevator and conveyor belts drag the car to an empty parking spot, where the car remains until you pick it up. When you return, the elevator and conveyor belts move your car back to the entrance and you’re done.</p>
<p>The layout of the tower is simple. There is one central elevator that transports the cars between the different floors. On each floor there is one giant circular conveyor belt on which the cars stand. This belt can move in clockwise and counterclockwise direction. When the elevator arrives on a floor, it becomes part of the belt so that cars can move through it.</p>
<p>At the end of the day the tower is usually packed with cars and a lot of people come to pick them up. Customers are processed in a first come first serve order: the elevator is moved to the floor of the first car, the conveyor belt moves the car on the elevator, the elevator is moved down again, and so on. We like to know how long it takes before the last customer gets his car. Moving the elevator one floor up- or downwards takes 10 seconds and moving a conveyor belt one car in either direction takes 5 seconds.</p>
</div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
<p>On the first line one positive number: the number of testcases, at most 100. After that per testcase:</p>
<ul>
<li>
<p>One line with two integers <i>h</i> and <i>l</i> with 1 ≤ <i>h</i> ≤ 50 and 2 ≤ <i>l</i> ≤ 50: the height of the parking tower and the length of the conveyor belts.</p>
</li>
<li>
<p><i>h</i> lines with <i>l</i> integers: the initial placement of the cars. The <i>j</i>th number on the <i>i</i>th line describes the <i>j</i>th position on the <i>i</i>th floor. This number is −1 if the position is empty, and <i>r</i> if the position is occupied by the <i>r</i>th car to pick up. The positive numbers form a consecutive sequence from 1 to the number of cars. The entrance is on the first floor and the elevator (which is initially empty) is in the first position. There is at least one car in the parking tower.</p>
</li>
</ul></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
<p>Per testcase:</p>
<ul>
<li>One line with the number of seconds before the last customer is served.</li>
</ul>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
1 5
-1 2 1 -1 3
3 6
-1 5 6 -1 -1 3
-1 -1 7 -1 2 9
-1 10 4 1 8 -1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
25
320</pre>
<div class="mybigtile mysubmit"> <a href="http://poj.org/submit?problem_id=3505">提交代码</a>   <a href="http://poj.org/bbs?problem_id=3505">问题讨论</a>   <a href="http://poj.org/problemstatus?problem_id=3505">数据统计</a> </div>
<div>
<p class="mytitle"> 解题代码:</p>
</div>
<pre class="brush:java ">//* @author: 
import java.util.Scanner;
import java.util.Arrays;
public class Main{
  public static void main(String args[]){
    Scanner sc=new Scanner(System.in);
	int nn,n,m,ans;
     nn=sc.nextInt();
     while((nn--)!=0) {
      n=sc.nextInt();
      m=sc.nextInt();
      int a[][]=new int[n+1][m+1];
       ans=0;
	for (int i=1;i&lt;=n;i++) {
	  for (int j=1;j&lt;=m;j++) 
           a[i][j]=sc.nextInt();
	    int tp=0,now=1,t1,t2;
	    for (int j=1;j&lt;=m;j++) if (a[i][j]!=-1) tp++;
		 while ((tp--)!=0) {
		  int pos=1,tmp=1000000;
		 for (int j=1;j&lt;=m;j++) if (a[i][j]!=-1&amp;&amp;a[i][j]&lt; tmp) {pos=j;tmp=a[i][j];}
		  ans+=(i-1)*20;
		t1=now-pos;
		t2=pos-now;
		if (t1&lt; 1) t1+=m;
		if (t2&lt; 1) t2+=m;
		if (t1&gt;t2) t1=t2;
		ans+=t1*5;now=pos;
		a[i][pos]=-1;
	}
     }
     System.out.printf("%d\n",ans);
	}
  }
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-61093">
<article class="comment" id="comment-61093">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-61093" rel="nofollow"><time datetime="2015-07-01T08:28:34+00:00" pubdate="">2015年7月1日 at 上午8:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9741">
<article class="comment" id="comment-9741">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9741" rel="nofollow"><time datetime="2015-06-28T20:57:21+00:00" pubdate="">2015年6月28日 at 下午8:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9740">
<article class="comment" id="comment-9740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9740" rel="nofollow"><time datetime="2015-06-09T19:44:49+00:00" pubdate="">2015年6月9日 at 下午7:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61095">
<article class="comment" id="comment-61095">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rocky</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-61095" rel="nofollow"><time datetime="2015-04-10T16:37:13+00:00" pubdate="">2015年4月10日 at 下午4:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-9739">
<article class="comment" id="comment-9739">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9739" rel="nofollow"><time datetime="2014-11-26T02:22:44+00:00" pubdate="">2014年11月26日 at 上午2:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9737">
<article class="comment" id="comment-9737">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9737" rel="nofollow"><time datetime="2014-11-14T01:06:01+00:00" pubdate="">2014年11月14日 at 上午1:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61094">
<article class="comment" id="comment-61094">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-61094" rel="nofollow"><time datetime="2014-10-24T23:19:10+00:00" pubdate="">2014年10月24日 at 下午11:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有限自动机在ACM中是必须掌握的算法，实际上在面试当中几乎不可能让你单独的去实现这个算法，如果有题目要用到有限自动机来降低时间复杂度，那么这种面试题应该属于很难的级别了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9736">
<article class="comment" id="comment-9736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9736" rel="nofollow"><time datetime="2014-10-11T08:36:21+00:00" pubdate="">2014年10月11日 at 上午8:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说一下tmp数组和solve都是干嘛的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-53830">
<article class="comment" id="comment-53830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-53830" rel="nofollow"><time datetime="2014-09-17T17:10:36+00:00" pubdate="">2014年9月17日 at 下午5:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/*<br/>
 * =====================================================================================<br/>
 *<br/>
 *       Filename:  1366.cc<br/>
 *<br/>
 *    Description:<br/>
 *<br/>
 *        Version:  1.0<br/>
 *        Created:  2014年01月06日 14时52分14秒<br/>
 *       Revision:  none<br/>
 *       Compiler:  gcc<br/>
 *<br/>
 *         Author:  Wenxian Ni (Hello World~), <a href="mailto:niwenxianq@qq.com">niwenxianq@qq.com</a><br/>
 *   Organization:  AMS/ICT<br/>
 *<br/>
 * =====================================================================================<br/>
 */</p>
<p>#include<br/>
#include </p>
<p>using namespace std;</p>
<p>int main()<br/>
{<br/>
    stack st;<br/>
    int n,i,j;<br/>
    int test;<br/>
    int a[100001];<br/>
    int b[100001];<br/>
    while(cin&gt;&gt;n)<br/>
    {<br/>
       for(i=1;i&gt;a[i];<br/>
       for(i=1;i&gt;b[i];<br/>
        //st.clear();<br/>
        while(!st.empty())<br/>
            st.pop();<br/>
        i = 1;<br/>
        j = 1;</p>
<p>        while(in)<br/>
                break;<br/>
            }<br/>
            while(!st.empty()&amp;&amp;st.top()==b[j])<br/>
            {<br/>
                st.pop();<br/>
                j++;<br/>
            }<br/>
        }<br/>
        if(st.empty())<br/>
            cout&lt;&lt;"YES"&lt;&lt;endl;<br/>
        else<br/>
            cout&lt;&lt;"NO"&lt;&lt;endl;<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53829">
<article class="comment" id="comment-53829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-53829" rel="nofollow"><time datetime="2014-07-29T10:02:51+00:00" pubdate="">2014年7月29日 at 上午10:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61096">
<article class="comment" id="comment-61096">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-61096" rel="nofollow"><time datetime="2014-04-01T21:19:24+00:00" pubdate="">2014年4月1日 at 下午9:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9738">
<article class="comment" id="comment-9738">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-9738" rel="nofollow"><time datetime="2014-03-30T02:38:57+00:00" pubdate="">2014年3月30日 at 上午2:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61092">
<article class="comment" id="comment-61092">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-61092" rel="nofollow"><time datetime="2014-01-24T23:25:14+00:00" pubdate="">2014年1月24日 at 下午11:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>全是智力分析的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-53831">
<article class="comment" id="comment-53831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/POJ-3505-Tower-Parking-blog-1070.html#comment-53831" rel="nofollow"><time datetime="2013-12-27T15:45:08+00:00" pubdate="">2013年12月27日 at 下午3:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>