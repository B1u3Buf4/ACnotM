<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-13</div>
<div class="tit"><h1 class="entry-title">九度-1087 约数的个数[数论]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/zhuanti/kaoyan" rel="category tag" title="查看考研机试中的全部文章">考研机试</a></span><span class="i4">围观1553次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5079" href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comments" title="《九度-1087 约数的个数[数论]》上的评论">24 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来源：2011年清华大学计算机研究生机试真题</p>
<dl>
<dt><b>题目描述：</b></dt>
<dd>输入n个整数,依次输出每个数的约数的个数</dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>输入的第一行为N，即数组的个数(N&lt;=1000)<br/>
接下来的1行包括N个整数，其中每个数的范围为(1&lt;=Num&lt;=1000000000)<br/>
当N=0时输入结束。</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>可能有多组输入数据，对于每组输入数据，<br/>
输出N行，其中每一行对应上面的一个数的约数的个数。</dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>5
1 3 4 6 12</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>1
2
3
4
6</pre>
</dd>
</dl>
<p> </p>
<p>此题解法比较多。</p>
<p>1） 可以直接暴力求解，用类似找素数的方法。循环到 sqrt(n) 逐个判断.</p>
<pre class="brush:cpp">#include &lt;iostream&gt;
#include &lt;cmath&gt;

using namespace std;

int main(void)
{
        int n;
        while (cin &gt;&gt; n)
        {
                int num;
                while (n--)
                {
                        int count = 0;
                        cin &gt;&gt; num;

                        int i;
                        for (i = 1; i &lt; sqrt((double)num); i++)
                        {
                                if (num % i == 0)
                                {
                                        count += 2;
                                }
                        }
                        if (i * i == num)
                        {
                                count++;
                        }
                        cout &lt;&lt; count &lt;&lt; endl;
                }
        }
        return 0;
}</pre>
<p>2） 用约数个数定理。百科：http://baike.baidu.com/view/1780622.htm</p>
<p>用约数个数定理做的，只贴出功能函数，主函数里面调用该函数即可。</p>
<pre class="brush:cpp">unsigned int factors(unsigned int n)
{
        unsigned int i = 2, k = 0, m = n, count = 1;
        while(m != 1)
        {
                for(; i &lt;= m; i ++)
                        if(m % i == 0)
                        {
                                k = 1;
                                while(m % i == 0)
                                {
                                        k ++;
                                        m /= i;
                                }
                                count *= k;
                        }
        }
        return count;
}</pre>
<p>不用进行素数判定，for循环找到的 i 一定是素数。</p>
<p>自认为该算法应该算比较简洁明了的。<br/>
经验证，平均性能比穷举法（O(n)）的速度快很多，10^12左右的合数都能瞬间出结果，穷举法要好几秒(不过对于素数，该算法就退化为穷举法了，也就是说最坏情况下时间复杂度为O(n))。</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78282">
<article class="comment" id="comment-78282">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526031" rel="external nofollow">新用户603487</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-78282" rel="nofollow"><time datetime="2017-04-12T10:53:29+00:00" pubdate="">2017年4月12日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>两个都想压的结果？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78281">
<article class="comment" id="comment-78281">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526031" rel="external nofollow">新用户603487</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-78281" rel="nofollow"><time datetime="2017-04-12T10:53:29+00:00" pubdate="">2017年4月12日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>两个都想压的结果？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-78280">
<article class="comment" id="comment-78280">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526031" rel="external nofollow">新用户603487</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-78280" rel="nofollow"><time datetime="2017-04-12T10:53:29+00:00" pubdate="">2017年4月12日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>两个都想压的结果？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78279">
<article class="comment" id="comment-78279">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526031" rel="external nofollow">新用户603487</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-78279" rel="nofollow"><time datetime="2017-04-12T10:53:29+00:00" pubdate="">2017年4月12日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>两个都想压的结果？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-65220">
<article class="comment" id="comment-65220">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">youke</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-65220" rel="nofollow"><time datetime="2017-03-22T15:10:22+00:00" pubdate="">2017年3月22日 at 下午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为啥oj提交结果为time limit exceed</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-65221">
<article class="comment" id="comment-65221">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">youke</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-65221" rel="nofollow"><time datetime="2017-03-22T15:11:14+00:00" pubdate="">2017年3月22日 at 下午3:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是用的你最后实现的那个快速因素分解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-64967">
<article class="comment" id="comment-64967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">JurZc</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-64967" rel="nofollow"><time datetime="2016-12-17T00:53:46+00:00" pubdate="">2016年12月17日 at 上午12:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>精彩大片你懂，htTP://uVU.Cc/ijW6 <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-64909">
<article class="comment" id="comment-64909">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">qTJny</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-64909" rel="nofollow"><time datetime="2016-11-26T23:34:37+00:00" pubdate="">2016年11月26日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>精彩大片你懂，htTP://uVU.Cc/ijW6 <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-64770">
<article class="comment" id="comment-64770">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">AJKCt</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-64770" rel="nofollow"><time datetime="2016-10-19T18:15:19+00:00" pubdate="">2016年10月19日 at 下午6:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>万 ｃ部 A 片　高ｃ清 国产.日韩 <a href="http://www.288D.pW" rel="nofollow">http://www.288D.pW</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-64604">
<article class="comment" id="comment-64604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://weibo.com/5704948697" rel="external nofollow">meixiansong201510</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-64604" rel="nofollow"><time datetime="2016-06-07T19:07:15+00:00" pubdate="">2016年6月7日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-28607">
<article class="comment" id="comment-28607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-28607" rel="nofollow"><time datetime="2015-07-09T15:57:18+00:00" pubdate="">2015年7月9日 at 下午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-2970">
<article class="comment" id="comment-2970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">eraser_chan</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-2970" rel="nofollow"><time datetime="2015-03-16T23:55:02+00:00" pubdate="">2015年3月16日 at 下午11:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-28605">
<article class="comment" id="comment-28605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-28605" rel="nofollow"><time datetime="2014-11-07T03:54:40+00:00" pubdate="">2014年11月7日 at 上午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是往年的笔试题，非在线，主要考察基础，Java会在面试时问到</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-58288">
<article class="comment" id="comment-58288">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-58288" rel="nofollow"><time datetime="2014-09-27T06:46:51+00:00" pubdate="">2014年9月27日 at 上午6:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-28608">
<article class="comment" id="comment-28608">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-28608" rel="nofollow"><time datetime="2014-08-22T15:09:15+00:00" pubdate="">2014年8月22日 at 下午3:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒，是漏掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-58289">
<article class="comment" id="comment-58289">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-58289" rel="nofollow"><time datetime="2014-06-26T22:10:27+00:00" pubdate="">2014年6月26日 at 下午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-28606">
<article class="comment" id="comment-28606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-28606" rel="nofollow"><time datetime="2014-05-30T16:44:21+00:00" pubdate="">2014年5月30日 at 下午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-334">
<article class="comment" id="comment-334">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.zhouleyu.com/life/efficacy-of-lycium-barbarum" rel="external nofollow">zhouleyu</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-334" rel="nofollow"><time datetime="2014-05-02T17:47:31+00:00" pubdate="">2014年5月2日 at 下午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-293">
<article class="comment" id="comment-293">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">sharp</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-293" rel="nofollow"><time datetime="2014-04-11T15:46:23+00:00" pubdate="">2014年4月11日 at 下午3:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rho快速因数分解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-28604">
<article class="comment" id="comment-28604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-28604" rel="nofollow"><time datetime="2014-04-10T16:50:38+00:00" pubdate="">2014年4月10日 at 下午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-58290">
<article class="comment" id="comment-58290">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-58290" rel="nofollow"><time datetime="2014-03-16T19:07:04+00:00" pubdate="">2014年3月16日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-221">
<article class="comment" id="comment-221">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">dinglin</span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-221" rel="nofollow"><time datetime="2014-03-14T11:09:05+00:00" pubdate="">2014年3月14日 at 上午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-224">
<article class="comment" id="comment-224">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://weibo.com/u/3222801010" rel="external nofollow">从此醉</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-224" rel="nofollow"><time datetime="2014-03-14T18:02:11+00:00" pubdate="">2014年3月14日 at 下午6:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment odd alt depth-3" id="li-comment-232">
<article class="comment" id="comment-232">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://t.qq.com/dingning523762588" rel="external nofollow">If I PMLL you as ever</a></span> on <a href="http://www.acmerblog.com/jiudu-1087-number-of-approximate-5079.html#comment-232" rel="nofollow"><time datetime="2014-03-19T12:59:39+00:00" pubdate="">2014年3月19日 at 下午12:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此 了解了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ol>