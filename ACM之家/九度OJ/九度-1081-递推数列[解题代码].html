<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">九度-1081-递推数列[解题代码]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/zhuanti/kaoyan" rel="category tag" title="查看考研机试中的全部文章">考研机试</a></span><span class="i4">围观774次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2253" href="http://www.acmerblog.com/jiudu-1081-2253.html#comments" title="《九度-1081-递推数列[解题代码]》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来源：2009年清华大学计算机研究生机试真题</p>
<dl>
<dt>
<b>题目描述：</b>
</dt>
<dd>
<p>给定a0,a1,以及an=p*a(n-1) + q*a(n-2)中的p,q。这里n &gt;= 2。 求第k个数对10000的模。</p>
</dd>
</dl>
<dl>
<dt>
<b>输入：</b>
</dt>
<dd>
<p style="text-align: left">输入包括5个整数：a0、a1、p、q、k。
</p>
</dd>
</dl>
<dl>
<dt>
<b>输出：</b>
</dt>
<dd>
<p>第k个数a(k)对10000的模。</p>
</dd>
</dl>
<dl>
<dt>
<b>样例输入：</b>
</dt>
<dd>
<pre>20 1 1 14 5</pre>
</dd>
</dl>
<dl>
<dt>
<b>样例输出：</b>
</dt>
<dd>
<pre>8359</pre>
</dd>
</dl>
<hr/>cpp 代码如下：
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
using namespace std;
const int MOD=10000;
class M{
public:
	long long a,b,c,d;
	M(long long _a,long long _b,long long _c,long long _d):a(_a),b(_b),c(_c),d(_d){}
};
M operator * (M &amp; m1, M &amp; m2){
	return M(
		(m1.a * m2.a + m1.b * m2.c)%MOD,
		(m1.a * m2.b + m1.b * m2.d)%MOD,
		(m1.c * m2.a + m1.d * m2.c)%MOD,
		(m1.c * m2.b + m1.d * m2.d)%MOD
	);
}
int a0,a1,p,q,k;
int main() {
	while(scanf("%lld%lld%lld%lld%lld", &amp;a0, &amp;a1, &amp;p, &amp;q, &amp;k) != EOF){
		M ans(1,0,0,1); //单位阵
		M m(p%MOD,q%MOD,1,0);

		//k--;
		  if (k == 0) cout &lt;&lt; a0 % 10000 &lt;&lt; endl;
		  else if (k == 1) cout &lt;&lt; a1 % 10000 &lt;&lt; endl;
		  else{
			  k--;
			  while(k){
			  			if(k &amp; 1){
			  				ans = ans * m;
			  			}
			  			m = m * m;
			  			k &gt;&gt;= 1;
			  		}
			  cout &lt;&lt; (ans.a *a1 %MOD+ ans.b * a0 % MOD) %MOD &lt;&lt; endl;
		  }

	}
	return 0;
}
/**************************************************************
	Problem: 1081
	User: coder
	Language: C++
	Result: Accepted
	Time:20 ms
	Memory:1520 kb
****************************************************************/</pre>
<p></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-91516">
<article class="comment" id="comment-91516">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91516" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-91515">
<article class="comment" id="comment-91515">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91515" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-91514">
<article class="comment" id="comment-91514">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91514" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-91513">
<article class="comment" id="comment-91513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91513" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-91512">
<article class="comment" id="comment-91512">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91512" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-91511">
<article class="comment" id="comment-91511">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91511" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-91510">
<article class="comment" id="comment-91510">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91510" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-91509">
<article class="comment" id="comment-91509">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513489" rel="external nofollow">新用户705534</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-91509" rel="nofollow"><time datetime="2017-04-13T13:33:10+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学而时先生是个大忽悠</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41835">
<article class="comment" id="comment-41835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41835" rel="nofollow"><time datetime="2015-07-08T01:39:12+00:00" pubdate="">2015年7月8日 at 上午1:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二块代码if(it != mp.end())应改为if(it != mp.end() &amp;&amp; (i+1)!=(it-&gt;second +1))；因为第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15037">
<article class="comment" id="comment-15037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-15037" rel="nofollow"><time datetime="2015-06-23T04:19:58+00:00" pubdate="">2015年6月23日 at 上午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41826">
<article class="comment" id="comment-41826">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41826" rel="nofollow"><time datetime="2015-06-04T23:15:11+00:00" pubdate="">2015年6月4日 at 下午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41827">
<article class="comment" id="comment-41827">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41827" rel="nofollow"><time datetime="2015-04-26T20:46:43+00:00" pubdate="">2015年4月26日 at 下午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>51行错了，改为：void Union(struct subset subsets[], int x, int y)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15036">
<article class="comment" id="comment-15036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-15036" rel="nofollow"><time datetime="2015-04-01T20:49:37+00:00" pubdate="">2015年4月1日 at 下午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41833">
<article class="comment" id="comment-41833">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zcmu_sls</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41833" rel="nofollow"><time datetime="2015-03-28T00:23:40+00:00" pubdate="">2015年3月28日 at 上午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41832">
<article class="comment" id="comment-41832">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41832" rel="nofollow"><time datetime="2015-03-07T10:20:00+00:00" pubdate="">2015年3月7日 at 上午10:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41829">
<article class="comment" id="comment-41829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41829" rel="nofollow"><time datetime="2015-01-07T17:10:18+00:00" pubdate="">2015年1月7日 at 下午5:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41831">
<article class="comment" id="comment-41831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41831" rel="nofollow"><time datetime="2014-10-07T01:12:59+00:00" pubdate="">2014年10月7日 at 上午1:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>18题的C也是错误的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41825">
<article class="comment" id="comment-41825">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41825" rel="nofollow"><time datetime="2014-09-23T03:01:51+00:00" pubdate="">2014年9月23日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41830">
<article class="comment" id="comment-41830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41830" rel="nofollow"><time datetime="2014-09-12T23:15:48+00:00" pubdate="">2014年9月12日 at 下午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15035">
<article class="comment" id="comment-15035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-15035" rel="nofollow"><time datetime="2014-05-25T21:03:39+00:00" pubdate="">2014年5月25日 at 下午9:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输入样例作为一个整体输入，带回车</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41834">
<article class="comment" id="comment-41834">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41834" rel="nofollow"><time datetime="2014-02-07T16:02:33+00:00" pubdate="">2014年2月7日 at 下午4:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长好。我是一个准备创业的互联网小白,我们打算做一个有关国*际*游*学的平台。手上也有了一些境外资源。现阶段的团队现在没有cto.原意出让一些管理股寻找一个靠谱的技术专家做合伙人, 不知道是不是能得到您的帮助。发个帖子或者其他方式。期待您的回应。可以加我微信tianxielemon聊聊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41828">
<article class="comment" id="comment-41828">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/jiudu-1081-2253.html#comment-41828" rel="nofollow"><time datetime="2013-12-25T07:20:01+00:00" pubdate="">2013年12月25日 at 上午7:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>