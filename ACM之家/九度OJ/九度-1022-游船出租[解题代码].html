<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">九度-1022-游船出租[解题代码]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/zhuanti/kaoyan" rel="category tag" title="查看考研机试中的全部文章">考研机试</a></span><span class="i4">围观1323次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2204" href="http://www.acmerblog.com/jiudu-1022-2204.html#comments" title="《九度-1022-游船出租[解题代码]》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来源：2007年浙江大学计算机及软件工程研究生机试真题</p>
<dl>
<dt>
<b>题目描述：</b>
</dt>
<dd>
<div class="panel_content">    现有公园游船租赁处请你编写一个租船管理系统。当游客租船时，管理员输入船号并按下S键，系统开始计时；当游客还船时，管理员输入船号并按下E键，系统结束计时。船号为不超过100的正整数。当管理员将0作为船号输入时，表示一天租船工作结束，系统应输出当天的游客租船次数和平均租船时间。<br/>
    注意：由于线路偶尔会有故障，可能出现不完整的纪录，即只有租船没有还船，或者只有还船没有租船的纪录，系统应能自动忽略这种无效纪录。</div>
</dd>
</dl>
<dl>
<dt>
<b>输入：</b>
</dt>
<dd>
<p>    测试输入包含若干测试用例，每个测试用例为一整天的租船纪录，格式为：<br/>
    船号（1~100） 键值（S或E） 发生时间（小时:分钟）<br/>
    每一天的纪录保证按时间递增的顺序给出。当读到船号为-1时，全部输入结束，相应的结果不要输出。</p>
</dd>
</dl>
<dl>
<dt>
<b>输出：</b>
</dt>
<dd>
<div class="panel_content">    对每个测试用例输出1行，即当天的游客租船次数和平均租船时间（以分钟为单位的精确到个位的整数时间）。</div>
</dd>
</dl>
<dl>
<dt>
<b>样例输入：</b>
</dt>
<dd>
<pre>1 S 08:10
2 S 08:35
1 E 10:00
2 E 13:16
0 S 17:00
0 S 17:00
3 E 08:10
1 S 08:20
2 S 09:00
1 E 09:20
0 E 17:00
-1</pre>
</dd>
</dl>
<dl>
<dt>
<b>样例输出：</b>
</dt>
<dd>
<pre>2 196
0 0
1 60</pre>
</dd>
</dl>
<hr/>cpp 代码如下：
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
int main()
{
	int index,h,m,i;
	char type;
	int end[101];
	int start[101] = {-1};
	scanf("%d",&amp;index);
	int sum = 0;
	int cnt = 0;
	while(index != -1){
		if(index == 0){
			for(i=0; i&lt;101; i++)
				start[i] =-1;
			if(cnt != 0)
				printf("%d %.0lf\n",cnt,((double)(sum/(double)cnt)));
			else
				printf("0 0\n");
			sum = 0; cnt = 0;
		}
		getchar();  type = getchar();
		scanf("%d:%d",&amp;h,&amp;m);
		if(type == 'E'){
			end[index] = h*60 + m;
			if(start[index] != -1){ 
				sum += (end[index] - start[index]);
				cnt ++;}}
		else start[index] = h*60 + m;
		scanf("%d",&amp;index);
	}return 0;
}
/**************************************************************
	Problem: 1022
	User: coder
	Language: C
	Result: Accepted
	Time:0 ms
	Memory:912 kb
****************************************************************/</pre>
<p></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-91633">
<article class="comment" id="comment-91633">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516311" rel="external nofollow">新用户426437</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-91633" rel="nofollow"><time datetime="2017-04-13T13:33:12+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不了不了 这就给老板吃药</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14698">
<article class="comment" id="comment-14698">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14698" rel="nofollow"><time datetime="2015-06-13T14:02:56+00:00" pubdate="">2015年6月13日 at 下午2:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14697">
<article class="comment" id="comment-14697">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14697" rel="nofollow"><time datetime="2015-03-28T09:22:28+00:00" pubdate="">2015年3月28日 at 上午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41655">
<article class="comment" id="comment-41655">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-41655" rel="nofollow"><time datetime="2014-12-20T18:52:31+00:00" pubdate="">2014年12月20日 at 下午6:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41656">
<article class="comment" id="comment-41656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-41656" rel="nofollow"><time datetime="2014-12-20T09:46:16+00:00" pubdate="">2014年12月20日 at 上午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第36行，struct node **head_ref，怎么理解，那个函数感觉不是很懂啊！？？弱渣求助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41653">
<article class="comment" id="comment-41653">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-41653" rel="nofollow"><time datetime="2014-12-09T18:53:25+00:00" pubdate="">2014年12月9日 at 下午6:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14696">
<article class="comment" id="comment-14696">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14696" rel="nofollow"><time datetime="2014-11-14T15:28:12+00:00" pubdate="">2014年11月14日 at 下午3:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41654">
<article class="comment" id="comment-41654">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-41654" rel="nofollow"><time datetime="2014-10-21T21:50:08+00:00" pubdate="">2014年10月21日 at 下午9:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确性是关键，冲突是都会有的，主要是那种算法冲突的概率低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14695">
<article class="comment" id="comment-14695">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14695" rel="nofollow"><time datetime="2014-07-11T07:02:34+00:00" pubdate="">2014年7月11日 at 上午7:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41657">
<article class="comment" id="comment-41657">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-41657" rel="nofollow"><time datetime="2014-05-10T15:03:41+00:00" pubdate="">2014年5月10日 at 下午3:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14694">
<article class="comment" id="comment-14694">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14694" rel="nofollow"><time datetime="2014-05-08T07:34:24+00:00" pubdate="">2014年5月8日 at 上午7:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14699">
<article class="comment" id="comment-14699">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14699" rel="nofollow"><time datetime="2014-03-24T10:42:58+00:00" pubdate="">2014年3月24日 at 上午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14700">
<article class="comment" id="comment-14700">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/jiudu-1022-2204.html#comment-14700" rel="nofollow"><time datetime="2014-03-01T09:43:36+00:00" pubdate="">2014年3月1日 at 上午9:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主放题时候没注意下？xxx定律见：<br/>
hdoj3782：http://acm.hdu.edu.cn/showproblem.php?pid=3782</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>