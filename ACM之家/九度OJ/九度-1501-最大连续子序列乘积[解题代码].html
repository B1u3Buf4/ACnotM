<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-13</div>
<div class="tit"><h1 class="entry-title">九度-1501-最大连续子序列乘积[解题代码]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a></span><span class="i4">围观1739次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2389" href="http://www.acmerblog.com/jiudu-1501-2389.html#comments" title="《九度-1501-最大连续子序列乘积[解题代码]》上的评论">25 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来源：小米手机2013年校园招聘笔试题</p>
<dl>
<dt>
<b>题目描述：</b>
</dt>
<dd>
<p>给定一个浮点数序列（可能有正数、0和负数），求出一个最大的连续子序列乘积。</p>
</dd>
</dl>
<dl>
<dt>
<b>输入：</b>
</dt>
<dd>
<p>输入可能包含多个测试样例。<br/>
每个测试样例的第一行仅包含正整数 n（n&lt;=100000），表示浮点数序列的个数。<br/>
第二行输入n个浮点数用空格分隔。<br/>
输入数据保证所有数字乘积在双精度浮点数表示的范围内。</p>
</dd>
</dl>
<dl>
<dt>
<b>输出：</b>
</dt>
<dd>
<p>对应每个测试案例，输出序列中最大的连续子序列乘积，若乘积为浮点数请保留2位小数，如果最大乘积为负数，输出-1。</p>
</dd>
</dl>
<dl>
<dt>
<b>样例输入：</b>
</dt>
<dd>
<pre>7
-2.5 4 0 3 0.5 8 -1
5
-3.2 5 -1.6 1 2.5
5
-1.1 2.2 -1.1 3.3 -1.1</pre>
</dd>
</dl>
<dl>
<dt>
<b>样例输出：</b>
</dt>
<dd>
<pre>12
64
8.78
</pre>
</dd>
</dl>
<hr/>cpp 代码如下：
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include&lt;math.h&gt;
using namespace std;
double d1, d2;
int n;
double ans, d, tmp1, tmp2;
int main() {
	while (~scanf("%d",&amp;n))
	{
		scanf("%lf", &amp;d1);
		ans = d2 = d1;
		for(int i=1; i&lt;n; i++) {
			scanf("%lf", &amp;d);
			tmp1 = d1 * d;
			tmp2 = d2 * d;
			d1 = max(max(tmp1,tmp2),d);
			d2 = min(min(tmp1,tmp2),d);
			if(d1 &gt; ans)
			ans = d1;
		}
		int t = (int)ans;
		if(ans &lt; 0) {
			puts("-1");
		} else {
			if(ans == t)
			printf("%d\n",t);
			else printf("%.2f\n",ans);
		}
	}
}
/**************************************************************
	Problem: 1501
	User: coder
	Language: C++
	Result: Accepted
	Time:110 ms
	Memory:1520 kb
****************************************************************/</pre>
<p></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-90636">
<article class="comment" id="comment-90636">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90636" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90635">
<article class="comment" id="comment-90635">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90635" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90634">
<article class="comment" id="comment-90634">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90634" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90633">
<article class="comment" id="comment-90633">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90633" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90632">
<article class="comment" id="comment-90632">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90632" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90631">
<article class="comment" id="comment-90631">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90631" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90630">
<article class="comment" id="comment-90630">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90630" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90629">
<article class="comment" id="comment-90629">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90629" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90628">
<article class="comment" id="comment-90628">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90628" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90627">
<article class="comment" id="comment-90627">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90627" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90626">
<article class="comment" id="comment-90626">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532024" rel="external nofollow">新用户280037</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-90626" rel="nofollow"><time datetime="2017-04-13T12:27:17+00:00" pubdate="">2017年4月13日 at 下午12:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后台那个设置页面在哪里的啊?我没有找到?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42220">
<article class="comment" id="comment-42220">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42220" rel="nofollow"><time datetime="2015-01-27T12:46:02+00:00" pubdate="">2015年1月27日 at 下午12:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15830">
<article class="comment" id="comment-15830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-15830" rel="nofollow"><time datetime="2015-01-17T16:17:27+00:00" pubdate="">2015年1月17日 at 下午4:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42214">
<article class="comment" id="comment-42214">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42214" rel="nofollow"><time datetime="2014-12-29T19:53:52+00:00" pubdate="">2014年12月29日 at 下午7:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++编译的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-15829">
<article class="comment" id="comment-15829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-15829" rel="nofollow"><time datetime="2014-10-19T01:12:33+00:00" pubdate="">2014年10月19日 at 上午1:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受益匪浅！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42223">
<article class="comment" id="comment-42223">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42223" rel="nofollow"><time datetime="2014-10-03T19:13:49+00:00" pubdate="">2014年10月3日 at 下午7:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很全很强大！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42216">
<article class="comment" id="comment-42216">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42216" rel="nofollow"><time datetime="2014-09-19T20:17:37+00:00" pubdate="">2014年9月19日 at 下午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42215">
<article class="comment" id="comment-42215">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42215" rel="nofollow"><time datetime="2014-07-29T13:36:46+00:00" pubdate="">2014年7月29日 at 下午1:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不对，仔细对比一下输入输出， 怎么会有‘‘printf("The winning moves are:");’’这种输出呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61846">
<article class="comment" id="comment-61846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-61846" rel="nofollow"><time datetime="2014-07-23T15:27:39+00:00" pubdate="">2014年7月23日 at 下午3:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42219">
<article class="comment" id="comment-42219">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42219" rel="nofollow"><time datetime="2014-06-06T05:28:43+00:00" pubdate="">2014年6月6日 at 上午5:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，再乘以m的就多余了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42221">
<article class="comment" id="comment-42221">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42221" rel="nofollow"><time datetime="2014-04-11T06:22:02+00:00" pubdate="">2014年4月11日 at 上午6:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42217">
<article class="comment" id="comment-42217">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42217" rel="nofollow"><time datetime="2014-02-22T21:30:02+00:00" pubdate="">2014年2月22日 at 下午9:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42218">
<article class="comment" id="comment-42218">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42218" rel="nofollow"><time datetime="2014-01-11T17:11:13+00:00" pubdate="">2014年1月11日 at 下午5:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42224">
<article class="comment" id="comment-42224">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42224" rel="nofollow"><time datetime="2014-01-10T06:34:22+00:00" pubdate="">2014年1月10日 at 上午6:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42222">
<article class="comment" id="comment-42222">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/jiudu-1501-2389.html#comment-42222" rel="nofollow"><time datetime="2014-01-06T10:10:12+00:00" pubdate="">2014年1月6日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>