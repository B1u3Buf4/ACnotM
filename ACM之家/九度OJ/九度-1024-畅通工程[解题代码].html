<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">九度-1024-畅通工程[解题代码]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/zhuanti/kaoyan" rel="category tag" title="查看考研机试中的全部文章">考研机试</a></span><span class="i4">围观1016次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2206" href="http://www.acmerblog.com/jiudu-1024-2206.html#comments" title="《九度-1024-畅通工程[解题代码]》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>题目来源：2007年浙江大学计算机及软件工程研究生机试真题</p>
<dl>
<dt>
<b>题目描述：</b>
</dt>
<dd>
<div class="panel_content">    省政府“畅通工程”的目标是使全省任何两个村庄间都可以实现公路交通（但不一定有直接的公路相连，只要能间接通过公路可达即可）。经过调查评估，得到的统计表中列出了有可能建设公路的若干条道路的成本。现请你编写程序，计算出全省畅通需要的最低成本。</div>
</dd>
</dl>
<dl>
<dt>
<b>输入：</b>
</dt>
<dd>
<div class="panel_content">    测试输入包含若干测试用例。每个测试用例的第1行给出评估的道路条数 N、村庄数目M (N, M &lt; =100 )；随后的 N 行对应村庄间道路的成本，每行给出一对正整数，分别是两个村庄的编号，以及此两村庄间道路的成本（也是正整数）。为简单起见，村庄从1到M编号。当N为0时，全部输入结束，相应的结果不要输出。</div>
</dd>
</dl>
<dl>
<dt>
<b>输出：</b>
</dt>
<dd>
<div class="panel_content">    对每个测试用例，在1行里输出全省畅通需要的最低成本。若统计数据不足以保证畅通，则输出“?”。</div>
</dd>
</dl>
<dl>
<dt>
<b>样例输入：</b>
</dt>
<dd>
<pre>3 3
1 2 1
1 3 2
2 3 4
1 3
2 3 2
0 100</pre>
</dd>
</dl>
<dl>
<dt>
<b>样例输出：</b>
</dt>
<dd>
<pre>3
?</pre>
</dd>
</dl>
<hr/>cpp 代码如下：
<pre class="brush:cpp ">#include &lt;iostream&gt;
using namespace std;
bool visited[101];
int ans;
int map[101][101];
int MAX = 10000000;
int n,m,a,b,c;
bool solve(){
	ans = 0;
		visited[0] = true;
		for(int i=1; i&lt;m; i++){
			int index = 0;
			long min = MAX;
			for(int j=1; j&lt;m; j++){
				if(!visited[j] &amp;&amp; map[0][j] &lt; min){
					min = map[0][j];
					index = j;
				}
			}
			if(min &gt;=  MAX)
				return false;
			ans += map[0][index];
			map[0][index] = 0;
			visited[index] = true;
			long temp = 0;
			for(int j=0; j&lt;m; j++){
				if(!visited[j] &amp;&amp; map[index][j] &lt; MAX){
					temp = map[0][index] + map[index][j];
					if(temp &lt; map[0][j])
						map[0][j] = temp;
				}
			}
		}
	return true;
}
int main() {
	while(cin &gt;&gt; n &gt;&gt; m){
		if(n == 0)
			break;
		for(int i=0; i&lt;m; i++){
			visited[i] = false;
			for(int j=0; j&lt;m; j++)
				map[i][j] = MAX;
		}
		for(int i=0; i&lt;n; i++){
			cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
			a--;
			b--;
			if(map[a][b] &gt; c)
			{
				map[a][b] = c;
				map[b][a] = c;
			}
		}
		if(n &lt; m-1){
			cout &lt;&lt; "?\n" ;
			continue;
		}
		if( solve()){
			cout &lt;&lt; ans &lt;&lt; endl;
		}else
			cout &lt;&lt; "?\n" ;
	}
	return 0;
}
/**************************************************************
	Problem: 1024
	User: coder
	Language: C++
	Result: Accepted
	Time:10 ms
	Memory:1560 kb
****************************************************************/</pre>
<p></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-91630">
<article class="comment" id="comment-91630">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521648" rel="external nofollow">新用户544901</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-91630" rel="nofollow"><time datetime="2017-04-13T13:33:11+00:00" pubdate="">2017年4月13日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么那么多章节 都不想看了 追的心累</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14713">
<article class="comment" id="comment-14713">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14713" rel="nofollow"><time datetime="2015-05-24T09:54:07+00:00" pubdate="">2015年5月24日 at 上午9:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14709">
<article class="comment" id="comment-14709">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14709" rel="nofollow"><time datetime="2015-04-14T17:54:42+00:00" pubdate="">2015年4月14日 at 下午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>值得分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14705">
<article class="comment" id="comment-14705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14705" rel="nofollow"><time datetime="2015-04-13T23:00:38+00:00" pubdate="">2015年4月13日 at 下午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一段代码中：<br/>
 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
明显不对吧，应该是 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =j;才对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14714">
<article class="comment" id="comment-14714">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14714" rel="nofollow"><time datetime="2014-07-11T01:28:48+00:00" pubdate="">2014年7月11日 at 上午1:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码可真够长的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14710">
<article class="comment" id="comment-14710">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14710" rel="nofollow"><time datetime="2014-05-25T09:21:57+00:00" pubdate="">2014年5月25日 at 上午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14704">
<article class="comment" id="comment-14704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bob</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14704" rel="nofollow"><time datetime="2014-05-22T07:00:53+00:00" pubdate="">2014年5月22日 at 上午7:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个还不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14707">
<article class="comment" id="comment-14707">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14707" rel="nofollow"><time datetime="2014-04-14T08:34:29+00:00" pubdate="">2014年4月14日 at 上午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>比较基础，找些自信</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14702">
<article class="comment" id="comment-14702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14702" rel="nofollow"><time datetime="2014-04-06T23:37:11+00:00" pubdate="">2014年4月6日 at 下午11:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14703">
<article class="comment" id="comment-14703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jxfactor</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14703" rel="nofollow"><time datetime="2014-04-03T15:26:39+00:00" pubdate="">2014年4月3日 at 下午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14708">
<article class="comment" id="comment-14708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14708" rel="nofollow"><time datetime="2014-03-03T09:48:31+00:00" pubdate="">2014年3月3日 at 上午9:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二块代码if(it != mp.end())应改为if(it != mp.end() &amp;&amp; (i+1)!=(it-&gt;second +1))；因为第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14711">
<article class="comment" id="comment-14711">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14711" rel="nofollow"><time datetime="2014-02-27T09:09:34+00:00" pubdate="">2014年2月27日 at 上午9:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14706">
<article class="comment" id="comment-14706">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14706" rel="nofollow"><time datetime="2014-02-12T11:13:31+00:00" pubdate="">2014年2月12日 at 上午11:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14712">
<article class="comment" id="comment-14712">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14712" rel="nofollow"><time datetime="2014-01-17T11:44:11+00:00" pubdate="">2014年1月17日 at 上午11:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14701">
<article class="comment" id="comment-14701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/jiudu-1024-2206.html#comment-14701" rel="nofollow"><time datetime="2014-01-10T09:20:31+00:00" pubdate="">2014年1月10日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>