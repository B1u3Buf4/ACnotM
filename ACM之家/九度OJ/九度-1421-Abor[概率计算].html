<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-16</div>
<div class="tit"><h1 class="entry-title">九度-1421-Abor[概率计算]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/jdoj" rel="category tag" title="查看九度OJ中的全部文章">九度OJ</a>, <a href="http://www.acmerblog.com/category/math/probability" rel="category tag" title="查看概率计算中的全部文章">概率计算</a></span><span class="i4">围观1698次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3771" href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comments" title="《九度-1421-Abor[概率计算]》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h3 style="text-align: left;">题目来自九度：第四届ACM_DIY群程序设计竞赛</h3>
<h3 style="text-align: center;">题目1421：Abor</h3>
<dl>
<dt><b>题目描述：</b></dt>
<dd>As we all known, AbOr has a lots of girls in a palace called “Hou” (About 30 millions).Now you are given n people without knowing their gender(Male and Female are equally likely for anyone). You also know the relationship between them! You want to know what is the expecting number of “abor” that could be found , where “abor” is defined as:(1) Only Male might be considered;(2) The Male who has at least m Females friends is called “abor”.
</dd>
</dl>
<dl>
<dt><b>输入：</b></dt>
<dd>        The first line is one integer T indicates the number of the test cases. (T &lt;= 10000)Then for every case, the first line has only two integers n and m, indicating the number of people and the value of m.(0≤m≤n≤20)Then one n by n symmetric matrix A, where A[i][j] is 1 if j is a friend of i(vice versa) and 0 otherwise;(A[i][i] is always 0)</dd>
</dl>
<dl>
<dt><b>输出：</b></dt>
<dd>        Output the expecting number of “abor” in the given case. The answer must round to two digital after the decimal point.</dd>
</dl>
<dl>
<dt><b>样例输入：</b></dt>
<dd>
<pre>3
2 1
01
10
2 0
01
10
3 2
011
101
110</pre>
</dd>
</dl>
<dl>
<dt><b>样例输出：</b></dt>
<dd>
<pre>0.50
1.00
0.38</pre>
</dd>
</dl>
<p>分析：</p>
<p>男女出现的概率是相同的。只有男生才能叫做abor</p>
<p>以第三个例子：</p>
<pre>011
101
110</pre>
<p>3个人期望值是相同的都为 0.5 * 0.5 * 0.5 ，结果即为 0.5 * 0.5 * 0.5 * 3 = 0.38</p>
<p>对于任意的n，需要分别计算再相加。</p>
<pre class="brush:cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cmath&gt;
char ch[30];
long double po[30];
long long C(int a,int b)
{
    long long u=1,d=1; 
    if(b-a&lt;a)
    a = b-a;
    int bb = b,aa = a;
    for(int i=0;i&lt;a;i++)
    {
        u*=bb--;
        d*=aa--;
        //aa--;
        //bb--;
    }
    long long sum = u/d;
    return sum;
}
void Init()
{
    po[0] = 1.0;
    for(int i=1;i&lt;=21;i++)
    po[i] = po[i-1]*0.5;
}    
int main()
{
    int t,j;
    Init();
    scanf("%d",&amp;t);
    while(t--)
    {
        int n,m,f;
        long double p = 0.0;
        scanf("%d%d",&amp;n,&amp;m);

        for(int i=1;i&lt;=n;i++)
        {
            f = 0;
            scanf("%s",ch);
            for( j=0;j&lt;n;j++)
                if(ch[j]=='1')
                    f++;    
                if(f&lt;m)
                    continue;

                for(j=m;j&lt;=f;j++)
                    p+=C(j,f)*po[f+1];
        }
        if(m==0)
        {
            printf("1.00\n");
            continue;
        }
        if(m==n)
        {
            printf("0.00\n");
            continue;
        }
        printf("%0.2lf\n",(double)p);

    }
    return 0;
}
/**************************************************************
    Problem: 1421
    User: 从此醉
    Language: C++
    Result: Accepted
    Time:10 ms
    Memory:1020 kb
****************************************************************/</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-45081">
<article class="comment" id="comment-45081">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45081" rel="nofollow"><time datetime="2015-02-18T19:09:09+00:00" pubdate="">2015年2月18日 at 下午7:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45082">
<article class="comment" id="comment-45082">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45082" rel="nofollow"><time datetime="2015-02-01T15:43:40+00:00" pubdate="">2015年2月1日 at 下午3:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>文章写得挺好，就是最后的斐波那契那个没有看明白</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45085">
<article class="comment" id="comment-45085">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45085" rel="nofollow"><time datetime="2015-01-28T18:39:25+00:00" pubdate="">2015年1月28日 at 下午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/*<br/>
 * =====================================================================================<br/>
 *<br/>
 *       Filename:  1366.cc<br/>
 *<br/>
 *    Description:<br/>
 *<br/>
 *        Version:  1.0<br/>
 *        Created:  2014年01月06日 14时52分14秒<br/>
 *       Revision:  none<br/>
 *       Compiler:  gcc<br/>
 *<br/>
 *         Author:  Wenxian Ni (Hello World~), <a href="mailto:niwenxianq@qq.com">niwenxianq@qq.com</a><br/>
 *   Organization:  AMS/ICT<br/>
 *<br/>
 * =====================================================================================<br/>
 */</p>
<p>#include<br/>
#include </p>
<p>using namespace std;</p>
<p>int main()<br/>
{<br/>
    stack st;<br/>
    int n,i,j;<br/>
    int test;<br/>
    int a[100001];<br/>
    int b[100001];<br/>
    while(cin&gt;&gt;n)<br/>
    {<br/>
       for(i=1;i&gt;a[i];<br/>
       for(i=1;i&gt;b[i];<br/>
        //st.clear();<br/>
        while(!st.empty())<br/>
            st.pop();<br/>
        i = 1;<br/>
        j = 1;</p>
<p>        while(in)<br/>
                break;<br/>
            }<br/>
            while(!st.empty()&amp;&amp;st.top()==b[j])<br/>
            {<br/>
                st.pop();<br/>
                j++;<br/>
            }<br/>
        }<br/>
        if(st.empty())<br/>
            cout&lt;&lt;"YES"&lt;&lt;endl;<br/>
        else<br/>
            cout&lt;&lt;"NO"&lt;&lt;endl;<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45090">
<article class="comment" id="comment-45090">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45090" rel="nofollow"><time datetime="2014-11-08T14:58:44+00:00" pubdate="">2014年11月8日 at 下午2:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>华为这题目略显简单啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45088">
<article class="comment" id="comment-45088">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45088" rel="nofollow"><time datetime="2014-10-02T07:18:29+00:00" pubdate="">2014年10月2日 at 上午7:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45083">
<article class="comment" id="comment-45083">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45083" rel="nofollow"><time datetime="2014-09-06T09:00:09+00:00" pubdate="">2014年9月6日 at 上午9:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45089">
<article class="comment" id="comment-45089">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45089" rel="nofollow"><time datetime="2014-09-05T06:23:21+00:00" pubdate="">2014年9月5日 at 上午6:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m^n % k 的算法写错了，没有人发现吗？？？正确的返回值应该是return b*m % k;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45087">
<article class="comment" id="comment-45087">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45087" rel="nofollow"><time datetime="2014-08-27T05:58:51+00:00" pubdate="">2014年8月27日 at 上午5:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看来学好代数很重要啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45080">
<article class="comment" id="comment-45080">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45080" rel="nofollow"><time datetime="2014-05-05T09:48:10+00:00" pubdate="">2014年5月5日 at 上午9:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>懂了，谢谢啦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45084">
<article class="comment" id="comment-45084">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45084" rel="nofollow"><time datetime="2014-04-15T17:48:23+00:00" pubdate="">2014年4月15日 at 下午5:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个才是我想要的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45086">
<article class="comment" id="comment-45086">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/jiudu-1421-abor-3771.html#comment-45086" rel="nofollow"><time datetime="2014-02-14T13:53:03+00:00" pubdate="">2014年2月14日 at 下午1:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>