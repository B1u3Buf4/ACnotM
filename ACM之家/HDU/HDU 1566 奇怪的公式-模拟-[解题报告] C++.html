<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1566 奇怪的公式-模拟-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/bignumber" rel="category tag" title="查看高精度计算中的全部文章">高精度计算</a></span><span class="i4">围观880次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2120" href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comments" title="《HDU 1566 奇怪的公式-模拟-[解题报告] C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">奇怪的公式</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">alpc12是个满脑子奇怪思想的孩子.新年到了，他想做做数学题，但是发现多边形的面积公式好复杂，于是他将其修改为S = a*b*c*d*…(a, b, c, d..是边且为正数且所有边不相等)，alpc12的老师alpc01看他如此偷懒，作为惩罚，决定好好考考他。于是alpc01问：” 现在知道这个多边形的周长，这个多边形的面积最大为多少呢？而且，这回可不许你乱改周长公式哦!”</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">多个测试情况.每行输入n(3 &lt;= n &lt;= 1000)，代表多边形周长,读到文件尾(EOF结束)。</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">对于每个输入的n，输出2行，<br/>
第一行：多边形的边数，然后是单调不降的各边的长度．<br/>
第二行：这个多边形的面积的最大值．<br/>
输出不要有任何的无用字符</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">3
4
5</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">2 1 2
2
2 1 3
3
2 2 3
6</pre>
<p><!-- problem end --></p>
<div align="left">这道题忒恶心，你懂的。。。本来这题不不知道怎么做，只是猜，这些边必定是递增的。有木有听过哥德巴赫猜想。。。当不知道做法时，可以猜想，也只能猜了，也就是YY^_^</div>
<div align="left">本来用C++做的，但涉及到大数，太恶心了，后来改用java，Pe了，这时我心动了，因为我的猜想是对的。。。。。。。。。。。PE原因是因为 他是一行判断边，再一行判断面积。</div>
<div align="left">解法：</div>
<div align="left">从i=2开以始，一真做k=n-i;i++;      真到i&gt;k,这时，可以确定有i-2条边，这时将最k逆向循环分给这些连，分到k=0为止，此时面积s=这些边的积。</div>
<div align="left">不要问我为什么，我无法证明。。</div>
<div align="left"></div>
<div align="left">
<pre class="brush:cpp">import java.io.BufferedInputStream;
import java.math.BigInteger;
import java.util.Scanner;

public class Main {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        Scanner cin=new Scanner(new BufferedInputStream(System.in ));
        int n,i,j,k;
        BigInteger sum = null;

        while(cin.hasNext()){
            n=cin.nextInt();
            if(n&lt;5){
                if(n==3)System.out.println("2 1 2");
                else if(n==4)System.out.println("2 1 3");
                sum=BigInteger.valueOf(n-1);
            }else{
            k=n;sum=BigInteger.valueOf(1);
            for(i=2;i&lt;=k;i++)k-=i;
            if(k==0){
                System.out.print(i-2);
                k=1;
                for(j=2;j&lt;i;j++){
                    System.out.print(" "+j);
                    sum=sum.multiply(BigInteger.valueOf(j));
                }
                System.out.println();
            }else{
                n=k%(i-2);//余数
                k=(k/(i-2));//增加的偏移量
                System.out.print(i-2);
                j=2+k;
                i+=k;
                for(;j&lt;i-n;j++){
                    System.out.print(" "+j);
                    sum=sum.multiply(BigInteger.valueOf(j));
                }
                for(j=j+1;j&lt;=i;j++){
                    System.out.print(" "+j);
                    sum=sum.multiply(BigInteger.valueOf(j));
                }
                System.out.println();
            }

        }
            System.out.println(sum);
        }

    }

}</pre>
<p>http://blog.csdn.net/xinglely/article/details/8787754</p>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-91836">
<article class="comment" id="comment-91836">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516763" rel="external nofollow">新用户169231</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-91836" rel="nofollow"><time datetime="2017-04-13T14:35:37+00:00" pubdate="">2017年4月13日 at 下午2:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在漫游飒飒里有165【上】花</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55025">
<article class="comment" id="comment-55025">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55025" rel="nofollow"><time datetime="2015-05-25T10:32:06+00:00" pubdate="">2015年5月25日 at 上午10:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55016">
<article class="comment" id="comment-55016">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55016" rel="nofollow"><time datetime="2015-03-24T11:51:58+00:00" pubdate="">2015年3月24日 at 上午11:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哎，path[0]应该是从零开始吧，为什么是赋值1呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55024">
<article class="comment" id="comment-55024">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55024" rel="nofollow"><time datetime="2015-03-08T22:58:13+00:00" pubdate="">2015年3月8日 at 下午10:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，应该是200！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55021">
<article class="comment" id="comment-55021">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55021" rel="nofollow"><time datetime="2014-08-28T19:03:14+00:00" pubdate="">2014年8月28日 at 下午7:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55020">
<article class="comment" id="comment-55020">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55020" rel="nofollow"><time datetime="2014-08-20T13:42:56+00:00" pubdate="">2014年8月20日 at 下午1:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55018">
<article class="comment" id="comment-55018">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55018" rel="nofollow"><time datetime="2014-05-17T20:47:07+00:00" pubdate="">2014年5月17日 at 下午8:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>秒！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55022">
<article class="comment" id="comment-55022">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55022" rel="nofollow"><time datetime="2014-03-15T22:51:40+00:00" pubdate="">2014年3月15日 at 下午10:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55019">
<article class="comment" id="comment-55019">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55019" rel="nofollow"><time datetime="2014-02-14T01:41:30+00:00" pubdate="">2014年2月14日 at 上午1:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个后缀数组不是常用的那个.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55017">
<article class="comment" id="comment-55017">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55017" rel="nofollow"><time datetime="2014-02-04T16:43:46+00:00" pubdate="">2014年2月4日 at 下午4:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-159">
<article class="comment" id="comment-159">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">Raise</span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-159" rel="nofollow"><time datetime="2014-01-29T21:59:46+00:00" pubdate="">2014年1月29日 at 下午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-160">
<article class="comment" id="comment-160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.acmerblog.com/" rel="external nofollow">从此醉</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-160" rel="nofollow"><time datetime="2014-01-29T23:09:40+00:00" pubdate="">2014年1月29日 at 下午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-111">
<article class="comment" id="comment-111">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">Raise</span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-111" rel="nofollow"><time datetime="2014-01-29T21:59:46+00:00" pubdate="">2014年1月29日 at 下午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-112">
<article class="comment" id="comment-112">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.acmerblog.com/" rel="external nofollow">从此醉</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-112" rel="nofollow"><time datetime="2014-01-29T23:09:40+00:00" pubdate="">2014年1月29日 at 下午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55023">
<article class="comment" id="comment-55023">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-1566-%e5%a5%87%e6%80%aa%e7%9a%84%e5%85%ac%e5%bc%8f-2120.html#comment-55023" rel="nofollow"><time datetime="2013-12-13T06:32:43+00:00" pubdate="">2013年12月13日 at 上午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>