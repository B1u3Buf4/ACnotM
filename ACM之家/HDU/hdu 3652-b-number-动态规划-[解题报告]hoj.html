<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-30</div>
<div class="tit"><h1 class="entry-title">hdu 3652-b-number-动态规划-[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观462次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6613" href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comments" title="《hdu 3652-b-number-动态规划-[解题报告]hoj》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<p>地址：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3652" target="_blank">http://acm.hdu.edu.cn/showproblem.php?pid=3652</a></p>
<h1 style="color:rgb(26,92,200); text-align:center; font-family:'Times New Roman'">
B-number</h1>
<p><span style="font-family:'Times New Roman'; font-size:14px"><strong><span style="font-family:Arial; font-size:12px; color:green">Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)<br/>
Total Submission(s): 1744    Accepted Submission(s): 966<br/>
</span></strong></span><br style="font-family:'Times New Roman'; font-size:14px"/><br/>
<br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Problem Description</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
A wqb-number, or B-number for short, is a non-negative integer whose decimal form contains the sub- string "13" and can be divided by 13. For example, 130 and 2613 are wqb-numbers, but 143 and 2639 are not. Your task is to calculate how many wqb-numbers from<br/>
 1 to n for a given integer n.</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
Process till EOF. In each line, there is one positive integer n(1 &lt;= n &lt;= 1000000000).</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
Print each answer in a single line.</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">13
100
200
1000</div></pre>
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">1
1
2
2</div></pre>
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<div>
</div>
<p><strong><span style="font-size:14px">题意：求小于等于n的含有13且是13的倍数的数字的个数。</span></strong></p>
<p><strong><span style="font-size:14px">思路：数位dp，开四维数组，第一维表示位数，第二维表示开头数字，第三维表示对13余数，第四维表示是否含有13（1表示有0表示无）。然后就是纯数位dp模板。</span></strong></p>
<p><strong><span style="font-size:14px">代码：</span></strong></p>
<pre class="brush:cpp" code_snippet_id="95211" name="code" snippet_file_name="blog_20131203_1_8977399">#include&lt;iostream&gt;
#include&lt;cmath&gt;
//#include&lt;vector&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
//#include&lt;algorithm&gt;
using namespace std;
//#define M 1000000007
int dp[20][20][20][2]= {0};
void getdp()  //打表
{
    int i,j,k,l,s=1;
    dp[0][0][0][0]=1;
    for(i=1; i&lt;=10; i++)
    {
        for(j=0; j&lt;=9; j++)
        {
            for(k=0; k&lt;=9; k++)
            {
                for(l=0; l&lt;13; l++)
                {
                    if(k==3&amp;&amp;j==1)
                        dp[i][j][(l+(j*s)%13)%13][1]+=dp[i-1][k][l][0];
                    else dp[i][j][(l+(j*s)%13)%13][0]+=dp[i-1][k][l][0];
                    dp[i][j][(l+(j*s)%13)%13][1]+=dp[i-1][k][l][1];
                }
            }
        }
        s*=10;
    }
}
int main()
{
    int m,i,j,l;
    getdp();
    while(scanf("%d",&amp;m)&gt;0)
    {
        int len=1,len1[20]= {0},x=1,s=m,cg=0;
        if(m%13==0) cg=1;
        while(m)
        {
            len1[len++]=m%10;
            m/=10;
            x*=10;
        }
        int ans=0,bg=0;
        for(i=len-1; i&gt;=1; i--)
        {
            for(j=0; j&lt;len1[i]; j++)
            {
                ans+=dp[i][j][(13-((s/x)*x)%13)%13][1];
                if(bg||(len1[i+1]==1&amp;&amp;j==3)) ans+=dp[i][j][(13-((s/x)*x)%13)%13][0];  //判断这位是不是13
            }
            if(len1[i]==3&amp;&amp;len1[i+1]==1) bg=1;  //判断是否在前面已出现13
            x/=10;
        }
        if(cg&amp;&amp;bg) ans++;
        printf("%d\n",ans);
    }
    return 0;
}
</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73530">
<article class="comment" id="comment-73530">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523768" rel="external nofollow">新用户116063</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-73530" rel="nofollow"><time datetime="2017-04-11T22:05:34+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>完全能猜出里面是谁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59420">
<article class="comment" id="comment-59420">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-59420" rel="nofollow"><time datetime="2015-05-27T00:18:38+00:00" pubdate="">2015年5月27日 at 上午12:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59418">
<article class="comment" id="comment-59418">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-59418" rel="nofollow"><time datetime="2015-05-11T10:37:54+00:00" pubdate="">2015年5月11日 at 上午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50671">
<article class="comment" id="comment-50671">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-50671" rel="nofollow"><time datetime="2015-04-16T17:16:32+00:00" pubdate="">2015年4月16日 at 下午5:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++语言的代码？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50668">
<article class="comment" id="comment-50668">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-50668" rel="nofollow"><time datetime="2015-04-16T09:22:13+00:00" pubdate="">2015年4月16日 at 上午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59419">
<article class="comment" id="comment-59419">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-59419" rel="nofollow"><time datetime="2015-03-22T19:58:54+00:00" pubdate="">2015年3月22日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59417">
<article class="comment" id="comment-59417">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-59417" rel="nofollow"><time datetime="2015-01-29T09:06:44+00:00" pubdate="">2015年1月29日 at 上午9:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50670">
<article class="comment" id="comment-50670">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-50670" rel="nofollow"><time datetime="2015-01-23T08:09:09+00:00" pubdate="">2015年1月23日 at 上午8:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32824">
<article class="comment" id="comment-32824">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Riddick</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-32824" rel="nofollow"><time datetime="2015-01-13T06:34:32+00:00" pubdate="">2015年1月13日 at 上午6:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个分析相当全面，经典！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50667">
<article class="comment" id="comment-50667">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-50667" rel="nofollow"><time datetime="2015-01-03T15:23:11+00:00" pubdate="">2015年1月3日 at 下午3:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受益匪浅！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50669">
<article class="comment" id="comment-50669">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-50669" rel="nofollow"><time datetime="2014-12-31T11:57:12+00:00" pubdate="">2014年12月31日 at 上午11:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32823">
<article class="comment" id="comment-32823">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-32823" rel="nofollow"><time datetime="2014-12-12T04:52:47+00:00" pubdate="">2014年12月12日 at 上午4:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32825">
<article class="comment" id="comment-32825">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/hdu-3652-b-number-6613.html#comment-32825" rel="nofollow"><time datetime="2014-12-07T03:52:57+00:00" pubdate="">2014年12月7日 at 上午3:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>