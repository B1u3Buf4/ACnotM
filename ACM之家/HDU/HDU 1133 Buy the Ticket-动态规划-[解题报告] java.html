<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-27</div>
<div class="tit"><h1 class="entry-title">HDU 1133 Buy the Ticket-动态规划-[解题报告] java</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观2170次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1421" href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comments" title="《HDU 1133 Buy the Ticket-动态规划-[解题报告] java》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Buy the Ticket</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The "Harry Potter and the Goblet of Fire" will be on show in the next few days. As a crazy fan of Harry Potter, you will go to the cinema and have the first sight, won’t you?
<p>Suppose the cinema only has one ticket-office and the price for per-ticket is 50 dollars. The queue for buying the tickets is consisted of m + n persons (m persons each only has the 50-dollar bill and n persons each only has the 100-dollar bill).</p>
<p>Now the problem for you is to calculate the number of different ways of the queue that the buying process won’t be stopped from the first person till the last person. <br/>Note: initially the ticket-office has no money. </p>
<p>The buying process will be stopped on the occasion that the ticket-office has no 50-dollar bill but the first person of the queue only has the 100-dollar bill. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input file contains several test cases. Each test case is made up of two integer numbers: m and n. It is terminated by m = n = 0. Otherwise, m, n &lt;=100. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, first print the test number (counting from 1) in one line, then output the number of different ways in another line.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 0
3 1
3 3
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Test #1:
6
Test #2:
18
Test #3:
180</pre>
<p><!-- problem end --></p>
<p>题意：买票的时候，顾客有50元的钱或者100元的钱，，只能用顾客的钱找环给顾客。。所以50每一次，拿50元的要不少于拿100元的顾客。。</p>
<p>思路：动态规划。</p>
<p>方程：dp[i][j] = X*dp[i-1][j] + Y*dp[i][j-1]  .，X,Y都是表示，选择第i个人时  ，有（n-i+1）种选择方式。dp[i][j] 表示当前已经有i个拿50的顾客，j个拿100元的顾客买到票了。</p>
<p>
</p>
<p>
</p>
<pre class="brush:java ">import java.util.*;
import java.math.*;
public class Main {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        Scanner cin = new Scanner(System.in);
        BigInteger dp[][] = new BigInteger[109][109] ;
        
        int a,b;
        int T = 1;
        while(true){
            a = cin.nextInt();b=cin.nextInt();
            int ta =a,tb = b;
            if(a==0&amp;&amp;b==0) break;
            for(int i=0;i&lt;109;i++)
                for(int j=0;j&lt;109;j++) dp[i][j] = BigInteger.ZERO;
            System.out.println("Test #"+T+":");T++;
            if(a&lt;b){
                System.out.println("0");
                continue;
            }
            dp[0][0] = BigInteger.ONE;
            for(int j=1;j&lt;=a;j++)
                {dp[0][j] = dp[0][j-1].multiply(BigInteger.valueOf(ta));ta--;}
            for(int i=1;i&lt;=b;i++){
                for(int j=i;j&lt;=a;j++){
                    dp[i][j]=dp[i-1][j].multiply(BigInteger.valueOf(b+1-i));
                    dp[i][j]=dp[i][j].add(dp[i][j-1].multiply(BigInteger.valueOf(a+1-j)));
                }
            } 
            System.out.println(dp[b][a]);
        }
    }

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-39950">
<article class="comment" id="comment-39950">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39950" rel="nofollow"><time datetime="2015-04-20T03:49:42+00:00" pubdate="">2015年4月20日 at 上午3:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真考人啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11064">
<article class="comment" id="comment-11064">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-11064" rel="nofollow"><time datetime="2015-03-02T05:10:21+00:00" pubdate="">2015年3月2日 at 上午5:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序输出是对的，呈三角型。原程序是按C++写的，已经改成了C的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39946">
<article class="comment" id="comment-39946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Baifern</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39946" rel="nofollow"><time datetime="2015-01-18T09:12:01+00:00" pubdate="">2015年1月18日 at 上午9:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二块代码if(it != mp.end())应改为if(it != mp.end() &amp;&amp; (i+1)!=(it-&gt;second +1))；因为第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11061">
<article class="comment" id="comment-11061">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-11061" rel="nofollow"><time datetime="2014-11-01T11:41:36+00:00" pubdate="">2014年11月1日 at 上午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39948">
<article class="comment" id="comment-39948">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39948" rel="nofollow"><time datetime="2014-09-27T11:16:29+00:00" pubdate="">2014年9月27日 at 上午11:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39953">
<article class="comment" id="comment-39953">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39953" rel="nofollow"><time datetime="2014-09-17T12:38:11+00:00" pubdate="">2014年9月17日 at 下午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>…. 配图居然是没方向的。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11062">
<article class="comment" id="comment-11062">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-11062" rel="nofollow"><time datetime="2014-09-17T01:58:27+00:00" pubdate="">2014年9月17日 at 上午1:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39951">
<article class="comment" id="comment-39951">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39951" rel="nofollow"><time datetime="2014-09-07T08:49:51+00:00" pubdate="">2014年9月7日 at 上午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39954">
<article class="comment" id="comment-39954">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39954" rel="nofollow"><time datetime="2014-05-09T17:05:25+00:00" pubdate="">2014年5月9日 at 下午5:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39949">
<article class="comment" id="comment-39949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39949" rel="nofollow"><time datetime="2014-04-15T21:40:55+00:00" pubdate="">2014年4月15日 at 下午9:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11060">
<article class="comment" id="comment-11060">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-11060" rel="nofollow"><time datetime="2014-01-31T17:30:44+00:00" pubdate="">2014年1月31日 at 下午5:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39952">
<article class="comment" id="comment-39952">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39952" rel="nofollow"><time datetime="2013-12-12T23:54:46+00:00" pubdate="">2013年12月12日 at 下午11:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11063">
<article class="comment" id="comment-11063">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-11063" rel="nofollow"><time datetime="2013-12-05T09:46:42+00:00" pubdate="">2013年12月5日 at 上午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39947">
<article class="comment" id="comment-39947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-1133-Buy-the-Ticket-1421.html#comment-39947" rel="nofollow"><time datetime="2013-11-29T13:58:38+00:00" pubdate="">2013年11月29日 at 下午1:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for taking the time to examine this, I really feel strongly about it and love studying a lot more on this topic. If possible, as you acquire experience</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>