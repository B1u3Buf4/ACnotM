<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4765-Tsp-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观113次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7810" href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comments" title="《HDU 4765-Tsp-动态规划-[解题报告]HOJ》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Tsp</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
MGG is a poor truckman. One day he is asked to deliver packages for customers. There are n customers, where each customer specifies a location to pick up his/her package, and a location to deliver the package. Customers are labeled from 1 to n. For customer i, we denote the pickup location as i+, and the delivery location as i-. To deliver package for customer i, Mo must visit i+ before visiting i-. 
<p> However, the truck Mo drives has only a rear door, so the truck works as a stack: the last picked up package must be delivered first. If there are two packages i and j in the truck, and i is picked up before j, then i cannot be delivered unless j is delivered.</p>
<p>Mo knows all the coordinates of pickup and delivery locations. However, due to the censorship of the Great Fire Wall, Mo cannot visit any location more than once. What’s worse, there are additional restrictions:</p>
<p>  – Mo can’t go to location j+ from i+ if j &gt; i;<br/>  – Mo can’t go to location j- from i- if j &lt; i;<br/>  – If Mo has visited location i-, location j+ will be removed from the world and cannot be visited any more if j &lt; i.</p>
<p>Now Mo can choose any location to start. He wants to choose a shortest path to deliver packages for all the n customers. Please find the shortest path for him. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are multiple test cases.<br/>For each test case, the first line is an integer n, 0 &lt; n &lt;= 100.<br/>Then n lines follow. There are 4 integers in each line. The integers in the i-th line indicate the x and y coordinates of i+, and the x and y coordinates of i-, respectively.
<p>The distance between two locations is the Euclidean distance between them.</p>
<p>Input is terminated by end-of-file. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are multiple test cases.<br/>For each test case, the first line is an integer n, 0 &lt; n &lt;= 100.<br/>Then n lines follow. There are 4 integers in each line. The integers in the i-th line indicate the x and y coordinates of i+, and the x and y coordinates of i-, respectively.
<p>The distance between two locations is the Euclidean distance between them.</p>
<p>Input is terminated by end-of-file.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1 3 5 2
2 4 2 3
6 0 2 2
5
5 0 6 0
2 0 5 0
7 0 1 0
6 0 9 0
4 0 6 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1+ 1- 3+ 2+ 2- 3-
2+ 1+ 1- 2- 3+ 3- 5+ 4+ 4- 5-</pre>
<p> <!-- problem end --></p>
<p>题目大意：在100个点中的图中，要求现在选择一条路径遍历所有点，而且，加了很多限制条件。</p>
<p>分析：在比赛的时候以为是图论，然后看了一下，比赛的时候以为这么多条件，才100个点，那么我们就爆搜一下吧，赛后一看别人的tle代码，都是爆搜，幸亏比赛的时候被其他题目卡着没时间写这道题目，额</p>
<p>解法：赛后看了清华的代码，终于给我找到一份比较简洁的代码，发现做法是区间dp。</p>
<p>分析一下题目中的条件，可以得出几点结论</p>
<p>（1）放置点的顺序是递减的。</p>
<p>（2）一个区间一定可以分成多个区间的最优解的组合</p>
<p>用dp[a][b][c] 表示从c+开始操作完从a到b的区间所需要的最小值。</p>
<p>如果这个时候c == b 那么我们根据前面的推论，所以说一定这个区间是由c开始 由c结束，所以就从dp[a][b-1][x]递推过来，这个时候枚举一下起点。</p>
<p>如果c ！= b ，那么这个时候，因为起点在这个区间的中间，所以说由两个子区间组成，dp[a][c][c] 和dp[c+1][b][x]，这个时候x枚举一下起点就可以了。</p>
<p>总共是o(n^3)的复杂度 ，同时记录一下前面转移来的前驱 就可以输出解了。</p>
<p>参考：http://blog.csdn.net/qq564690377/article/details/12177529</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-102370">
<article class="comment" id="comment-102370">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514890" rel="external nofollow">新用户447581</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-102370" rel="nofollow"><time datetime="2017-04-24T13:59:05+00:00" pubdate="">2017年4月24日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果当时你和他一起了，那又会怎样？很感动，你的文字很平淡，却能让我们想到你是一个怎样的女孩，让人感到可惜的爱情。祝你幸福！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-101892">
<article class="comment" id="comment-101892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461920" rel="external nofollow">新用户995722</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-101892" rel="nofollow"><time datetime="2017-04-23T14:02:18+00:00" pubdate="">2017年4月23日 at 下午2:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>资源怎么全没了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-101416">
<article class="comment" id="comment-101416">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919524581" rel="external nofollow">新用户620026</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-101416" rel="nofollow"><time datetime="2017-04-22T13:59:13+00:00" pubdate="">2017年4月22日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>19930115..  怎么这么像身份证号码..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-101415">
<article class="comment" id="comment-101415">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919524581" rel="external nofollow">新用户620026</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-101415" rel="nofollow"><time datetime="2017-04-22T13:59:13+00:00" pubdate="">2017年4月22日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>19930115..  怎么这么像身份证号码..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-101414">
<article class="comment" id="comment-101414">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919524581" rel="external nofollow">新用户620026</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-101414" rel="nofollow"><time datetime="2017-04-22T13:59:13+00:00" pubdate="">2017年4月22日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>19930115..  怎么这么像身份证号码..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-101413">
<article class="comment" id="comment-101413">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919524581" rel="external nofollow">新用户620026</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-101413" rel="nofollow"><time datetime="2017-04-22T13:59:13+00:00" pubdate="">2017年4月22日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>19930115..  怎么这么像身份证号码..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96806">
<article class="comment" id="comment-96806">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529006" rel="external nofollow">新用户833726</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-96806" rel="nofollow"><time datetime="2017-04-19T19:07:52+00:00" pubdate="">2017年4月19日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他们没有评估过毛左和宪政哪个对社会的伤害更大。显然崇上暴力的极左在文革表现已证明了！不要以为可以驾驭这思潮，一旦出笼，必会如洪水涛天！对社会的危害难以估量！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96805">
<article class="comment" id="comment-96805">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529006" rel="external nofollow">新用户833726</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-96805" rel="nofollow"><time datetime="2017-04-19T19:07:52+00:00" pubdate="">2017年4月19日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他们没有评估过毛左和宪政哪个对社会的伤害更大。显然崇上暴力的极左在文革表现已证明了！不要以为可以驾驭这思潮，一旦出笼，必会如洪水涛天！对社会的危害难以估量！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96804">
<article class="comment" id="comment-96804">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529006" rel="external nofollow">新用户833726</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-96804" rel="nofollow"><time datetime="2017-04-19T19:07:52+00:00" pubdate="">2017年4月19日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他们没有评估过毛左和宪政哪个对社会的伤害更大。显然崇上暴力的极左在文革表现已证明了！不要以为可以驾驭这思潮，一旦出笼，必会如洪水涛天！对社会的危害难以估量！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66303">
<article class="comment" id="comment-66303">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66303" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66302">
<article class="comment" id="comment-66302">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66302" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66301">
<article class="comment" id="comment-66301">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66301" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66300">
<article class="comment" id="comment-66300">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66300" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66299">
<article class="comment" id="comment-66299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66299" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66298">
<article class="comment" id="comment-66298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66298" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66297">
<article class="comment" id="comment-66297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66297" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66296">
<article class="comment" id="comment-66296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66296" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66308">
<article class="comment" id="comment-66308">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66308" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66307">
<article class="comment" id="comment-66307">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66307" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66306">
<article class="comment" id="comment-66306">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66306" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66305">
<article class="comment" id="comment-66305">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66305" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66304">
<article class="comment" id="comment-66304">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463818" rel="external nofollow">新用户898231</a></span> on <a href="http://www.acmerblog.com/hdu-4765-tsp-7810.html#comment-66304" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>所以他才怕兜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>