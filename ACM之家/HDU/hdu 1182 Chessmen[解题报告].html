<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-03</div>
<div class="tit"><h1 class="entry-title">hdu 1182 Chessmen[解题报告]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1928次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1525" href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comments" title="《hdu 1182 Chessmen[解题报告]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Chessmen</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">You know, Harry, Ron, and Hermione thought they had found some Snape’s cabal. They tried to tail after Snape until they went into a strange room.<br/>
The room was so dark they couldn’t see anything at all. But as they stepped into it, light suddenly flooded the room to reveal an astonishing sight.<br/>
They were standingon the edge of a huge chessboard, behind the black chessmen, which were all taller than they were and carved from what looked like black stone. Facing them, way across the room, were the white pieces. Harry, Ron and Hermione shivered slightly – the towering white chessmen had no faces.<br/>
‘Now what do we do?’ harry whispered.<br/>
‘It’s obvious, isn’t it?’ said Ron. ‘We’ve got to play our way across the room.’<br/>
Behind the white pieces they could see another door.<br/>
‘How?’ said Hermione nervously.<br/>
‘I think,’ said Ron, ‘we’re going to have to be chessmen.’<br/>
He walked up to a black knight and put his hand out to touch the knight’s horse. At once, the stone sprang to life. The horse pawed the ground and the knight turned his helmeted head to look down at Ron.<br/>
‘Do we – er – have to join you to get across?’<br/>
The black knight nodded. Ron turned to the other two.<br/>
‘This wants thinking about …’ he said. ‘I suppose we’ve got to take the place of the back pieces …’<br/>
Harry and Hermione stayed quiet, watching Ron think. Finally he said, ‘Now, don’t be offended or anything, but neither of you are that good at chess -’<br/>
‘We’re not offended,’ said Harry quickly. ‘Just tell us what to do.’<br/>
‘Well, Harry, you take the place of that bishop, and Hermione, you go next to him instead of that castle.’<br/>
‘What about you?’<br/>
‘I’m going to be a knight,’ said Ron.<br/>
The chessmen seemed to have been listening, because at these words a knight, a bishop and a castle turned there backs on the white pieces and walked off the board leaving three empty squares which Harry, Ron and Hermione took.<br/>
‘White always plays first in chess,’ said Ron,peering across the board. ‘Yes … look …’<br/>
A white pawn had moved forward two squares.Now Ron decided to direct the black pieces, but he met a trouble. All the chessmen were so tall that he can’t know the whole board. He must memorize the board all by himself if you don’t help him. Could you write a magic for him?</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The input will contain several chess manuals. Each one is in the format as sample input.<br/>
O-O and O-O-O will not appear.<br/>
Notice that black side may haven’t a move in the last turn.<br/>
The input will always be correct,and end of -1.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">Print the chessboard in FEN.<br/>
(see also the Hint)</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">0 Pe2-e4 pd7-d5
1 Pd2-d3 pf7-f5
2 Pf2-f3 pe7-e6
3 Pe4xd5 pe6xd5
4 Pc2-c4 pd5xc4
5 Pd3xc4 qd8-e7
6 Ng1-e2</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">rnb1kbnr/ppp1q1pp/8/5p2/2P5/5P2/PP2N1PP/RNBQKB1R</pre>
<div style="font-family: Times New Roman; font-size: 14px; background-color: f4fbff; border: #B7CBFF 1px dashed; padding: 6px;">
<div style="font-family: Arial; font-weight: bold; color: #7ca9ed; border-bottom: #B7CBFF 1px dashed;"><i>Hint</i></div>
<p>Hint</p>
</div>
<pre class="mypanel iopanel"><i style="font-size: 1px;"> </i>
In the FEN (Forsyth-Edwards Notation), a chessboard is described as follows: 
The Board-Content is specified starting with the top row and ending with the bottom row. 
Character / is used to separate data of adjacent rows. 
Each row is specified from left to right. 
White pieces are identified by uppercase piece letters: PNBRQK. 
Black pieces are identified by lowercase piece letters: pnbrqk. 
Empty squares are represented by the numbers one through eight. 
A number used represents the count of contiguous empty squares along a row. 
Each row's sum of numbers and characters must equal 8. 
For example: 
<i><b>5k1r/2q3p1/p3p2p/1B3p1Q/n4P2/6P1/bbP2N1P/1K1RR3</b></i>
is the FEN notation description of the following chessboard:</pre>
<p></p><center><img alt="" src="http://acm.hdu.edu.cn/data/images/C6-1005.gif"/></center>
<pre class="mypanel iopanel">The chessboard of the beginning of a chess game is described in FEN as: 
<i><b>rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR</b></i></pre>
<p><!-- problem end -->
</p><p><a href="http://www.cppblog.com/l-y-p/archive/2008/04/12/46944.html">HDU 1182 Strange Billboard</a></p>
<p>#include&lt;iostream&gt;<br/>#include&lt;memory&gt;<br/>using namespace std;<br/>#define MAXN 18<br/>#define maxint 0x7fffffff</p>
<p>int t[]={1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536};<br/>char g[MAXN][MAXN];<br/>int row,col;<br/>int sg[MAXN];<br/>int e[65536],tbit[65536];</p>
<p>int dynamic()<br/>{<br/>     int i,j,k,ps,ts,pp,tp,ans,cnt;<br/>     memset( sg , 0 , sizeof(sg) );<br/>     for( i=0 ; i&lt;row ; i++ )<br/>         for( j=0 ; j&lt;col ; j++ )<br/>             if( g[i][j]==’X’ )<br/>                 sg[i] += t[j];<br/>     ans = maxint;<br/>     for( i=0 ; i&lt;t[col] ; i++ )<br/>     {<br/>         ts = (sg[0]^e[i])%t[col];<br/>         cnt = tbit[i];<br/>         ps = ts , pp = i;<br/>         for( j=1 ; j&lt;row ; j++ )<br/>         {<br/>             ts = (e[ps]^sg[j]^pp)%t[col];<br/>             cnt += tbit[ps];<br/>             pp = ps , ps = ts;<br/>         }<br/>         if( ts%t[col]==0&amp;&amp;cnt&lt;ans ) ans = cnt;<br/>     }<br/>     if( ans==maxint )<br/>         return -1;<br/>     return ans;<br/>}<br/>int main()<br/>{<br/>     int i,j,t1,t2,tt;<br/>     memset( tbit , 0 , sizeof(tbit) );<br/>     for( i=0 ; i&lt;65536 ; i++ )<br/>     {<br/>         for( t1=0,t2=i,j=0 ; t2 ; j++,t2&gt;&gt;=1 )<br/>         {<br/>             if( !(t2&amp;0×01) ) continue;<br/>             tbit[i] = tbit[i]+1;<br/>             t1 ^= t[j];<br/>             if( j&gt;0 ) t1 ^= t[j-1];<br/>             if( j+1&lt;16 ) t1 ^= t[j+1];<br/>         }<br/>         e[i] = t1;<br/>     }<br/>     while(scanf("%d%d",&amp;row,&amp;col)!=-1)<br/>     {<br/>         if( row==0&amp;&amp;col==0 ) break;<br/>         for( i=0 ; i&lt;row ; i++ )<br/>             scanf( "%s" , g[i] );<br/>         tt = dynamic();<br/>         if( tt&gt;=0 )<br/>             printf("You have to tap %d tiles.\n",tt);<br/>         else<br/>             printf("Damaged billboard.\n");<br/>     }<br/>}</p>
<p> 解题转自：http://hi.baidu.com/_green_hand_/item/344eeb18ea54d99a99ce339d</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-93857">
<article class="comment" id="comment-93857">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530065" rel="external nofollow">新用户079999</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-93857" rel="nofollow"><time datetime="2017-04-13T18:47:34+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>作者已死，有事烧纸，如有更新，纯属诈尸！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73029">
<article class="comment" id="comment-73029">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://t.qq.com/wl827134029" rel="external nofollow">逝者青春</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-73029" rel="nofollow"><time datetime="2017-04-11T20:56:36+00:00" pubdate="">2017年4月11日 at 下午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个代码跟题目不一致好吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40153">
<article class="comment" id="comment-40153">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xrjervis</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40153" rel="nofollow"><time datetime="2015-02-08T15:09:09+00:00" pubdate="">2015年2月8日 at 下午3:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能告诉我为什么对于每一个m，cnt的值不用更新吗?这儿我想不通啊，谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40154">
<article class="comment" id="comment-40154">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40154" rel="nofollow"><time datetime="2015-02-05T19:24:48+00:00" pubdate="">2015年2月5日 at 下午7:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>2的64次方是多少？ 这到底是在考什么啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40147">
<article class="comment" id="comment-40147">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40147" rel="nofollow"><time datetime="2015-01-28T11:29:49+00:00" pubdate="">2015年1月28日 at 上午11:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40148">
<article class="comment" id="comment-40148">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40148" rel="nofollow"><time datetime="2014-11-28T14:59:58+00:00" pubdate="">2014年11月28日 at 下午2:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11481">
<article class="comment" id="comment-11481">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-11481" rel="nofollow"><time datetime="2014-11-06T04:21:10+00:00" pubdate="">2014年11月6日 at 上午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40150">
<article class="comment" id="comment-40150">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40150" rel="nofollow"><time datetime="2014-08-09T15:12:31+00:00" pubdate="">2014年8月9日 at 下午3:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11482">
<article class="comment" id="comment-11482">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-11482" rel="nofollow"><time datetime="2014-07-18T03:08:21+00:00" pubdate="">2014年7月18日 at 上午3:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11483">
<article class="comment" id="comment-11483">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">winter</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-11483" rel="nofollow"><time datetime="2014-06-24T11:20:07+00:00" pubdate="">2014年6月24日 at 上午11:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害，支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40151">
<article class="comment" id="comment-40151">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40151" rel="nofollow"><time datetime="2014-06-19T09:40:42+00:00" pubdate="">2014年6月19日 at 上午9:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40149">
<article class="comment" id="comment-40149">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40149" rel="nofollow"><time datetime="2014-04-29T18:42:38+00:00" pubdate="">2014年4月29日 at 下午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40152">
<article class="comment" id="comment-40152">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-40152" rel="nofollow"><time datetime="2014-03-24T20:08:38+00:00" pubdate="">2014年3月24日 at 下午8:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11484">
<article class="comment" id="comment-11484">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/hdu-1182-chessmen-1525.html#comment-11484" rel="nofollow"><time datetime="2014-01-30T09:15:00+00:00" pubdate="">2014年1月30日 at 上午9:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>