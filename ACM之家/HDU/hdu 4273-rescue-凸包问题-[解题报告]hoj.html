<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>05-23</div>
<div class="tit"><h1 class="entry-title">hdu 4273-rescue-凸包问题-[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/convex" rel="category tag" title="查看凸包问题中的全部文章">凸包问题</a>, <a href="http://www.acmerblog.com/category/geometry/solid-geometry" rel="category tag" title="查看立体几何中的全部文章">立体几何</a></span><span class="i4">围观127次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7286" href="http://www.acmerblog.com/hdu-4273-rescue-7286.html#comments" title="《hdu 4273-rescue-凸包问题-[解题报告]hoj》上的评论">2 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h1 style="color:rgb(26,92,200); text-align:center; font-family:'Times New Roman'">
Rescue</h1>
<p><span style="font-family:'Times New Roman'; font-size:14px"><strong><span style="font-family:Arial; font-size:12px; color:green">Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)<br/>
Total Submission(s): 393    Accepted Submission(s): 291<br/>
</span></strong></span><br style="font-family:'Times New Roman'; font-size:14px"/><br/>
<br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Problem Description</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
I work at NASA outer space rescue team which needs much courage and patient. In daily life, I always receive a lot of mission, and I must complete it right now.<br/>
Today, team leader announced me that there is a huge spaceship dropping anchor in the out space, and we should reach there for rescue. As a working principle, at first, we should check whether there are persons living in the spaceship. So we carry a kind of<br/>
 machine called life sensor which can sense the life phenomenon when the distance between the machine and the living is not farther than the sense radius.<br/>
I have read the designing paper of the spaceship in advance. It has a form of a convex polyhedron, and we can assume it is isodense. For best control, control center of the whole ship is located at the center of the mass. It is sure that if someone is still<br/>
 alive, he will stay at the control center.<br/>
It’s unfortunately that I find the door is stocked when I try to enter into the spaceship, so I can only sense the living out of the space ship. Now I have opened the machine and it’s time to set the sense radius of it. I wonder the minimal radius of the machine<br/>
 which can allowe me to check whether there are persons living in the spaceship.
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
There are multiple test cases.<br/>
The first line contains an integer n indicating the number of vertices of the polyhedron. (4 &lt;= n &lt;= 100)<br/>
Each of the next n lines contains three integers xi, yi, zi, the coordinates of the polyhedron vertices (-10,000 &lt;= xi, yi, zi &lt;= 10,000).<br/>
It guaranteed that the given points are vertices of the convex polyhedron, and the polyhedron is non-degenerate.
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
For each test case, output a float number indicating the minimal radius of the machine. Your answer should accurate up to 0.001.
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="word-wrap:break-word; white-space:pre-wrap; margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">4
0 0 0
1 0 0
0 1 0
0 0 1

8
0 0 0
0 0 2
0 2 0
0 2 2
2 0 0
2 0 2
2 2 0
2 2 2</div></pre>
</div>
<div class="panel_bottom" style="height:auto; margin:0px; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="word-wrap:break-word; white-space:pre-wrap; margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">0.144
1.000</div><div>
</div><div>先构建一个三维凸包 求出其重心 ，然后求出重心到每个面的距离，找出最小值</div><div><pre class="brush:cpp" name="code">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;stdlib.h&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;cmath&gt;
#define N 101
#define ll long long int
#define eps 1e-8
#define PI acos(-1.0)
#define inf 0x3f3f3f3f
using namespace std;
struct point
{
    double x,y,z;
    point() {}
    point(double xx,double yy,double zz): x(xx),y(yy),z(zz) {}
    point operator -(const point p)
    {
        return point(x-p.x, y-p.y, z-p.z);
    }
    point operator +(const point p)
    {
        return point(x+p.x, y+p.y, z+p.z);
    }
    point operator *(const point p)
    {
        return point(y*p.z-z*p.y, z*p.x-x*p.z, x*p.y-y*p.x);
    }
    point operator *(double p)
    {
        return point(x*p, y*p,z*p);
    }
    point operator /(double p)
    {
        return point(x/p, y/p,z/p);
    }
    double operator ^( point p)
    {
        return x*p.x+y*p.y+z*p.z;
    }

};
struct node
{
    struct face
    {
        int a,b,c;
        bool ok;
    };
    int n;
    point tn[N];
    int num;
    face F[8*N];
    int g[N][N];
    double vlen(point a)
    {
        return sqrt(a.x*a.x+a.y*a.y+a.z*a.z);
    }
    point cross(const point &amp;a,const point &amp;b,const point &amp;c)
    {
        return point ( (b.y-a.y)*(c.z-a.z) - (b.z-a.z)*(c.y-a.y),
                       (b.z-a.z)*(c.x-a.x) - (b.x-a.x)*(c.z-a.z),
                       (b.x-a.x)*(c.y-a.y) - (b.y-a.y)*(c.x-a.x)

                     );
    }
    double area(point a,point b,point c)
    {
        return vlen((b*a)*(c-a));
    }
    double volume(point a,point b,point c,point d)
    {
        return (b-a)*(c-a)^(d-a);
    }
    double dbcmp(point &amp;p,face &amp;f)
    {
        point m = tn[f.b] - tn[f.a];
        point n = tn[f.c] - tn[f.a];
        point t = p - tn[f.a];
        return (m*n)^t;
    }
    void deal(int p,int a,int b)
    {
        int f = g[a][b];
        face add;
        if(F[f].ok)
        {
            if(dbcmp(tn[p],F[f]) &gt; eps)
                dfs(p,f);
            else
            {
                add.a=b;
                add.b=a;
                add.c=p;
                add.ok=true;
                g[p][b] = g[a][p] = g[b][a] =num;
                F[num++] = add;
            }
        }
    }
    void dfs(int p,int now)
    {
        F[now].ok = false;
        deal(p,F[now].b,F[now].a);
        deal(p,F[now].c,F[now].b);
        deal(p,F[now].a,F[now].c);

    }
    bool same(int s,int t)
    {
        point &amp;a = tn[F[s].a];
        point &amp;b = tn[F[s].b];
        point &amp;c = tn[F[s].c];
        return fabs( volume(a,b,c,tn[F[t].a])) &lt; eps &amp;&amp;
               fabs( volume(a,b,c,tn[F[t].b])) &lt; eps &amp;&amp;
               fabs( volume(a,b,c,tn[F[t].c])) &lt; eps ;
    }
    void create()
    {
        int i,j,tmp;
        face add;
        num = 0;
        if(n&lt;4) return ;
        bool flag =true;
        for(i=1; i&lt;n; i++)
        {
            if(vlen(tn[0]-tn[i]) &gt; eps)
            {
                swap(tn[1],tn[i]);
                flag = false;
                break;
            }
        }
        if(flag) return ;
        flag =true;
        for(i=2; i&lt;n; i++)
        {
            if(vlen((tn[0]-tn[1])*(tn[1]-tn[i])) &gt; eps )
            {
                swap(tn[2],tn[i]);
                flag =false;
                break;
            }
        }
        if(flag) return ;
        flag =true;
        for(i =3; i&lt;n; i++)
        {
            if(fabs((tn[0]-tn[1])*(tn[1]-tn[2])^(tn[0]-tn[i])) &gt;eps    )
            {
                swap(tn[3],tn[i]);
                flag =false;
                break;
            }
        }
        if(flag) return ;
        for(i=0; i&lt;4; i++)
        {
            add.a = (i+1)%4;
            add.b = (i+2)%4;
            add.c = (i+3)%4;
            add.ok = true;
            if(dbcmp(tn[i],add) &gt; 0)
            {
                swap(add.b,add.c);
            }
            g[add.a][add.b] =   g[add.b][add.c] =  g[add.c][add.a] =num;
            F[num++]=add;
        }
        for(i =4; i&lt;n; i++)
        {
            for(j =0; j&lt;num; j++)
            {
                if(F[j].ok &amp;&amp; dbcmp(tn[i],F[j])&gt;eps)
                {
                    dfs(i,j);
                    break;
                }
            }
        }
        tmp =num;
        for(i=num=0; i&lt;tmp; i++)
        {
            if(F[i].ok)
                F[num++] = F[i];
        }
    }
    double area()
    {
        double res=0;
        if(n==3)
        {
            point p = cross(tn[0],tn[1],tn[2]);
            res = vlen(p)/2.0;
            return res;
        }
        for(int i=0; i&lt;num; i++)
        {
            res += area(tn[F[i].a],tn[F[i].b],tn[F[i].c]);
        }
        return res/2.0;
    }
    double volume()
    {
        double res=0;
        point tmp(0,0,0);
        for(int i = 0; i&lt;num; i++)
            res += volume(tmp,tn[F[i].a],tn[F[i].b],tn[F[i].c]);
        return fabs(res/6.0);
    }
    int triangle()
    {
        return num;
    }
    int polygon()
    {
        int i,j,res,flag;
        for(i=res=0; i&lt;num; i++)
        {
            flag=1;
            for(j=0; j&lt;i; j++)
            {
                if(same(i,j))
                {
                    flag=0;
                    break;
                }
            }
            res+=flag;
        }
        return res;
    }
    point barycenter()
    {
        point ans(0,0,0),o(0,0,0);
        double all=0;
        for(int i=0; i&lt;num; i++)
        {
            double vol = volume(o,tn[F[i].a],tn[F[i].b],tn[F[i].c]);
            ans = ans+(o+tn[F[i].a]+tn[F[i].b]+tn[F[i].c])/4.0*vol;
            all+=vol;
        }
        ans = ans/all;
        return ans;
    }
    double ptoface(point p,int i)
    {
        return fabs(volume(tn[F[i].a],tn[F[i].b],tn[F[i].c],p) /
                    vlen( (tn[F[i].b]-tn[F[i].a])*(tn[F[i].c]-tn[F[i].a]) ));
    }
};
node ans;
int main()
{
    while(~scanf("%d",&amp;ans.n))
    {
        for(int i=0; i&lt;ans.n; i++)
        {
            scanf("%lf%lf%lf",&amp;ans.tn[i].x,&amp;ans.tn[i].y,&amp;ans.tn[i].z);
        }
        ans.create();
        point p=ans.barycenter();
        double answer=1e20;
        for(int i=0; i&lt;ans.num; i++)
        {
            answer=min(answer,ans.ptoface(p,i));
        }
        printf("%.3lf\n",answer);
    }
    return 0;
}
</pre>
</div>
</pre></div>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-98937">
<article class="comment" id="comment-98937">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526292" rel="external nofollow">新用户594958</a></span> on <a href="http://www.acmerblog.com/hdu-4273-rescue-7286.html#comment-98937" rel="nofollow"><time datetime="2017-04-20T14:27:53+00:00" pubdate="">2017年4月20日 at 下午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>典型的室外家具</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68643">
<article class="comment" id="comment-68643">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519792" rel="external nofollow">新用户786385</a></span> on <a href="http://www.acmerblog.com/hdu-4273-rescue-7286.html#comment-68643" rel="nofollow"><time datetime="2017-04-11T07:10:17+00:00" pubdate="">2017年4月11日 at 上午7:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看到这篇文章，我每读一条，都在觉得写的是我，我一直觉得我自己不成熟，所以才会要求很多关心，爱情，是两个人扶持着，理解着，改变着，没有谁对谁错，谁也不可能是永远最对的一个人</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>