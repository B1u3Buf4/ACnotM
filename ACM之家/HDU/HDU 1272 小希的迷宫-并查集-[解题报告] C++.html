<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1272 小希的迷宫-并查集-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/data-struct/union-find" rel="category tag" title="查看并查集中的全部文章">并查集</a></span><span class="i4">围观974次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1639" href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comments" title="《HDU 1272 小希的迷宫-并查集-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">小希的迷宫</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
上次Gardon的迷宫城堡小希玩了很久（见Problem B），现在她也想设计一个迷宫让Gardon来走。但是她设计迷宫的思路不一样，首先她认为所有的通道都应该是双向连通的，就是说如果有一个通道连通了房间A和B，那么既可以通过它从房间A走到房间B，也可以通过它从房间B走到房间A，为了提高难度，小希希望任意两个房间有且仅有一条路径可以相通（除非走了回头路）。小希现在把她的设计图给你，让你帮忙判断她的设计图是否符合她的设计思路。比如下面的例子，前两个是符合条件的，但是最后一个却有两种方法从5到达8。 <br/><img src="http://acm.hdu.edu.cn/data/images/C20-1007-1.jpg"/> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入包含多组数据，每组数据是一个以0 0结尾的整数对列表，表示了一条通道连接的两个房间的编号。房间的编号至少为1，且不超过100000。每两组数据之间有一个空行。 <br/>整个文件以两个-1结尾。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
对于输入的每一组数据，输出仅包括一行。如果该迷宫符合小希的思路，那么输出"Yes"，否则输出"No"。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
6 8  5 3  5 2  6 4
5 6  0 0

8 1  7 3  6 2  8 9  7 5
7 4  7 8  7 6  0 0

3 8  6 8  6 4
5 3  5 6  5 2  0 0

-1 -1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Yes
Yes
No</pre>
<p><!-- problem end --></p>
<p><span style="font-size:18px">并查集  要判断这个图是连通的 就是只有一个父节点</span></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#define maxn 100005
int fa[maxn];
bool ff[maxn];

int findd( int x )
{
    return fa[x] == x ? x : fa[x] = findd(fa[x]);
}
void init()
{
    memset(ff, false, sizeof(ff));
    for(int i = 1; i &lt; maxn; i++)
        fa[i] = i;
}
int main()
{
	//freopen("d://in.txt", "r", stdin);
    int u,v,x,y,flag = 1;
    init();
    while(scanf("%d%d",&amp;u,&amp;v) == 2)
    {
        if(u == -1 &amp;&amp; v == -1) break;
        else if(u+v == 0)
        {
            int k = 0;
            for(int i = 1; i &lt; maxn; i++)
            {
                if(ff[i] &amp;&amp; fa[i] == i)
                    k++;
            }
            if(flag &amp;&amp; k &lt;= 1)
                puts("Yes");
            else
                puts("No");
            init();
            flag = 1;
        }
        else
        {
            ff[u] = ff[v] = true;
            x = findd(u), y = findd(v);
            if(x != y)
                fa[x] = y;
            else
                flag = 0;
        }
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-12110">
<article class="comment" id="comment-12110">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12110" rel="nofollow"><time datetime="2015-03-21T23:34:28+00:00" pubdate="">2015年3月21日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40446">
<article class="comment" id="comment-40446">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-40446" rel="nofollow"><time datetime="2015-03-13T07:44:26+00:00" pubdate="">2015年3月13日 at 上午7:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12109">
<article class="comment" id="comment-12109">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Anne</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12109" rel="nofollow"><time datetime="2014-11-14T11:38:15+00:00" pubdate="">2014年11月14日 at 上午11:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>以了解 想問為甚麼 Tbl[6001] = {1} 初始化都是1<br/>
為何不是Tbl[0]=1 其他為0</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40448">
<article class="comment" id="comment-40448">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-40448" rel="nofollow"><time datetime="2014-11-06T17:17:57+00:00" pubdate="">2014年11月6日 at 下午5:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12111">
<article class="comment" id="comment-12111">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12111" rel="nofollow"><time datetime="2014-10-22T09:34:41+00:00" pubdate="">2014年10月22日 at 上午9:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12107">
<article class="comment" id="comment-12107">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">radish</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12107" rel="nofollow"><time datetime="2014-10-12T00:14:42+00:00" pubdate="">2014年10月12日 at 上午12:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输入样例作为一个整体输入，带回车</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40450">
<article class="comment" id="comment-40450">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tonight</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-40450" rel="nofollow"><time datetime="2014-09-24T08:47:39+00:00" pubdate="">2014年9月24日 at 上午8:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12108">
<article class="comment" id="comment-12108">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12108" rel="nofollow"><time datetime="2014-07-02T01:42:58+00:00" pubdate="">2014年7月2日 at 上午1:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12106">
<article class="comment" id="comment-12106">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12106" rel="nofollow"><time datetime="2014-06-13T19:15:10+00:00" pubdate="">2014年6月13日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK),这样比较看，快排快</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12105">
<article class="comment" id="comment-12105">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-12105" rel="nofollow"><time datetime="2014-06-05T18:23:17+00:00" pubdate="">2014年6月5日 at 下午6:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常好，初学者就应该先理解递归</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54493">
<article class="comment" id="comment-54493">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmclown</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-54493" rel="nofollow"><time datetime="2014-05-12T05:09:59+00:00" pubdate="">2014年5月12日 at 上午5:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受益匪浅！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40447">
<article class="comment" id="comment-40447">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-40447" rel="nofollow"><time datetime="2014-03-26T23:29:16+00:00" pubdate="">2014年3月26日 at 下午11:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40449">
<article class="comment" id="comment-40449">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-40449" rel="nofollow"><time datetime="2014-02-06T04:47:44+00:00" pubdate="">2014年2月6日 at 上午4:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总数为2n，遍历到第n个，就是中间的位置</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54492">
<article class="comment" id="comment-54492">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1272-%E5%B0%8F%E5%B8%8C%E7%9A%84%E8%BF%B7%E5%AE%AB-1639.html#comment-54492" rel="nofollow"><time datetime="2013-12-18T03:31:47+00:00" pubdate="">2013年12月18日 at 上午3:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>值得分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>