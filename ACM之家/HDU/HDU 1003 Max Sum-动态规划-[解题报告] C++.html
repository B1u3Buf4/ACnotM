<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-26</div>
<div class="tit"><h1 class="entry-title">HDU 1003 Max Sum-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观1460次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1258" href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comments" title="《HDU 1003 Max Sum-动态规划-[解题报告] C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Max Sum</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a sequence a[1],a[2],a[3]……a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 + (-1) + 5 + 4 = 14. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line starts with a number N(1&lt;=N&lt;=100000), then N integers followed(all the integers are between -1000 and 1000). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, you should output two lines. The first line is "Case #:", # means the number of the test case. The second line contains three integers, the Max Sum in the sequence, the start position of the sub-sequence, the end position of the sub-sequence. If there are more than one result, output the first one. Output a blank line between two cases.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
5 6 -1 5 4 -7
7 0 6 -1 1 -6 7 -5</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1:
14 1 4

Case 2:
7 1 6</pre>
<p><!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1003">http://acm.hdu.edu.cn/showproblem.php?pid=1003</a></p>
<p>初识dp，大问题是求出总序列的最大和，而每个数都有加到前面作为前面已经加好的和的增量和自己独立成为一个“最大和”的选择，在这两个选择中的最大和就是局部的最大和，而保存好第一个最大和，将整个序列的所有局部最大和都求解出来，就能得到全列的最大和</p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
int main()
{
    int i,ca=1,t,s,e,n,x,now,before,max;
    scanf("%d",&amp;t);
    while(t--)
    {
       scanf("%d",&amp;n);
       for(i=1;i&lt;=n;i++)
       {
         scanf("%d",&amp;now);
         if(i==1)//初始化 
         {
            max=before=now;//max保留之前算出来的最大和，before存储目前在读入数据前保留的和，now保留读入数据  
            x=s=e=1;//x用来暂时存储before保留的和的起始位置，当before&gt;max时将赋在s位置，s，e保留最大和的start和end位置 
         }
         else {
             if(now&gt;now+before)//如果之前存储的和加上现在的数据比现在的数据小，就把存储的和换成现在的数据，反之就说明数据在递增，可以直接加上 
             {
                before=now;
                x=i;//预存的位置要重置 
             }       
             else before+=now;
              }
         if(before&gt;max)//跟之前算出来的最大和进行比较，如果大于，位置和数据就要重置 
           max=before,s=x,e=i;
       }
       printf("Case %d:\n%d %d %d\n",ca++,max,s,e);
       if(t)printf("\n"); 
    }
    return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-64825">
<article class="comment" id="comment-64825">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">123</span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-64825" rel="nofollow"><time datetime="2016-10-31T13:53:43+00:00" pubdate="">2016年10月31日 at 下午1:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你完全理解错了，说的是位置不是数字，而且第一个数是代表你后面可以输入多少数，并没有参与求和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10379">
<article class="comment" id="comment-10379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-10379" rel="nofollow"><time datetime="2015-06-15T10:35:52+00:00" pubdate="">2015年6月15日 at 上午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯   分析得很到位，确实用模板编程能让面试官对你的印象更好。在设置辅助栈的时候可以这样：push时，比较要push的elem和辅助栈的栈顶，elem&lt;=min.top()，则min.push(elem).否则只要push（elem）就好。在pop的时候，比较stack.top()与min.top(),if(stack.top()&lt;=min.top()),则{stack.pop();min.pop();}，否则{stack.pop();}.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54041">
<article class="comment" id="comment-54041">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-54041" rel="nofollow"><time datetime="2015-03-14T22:20:01+00:00" pubdate="">2015年3月14日 at 下午10:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10383">
<article class="comment" id="comment-10383">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-10383" rel="nofollow"><time datetime="2015-01-30T21:33:43+00:00" pubdate="">2015年1月30日 at 下午9:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在练习，很有帮助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61175">
<article class="comment" id="comment-61175">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-61175" rel="nofollow"><time datetime="2015-01-18T11:10:42+00:00" pubdate="">2015年1月18日 at 上午11:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不对，仔细对比一下输入输出， 怎么会有‘‘printf("The winning moves are:");’’这种输出呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61177">
<article class="comment" id="comment-61177">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-61177" rel="nofollow"><time datetime="2014-10-08T12:35:01+00:00" pubdate="">2014年10月8日 at 下午12:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-912">
<article class="comment" id="comment-912">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">Jukay</span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-912" rel="nofollow"><time datetime="2014-09-29T16:14:38+00:00" pubdate="">2014年9月29日 at 下午4:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我没看懂题目<br/>
2<br/>
5 6 -1 5 4 -7<br/>
7 0 6 -1 1 -6 7 -5<br/>
我觉得第一个应该是5 6 -1 5 4 输出是19 5 4<br/>
第二个是7 0 6 -1 1 -6 7输出是14 7 7<br/>
不知道题目例子是怎么得出来的</p>
</div>
</article><!-- #comment-## -->
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-920">
<article class="comment" id="comment-920">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">yanzhimin10</span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-920" rel="nofollow"><time datetime="2014-10-01T10:48:31+00:00" pubdate="">2014年10月1日 at 上午10:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-61178">
<article class="comment" id="comment-61178">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-61178" rel="nofollow"><time datetime="2014-09-12T02:07:19+00:00" pubdate="">2014年9月12日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-54040">
<article class="comment" id="comment-54040">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-54040" rel="nofollow"><time datetime="2014-04-21T06:16:32+00:00" pubdate="">2014年4月21日 at 上午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-10381">
<article class="comment" id="comment-10381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vincent_ynh</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-10381" rel="nofollow"><time datetime="2014-04-02T10:17:44+00:00" pubdate="">2014年4月2日 at 上午10:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>理解错了。。。。。谢谢楼主~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-54042">
<article class="comment" id="comment-54042">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-54042" rel="nofollow"><time datetime="2014-03-30T00:08:45+00:00" pubdate="">2014年3月30日 at 上午12:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-10380">
<article class="comment" id="comment-10380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-10380" rel="nofollow"><time datetime="2014-01-10T05:39:17+00:00" pubdate="">2014年1月10日 at 上午5:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="li-comment-61176">
<article class="comment" id="comment-61176">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-61176" rel="nofollow"><time datetime="2013-12-26T12:20:20+00:00" pubdate="">2013年12月26日 at 下午12:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-10382">
<article class="comment" id="comment-10382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/hdu-1003-Max-Sum-1258.html#comment-10382" rel="nofollow"><time datetime="2013-12-17T06:10:38+00:00" pubdate="">2013年12月17日 at 上午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>