<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>07-25</div>
<div class="tit"><h1 class="entry-title">hdu 4562-守护雅典娜-计算几何-[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/geometry" rel="category tag" title="查看计算几何中的全部文章">计算几何</a></span><span class="i4">围观105次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7583" href="http://www.acmerblog.com/hdu-4562-7583.html#comments" title="《hdu 4562-守护雅典娜-计算几何-[解题报告]hoj》上的评论">2 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h1 style="color:rgb(26,92,200); text-align:center; font-family:'Times New Roman'">
守护雅典娜</h1>
<p><span style="font-family:'Times New Roman'; font-size:14px"><strong><span style="font-family:Arial; font-size:12px; color:green">Time Limit: 3000/1000 MS (Java/Others)    Memory Limit: 65535/32768 K (Java/Others)<br/>
Total Submission(s): 385    Accepted Submission(s): 104<br/>
</span></strong></span><br style="font-family:'Times New Roman'; font-size:14px"/><br/>
<br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Problem Description</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
许多塔防游戏都是以经典的“守护雅典娜”为原型的。玩家需要建立各种防御工具来阻止怪物接近我们的女神——雅典娜。
<p>这里，我们可以建造的防御工具只有标准圆形状的防御墙，建立在雅典娜与怪物出生点之间的防御墙数目越多，胜利的希望就越大。这里，将问题简化到一个二维坐标系里，并且假设雅典娜的坐标为原点(0, 0)，怪物出生点的坐标为(X, Y)。有N个给定圆心坐标与半径的防御墙可以供玩家选择建立，但要保证所有的圆都不发生相切或相交的情况。注意这些雅典娜位置与怪物出生点位置也不能在墙壁的边缘，即表示防御墙的圆上。点的面积与墙的厚度都很小，可以忽略不计。</p>
<p>记住，在游戏开始之后，怪物可以沿着任何轨迹，选择突破最少的圆形防御墙来到雅典娜的身边，而一个防御墙一旦被突破，它就会失去保护作用。所以，你的方案必须足够优秀。为了守护女神，快去找出最优的建设方案吧！</p></div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Input</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
输入第一行为T，表示有T组测试数据。<br/>
每组数据以三个整数N，X，Y开始，接下去的N行每行包括三个整数Xi，Yi，Ri，表示一个可以选择的圆心为(Xi, Yi)半径为Ri的防御墙。
<p>[Technical Specification]</p>
<p>1. 1 &lt;= T &lt;= 100<br/>
2. 1 &lt;= N &lt;= 1000<br/>
3. 1 &lt;= Ri &lt;= 10 000<br/>
4. -10 000 &lt;= X, Y, Xi, Yi &lt;= 10 000，坐标不会相同</p></div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Output</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
对每组数据，先输出为第几组数据，然后输出能够间隔在雅典娜与怪物出生点之间最多的防御墙数目。</div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Input</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">3
1 5 5
1 0 2
1 5 5
1 0 9
3 5 5
1 0 2
4 5 2
2 0 6</div></pre>
</div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Output</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">Case 1: 1
Case 2: 0
Case 3: 2</div></pre>
</div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Source</div>
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
<a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2013%BD%F0%C9%BD%CE%F7%C9%BD%BE%D3%B4%B4%D2%E2%D3%CE%CF%B7%B3%CC%D0%F2%CC%F4%D5%BD%C8%FC%A1%AA%A1%AA%B8%B4%C8%FC%A3%A82%A3%A9&amp;source=1&amp;searchmode=source" style="color:rgb(26,92,200); text-decoration:none" target="_blank">2013金山西山居创意游戏程序挑战赛——复赛（2）</a></div>
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'; font-size:14px">
 </div>
<p>
题意：天朝文字不解释</p>
<p>题解：明显可以阻挡怪物的墙有2种情况，一是圆圈围住怪物而雅典娜在外面，二是圆圈围住雅典娜而怪物在外面，所以可以将墙分为2种，然后关键的是将墙的半径按升序排序，那么就不需要在加一个墙的时候和之前所有墙作一次判断了，然后分别对2种墙进行dp，这满足dp的性质，然后合起来再dp一次就可以得出结果了</p>
<p>
</p>
<pre class="brush:cpp" code_snippet_id="141461" name="code" snippet_file_name="blog_20140103_1_3902089">#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;math.h&gt;
struct point{
    double x,y;
}monster,athena;
struct circle{
    struct point a;
    double r;
}cy[1005],cm[1005];
int dpy[1005],dpm[1005];
int MAX(int x,int y){ return x&gt;y?x:y; }
double dis(struct point p1,struct point p2)
{
    return sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y));
}
int cmp(const void *a,const void *b)
{
    struct circle c=*(struct circle *)a;
    struct circle d=*(struct circle *)b;
    return c.r&lt;d.r?-1:1;
}
int check(struct circle c1,struct circle c2)
{
    double temp=dis(c1.a,c2.a);
    return temp&lt;c1.r-c2.r||temp&gt;c1.r+c2.r;
}
int main()
{
    int i,j,t,n,flag1,flag2;
    int ally,allm,cas=1,res;

    //freopen("t.txt","r",stdin);
    scanf("%d",&amp;t);
    athena.x=athena.y=0;
    while(t--)
    {
        scanf("%d%lf%lf",&amp;n,&amp;monster.x,&amp;monster.y);
        for(ally=allm=i=0;i&lt;n;i++)
        {
            scanf("%lf%lf%lf",&amp;cy[ally].a.x,&amp;cy[ally].a.y,&amp;cy[ally].r);
            flag1=dis(cy[ally].a,monster)&lt;cy[ally].r;
            flag2=dis(cy[ally].a,athena)&lt;cy[ally].r;
            if(!flag1&amp;&amp;flag2) ally++;
            else if(flag1&amp;&amp;!flag2) cm[allm++]=cy[ally];
        }
        qsort(cy,ally,sizeof(cy[0]),cmp);
        qsort(cm,allm,sizeof(cm[0]),cmp);
        for(res=i=0;i&lt;ally;i++)
        {
            for(dpy[i]=1,j=0;j&lt;i;j++)
            {
                if(check(cy[i],cy[j]))
                    dpy[i]=MAX(dpy[i],dpy[j]+1);
            }
            res=MAX(res,dpy[i]);
        }
        for(i=0;i&lt;allm;i++)
        {
            for(dpm[i]=1,j=0;j&lt;i;j++)
            {
                if(check(cm[i],cm[j]))
                    dpm[i]=MAX(dpm[i],dpm[j]+1);
            }
            res=MAX(res,dpm[i]);
        }
        for(i=0;i&lt;ally;i++)
        {
            for(j=0;j&lt;allm;j++)
            {
                if(check(cy[i],cm[j]))
                    res=MAX(res,dpy[i]+dpm[j]);
            }
        }
        printf("Case %d: %d\n",cas++,res);
    }

    return 0;
}
</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97567">
<article class="comment" id="comment-97567">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523849" rel="external nofollow">新用户326579</a></span> on <a href="http://www.acmerblog.com/hdu-4562-7583.html#comment-97567" rel="nofollow"><time datetime="2017-04-20T05:15:18+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>印度穆斯林都有够多的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66998">
<article class="comment" id="comment-66998">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512498" rel="external nofollow">新用户858664</a></span> on <a href="http://www.acmerblog.com/hdu-4562-7583.html#comment-66998" rel="nofollow"><time datetime="2017-04-10T22:27:51+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>吞吞吐吐吞吞吐吐吞吞吐吐头疼爱  </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>