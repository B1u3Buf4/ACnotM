<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2297 Run -模拟退火-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a></span><span class="i4">围观1543次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3527" href="http://www.acmerblog.com/hdu-2297-run-3527.html#comments" title="《hdu 2297 Run -模拟退火-[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Run </h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Since members of Wuhan University ACM Team are lack of exercise, they plan to participate in a ten-thousand-people Marathon. It is common that the athletes run very fast at first but slow down later on. Start from this moment, we can assume that everyone is moving forward in a constant speed. ACMers love algorithms, so they want to know not only the result but also who may be in the leading position. Now we know all athletes’ position and speed at a specific moment. The problem is, starting from this moment, how many athletes may be the leader. Please notice that there’s no leader if two or more athletes are at the leading position at the same time. No two athletes may have the same speed. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. The first line of input consists of an integer T, indicating the number of test cases. The first line of each test case consists of an integer N, indicating the number of athletes. Each of the following N lines consists of two integers: p, v, indicating an athlete’s position and speed.
<p>Technical Specification</p>
<p>1. T ≤ 20<br/>2. 0 &lt; N ≤ 50000<br/>3. 0 &lt; p, v ≤ 2000,000,000<br/>4. An athlete’s position is the distant between him/her and the start line.<br/>5. The Marathon is so long that you can assume there’s no finishline. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of several test cases. The first line of input consists of an integer T, indicating the number of test cases. The first line of each test case consists of an integer N, indicating the number of athletes. Each of the following N lines consists of two integers: p, v, indicating an athlete’s position and speed.
<p>Technical Specification</p>
<p>1. T ≤ 20<br/>2. 0 &lt; N ≤ 50000<br/>3. 0 &lt; p, v ≤ 2000,000,000<br/>4. An athlete’s position is the distant between him/her and the start line.<br/>5. The Marathon is so long that you can assume there’s no finishline.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
3
1 1
2 3
3 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2</pre>
<p> <!-- problem end --></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">转载请注明出处，谢谢</span><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4059" style="color:rgb(202,0,0); text-decoration:none; font-family:Arial; font-size:18px; line-height:26px; text-align:left"></a><a href="http://blog.csdn.net/acm_cxlove/article/details/7854526" style="color:rgb(202,0,0); text-decoration:none; font-family:Arial; font-size:18px; line-height:26px; text-align:left">http://blog.csdn.net/acm_cxlove/article/details/7854526</a><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">      <br/>
 by—cxlove </span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">题目：找出一点，距离所有所有点的最短距离最大</span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left"><a href="http://poj.org/problem?id=1379">http://poj.org/problem?id=1379</a> <br/>
</span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">随机化步长，贪心调整即可。</span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">其实用模拟退火需要证明的~~~~%#@&amp;%……@%￥%@证明完毕</span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left">没啥好说的，时限和精度要求都不高，随便搞吧</span></p>
<p><span style="font-family:Arial; font-size:18px; line-height:26px; text-align:left"></span></p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;queue&gt;
#include&lt;cmath&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
#include&lt;map&gt;
#include&lt;set&gt;
#include&lt;ctime&gt;
#define maxn 200005
#define eps 1e-8
#define inf 2000000000
#define LL long long
#define zero(a) fabs(a)&lt;eps
#define MOD 19901014
#define N 1000005
#define pi acos(-1.0)
using namespace std;
int t,n;
double X,Y;
double best[50];
struct Point{
	double x,y;
	bool check(){
		if(x&gt;-eps&amp;&amp;x&lt;eps+X&amp;&amp;y&gt;-eps&amp;&amp;y&lt;eps+Y)
			return true;
		return false;
	}
}p[1005],tp[50];
double dist(Point p1,Point p2){
	return sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y));
}
double slove(Point p0){
	double ans=inf;
	for(int i=0;i&lt;n;i++)
		ans=min(ans,dist(p[i],p0));
	return ans;
}
int main(){
	scanf("%d",&amp;t);
	srand(time(NULL));
	while(t--){
		scanf("%lf%lf%d",&amp;X,&amp;Y,&amp;n);
		for(int i=0;i&lt;n;i++)
			scanf("%lf%lf",&amp;p[i].x,&amp;p[i].y);
		for(int i=0;i&lt;15;i++){
			tp[i].x=(rand()%1000+1)/1000.0*X;
			tp[i].y=(rand()%1000+1)/1000.0*Y;
			best[i]=slove(tp[i]);
		}
		double step=max(X,Y)/sqrt(1.0*n);
		while(step&gt;1e-3){
			for(int i=0;i&lt;15;i++){
				Point cur,pre=tp[i];
				for(int j=0;j&lt;35;j++){
					double angle=(rand()%1000+1)/1000.0*2*pi;
					cur.x=pre.x+cos(angle)*step;
					cur.y=pre.y+sin(angle)*step;
					if(!cur.check()) continue;
					double tmp=slove(cur);
					if(tmp&gt;best[i]){
						tp[i]=cur;
						best[i]=tmp;
					}
				}
			}
			step*=0.85;
		}
		int idx=0;
		double ans=0;
		for(int i=0;i&lt;15;i++){
			if(best[i]&gt;ans){
				ans=best[i];
				idx=i;
			}
		}
		printf("The safest point is (%.1f, %.1f).\n",tp[idx].x,tp[idx].y);
	}
	return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/acm_cxlove/article/details/7954321</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-85957">
<article class="comment" id="comment-85957">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458216" rel="external nofollow">新用户528419</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-85957" rel="nofollow"><time datetime="2017-04-13T04:24:32+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘎嘎嘎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20763">
<article class="comment" id="comment-20763">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20763" rel="nofollow"><time datetime="2015-07-07T14:47:56+00:00" pubdate="">2015年7月7日 at 下午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20765">
<article class="comment" id="comment-20765">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20765" rel="nofollow"><time datetime="2015-06-25T06:50:28+00:00" pubdate="">2015年6月25日 at 上午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20760">
<article class="comment" id="comment-20760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20760" rel="nofollow"><time datetime="2015-06-23T07:01:30+00:00" pubdate="">2015年6月23日 at 上午7:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20757">
<article class="comment" id="comment-20757">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20757" rel="nofollow"><time datetime="2015-03-31T21:31:12+00:00" pubdate="">2015年3月31日 at 下午9:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20752">
<article class="comment" id="comment-20752">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20752" rel="nofollow"><time datetime="2015-02-01T21:45:41+00:00" pubdate="">2015年2月1日 at 下午9:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
牛逼牛逼</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20758">
<article class="comment" id="comment-20758">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20758" rel="nofollow"><time datetime="2015-01-08T05:19:56+00:00" pubdate="">2015年1月8日 at 上午5:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，算是枚举吧，已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20753">
<article class="comment" id="comment-20753">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20753" rel="nofollow"><time datetime="2014-12-22T11:19:35+00:00" pubdate="">2014年12月22日 at 上午11:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于输出格式不用控制？？还是直接使用cout输出。？？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20762">
<article class="comment" id="comment-20762">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20762" rel="nofollow"><time datetime="2014-10-07T17:08:08+00:00" pubdate="">2014年10月7日 at 下午5:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>good !</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20756">
<article class="comment" id="comment-20756">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20756" rel="nofollow"><time datetime="2014-09-12T20:28:46+00:00" pubdate="">2014年9月12日 at 下午8:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是穷举，但是代码有优化（v数组），并不是2^n。测试数据应该没问题，之前有超时的代码。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20761">
<article class="comment" id="comment-20761">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20761" rel="nofollow"><time datetime="2014-09-11T15:08:11+00:00" pubdate="">2014年9月11日 at 下午3:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20759">
<article class="comment" id="comment-20759">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20759" rel="nofollow"><time datetime="2014-08-03T11:29:57+00:00" pubdate="">2014年8月3日 at 上午11:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20764">
<article class="comment" id="comment-20764">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20764" rel="nofollow"><time datetime="2014-06-19T16:23:03+00:00" pubdate="">2014年6月19日 at 下午4:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20755">
<article class="comment" id="comment-20755">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20755" rel="nofollow"><time datetime="2014-04-14T09:33:09+00:00" pubdate="">2014年4月14日 at 上午9:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20754">
<article class="comment" id="comment-20754">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-2297-run-3527.html#comment-20754" rel="nofollow"><time datetime="2014-01-14T04:41:50+00:00" pubdate="">2014年1月14日 at 上午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>