<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-14</div>
<div class="tit"><h1 class="entry-title">hdu 3956 SanguoSHA待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观285次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6960" href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comments" title="《hdu 3956 SanguoSHA待解决[解题报告]C++》上的评论">16 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">SanguoSHA</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
SanguoSHA is a very popular game. The rules of SanguoSHA are too complex for me to describe it in English, so just let me simplify it a lot. ^ ^.<br/><center><img alt="March" src="http://www.acmerblog.com/img/1436210095087.jpg"/></center><br/>In this custom game we have several rules shown below, and you should read carefully:<br/><i><b>Part I–Identifies:</b></i><br/>1): There are at most 8 players while at least 4;<br/>2): There are 4 roles: Lord, Minister, Rebel, and Traitor.<br/>3): The goal of the Lord and Ministers is to kill all of the Rebels and the Traitor.<br/>4): The goal of the Rebel is to kill the Lord.<br/>5): The goal of the Traitor is to make himself alive until the game over.<br/>6): There is only 1 Lord.<br/>7): There is only 1 Traitor.<br/>8): There will be at least 1 Rebel.<br/>9): There will be at least 1 Minister.<br/>10): Every player know the total remain number of Rebel and Minister.
<p><i><b>Part II–How to determine the game over and who wins:</b></i><br/>1): If the Lord is alive, and there is neither alive Rebel nor Traitor, then the game over, and the Lord and Ministers win.<br/>2): When the Lord is killed by someone, the game over, if there is no one but the Traitor alive, then the Traitor wins; otherwise, the Rebels win.</p>
<p><i><b>Part III–How to play in this custom game:</b></i><br/>1): At first, the roles of all players except for the Lord are hidden, they only know their own roles. That means players have to conjecture others’ role by analysing their behavior.<br/>2): In each round, all alive players play one by one. The player1 plays first, then player2…<br/>3): In each player’s turn, the player can choose one and only one player to attack. The probability of killing the chosen one is P.<br/>4): When a player is killed, his role should be announced.</p>
<p><i><b>Part IV–How to analysis player’s behaviors:</b></i><br/>1): The Lord is always be considered as Lord.<br/>2): A player will be considered as Rebel when he attack the Lord.<br/>3): A player will be considered as Rebel when he attack one which considered as Minister before all Rebels are eliminated.<br/>4): A player will be considered as Minister when he attack one which considered as Rebel.<br/>5): A player will be considered as Traitor when he have been considered as Minister and Rebel.<br/>6): The players are not clever enough, they can’t analysis other behaviors.</p>
<p><i><b>Part V–The attack strategy of each role:</b></i><br/>Eliminated player couldn’t do anything.<br/>No one will attack eliminated player or himself.<br/>For each strategy, all eligible player have equal probability of being attacked.<br/>The Rebel will choose one of the following strategies by order:<br/>1)The Lord or Ministers if some players are considered as Minister.<br/>2)The Lord or Traitor if a player is considered as Traitor.<br/>3)The Lord.<br/>The Lord and Ministers will choose one of the following strategies  by order:<br/>1)The player which be considered as Rebel.<br/>2)The player which be considered as Traitor.<br/>3)If all rebel roles are eliminated, then attack anyone except Lord.<br/>4)The player with unknown role.<br/>The Traitor will choose one of the following strategies by order:<br/>1)The player which be considered as Minister if alive Minister number more than alive Rebel number.<br/>2)The player which be considered as Rebel if alive Rebel number not less than alive Minister number.<br/>3)Anyone expect the Lord.<br/>4)The Lord.</p>
<p>Such information will be given:<br/>1): The number of players.<br/>2): Each player’s identify.<br/>3): The probability of killing the chosen one.<br/>For each role, you should calculate the probability of winning within 10 round. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line is a number T(1&lt;=T&lt;=30), represents the number of case. The next T blocks follow each indicates a case.<br/>Each case consists of three lines, the first line is an integer N(4&lt;=N&lt;=8), indicating the number of players.<br/>The second line contains N integers, player1,player2…playern, indicating the role of each player.(The first player will always be the Lord).(0, 1, 2, 3 indicating Lord, Minister, Rebel, and Traitor respectively.)<br/>Then the third line contains a real number P(0&lt;P&lt;1). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line is a number T(1&lt;=T&lt;=30), represents the number of case. The next T blocks follow each indicates a case.<br/>Each case consists of three lines, the first line is an integer N(4&lt;=N&lt;=8), indicating the number of players.<br/>The second line contains N integers, player1,player2…playern, indicating the role of each player.(The first player will always be the Lord).(0, 1, 2, 3 indicating Lord, Minister, Rebel, and Traitor respectively.)<br/>Then the third line contains a real number P(0&lt;P&lt;1).</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
4
0 1 2 3
0.5
4
0 3 2 1
0.5</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1:
Lord and Minister:0.549
Rebel:0.334
Traitor:0.118
Case 2:
Lord and Minister:0.501
Rebel:0.334
Traitor:0.166</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-100073">
<article class="comment" id="comment-100073">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521517" rel="external nofollow">新用户753074</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-100073" rel="nofollow"><time datetime="2017-04-20T21:02:06+00:00" pubdate="">2017年4月20日 at 下午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受用…回去就弄上…哈哈…又来剽窃了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-71350">
<article class="comment" id="comment-71350">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511573" rel="external nofollow">新用户269212</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-71350" rel="nofollow"><time datetime="2017-04-11T15:16:35+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>爱至深则后悔</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64172">
<article class="comment" id="comment-64172">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tonight</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-64172" rel="nofollow"><time datetime="2015-07-20T09:28:50+00:00" pubdate="">2015年7月20日 at 上午9:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修改一下吧 …</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59923">
<article class="comment" id="comment-59923">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">_Tree</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59923" rel="nofollow"><time datetime="2015-07-15T09:18:46+00:00" pubdate="">2015年7月15日 at 上午9:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59924">
<article class="comment" id="comment-59924">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59924" rel="nofollow"><time datetime="2015-07-08T15:36:06+00:00" pubdate="">2015年7月8日 at 下午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59919">
<article class="comment" id="comment-59919">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59919" rel="nofollow"><time datetime="2015-07-08T00:15:36+00:00" pubdate="">2015年7月8日 at 上午12:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害，支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59925">
<article class="comment" id="comment-59925">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59925" rel="nofollow"><time datetime="2015-06-28T23:39:54+00:00" pubdate="">2015年6月28日 at 下午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59922">
<article class="comment" id="comment-59922">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59922" rel="nofollow"><time datetime="2015-06-09T13:46:38+00:00" pubdate="">2015年6月9日 at 下午1:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59918">
<article class="comment" id="comment-59918">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59918" rel="nofollow"><time datetime="2015-06-04T16:50:24+00:00" pubdate="">2015年6月4日 at 下午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太好了，收藏</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64170">
<article class="comment" id="comment-64170">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-64170" rel="nofollow"><time datetime="2015-06-03T23:39:53+00:00" pubdate="">2015年6月3日 at 下午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个..  真没看出来</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59921">
<article class="comment" id="comment-59921">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59921" rel="nofollow"><time datetime="2015-05-26T17:15:58+00:00" pubdate="">2015年5月26日 at 下午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64171">
<article class="comment" id="comment-64171">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">michaelwen</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-64171" rel="nofollow"><time datetime="2015-05-19T06:35:46+00:00" pubdate="">2015年5月19日 at 上午6:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51708">
<article class="comment" id="comment-51708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-51708" rel="nofollow"><time datetime="2015-05-16T07:13:41+00:00" pubdate="">2015年5月16日 at 上午7:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34968">
<article class="comment" id="comment-34968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-34968" rel="nofollow"><time datetime="2015-05-11T22:55:18+00:00" pubdate="">2015年5月11日 at 下午10:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64169">
<article class="comment" id="comment-64169">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-64169" rel="nofollow"><time datetime="2015-05-03T12:13:29+00:00" pubdate="">2015年5月3日 at 下午12:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59920">
<article class="comment" id="comment-59920">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-3956-sanguosha-6960.html#comment-59920" rel="nofollow"><time datetime="2015-04-30T13:26:55+00:00" pubdate="">2015年4月30日 at 下午1:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>