<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-10</div>
<div class="tit"><h1 class="entry-title">hdu 2589 正方形划分-DFS-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观957次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4143" href="http://www.acmerblog.com/hdu-2589-4143.html#comments" title="《hdu 2589 正方形划分-DFS-[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">正方形划分</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
一个边长为L的正方形可以分成 L*L个小正方形. 有N个石子放在 N个小正方形里，能否将它分成 N个 正方形，使得每个正方形里恰有一个石子且这N 个正方形恰好构成整个正方形 . </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入数据首先包含一个整数T，表示测试实例的个数，然后是T组数据，每组第一行包含2个整数L,N,接下来有N行每行2个整数 r,c,表示第r行c列的小正方形里有一个石子 .1&lt;L&lt;=20;1&lt;N&lt;=L*L; 1&lt;=r,c&lt;=L. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输入数据首先包含一个整数T，表示测试实例的个数，然后是T组数据，每组第一行包含2个整数L,N,接下来有N行每行2个整数 r,c,表示第r行c列的小正方形里有一个石子 .1&lt;L&lt;=20;1&lt;N&lt;=L*L; 1&lt;=r,c&lt;=L.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3

5 8
2 4
3 3
3 4
3 5
4 2
4 4
4 5
5 5

3 2
1 1
3 3

2 4
1 1
1 2
2 1
2 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
YES
NO
YES</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
using namespace std;
int map[21][21];
int a[21][21];
bool used[21][21];
int n,m;
bool dfs()
{
    int i,j;
    int x,y,r;
    int flag=0;
    for(i=1;i&lt;=n;i++)
    {
        if(flag) break;
        for(j=1;j&lt;=n;j++)
            if(!used[i][j])
            {
                x=i;y=j;
                flag=1;
                break;
            }
    }
    int x1,y1;
    for(r=0;;r++)
    {
        x1=x+r;y1=y+r;
        if(x1&gt;n||y1&gt;n) break;
        if(a[x1][y1]-a[x1][y-1]-a[x-1][y1]+a[x-1][y-1]&gt;1) break;
        if(a[x1][y1]-a[x1][y-1]-a[x-1][y1]+a[x-1][y-1]==1)
        {
            for(i=x;i&lt;=x1;i++)
                for(j=y;j&lt;=y1;j++)
                    used[i][j]=1;
            if(dfs()) return 1;
            for(i=x;i&lt;=x1;i++)
                for(j=y;j&lt;=y1;j++)
                    used[i][j]=0;
        }
    }
    for(i=1;i&lt;=n;i++)
        for(j=1;j&lt;=n;j++)
            if(!used[i][j])
                return 0;
    return 1;
}
int main()
{
    int cas,x,y;
    scanf("%d",&amp;cas);
    while(cas--)
    {
        memset(map,0,sizeof(map));
        scanf("%d%d",&amp;n,&amp;m);
        while(m--)
        {
            scanf("%d%d",&amp;x,&amp;y);
            map[x][y]=1;
        }
        memset(a,0,sizeof(a));
        for(int i=1;i&lt;=n;i++)
            for(int j=1;j&lt;=n;j++)
                a[i][j]=a[i-1][j]+a[i][j-1]-a[i-1][j-1]+map[i][j];
        memset(used,0,sizeof(used));
        int c=dfs();
        if(c==1) printf("YES\n");
        if(c==0) printf("NO\n");
    }
    return 0;
}</pre>
<p> </p>
<p>解题转自：http://www.cnblogs.com/xuschang-93/archive/2012/04/24/2467512.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83720">
<article class="comment" id="comment-83720">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513709" rel="external nofollow">新用户772067</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-83720" rel="nofollow"><time datetime="2017-04-12T22:38:37+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>double kill</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83719">
<article class="comment" id="comment-83719">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513709" rel="external nofollow">新用户772067</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-83719" rel="nofollow"><time datetime="2017-04-12T22:38:37+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>double kill</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23241">
<article class="comment" id="comment-23241">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23241" rel="nofollow"><time datetime="2015-06-04T00:37:11+00:00" pubdate="">2015年6月4日 at 上午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45833">
<article class="comment" id="comment-45833">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-45833" rel="nofollow"><time datetime="2015-05-31T01:46:32+00:00" pubdate="">2015年5月31日 at 上午1:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45835">
<article class="comment" id="comment-45835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jamoeba</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-45835" rel="nofollow"><time datetime="2015-03-25T22:17:21+00:00" pubdate="">2015年3月25日 at 下午10:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23243">
<article class="comment" id="comment-23243">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23243" rel="nofollow"><time datetime="2015-03-21T17:51:43+00:00" pubdate="">2015年3月21日 at 下午5:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>懂了，谢谢啦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23244">
<article class="comment" id="comment-23244">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23244" rel="nofollow"><time datetime="2015-02-01T01:30:53+00:00" pubdate="">2015年2月1日 at 上午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>
	welcome!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23239">
<article class="comment" id="comment-23239">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23239" rel="nofollow"><time datetime="2015-01-06T12:03:57+00:00" pubdate="">2015年1月6日 at 下午12:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>simple, however efficient. A lot of instances it is difficult to get that a??perfect balancea?? among usability and appearance. I must say that youa??ve done a exceptional task with this. Also, the blog masses quite fast for me on Web explore.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23238">
<article class="comment" id="comment-23238">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23238" rel="nofollow"><time datetime="2015-01-05T14:25:18+00:00" pubdate="">2015年1月5日 at 下午2:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23237">
<article class="comment" id="comment-23237">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23237" rel="nofollow"><time datetime="2014-12-14T16:37:54+00:00" pubdate="">2014年12月14日 at 下午4:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23240">
<article class="comment" id="comment-23240">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23240" rel="nofollow"><time datetime="2014-10-29T07:02:10+00:00" pubdate="">2014年10月29日 at 上午7:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环，比如<br/>
0 0 0 0 0<br/>
1 1 1 1 0<br/>
1 0 0 0 0<br/>
1 0 1 0 1<br/>
1 0 0 0 0<br/>
会陷入死循环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62740">
<article class="comment" id="comment-62740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-62740" rel="nofollow"><time datetime="2014-10-13T04:34:49+00:00" pubdate="">2014年10月13日 at 上午4:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45834">
<article class="comment" id="comment-45834">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-45834" rel="nofollow"><time datetime="2014-05-14T11:18:55+00:00" pubdate="">2014年5月14日 at 上午11:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23242">
<article class="comment" id="comment-23242">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-23242" rel="nofollow"><time datetime="2014-03-21T12:43:01+00:00" pubdate="">2014年3月21日 at 下午12:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thank you very much</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62741">
<article class="comment" id="comment-62741">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/hdu-2589-4143.html#comment-62741" rel="nofollow"><time datetime="2014-03-03T21:14:41+00:00" pubdate="">2014年3月3日 at 下午9:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>