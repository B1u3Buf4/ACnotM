<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-29</div>
<div class="tit"><h1 class="entry-title">hdu 3630 Crystal mine待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观383次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6594" href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comments" title="《hdu 3630 Crystal mine待解决[解题报告]C++》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Crystal mine</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Legends always begin with the sentence “Long long ago……”<br/>Long long ago, there is a kingdom. The border of this kingdom is rectangular, and some lakes in it. Old king divides land to N * M areas. So, we can regard this kingdom as a matrix. Every element of matrix is an area. This kingdom is famous for crystal mine, because every land contains an ocean of crystal underground, except lakes.<br/>Now, the old king wants to build a large rectangular mine field in a rectangular range which is decide by him. What’s more, he wants to build a special area in mine field, which can produce crystal manyfold. Notice that mine field can’t contain lakes. Unfortunately, the old king is too old to remember something. He always asks his adviser this question with different range.<br/>Adviser is tired of answering those questions day by day. So, you are assigned to solve this problem. You get the kingdom map, and the amount of crystal of every area (as A[][]) has been marked on this map. You should find out the best plan to build this mine field which can produce most crystal. Old king never care the details of plan. The only thing he wants know is the number of crystal the mine field can produce. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases in the input file.<br/>The first line of input file contains a number T, representing the number of test cases. For each test case:<br/>First line contains four integers separated by a single blank, N (1 &lt;= N &lt;= 150), M (1 &lt;= M &lt;= 150), Q (1&lt;= Q &lt;= 200), S (1 &lt;= S &lt;= 10). The size of matrix is N * M. Q indicates the number of questions of old king. S indicates that, if you set the special area in (i,j), (i,j) will produce S * A[i][j] instead of A[i][j].<br/>The following N lines, each line contains M number, the j-th number of i-th line represent A[i][j] (-1 &lt;= A[i][j] &lt; 100 ). Number -1 indicates that, this area is a lake. Otherwise A[i][j] indicates the amount of crystal in this area.<br/>Following Q line, each line contains four integers p, q, x, y. (1 &lt;= p &lt;= x &lt;= N, 1 &lt;= q &lt;= y &lt;= M) indicating the rectangular range of this question is from (p,q) to (x,y). (p,q) is upper left corner of range, and (x,y) is lower right corner of range. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test cases in the input file.<br/>The first line of input file contains a number T, representing the number of test cases. For each test case:<br/>First line contains four integers separated by a single blank, N (1 &lt;= N &lt;= 150), M (1 &lt;= M &lt;= 150), Q (1&lt;= Q &lt;= 200), S (1 &lt;= S &lt;= 10). The size of matrix is N * M. Q indicates the number of questions of old king. S indicates that, if you set the special area in (i,j), (i,j) will produce S * A[i][j] instead of A[i][j].<br/>The following N lines, each line contains M number, the j-th number of i-th line represent A[i][j] (-1 &lt;= A[i][j] &lt; 100 ). Number -1 indicates that, this area is a lake. Otherwise A[i][j] indicates the amount of crystal in this area.<br/>Following Q line, each line contains four integers p, q, x, y. (1 &lt;= p &lt;= x &lt;= N, 1 &lt;= q &lt;= y &lt;= M) indicating the rectangular range of this question is from (p,q) to (x,y). (p,q) is upper left corner of range, and (x,y) is lower right corner of range.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
4 4 3 2
1 -1 0 3
1 1 2 0
2 1 0 -1
1 4 6 1
1 1 1 1
1 1 3 3
1 3 3 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1:
2
9
8</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73557">
<article class="comment" id="comment-73557">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526428" rel="external nofollow">新用户167391</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-73557" rel="nofollow"><time datetime="2017-04-12T00:07:33+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>放P，鼬的万花筒，和止水是一个级别的，幻术可以被镜天地转完全反弹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73556">
<article class="comment" id="comment-73556">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526428" rel="external nofollow">新用户167391</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-73556" rel="nofollow"><time datetime="2017-04-12T00:07:33+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>放P，鼬的万花筒，和止水是一个级别的，幻术可以被镜天地转完全反弹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59382">
<article class="comment" id="comment-59382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-59382" rel="nofollow"><time datetime="2015-06-12T10:09:02+00:00" pubdate="">2015年6月12日 at 上午10:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent Web-site! I required to ask if I might webpages and use a component of the net web website and use a number of factors for just about any faculty process. Please notify me through email regardless of whether that would be excellent. Many thanks</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50587">
<article class="comment" id="comment-50587">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-50587" rel="nofollow"><time datetime="2015-05-03T23:34:07+00:00" pubdate="">2015年5月3日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32702">
<article class="comment" id="comment-32702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-32702" rel="nofollow"><time datetime="2015-05-01T09:38:41+00:00" pubdate="">2015年5月1日 at 上午9:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50586">
<article class="comment" id="comment-50586">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-50586" rel="nofollow"><time datetime="2015-03-13T12:50:18+00:00" pubdate="">2015年3月13日 at 下午12:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32701">
<article class="comment" id="comment-32701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-32701" rel="nofollow"><time datetime="2015-02-25T20:03:40+00:00" pubdate="">2015年2月25日 at 下午8:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一种方法怎么会是O(log(m+n))呢？没有二分的话直接遍历应该就是O(m+n)吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32700">
<article class="comment" id="comment-32700">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">la0bei</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-32700" rel="nofollow"><time datetime="2015-02-25T09:20:24+00:00" pubdate="">2015年2月25日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，九度OJ也有此题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50589">
<article class="comment" id="comment-50589">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-50589" rel="nofollow"><time datetime="2015-02-24T11:23:56+00:00" pubdate="">2015年2月24日 at 上午11:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二块代码if(it != mp.end())应改为if(it != mp.end() &amp;&amp; (i+1)!=(it-&gt;second +1))；因为第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50588">
<article class="comment" id="comment-50588">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-50588" rel="nofollow"><time datetime="2015-01-21T00:01:15+00:00" pubdate="">2015年1月21日 at 上午12:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如何解决overload的问题呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32703">
<article class="comment" id="comment-32703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-32703" rel="nofollow"><time datetime="2015-01-18T12:49:06+00:00" pubdate="">2015年1月18日 at 下午12:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59381">
<article class="comment" id="comment-59381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-59381" rel="nofollow"><time datetime="2015-01-16T22:04:05+00:00" pubdate="">2015年1月16日 at 下午10:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50585">
<article class="comment" id="comment-50585">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/hdu-3630-crystal-mine-6594.html#comment-50585" rel="nofollow"><time datetime="2014-12-12T17:04:15+00:00" pubdate="">2014年12月12日 at 下午5:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>