<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1568 Fibonacci-分治-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观1187次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2122" href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comments" title="《HDU 1568 Fibonacci-分治-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Fibonacci</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
2007年到来了。经过2006年一年的修炼，数学神童zouyu终于把0到100000000的Fibonacci数列<br/>(f[0]=0,f[1]=1;f[i] = f[i-1]+f[i-2](i&gt;=2))的值全部给背了下来。<br/>接下来，CodeStar决定要考考他，于是每问他一个数字，他就要把答案说出来，不过有的数字太长了。所以规定超过4位的只要说出前4位就可以了，可是CodeStar自己又记不住。于是他决定编写一个程序来测验zouyu说的是否正确。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入若干数字n(0 &lt;= n &lt;= 100000000)，每个数字一行。读到文件尾。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输出f[n]的前4个数字（若不足4个数字，就全部输出）。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
0
1
2
3
4
5
35
36
37
38
39
40</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0
1
1
2
3
5
9227
1493
2415
3908
6324
1023</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1568">http://acm.hdu.edu.cn/showproblem.php?pid=1568</a></p>
<p>与 HDU 1060 Leftmost Digit 差不多</p>
<p>求后几位的话，可以构造矩阵相乘，二分求冪</p>
<p>求前几位，不需要，直接运用数学公式和对数的性质来求</p>
<p>斐波那契数列通项公式</p>
<div><img alt="" border="0" class="blogimg" height="49" src="http://acm.hdu.edu.cn/forum/attachment/9_17558_66eb0d62d0d7087.jpg" width="309"/></div>
<p>an=（1/√5）* [（（1+√5）/2）^n-（（1-√5）/2）^n]</p>
<p>求x^y的前几位<br/>高斯函数x=[x]+{x},[x]为x的整数部分，{x}为x的小数部分<br/>运用对数性质，t=x^y=a*10^n（科学计数法)<br/>lgt=y*lgx=lga+n (n=[lgt]，lga={lgt}，因为1&lt;=a&lt;10,所以0&lt;=lga&lt;1)<br/>a=10^{lgt}<br/>e=y*lgx, e=e-[e], a=10^e</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
 #include &lt;math.h&gt;
 int main()
 {
     const int N=21;
     int f[N]={0,1};
     for (int i=2;i&lt;N;i++) f[i]=f[i-1]+f[i-2];
     int n;
     while (scanf("%d",&amp;n)!=EOF)
     {
         if (n&lt;N)
         {
             printf("%d\n",f[n]);
             continue;
         }
         double e,a;
         e=log10(1/sqrt(5))+n*log10((1+sqrt(5))/2);
         a=pow(10.0,e-floor(e));
         printf("%d\n",(int)(a*1000));
     }
 }</pre>
<p> </p>
<p>解题报告转自：http://www.cnblogs.com/yangcl/archive/2011/11/28/2266670.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-41456">
<article class="comment" id="comment-41456">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41456" rel="nofollow"><time datetime="2015-05-07T07:15:34+00:00" pubdate="">2015年5月7日 at 上午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41454">
<article class="comment" id="comment-41454">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41454" rel="nofollow"><time datetime="2015-02-26T11:14:11+00:00" pubdate="">2015年2月26日 at 上午11:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>5.1处，反了；“上一个操作符的优先级比操作符ch的优先级大，或栈是空的就入栈。”如代码所述，应为“上一个操作符的优先级比操作符ch的优先级小，或栈是空的就入栈。”</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14273">
<article class="comment" id="comment-14273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-14273" rel="nofollow"><time datetime="2015-02-17T07:06:47+00:00" pubdate="">2015年2月17日 at 上午7:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41457">
<article class="comment" id="comment-41457">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41457" rel="nofollow"><time datetime="2015-02-04T21:00:52+00:00" pubdate="">2015年2月4日 at 下午9:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great work！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41458">
<article class="comment" id="comment-41458">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41458" rel="nofollow"><time datetime="2015-01-26T07:51:04+00:00" pubdate="">2015年1月26日 at 上午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41459">
<article class="comment" id="comment-41459">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41459" rel="nofollow"><time datetime="2014-11-23T18:13:49+00:00" pubdate="">2014年11月23日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉这里的评分标准没啥作用阿，反而显得显得赘余，还不如直接去掉好了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41460">
<article class="comment" id="comment-41460">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41460" rel="nofollow"><time datetime="2014-09-23T16:15:41+00:00" pubdate="">2014年9月23日 at 下午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14275">
<article class="comment" id="comment-14275">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-14275" rel="nofollow"><time datetime="2014-08-19T00:08:44+00:00" pubdate="">2014年8月19日 at 上午12:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14274">
<article class="comment" id="comment-14274">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-14274" rel="nofollow"><time datetime="2014-06-30T03:23:53+00:00" pubdate="">2014年6月30日 at 上午3:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41455">
<article class="comment" id="comment-41455">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xy7850151</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41455" rel="nofollow"><time datetime="2014-06-27T17:21:58+00:00" pubdate="">2014年6月27日 at 下午5:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，我的方法占用的内存更多些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41461">
<article class="comment" id="comment-41461">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41461" rel="nofollow"><time datetime="2014-03-12T10:20:29+00:00" pubdate="">2014年3月12日 at 上午10:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41462">
<article class="comment" id="comment-41462">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41462" rel="nofollow"><time datetime="2014-02-20T15:50:46+00:00" pubdate="">2014年2月20日 at 下午3:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41463">
<article class="comment" id="comment-41463">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41463" rel="nofollow"><time datetime="2014-02-20T14:56:43+00:00" pubdate="">2014年2月20日 at 下午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个差别应该不会太大，或许编辑器就自动优化成内联函数了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41453">
<article class="comment" id="comment-41453">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/hdu-1568-Fibonacci-2122.html#comment-41453" rel="nofollow"><time datetime="2013-12-17T04:23:35+00:00" pubdate="">2013年12月17日 at 上午4:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>