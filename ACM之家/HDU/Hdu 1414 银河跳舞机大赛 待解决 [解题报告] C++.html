<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-10</div>
<div class="tit"><h1 class="entry-title">Hdu 1414 银河跳舞机大赛 待解决 [解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1572次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1884" href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comments" title="《Hdu 1414 银河跳舞机大赛 待解决 [解题报告] C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">银河跳舞机大赛</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
怀特先生（见ACM/ICPC Asia Regional 2001, Shanghai）通过他的跳舞机（Dance Dance Revolution，DDR）减肥成功，他非常感激他的DDR，想把他的减肥经验推广，于是开了一个公司专门生产跳舞机。<br/>由于他公司生产的跳舞机质量非常优秀，这些跳舞机销往银河系各地，各个星球上的人都非常喜欢它们，整个银河系都掀起了跳舞机热。银河体育联盟决定在银河系范围内举行一次银河跳舞机大赛。参加这次比赛的选手来自那美克星、ShiningStar星、X星、塞亚星…当然还有东道主地球。
<p>由于比赛的奖品非常吸引人――一辆地球中国产的“红旗牌”时光穿梭机，每个选手都将使出浑身解数来争取这个奖品。</p>
<p>选手们拥有不同数量的腿，但是最多四条而且每个腿上只有一个脚。比如：地球人只有两个腿，那美克星人有四个腿，X星人三条、塞亚星人一条…<br/>为此，怀特先生的公司专门为比赛设计了一种跳舞机，这种跳舞机上最多有15个踏板。之中必有一个是编号为ZERO的，它非常大，可以让一个选手的所有脚都站在上面，而且位于整个跳舞机的中心区域；其余的编号为1..P（P ≤ 14），它们均匀地分布在ZERO踏板周围，但是都非常小，每个只能容纳一个脚。<br/>比赛的规则是这样的：</p>
<p>比赛开始前，选手可以将自己的脚踩在任意的踏板上，但是除了ZERO踏板，其余的踏板只能踩一个脚。</p>
<p>然后，播放一首长度为T秒的舞曲（例如：Smile组合的《Butterfly》），在歌曲播放期间，跳舞机的指令会提示选手在某些整秒时刻踩某些踏板。这时选手可以选择起跳并移动他的K（K ≤ P）个脚去踩别的踏板。但是起跳和移动会花费选手D + [K / 2]的时间（这里D表示起跳延时，“[K / 2]”表示K整除2），也就是说他需要花这么长时间才能将K个脚移动到目的区域。如果选手只是在原地起跳，没有移动他的腿的话，只花费D的时间，因为此时他没有去踩别的踏板，K = 0。</p>
<p>当然，选手可以选择站在原地不动，虽然这样做会引起其他选手的严重BS、全场观众的一片嘘声以及铺天盖地仍来的鸡蛋、青菜、萝卜…</p>
<p>另外，如果选手愿意，他也可以将他的一些或者全部脚移动到ZERO区域。</p>
<p>由于参赛的选手都是各个星球的精英，所以它们个个体力充沛，即使刚刚落地，也可以马上进行下一个动作。</p>
<p>如果选手在规定时刻踩了跳舞机提示的那些踏板，那么选手就会得到1分。例如：1秒的时刻，跳舞机提示踩1、2两个踏板，选手做到了（只要有任意两个脚踩在1、2踏板上），这时他的得分会增加1。<br/>判断选手是否可以得分是由装在跳舞机踏板上的传感器来完成的，这些传感器只有在选手起跳的时候才会工作，站在原地不动是不会使它们工作的。一旦舞曲结束，该选手的比赛就结束。</p>
<p>由于比赛选手的腿的数量不一致，会引起不公平，组委会决定比赛以选手的实际得分占他可以得的分数的最高值的比例来判胜负。</p>
<p>可是根据跳舞机踏板的数目、每个选手脚的数目、起跳延时、舞曲的时间、跳舞机的指令序列来计算每个选手可以得到的最大得分对于手工计算还是十分浩大的工程，所以组委会邀请你，杭州电子科技大学聪明的ACMer，写一个程序帮忙计算一下，如果你顺利完成了这个任务，那么奖品嘛…当然是一个由PLMM送来的AC的气球咯！ </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
测试数据将是多组的，而且每组之间都会有一个空行分隔。<br/>每组测试数据的第一行是五个整数P、F、D、T、M。<br/>P（1 ≤ P ≤ 14）表示跳舞机的踏板数，P = 0 表示输入结束<br/>F（1 ≤ F ≤ 4，F ≤ P）表示选手脚的数量<br/>D（1 ≤ D）表示起跳延时<br/>T（1 ≤ T ≤ 300）表示舞曲的时间<br/>M（1 ≤ M ≤ 300，M ≤ T）表示跳舞机的指令数<br/>接下来，是M行跳舞机的指令，每条指令的格式如下：<br/>t k a1 a2 … ak<br/>其中t表示这条指令是t（1 ≤ t ≤ T）秒时刻的指令，k（1 ≤ k ≤ F）表示指令要求踩的踏板的总数，a1 – ak（1 ≤ ai ≤ P，1 ≤ i ≤ k）表示要求踩a1 – ak号踏板。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输出能够得到的最大的分数，单位：POINT。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 1 1 4 1
1 1 1

2 1 1 4 3
1 1 1
2 1 1
3 1 1

0 12 3 29 3
1 1 1
1 1 1
1 1 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 POINT.
3 POINTS.</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-13162">
<article class="comment" id="comment-13162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13162" rel="nofollow"><time datetime="2015-05-20T06:03:39+00:00" pubdate="">2015年5月20日 at 上午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得是D哎……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54756">
<article class="comment" id="comment-54756">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54756" rel="nofollow"><time datetime="2015-04-02T19:12:01+00:00" pubdate="">2015年4月2日 at 下午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54752">
<article class="comment" id="comment-54752">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54752" rel="nofollow"><time datetime="2014-11-30T18:39:13+00:00" pubdate="">2014年11月30日 at 下午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54757">
<article class="comment" id="comment-54757">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54757" rel="nofollow"><time datetime="2014-11-07T10:00:12+00:00" pubdate="">2014年11月7日 at 上午10:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13156">
<article class="comment" id="comment-13156">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13156" rel="nofollow"><time datetime="2014-10-27T03:16:46+00:00" pubdate="">2014年10月27日 at 上午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13159">
<article class="comment" id="comment-13159">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13159" rel="nofollow"><time datetime="2014-10-15T05:31:33+00:00" pubdate="">2014年10月15日 at 上午5:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13161">
<article class="comment" id="comment-13161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13161" rel="nofollow"><time datetime="2014-09-22T07:03:26+00:00" pubdate="">2014年9月22日 at 上午7:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13160">
<article class="comment" id="comment-13160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13160" rel="nofollow"><time datetime="2014-07-07T07:22:10+00:00" pubdate="">2014年7月7日 at 上午7:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13158">
<article class="comment" id="comment-13158">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13158" rel="nofollow"><time datetime="2014-06-19T00:36:42+00:00" pubdate="">2014年6月19日 at 上午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13157">
<article class="comment" id="comment-13157">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-13157" rel="nofollow"><time datetime="2014-04-05T15:52:58+00:00" pubdate="">2014年4月5日 at 下午3:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54754">
<article class="comment" id="comment-54754">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54754" rel="nofollow"><time datetime="2014-03-28T12:38:54+00:00" pubdate="">2014年3月28日 at 下午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以根据二叉排序树的定义进行严格的排序树创建和后序遍历操作。如果形成的排序树相同，其树的前、中、后序遍历是相同的，但在此处不能使用中序遍历，因为，中序遍历的结果就是排序的结果。经在九度测试，运行时间90ms，比楼主的要快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54755">
<article class="comment" id="comment-54755">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54755" rel="nofollow"><time datetime="2014-01-08T18:04:09+00:00" pubdate="">2014年1月8日 at 下午6:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54753">
<article class="comment" id="comment-54753">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/hdu-1414-%E9%93%B6%E6%B2%B3%E8%B7%B3%E8%88%9E%E6%9C%BA%E5%A4%A7%E8%B5%9B-1884.html#comment-54753" rel="nofollow"><time datetime="2013-12-15T08:27:48+00:00" pubdate="">2013年12月15日 at 上午8:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是错的吧，明显没有判断不和该节点相邻的其他节点是否相互相邻</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>