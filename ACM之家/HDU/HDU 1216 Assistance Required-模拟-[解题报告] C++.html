<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1216 Assistance Required-模拟-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a>, <a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a></span><span class="i4">围观2063次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1579" href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comments" title="《HDU 1216 Assistance Required-模拟-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Assistance Required</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
After the 1997/1998 Southwestern European Regional Contest (which was held in Ulm) a large contest party took place. The organization team invented a special mode of choosing those participants that were to assist with washing the dirty dishes. The contestants would line up in a queue, one behind the other. Each contestant got a number starting with 2 for the first one, 3 for the second one, 4 for the third one, and so on, consecutively. <br/>The first contestant in the queue was asked for his number (which was 2). He was freed from the washing up and could party on, but every second contestant behind him had to go to the kitchen (those with numbers 4, 6, 8, etc). Then the next contestant in the remaining queue had to tell his number. He answered 3 and was freed from assisting, but every third contestant behind him was to help (those with numbers 9, 15, 21, etc). The next in the remaining queue had number 5 and was free, but every fifth contestant behind him was selected (those with numbers 19, 35, 49, etc). The next had number 7 and was free, but every seventh behind him had to assist, and so on. 
<p>Let us call the number of a contestant who does not need to assist with washing up a lucky number. Continuing the selection scheme, the lucky numbers are the ordered sequence 2, 3, 5, 7, 11, 13, 17, etc. Find out the lucky numbers to be prepared for the next contest party.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several test cases. Each test case consists of an integer n. You may assume that 1 &lt;= n &lt;= 3000. A zero follows the input for the last test case.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case specified by n output on a single line the n-th lucky number. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2
10
20
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
3
29
83</pre>
<p><!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1216">http://acm.hdu.edu.cn/showproblem.php?pid=1216</a></p>
<p>最开始题意理解错误，以为是求第n个素数，结果没通过样例。</p>
<p>理解题意后模拟就可以了，但是需要估计第3000个数有多大。</p>
<p>百度发现小于10e5的素数有9592个，所以猜测这道题要求的第3000个数不超过10e5。</p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
 #include&lt;iostream&gt;
 #include&lt;string.h&gt;
 #include&lt;stdlib.h&gt;
 #include&lt;math.h&gt;
 #include&lt;map&gt;
 #include&lt;stack&gt;
 #include&lt;queue&gt;
 #include&lt;algorithm&gt;
 #define mem(a,b) memset(a,b,sizeof(a))
 #define MAX(a,b) ((a)&gt;(b)?(a):(b))
 #define MIN(a,b) ((a)&lt;(b)?(a):(b))
 #define INF 0x3f3f3f3f
 #pragma comment(linker, "/STACK:102400000,102400000")
 using namespace std;
 
 int vis[1000009];
 int prime[10000];
 int cc = 0;
 
 void init() {
     int i;
     mem(vis, -1);
     cc = 1;
     for(i = 2; ; i++) {
         if(vis[i] == -1) {
             prime[cc++] = i;
             if(cc &gt; 3000) {
                 break;
             }
             vis[i] = 1;
             int cnt = 0;
             for(int j = i + 1; j &lt;= 100000; j++) {
                 cnt -= vis[j];
                 if(cnt == i) {
                     cnt = 0;
                     vis[j] = 0;
                 }
             }
         }
     }
 }
 
 int main() {
 #ifndef ONLINE_JUDGE
     freopen("E:/ACMData.txt","r",stdin);
 #endif
     int n;
     init();
     while(cin&gt;&gt;n, n) {
         cout&lt;&lt;prime[n]&lt;&lt;endl;
     }
     return 0;
 }</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-11688">
<article class="comment" id="comment-11688">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11688" rel="nofollow"><time datetime="2015-04-24T08:49:53+00:00" pubdate="">2015年4月24日 at 上午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>
	welcome!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11687">
<article class="comment" id="comment-11687">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11687" rel="nofollow"><time datetime="2015-03-14T16:41:59+00:00" pubdate="">2015年3月14日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++语言的代码？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11689">
<article class="comment" id="comment-11689">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11689" rel="nofollow"><time datetime="2015-03-13T23:26:01+00:00" pubdate="">2015年3月13日 at 下午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11676">
<article class="comment" id="comment-11676">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11676" rel="nofollow"><time datetime="2014-12-28T21:47:03+00:00" pubdate="">2014年12月28日 at 下午9:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11684">
<article class="comment" id="comment-11684">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11684" rel="nofollow"><time datetime="2014-11-25T05:51:29+00:00" pubdate="">2014年11月25日 at 上午5:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11682">
<article class="comment" id="comment-11682">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11682" rel="nofollow"><time datetime="2014-10-20T14:36:55+00:00" pubdate="">2014年10月20日 at 下午2:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>必须试过啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11686">
<article class="comment" id="comment-11686">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11686" rel="nofollow"><time datetime="2014-10-13T06:06:28+00:00" pubdate="">2014年10月13日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11680">
<article class="comment" id="comment-11680">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11680" rel="nofollow"><time datetime="2014-09-23T10:37:05+00:00" pubdate="">2014年9月23日 at 上午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11681">
<article class="comment" id="comment-11681">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11681" rel="nofollow"><time datetime="2014-08-24T17:32:02+00:00" pubdate="">2014年8月24日 at 下午5:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11678">
<article class="comment" id="comment-11678">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11678" rel="nofollow"><time datetime="2014-07-15T01:37:55+00:00" pubdate="">2014年7月15日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题答案确实应该是A。文中已修改，感谢一楼的提醒！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11677">
<article class="comment" id="comment-11677">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11677" rel="nofollow"><time datetime="2014-05-19T07:44:06+00:00" pubdate="">2014年5月19日 at 上午7:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然看懂了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11685">
<article class="comment" id="comment-11685">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11685" rel="nofollow"><time datetime="2014-03-30T03:39:47+00:00" pubdate="">2014年3月30日 at 上午3:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>3，求得所有的为的总和sum—-&gt;所有数的总和<br/>
printf( "Not Possible" );—-&gt;printf("impossible");<br/>
对吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11683">
<article class="comment" id="comment-11683">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11683" rel="nofollow"><time datetime="2014-02-13T15:26:59+00:00" pubdate="">2014年2月13日 at 下午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11679">
<article class="comment" id="comment-11679">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-1216-Assistance-Required-1579.html#comment-11679" rel="nofollow"><time datetime="2014-01-19T16:45:47+00:00" pubdate="">2014年1月19日 at 下午4:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>