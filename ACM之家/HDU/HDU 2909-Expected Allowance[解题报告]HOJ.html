<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-21</div>
<div class="tit"><h1 class="entry-title">HDU 2909-Expected Allowance[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观263次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4570" href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comments" title="《HDU 2909-Expected Allowance[解题报告]HOJ》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Expected Allowance</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Hideyuki is allowed by his father Ujisato some 1000 yen bills every month for his pocket money.In the first day of every month, the number of bills is decided as follows. Ujisato prepares n pieces of m-sided dice and declares the cutback k. Hideyuki rolls these dice. The number of bills given is the sum of the spots of the rolled dice decreased by the cutback. Fortunately to Hideyuki, Ujisato promises him to give at least one bill, even if the sum of the spots does not exceed the cutback. Each of the dice has spots of 1 through m inclusive on each side, and the probability of each side is the same.
<p>In this problem, you are asked to write a program that finds the expected value of the number of given bills.</p>
<p>For example, when n = 2, m = 6 and k = 3, the probabilities of the number of bills being 1,2, 3, 4, 5, 6, 7, 8 and 9 are<img src="http://www.acmerblog.com/img/1393166850720.jpg"/> ,respectively <br/>Therefore, the expected value is<img src="http://www.acmerblog.com/img/1393166850849.jpg"/><br/>which is approximately 4.11111111.. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input is a sequence of lines each of which contains three integers n, m and k in this order.<br/>They satisfy the following conditions.<br/>1 ≤ n<br/>2 ≤ m<br/>0 ≤ k &lt; nm<br/>nm × m^n &lt; 100000000 (10^8)<br/>The end of the input is indicated by a line containing three zeros. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input is a sequence of lines each of which contains three integers n, m and k in this order.<br/>They satisfy the following conditions.<br/>1 ≤ n<br/>2 ≤ m<br/>0 ≤ k &lt; nm<br/>nm × m^n &lt; 100000000 (10^8)<br/>The end of the input is indicated by a line containing three zeros.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 6 0
2 6 3
3 10 9
13 3 27
1 2008 3
0 0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
7.00000000
4.11111111
7.71000000
1.42902599
1001.50298805</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;algorithm&gt;
#include&lt;stdio.h&gt;
using namespace std;
const int N=100000;
int dp[2][N];
int main()
{
	int n,m,k;
	while(scanf("%d %d %d",&amp;n,&amp;m,&amp;k)!=EOF)
	{
		if(n==m&amp;&amp;m==k&amp;&amp;k==0)
			break;
		memset(dp,false,sizeof(dp));
		for(int i=1;i&lt;=m;i++)
			dp[1][i]=1;
		for(int i=2;i&lt;=n;i++)
		{
			for(int j=1;j&lt;=i*m;j++)
				for(int t=1;t&lt;=m;t++)
					dp[i&amp;1][j+t]+=dp[(i-1)&amp;1][j];
			memset(dp[(i-1)&amp;1],false,sizeof(dp[(i-1)&amp;1]));
		}
		double ans=0.0;
		int i,j;
		for(i=1;i&lt;=k+1;i++)
			ans+=dp[n&amp;1][i];
		j=2;
		while(i&lt;=n*m)
		{
			ans+=dp[n&amp;1][i]*j;
			i++;
			j++;
		}
		int tmp=1;
		i=1;
		while(i&lt;=n)
		{
			tmp=tmp*m;
			i++;
		}
		printf("%.8lf\n",ans/tmp);
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81434">
<article class="comment" id="comment-81434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81434" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81433">
<article class="comment" id="comment-81433">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81433" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81432">
<article class="comment" id="comment-81432">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81432" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81431">
<article class="comment" id="comment-81431">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81431" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81430">
<article class="comment" id="comment-81430">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81430" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81429">
<article class="comment" id="comment-81429">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81429" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81428">
<article class="comment" id="comment-81428">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81428" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81427">
<article class="comment" id="comment-81427">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81427" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81426">
<article class="comment" id="comment-81426">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81426" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81425">
<article class="comment" id="comment-81425">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81425" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81424">
<article class="comment" id="comment-81424">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517958" rel="external nofollow">新用户454976</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-81424" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>/JKUYH][JP]HP]NH[</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25640">
<article class="comment" id="comment-25640">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-25640" rel="nofollow"><time datetime="2015-05-08T17:21:47+00:00" pubdate="">2015年5月8日 at 下午5:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46978">
<article class="comment" id="comment-46978">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-46978" rel="nofollow"><time datetime="2015-04-03T01:57:30+00:00" pubdate="">2015年4月3日 at 上午1:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62993">
<article class="comment" id="comment-62993">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-62993" rel="nofollow"><time datetime="2014-10-31T22:57:15+00:00" pubdate="">2014年10月31日 at 下午10:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46977">
<article class="comment" id="comment-46977">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-46977" rel="nofollow"><time datetime="2014-10-29T12:06:49+00:00" pubdate="">2014年10月29日 at 下午12:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25639">
<article class="comment" id="comment-25639">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-25639" rel="nofollow"><time datetime="2014-10-21T12:31:48+00:00" pubdate="">2014年10月21日 at 下午12:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62992">
<article class="comment" id="comment-62992">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-62992" rel="nofollow"><time datetime="2014-09-16T04:44:40+00:00" pubdate="">2014年9月16日 at 上午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒。代码又编辑了一下</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57610">
<article class="comment" id="comment-57610">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-57610" rel="nofollow"><time datetime="2014-09-06T03:45:31+00:00" pubdate="">2014年9月6日 at 上午3:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46975">
<article class="comment" id="comment-46975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-46975" rel="nofollow"><time datetime="2014-08-10T08:53:41+00:00" pubdate="">2014年8月10日 at 上午8:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>样例输出和程序输出不吻合，修改一下样例输出吧。我用的是VC编译器，会提示我的i和j变量重复定义</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46976">
<article class="comment" id="comment-46976">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-46976" rel="nofollow"><time datetime="2014-06-06T09:21:18+00:00" pubdate="">2014年6月6日 at 上午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++编译的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25641">
<article class="comment" id="comment-25641">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-2909-expected-allowance-4570.html#comment-25641" rel="nofollow"><time datetime="2014-04-02T09:42:19+00:00" pubdate="">2014年4月2日 at 上午9:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>