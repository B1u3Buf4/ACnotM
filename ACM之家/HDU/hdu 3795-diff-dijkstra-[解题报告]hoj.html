<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-13</div>
<div class="tit"><h1 class="entry-title">hdu 3795-diff-dijkstra-[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/graph/shortest-path" rel="category tag" title="查看最短路径中的全部文章">最短路径</a></span><span class="i4">围观474次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6799" href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comments" title="《hdu 3795-diff-dijkstra-[解题报告]hoj》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<h1 style="color:rgb(26,92,200); text-align:center; font-family:'Times New Roman'">
<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3790" target="_blank">最短路径问题</a></h1>
<p><span style="font-family:'Times New Roman'; font-size:14px"><strong><span style="font-family:Arial; font-size:12px; color:green">Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)<br/>
Total Submission(s): 9598    Accepted Submission(s): 2927</span></strong></span><br style="font-family:'Times New Roman'; font-size:14px"/></p>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Problem Description</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
给你n个点，m条无向边，每条边都有长度d和花费p，给你起点s终点t，要求输出起点到终点的最短距离及其花费，如果最短距离有多条路线，则输出花费最少的。</div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
输入n,m，点的编号是1~n,然后是m行，每行4个数 a,b,d,p，表示a和b之间有一条边，且其长度为d，花费为p。最后一行是两个数 s,t;起点s，终点。n和m为0时输入结束。<br/>
(1&lt;n&lt;=1000, 0&lt;m&lt;100000, s != t)</div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
输出 一行有两个数， 最短距离及其花费。</div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Input</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">3 2
1 2 5 6
2 3 4 5
1 3
0 0</div></pre>
</div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Sample Output</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<pre style="margin-top:0px; margin-bottom:0px"><div style="font-family:'Courier New',Courier,monospace">9 11</div></pre>
</div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Source</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
<a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=%D5%E3%B4%F3%BC%C6%CB%E3%BB%FA%D1%D0%BE%BF%C9%FA%B8%B4%CA%D4%C9%CF%BB%FA%BF%BC%CA%D4-2010%C4%EA&amp;source=1&amp;searchmode=source" style="color:rgb(26,92,200); text-decoration:none" target="_blank">浙大计算机研究生复试上机考试-2010年</a></div>
<div align="left" class="panel_title" style="height:38px; background-color:transparent; padding:0px 14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
Recommend</div>
<div class="panel_content" style="height:auto; margin:0px; padding:0px 20px; font-size:14px; font-family:'Times New Roman'">
notonlysuccess   |   We have carefully selected several similar problems for you:  <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1217" style="color:rgb(26,92,200); text-decoration:none" target="_blank">1217</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1142" style="color:rgb(26,92,200); text-decoration:none" target="_blank">1142</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1548" style="color:rgb(26,92,200); text-decoration:none" target="_blank">1548</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1598" style="color:rgb(26,92,200); text-decoration:none" target="_blank">1598</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1162" style="color:rgb(26,92,200); text-decoration:none" target="_blank">1162</a> </div>
<div><span style="font-size:14px">思路:</span></div>
<div><span style="font-size:14px">　　这是一个稍稍改变之后的Dijkstra算法,重点是关注中间代码的变化即可,其它都是Dijkstra算法的标准实现方式.</span></div>
<pre class="brush:cpp" code_snippet_id="160047" name="code" snippet_file_name="blog_20140117_1_4613093">#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

const int INF = 0x7f7f7f7f;
const int MAX = 1010;

bool visited[MAX];
int map[MAX][MAX];
int value[MAX][MAX];
int cost[MAX];
int dist[MAX];
//int prec[MAX];
int n,m,s,t,dis,cos;

void Dijkstra()
{
	int i,min,v;
	memset(dist,0x7f,sizeof(dist));
	memset(visited,false,sizeof(visited));
	dist[s] = 0;

	while(true)
	{
		min = INF, v = s;
		for (i=0; i&lt;n; ++i)
		{
			if (!visited[i] &amp;&amp; dist[i] &lt; min)
				min = dist[i], v = i;
		}

		if (min == INF)
			break;
		visited[v] = true;
		for (i=0; i &lt; n; ++i)
		{
			if (!visited[i] &amp;&amp; map[v][i] &lt; INF)
			{
				if (dist[v] + map[v][i] &lt; dist[i])
				{
					dist[i] = dist[v] + map[v][i];
					cost[i] = cost[v] + value[v][i];
				}
				else if (dist[v] + map[v][i] == dist[i] &amp;&amp; cost[v] + value[v][i] &lt; cost[i])
					cost[i] = cost[v] + value[v][i];
			}
		}
	}
}
/*
void print(int v)
{
	if ( v != s )
		print(prec[v]);
	cout &lt;&lt; v &lt;&lt; ' ';
}*/
int main()
{
	int i,x,y;
	while(cin &gt;&gt; n &gt;&gt; m &amp;&amp; !(n==0&amp;&amp;m==0))
	{
		memset(map,0x7f,sizeof(map));
		memset(value,0x7f,sizeof(value));	//debug
		memset(cost,0,sizeof(cost));

		for ( i = 0; i &lt; m; ++i )
		{
			cin &gt;&gt; x &gt;&gt; y &gt;&gt; dis &gt;&gt; cos;
			--x,--y;
			if ( dis &lt; map[x][y] )
			{
				map[x][y] = map[y][x] = dis;
				value[x][y] = value[y][x] = cos;
			}
			else if ( dis == map[x][y] &amp;&amp; cos &lt; value[x][y] )
				value[x][y] = value[y][x] = cos;
		}
		cin &gt;&gt; s &gt;&gt; t;
		--s,--t;
		Dijkstra();
		cout &lt;&lt; dist[t] &lt;&lt; " " &lt;&lt; cost[t] &lt;&lt; endl;
	}
	return 0;
}</pre>
</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-33859">
<article class="comment" id="comment-33859">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33859" rel="nofollow"><time datetime="2015-07-02T05:24:17+00:00" pubdate="">2015年7月2日 at 上午5:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64025">
<article class="comment" id="comment-64025">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-64025" rel="nofollow"><time datetime="2015-07-01T14:15:44+00:00" pubdate="">2015年7月1日 at 下午2:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>helpful！！ mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33852">
<article class="comment" id="comment-33852">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33852" rel="nofollow"><time datetime="2015-07-01T06:14:41+00:00" pubdate="">2015年7月1日 at 上午6:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33854">
<article class="comment" id="comment-33854">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33854" rel="nofollow"><time datetime="2015-06-14T14:02:30+00:00" pubdate="">2015年6月14日 at 下午2:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33861">
<article class="comment" id="comment-33861">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ktcer</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33861" rel="nofollow"><time datetime="2015-06-13T15:02:58+00:00" pubdate="">2015年6月13日 at 下午3:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此网站甚是喜欢，潜力巨大，请问站长，如何加入开发团队~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59663">
<article class="comment" id="comment-59663">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-59663" rel="nofollow"><time datetime="2015-06-08T12:17:28+00:00" pubdate="">2015年6月8日 at 下午12:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33857">
<article class="comment" id="comment-33857">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33857" rel="nofollow"><time datetime="2015-06-05T00:42:41+00:00" pubdate="">2015年6月5日 at 上午12:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33855">
<article class="comment" id="comment-33855">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33855" rel="nofollow"><time datetime="2015-05-29T01:38:43+00:00" pubdate="">2015年5月29日 at 上午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33862">
<article class="comment" id="comment-33862">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33862" rel="nofollow"><time datetime="2015-05-16T02:23:26+00:00" pubdate="">2015年5月16日 at 上午2:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了，你试过了吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33853">
<article class="comment" id="comment-33853">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33853" rel="nofollow"><time datetime="2015-05-12T10:26:50+00:00" pubdate="">2015年5月12日 at 上午10:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33863">
<article class="comment" id="comment-33863">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33863" rel="nofollow"><time datetime="2015-05-11T22:24:00+00:00" pubdate="">2015年5月11日 at 下午10:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>加了星号 (*) 表示跳过此数据不读入. 因为scanf是不读取本行回车的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33858">
<article class="comment" id="comment-33858">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33858" rel="nofollow"><time datetime="2015-05-08T19:53:57+00:00" pubdate="">2015年5月8日 at 下午7:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33856">
<article class="comment" id="comment-33856">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33856" rel="nofollow"><time datetime="2015-04-17T10:56:59+00:00" pubdate="">2015年4月17日 at 上午10:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了，你试过了吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33860">
<article class="comment" id="comment-33860">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/hdu-3795-diff-6799.html#comment-33860" rel="nofollow"><time datetime="2015-04-15T04:53:11+00:00" pubdate="">2015年4月15日 at 上午4:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>