<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-17</div>
<div class="tit"><h1 class="entry-title">HDU 2834-Girl Friend II[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观366次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4477" href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comments" title="《HDU 2834-Girl Friend II[解题报告]HOJ》上的评论">23 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Girl Friend II</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
After a long time of effort, RoBa still keeps single. He finds that all the girls are so hard to understand. They can become happy in one minute, and then get angry in the next. What’s more, what they do is usually quite different from what they think! 
<p>As an algorithmic geek, RoBa builds a probability model to study a girl’s behavior. That is, there are N kinds of inner states for one girl. At the beginning, the girl can be at state i with probability Si. Then at every minute after that, the girl’s state can be changed from state i to state j with probability Pij. Of course, S1+S2+…+SN = 100 (in percent), and for all the i, Pi1+Pi2+…+PiN=100</p>
<p>And that’s still not practical enough. RoBa knows that he cannot see the inner state of a girl directly, but can only see her outer behavior. There are M kinds of behaviors, and when a girl is at state i, she will take behavior k with probability Aik. And again, for all the i, Ai1+Ai2+…+AiM=100</p>
<p>Now, given a sequence of a girl’s outer behavior and all the probabilities describe above (we don’t know how RoBa get them!), can you help him to find out the girl’s most probable inner state sequence?<br/></p><center><img src="http://www.acmerblog.com/img/1392909508017.jpg"/></center><br/>For example, as the figure above described, RoBa observes a girl for three minutes, and the behavior sequence is laugh -&gt; Silent -&gt; Silent. Then the poor boy wants to guess the girl’s real state. Let’s suppose he make a guess that the girl’s inner state sequence is happy -&gt; sad -&gt; happy. With the probabilities above, he can find its possibility is SHappy * AHappy,Laugh * PHappy,Sad * ASad,Silent * PSad,Happy * AHappy,Silent. So RoBa can calculate the possibility of all the inner state sequence, for example, sad-&gt;sad-&gt;happy, happy-&gt;happy-&gt;happy, and so on. Then he just simply picks the sequence with the highest possibility as the answer. Of course, this will cost too much time, so RoBa need a more clever algorithm to achieve the same result.
<p>To be more formally, given a girl’s outer behavior sequence (B1, B2, … BT), it is natural that the possibility of a girl’s inner sequence (C1, C2, … CT) is <br/></p><center><img src="http://www.acmerblog.com/img/1392909508185.jpg"/></center><br/>Don’t be scared of the formula above, it just describe our intuition precisely. This problem is not such difficult as it seems, believe me . </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases in the input. 
<p>The first line of each test case contains N and M, (1 &lt;= N, M &lt;= 50), the second line contains N numbers S1, S2, …, SN, that is, the probability of girl’s initial states. Then an N*N matrix follow, whose entry in the i-th row and j-th column is Pij, that is, the probability of the girl’s transition from state i to state j. Then an N*M matrix follow, whose entry in the i-th row and k-th column is Aik, that is, the probability of the girl’s behavior is k when she is at state i. As the definition, the sum of each row of the two matrices is 100, and every entry in the matrices is an integer in the range [0,100]. And the last line begins with an integer T (1 &lt;= T &lt;= 50), indicating the observe time of RoBa, then T integers follow, indicating the girls outer behavior sequence. All the T integers are in the range [1..M].</p>
<p>You can assume the observation sequence is always possible in the input, that is, with probability greater than 0. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test cases in the input. 
<p>The first line of each test case contains N and M, (1 &lt;= N, M &lt;= 50), the second line contains N numbers S1, S2, …, SN, that is, the probability of girl’s initial states. Then an N*N matrix follow, whose entry in the i-th row and j-th column is Pij, that is, the probability of the girl’s transition from state i to state j. Then an N*M matrix follow, whose entry in the i-th row and k-th column is Aik, that is, the probability of the girl’s behavior is k when she is at state i. As the definition, the sum of each row of the two matrices is 100, and every entry in the matrices is an integer in the range [0,100]. And the last line begins with an integer T (1 &lt;= T &lt;= 50), indicating the observe time of RoBa, then T integers follow, indicating the girls outer behavior sequence. All the T integers are in the range [1..M].</p>
<p>You can assume the observation sequence is always possible in the input, that is, with probability greater than 0.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 2
50 50
50 50
50 50
50 50
50 50
2 1 2

2 2
0 100
50 50
49 51
50 50
50 50
2 1 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 1
2 2
<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
Hint: The first case indicating a rather “random” girl, all the initial states, transition, and behavior are of equal possibility, 
so the four possible inner state sequences 1-1, 1-2, 2-1, 2-2 are of equal possibility. In the second case, the girl is at state 2 definitely at the beginning. 
Then there is a little bigger chance to change to state 2 than state 1, so the sequence 2-2 is more possible than 2-1. 
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp "># include &lt;stdio.h&gt;
# include &lt;string.h&gt;

# define For(i, n) for(i=0; i&lt;(n); i++)

const int N = 64;

double P[N][N];
double A[N][N];
int out[N];
int t;
double s[N];
int n, m;
double dp[N][N];
double dpx[N][N];
int pre[N][N];
int ppt[N];

void read()
{
 int i, j;
 For(i, n)
 scanf("%lf", &amp;s[i]);
 For(i, n)
 For(j, n)
 scanf("%lf", &amp;P[i][j]);
 For(i, n)
 For(j, m)
 scanf("%lf", &amp;A[i][j]);
 For(i, n)
 {
 s[i] /= 100;
 For(j, n)
 P[i][j] /= 100, A[i][j] /= 100;
 }
 scanf("%d", &amp;t);
 For(i, t)
 scanf("%d", &amp;out[i]);
 For(i, t)
 out[i] -= 1;
}

void doit()
{
 memset(dpx, 0, sizeof(dpx));
 int i, j, k;
 double tmp;
 For(j, n)
 {
 dp[0][j] = s[j];
 dpx[0][j] = dp[0][j] * A[j][out[0]];
 }
 for (i = 1; i &lt; t; i++)
 {
 For(j, n)
 {
 For(k, n)
 {
 tmp = dpx[i - 1][k] * P[k][j] * A[j][out[i]];
 if (tmp &gt; dpx[i][j])
 {
 dpx[i][j] = tmp;
 dp[i][j] = dp[i - 1][k] * P[k][j];
 pre[i][j] = k;
 }
 }
 // printf("%d %d %.4f %.4f\n",i,j,dp[i][j],dpx[i][j]);
 }
 }

}

void pt()
{
 int i;
 int tmp;
 double mx = 0;
 For(i, n)
 if (dpx[t - 1][i] &gt; mx)
 {
 mx = dpx[t - 1][i];
 tmp = i;
 }
 ppt[t - 1] = tmp;
 for (i = n-1; i &gt; 0; i--)
 {
 ppt[i - 1] = pre[i][tmp];
 tmp = ppt[i - 1];
 }
 For(i, t)
 {
 if (i)
 putchar(' ');
 printf("%d", ppt[i] + 1);
 }
 puts("");
}

int main()
{

 while (2 == scanf("%d %d", &amp;n, &amp;m))
 {
 read();
 doit();
 pt();
 }
 return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81905">
<article class="comment" id="comment-81905">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81905" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81904">
<article class="comment" id="comment-81904">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81904" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81903">
<article class="comment" id="comment-81903">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81903" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81902">
<article class="comment" id="comment-81902">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81902" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81901">
<article class="comment" id="comment-81901">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81901" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81900">
<article class="comment" id="comment-81900">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81900" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81899">
<article class="comment" id="comment-81899">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81899" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81898">
<article class="comment" id="comment-81898">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81898" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81897">
<article class="comment" id="comment-81897">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514657" rel="external nofollow">新用户683220</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-81897" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent website…the time to read or visit the content or sites we have linked to below the…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46688">
<article class="comment" id="comment-46688">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-46688" rel="nofollow"><time datetime="2015-04-23T09:04:22+00:00" pubdate="">2015年4月23日 at 上午9:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46691">
<article class="comment" id="comment-46691">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-46691" rel="nofollow"><time datetime="2015-03-20T15:20:00+00:00" pubdate="">2015年3月20日 at 下午3:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哎，path[0]应该是从零开始吧，为什么是赋值1呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25037">
<article class="comment" id="comment-25037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25037" rel="nofollow"><time datetime="2015-03-08T06:58:21+00:00" pubdate="">2015年3月8日 at 上午6:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62928">
<article class="comment" id="comment-62928">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wizcabbit</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-62928" rel="nofollow"><time datetime="2015-01-15T01:02:40+00:00" pubdate="">2015年1月15日 at 上午1:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46690">
<article class="comment" id="comment-46690">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-46690" rel="nofollow"><time datetime="2015-01-08T19:27:02+00:00" pubdate="">2015年1月8日 at 下午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25041">
<article class="comment" id="comment-25041">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25041" rel="nofollow"><time datetime="2014-11-24T16:43:41+00:00" pubdate="">2014年11月24日 at 下午4:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://beeder.me" rel="nofollow">http://beeder.me</a> 这个网站上有很多poj和hihoCoder的题解，质量不错，欢迎转载。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25040">
<article class="comment" id="comment-25040">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25040" rel="nofollow"><time datetime="2014-11-06T04:10:45+00:00" pubdate="">2014年11月6日 at 上午4:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25034">
<article class="comment" id="comment-25034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25034" rel="nofollow"><time datetime="2014-10-13T19:35:11+00:00" pubdate="">2014年10月13日 at 下午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>处凡愚而不减，在圣贤而不增；<br/>住烦恼而不乱，居禅定而不寂。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25039">
<article class="comment" id="comment-25039">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25039" rel="nofollow"><time datetime="2014-09-28T09:15:36+00:00" pubdate="">2014年9月28日 at 上午9:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Good task for the group. Hold it up for every yeara??s winner. This is a excellent oppotunity for a lot more enhancement. Indeed, obtaining far better and much better is constantly the crucial. Just like my pal suggests on the truth about ab muscles, he just keeps obtaining much better.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62929">
<article class="comment" id="comment-62929">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-62929" rel="nofollow"><time datetime="2014-09-13T21:26:49+00:00" pubdate="">2014年9月13日 at 下午9:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;algorithm&gt;</p>
<p>struct LWPair{<br/>
    int l,w;<br/>
};</p>
<p>int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    const int MAXSIZE=5000, MAXVAL=10000;<br/>
    LWPair sticks[MAXSIZE];<br/>
    int store[MAXSIZE];<br/>
    int ncase, nstick, length,width, tmp, time, i,j;<br/>
    if(scanf("%d",&amp;ncase)!=1) return -1;<br/>
    while(ncase– &amp;&amp; scanf("%d",&amp;nstick)==1) {<br/>
        for(i=0;i&lt;nstick;++i) scanf("%d%d",&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .l,&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w);<br/>
        std::sort(sticks,sticks+nstick,[](const LWPair &amp;lhs, const LWPair &amp;rhs) { return lhs.l&gt;rhs.l || lhs.l==rhs.l &amp;&amp; lhs.w&gt;rhs.w; });<br/>
        for(time=-1,i=0;i&lt;nstick;++i) {<br/>
            tmp=sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w;<br/>
            for(j=time;j&gt;=0 &amp;&amp; store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> &gt;=tmp;–j) ; // search from right to left<br/>
            if(j==time) { store[++time]=tmp; }<br/>
            else { store[j+1]=tmp; }<br/>
        }<br/>
        printf("%dn",time+1);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25035">
<article class="comment" id="comment-25035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25035" rel="nofollow"><time datetime="2014-08-23T08:26:14+00:00" pubdate="">2014年8月23日 at 上午8:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>书上的解法更巧妙一些，在九度OJ实测的效率差不多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46689">
<article class="comment" id="comment-46689">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-46689" rel="nofollow"><time datetime="2014-07-27T20:49:57+00:00" pubdate="">2014年7月27日 at 下午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不需要输出，只要函数返回值正确就行</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25038">
<article class="comment" id="comment-25038">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25038" rel="nofollow"><time datetime="2014-04-17T10:35:25+00:00" pubdate="">2014年4月17日 at 上午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25036">
<article class="comment" id="comment-25036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">haojunyu</a></span> on <a href="http://www.acmerblog.com/hdu-2834-girl-friend-ii-4477.html#comment-25036" rel="nofollow"><time datetime="2014-04-13T03:57:43+00:00" pubdate="">2014年4月13日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>