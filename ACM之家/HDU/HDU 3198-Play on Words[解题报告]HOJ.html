<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-06</div>
<div class="tit"><h1 class="entry-title">HDU 3198-Play on Words[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观453次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5031" href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comments" title="《HDU 3198-Play on Words[解题报告]HOJ》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Play on Words</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
  Detective Liu recently got his eye on someone suspicious and also he got a letter from the guy. Detective Liu has his own method to judge whether a person was evil. He got a list words, which was collected during the years he worked. Those are the words that the evils often used. <br/>  Here comes your task. Give a list of the “evil” words and another word; you are going to find the “evilness” of it. The “evilness” of the word is defined by the times that it appears in the list. If A is evil under the word B, then every letter of A should appear in B in order but could leave some of B unmatched. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line give M (10 &lt;= M &lt;= 5000), the number of the evil words.<br/>Then M lines follows, which is the evil words each in one line, at most 20 characters, all lowercase. <br/>Next comes N (1 &lt;= N &lt;= 1000) stand for the number of query words.<br/>Then comes the query words with the same constraints. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line give M (10 &lt;= M &lt;= 5000), the number of the evil words.<br/>Then M lines follows, which is the evil words each in one line, at most 20 characters, all lowercase. <br/>Next comes N (1 &lt;= N &lt;= 1000) stand for the number of query words.<br/>Then comes the query words with the same constraints.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
hello
summer
goodbye
1
good</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stack&gt;
#include &lt;queue&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;sstream&gt;

using namespace std;

typedef long long ll;

#define REP(i,s,t) for(int i=(s);i&lt;(t);i++)
#define FORST(X,S,T) for(int X=(S); X&lt;=(T); X++)  
#define RFORST(X,S,T) for(int X=(S); X&gt;=(T); X--)  
#define FOR(X,XB) for(int X=0; X&lt;(XB); X++)
#define RFOR(X,XB) for(int X=(XB)-1; X&gt;=0; X--)
#define FOREACH(i,v) for(typeof((v).begin()) i=(v).begin();i!=(v).end();i++)
#define FILL(x,v) memset(x,v,sizeof(x))
const int INF = (int)1E9;
#define MAXN 1005

int N;
char buf[MAXN];
int odeg[26], ideg[26];
bool g[26][26], v[26], h[26];
void dfs(int k){
	v[k] = 1;
	REP(i,0,26) if(g[k][i] &amp;&amp; !v[i]) dfs(i);
}
int main(){
	int cs;
	cin &gt;&gt; cs;
	while(cs--){
		int st;
		scanf("%d", &amp;N);
		FILL(odeg,0); FILL(ideg,0); FILL(g,0); FILL(h,0);
		REP(i,0,N){
			scanf("%s", buf);
			int l = strlen(buf);
			int c0 = buf[0]-'a', cl = buf[l-1]-'a';
			odeg[c0]++; ideg[cl]++;
			g[c0][cl] = 1;
			h[c0] = h[cl] = 1;
			st = c0;
		}
		bool ok = 1;
		int ii=0, oo=0;
		REP(i,0,26){
			if(ideg[i]!=odeg[i]){
				if(ideg[i]==odeg[i]+1) ii++;
				else if(odeg[i]==ideg[i]+1) { oo++; st = i; }
				else{ ok = 0; break; }
			}
		}
		if(ok &amp;&amp; (ii==1 &amp;&amp; oo==1 || ii==0 &amp;&amp; oo==0)){
			FILL(v,0);
			dfs(st);
			REP(i,0,26) if(h[i] &amp;&amp; !v[i]) { ok = 0; break; }
		}else ok = 0;
		if(ok) puts("Ordering is possible.");
		else puts("The door cannot be opened.");
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78503">
<article class="comment" id="comment-78503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78503" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78502">
<article class="comment" id="comment-78502">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78502" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-78501">
<article class="comment" id="comment-78501">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78501" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78500">
<article class="comment" id="comment-78500">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78500" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-78499">
<article class="comment" id="comment-78499">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78499" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78498">
<article class="comment" id="comment-78498">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520122" rel="external nofollow">新用户765270</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-78498" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>情节似乎略中二</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-48004">
<article class="comment" id="comment-48004">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-48004" rel="nofollow"><time datetime="2015-06-23T02:09:02+00:00" pubdate="">2015年6月23日 at 上午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27903">
<article class="comment" id="comment-27903">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27903" rel="nofollow"><time datetime="2015-05-05T02:22:25+00:00" pubdate="">2015年5月5日 at 上午2:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58084">
<article class="comment" id="comment-58084">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-58084" rel="nofollow"><time datetime="2015-04-10T11:36:07+00:00" pubdate="">2015年4月10日 at 上午11:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-48003">
<article class="comment" id="comment-48003">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-48003" rel="nofollow"><time datetime="2015-03-02T14:21:28+00:00" pubdate="">2015年3月2日 at 下午2:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27908">
<article class="comment" id="comment-27908">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27908" rel="nofollow"><time datetime="2015-02-19T17:45:14+00:00" pubdate="">2015年2月19日 at 下午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27904">
<article class="comment" id="comment-27904">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bob</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27904" rel="nofollow"><time datetime="2015-02-17T18:09:48+00:00" pubdate="">2015年2月17日 at 下午6:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Good task for the group. Hold it up for every yeara??s winner. This is a excellent oppotunity for a lot more enhancement. Indeed, obtaining far better and much better is constantly the crucial. Just like my pal suggests on the truth about ab muscles, he just keeps obtaining much better.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27902">
<article class="comment" id="comment-27902">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27902" rel="nofollow"><time datetime="2015-02-07T10:54:47+00:00" pubdate="">2015年2月7日 at 上午10:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主，你这个是wordpress哪个主题啊，不错哦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58085">
<article class="comment" id="comment-58085">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-58085" rel="nofollow"><time datetime="2015-02-01T11:49:14+00:00" pubdate="">2015年2月1日 at 上午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>贴的有些代码的头文件不见了，这是为啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27907">
<article class="comment" id="comment-27907">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vincent_ynh</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27907" rel="nofollow"><time datetime="2014-11-08T09:11:16+00:00" pubdate="">2014年11月8日 at 上午9:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个 。。。。不是动态规划吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27906">
<article class="comment" id="comment-27906">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27906" rel="nofollow"><time datetime="2014-10-26T20:35:31+00:00" pubdate="">2014年10月26日 at 下午8:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不需要输出，只要函数返回值正确就行</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27905">
<article class="comment" id="comment-27905">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27905" rel="nofollow"><time datetime="2014-09-18T02:53:01+00:00" pubdate="">2014年9月18日 at 上午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果两个序列的最后字符不匹配（即X [M-1]！= Y [N-1]）<br/>
L（X [0 .. M-1]，Y [0 .. N-1]）= MAX（L（X [0 .. M-2]，Y [0 .. N-1]），L（X [0 .. M-1]，Y [0 .. N-1]）<br/>
这里写错了吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58083">
<article class="comment" id="comment-58083">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-58083" rel="nofollow"><time datetime="2014-09-08T07:14:49+00:00" pubdate="">2014年9月8日 at 上午7:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>a是根先忽略掉，递归子树。剩下前缀bejkcfghid和后缀jkebfghicd，分拆的原则的是每个子树前缀和后缀的节点个数是一样的，根节点出现在前缀的第一个，后缀的最后一个。根节点b出现后缀的第四个位置，则第一部分为四个节点，前缀bejk，后缀jkeb，剩下的c出现在后缀的倒数第2个，就划分为cfghi和 fghic，第3部分就为c、c</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27901">
<article class="comment" id="comment-27901">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-27901" rel="nofollow"><time datetime="2014-07-13T06:32:55+00:00" pubdate="">2014年7月13日 at 上午6:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63228">
<article class="comment" id="comment-63228">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/hdu-3198-play-on-words-5031.html#comment-63228" rel="nofollow"><time datetime="2014-06-15T10:36:52+00:00" pubdate="">2014年6月15日 at 上午10:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>