<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>05-23</div>
<div class="tit"><h1 class="entry-title">HDU 4248-A Famous Stone Collector-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观135次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7261" href="http://www.acmerblog.com/hdu-4248-a-famous-stone-collector-7261.html#comments" title="《HDU 4248-A Famous Stone Collector-动态规划-[解题报告]HOJ》上的评论">一条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">A Famous Stone Collector</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Mr. B loves to play with colorful stones. There are n colors of stones in his collection. Two stones with the same color are indistinguishable. Mr. B would like to <br/>select some stones and arrange them in line to form a beautiful pattern. After several arrangements he finds it very hard for him to enumerate all the patterns. So he asks you to write a program to count the number of different possible patterns. Two patterns are considered different, if and only if they have different number of stones or have different colors on at least one position. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each test case starts with a line containing an integer n indicating the kinds of stones Mr. B have. Following this is a line containing n integers – the number of <br/>available stones of each color respectively. All the input numbers will be nonnegative and no more than 100. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Each test case starts with a line containing an integer n indicating the kinds of stones Mr. B have. Following this is a line containing n integers – the number of <br/>available stones of each color respectively. All the input numbers will be nonnegative and no more than 100.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1 1 1
2
1 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 15
Case 2: 8

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
In the first case, suppose the colors of the stones Mr. B has are B, G and M, the different patterns Mr. B can form are: B; G; M; BG; BM; GM; GB; MB; MG; 
BGM; BMG; GBM; GMB; MBG; MGB.
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p><span style="font-size:18px">题目大意：给n堆不同颜色的石头，给定每堆石子的数量，问，能够组成多少串满足：</span></p>
<p><span style="font-size:18px"><span style="font-family:'Times New Roman'; text-align:left">Two patterns are considered different, if and only if they have different number of stones or have different colors on at least one position.</span><br/>
</span></p>
<p><span style="font-size:18px"><span style="font-family:'Times New Roman'; text-align:left">解题思路：开始的时候没有思路，想各种组合数学知识，最后，突发奇想，会不会是dp??对，就是dp</span></span></p>
<p><span style="font-size:18px"><span style="font-family:'Times New Roman'; text-align:left">dp[i][j] 表示前i堆石子构成长度为j的串的方案数；</span></span></p>
<p><span style="text-align:left"><span style="font-size:18px"><span style="font-family:Times New Roman">状态转移方程是：k为i堆使用的数量</span></span></span></p>
<pre style="font-family:'Courier New',Courier,monospace; white-space:pre-wrap; word-wrap:break-word; font-size:14px">dp<span style="color:rgb(139,0,0)">[</span>i<span style="color:rgb(139,0,0)">][</span>j<span style="color:rgb(139,0,0)">]</span> <span style="color:rgb(139,0,0)">=</span> <span style="color:rgb(139,0,0)">(</span>dp<span style="color:rgb(139,0,0)">[</span>i<span style="color:rgb(139,0,0)">][</span>j<span style="color:rgb(139,0,0)">]</span> <span style="color:rgb(139,0,0)">+</span> dp<span style="color:rgb(139,0,0)">[</span>i<span style="color:purple">-1</span><span style="color:rgb(139,0,0)">][</span>j<span style="color:rgb(139,0,0)">-</span>k<span style="color:rgb(139,0,0)">]</span> <span style="color:rgb(139,0,0)">*</span> C<span style="color:rgb(139,0,0)">[</span>j<span style="color:rgb(139,0,0)">][</span>k<span style="color:rgb(139,0,0)">]%</span>M<span style="color:rgb(139,0,0)">)%</span>M<span style="color:rgb(139,0,0)">;</span></pre>
<p><span style="font-size:18px"></span></p>
<pre style="font-family:'Courier New',Courier,monospace; white-space:pre-wrap; word-wrap:break-word; font-size:14px">ok问题解决，让我费了不少时间的是c[j][k]（组合数）不是很好想。</pre>
<pre style="font-family:'Courier New',Courier,monospace; white-space:pre-wrap; word-wrap:break-word; font-size:14px">code：</pre>
<pre style="font-family:'Courier New',Courier,monospace; white-space:pre-wrap; word-wrap:break-word; font-size:14px"></pre>
<pre class="brush:cpp" name="code">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;algorithm&gt;
using namespace std;
#define M 1000000007
long long dp[110][10010];
long long C[11000][110];
void cc()
{
    int i,j;
    C[0][0]=1;
    for(i=1;i&lt;10010;i++)
        for(j=0;j&lt;=100;j++)
            if(j == 0) C[i][j] = C[i-1][j];
            else C[i][j] = (C[i-1][j]+C[i-1][j-1])%M;
            //C[i][j]=(j==0) ? C[i-1][j] : ();
}
int main()
{
    cc();
    int n;
    int cas = 1;
    while(cin &gt;&gt; n)
    {
        memset(dp,0,sizeof(dp));
        dp[0][0] = 1;
        int sum = 0;
        for(int i = 1;i &lt;= n;i++)
        {
            int t;
            cin &gt;&gt; t;
            sum += t;
            for(int k = 0;k &lt;= t;k++)
                for(int j = k;j &lt;= sum;j++)
                    dp[i][j] = (dp[i][j] + dp[i-1][j-k] * C[j][k]%M)%M;
           
        }
        long long re = 0;
        for(int i = 1;i &lt;= sum;i++) re = (re + dp[n][i])%M;
        cout &lt;&lt; "Case " &lt;&lt; cas++&lt;&lt; ": " &lt;&lt; re &lt;&lt; "\n";
    }
    return 0;
}
</pre>
<pre style="font-family:'Courier New',Courier,monospace; white-space:pre-wrap; word-wrap:break-word; font-size:14px">
</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/wukonwukon/article/details/8160920</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-98963">
<article class="comment" id="comment-98963">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919462426" rel="external nofollow">新用户238855</a></span> on <a href="http://www.acmerblog.com/hdu-4248-a-famous-stone-collector-7261.html#comment-98963" rel="nofollow"><time datetime="2017-04-20T14:27:54+00:00" pubdate="">2017年4月20日 at 下午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>海绵宝宝到珊迪的家，就是这个装备</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>