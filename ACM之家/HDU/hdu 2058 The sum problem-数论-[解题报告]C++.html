<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-26</div>
<div class="tit"><h1 class="entry-title">hdu 2058 The sum problem-数论-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观894次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3156" href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comments" title="《hdu 2058 The sum problem-数论-[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The sum problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a sequence 1,2,3,……N, your job is to calculate all the possible sub-sequences that the sum of the sub-sequence is M. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input contains multiple test cases. each case contains two integers  N, M( 1 &lt;= N, M &lt;= 1000000000).input ends with N = M = 0. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Input contains multiple test cases. each case contains two integers  N, M( 1 &lt;= N, M &lt;= 1000000000).input ends with N = M = 0.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
20 10
50 30
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
[1,4]
[10,10]

[4,8]
[6,9]
[9,11]
[30,30]</pre>
<p> <!-- problem end --></p>
<h1 style="text-align:center">hdu 2058 解题报告 – The sum problem</h1>
<p><span style="color:#ff6600"><em>传送门：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2058" target="_blank">http://acm.hdu.edu.cn/showproblem.php?pid=2058</a></em></span></p>
<p><span style="font-size:14px"><br/>
</span></p>
<p><span style="font-size:14px">等差求和公式:</span></p>
<p><span style="font-size:14px">Sn=(a1+aN)*n/2<br/>
    =(a1+a1+d(n-1))*n/2<br/>
    =a1*n+d(n-1)*n/2;<br/>
因为此处公差d=1，所以Sn=a1*n+(n-1)*n/2,当从第一项开始算起时（因本题首项为1，即a1=1时），Sn=M时的项的个数n最多;<br/>
a1=1，现在又可化简为Sn=n+(n-1)*n/2=(n+1)n/2;<br/>
由题意得M=Sn,N为项的个数，则N&lt;=n(max)=sqrt(Sn*2)=sqrt(M*2);<br/>
因此原式M=Sn =a1*n+(n-1)n/2=a1*N+(N-1)N/2,可得a1*N=M-(N-1)N/2;<br/>
数据都已经全了，现在只要遍历n(max)以内项数中，Sn=M的个数即可。<br/>
那么如何判断Sn=M呢？也就是判断a1*N=Sn-(N-1)N/2;得到的a1*N这个数能否被N整除，因为整除的话，说明首项存在于序列</span></p>
<p>
</p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;math.h&gt;
int main(){
    int N,M;


    while(scanf("%d%d",&amp;N,&amp;M),N||M){
        int len = (int)sqrt(M*2.0);
        int a1_len=0;//首项a1与len的乘积
        
        for (;len&gt;0;len--){
            a1_len=M-(len-1)*len/2;//a1*N=M-(N+1)N/2;
            if(a1_len%len==0){
                printf("[%d,%d]\n",a1_len/len,a1_len/len+len-1);
            }
        }
        puts("");
    }


    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/lianqi15571/article/details/8835270</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-18778">
<article class="comment" id="comment-18778">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18778" rel="nofollow"><time datetime="2015-06-12T00:48:30+00:00" pubdate="">2015年6月12日 at 上午12:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我又来学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43801">
<article class="comment" id="comment-43801">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43801" rel="nofollow"><time datetime="2015-06-08T14:58:42+00:00" pubdate="">2015年6月8日 at 下午2:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力的文章，例子也非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18780">
<article class="comment" id="comment-18780">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18780" rel="nofollow"><time datetime="2015-05-22T18:06:22+00:00" pubdate="">2015年5月22日 at 下午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>We do not harbor that I couldn’t remove other individuals’ problems whenever this arrived at.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18782">
<article class="comment" id="comment-18782">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuyuedeyu</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18782" rel="nofollow"><time datetime="2015-04-06T08:32:11+00:00" pubdate="">2015年4月6日 at 上午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43798">
<article class="comment" id="comment-43798">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43798" rel="nofollow"><time datetime="2014-11-29T09:05:39+00:00" pubdate="">2014年11月29日 at 上午9:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉我好像很多都不会做。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43797">
<article class="comment" id="comment-43797">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43797" rel="nofollow"><time datetime="2014-10-24T07:21:50+00:00" pubdate="">2014年10月24日 at 上午7:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18781">
<article class="comment" id="comment-18781">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18781" rel="nofollow"><time datetime="2014-09-16T00:56:27+00:00" pubdate="">2014年9月16日 at 上午12:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18777">
<article class="comment" id="comment-18777">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18777" rel="nofollow"><time datetime="2014-07-11T06:03:59+00:00" pubdate="">2014年7月11日 at 上午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>afsasfasfasf</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43796">
<article class="comment" id="comment-43796">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43796" rel="nofollow"><time datetime="2014-06-15T16:35:36+00:00" pubdate="">2014年6月15日 at 下午4:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18783">
<article class="comment" id="comment-18783">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18783" rel="nofollow"><time datetime="2014-05-03T01:40:56+00:00" pubdate="">2014年5月3日 at 上午1:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43799">
<article class="comment" id="comment-43799">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43799" rel="nofollow"><time datetime="2014-04-19T12:28:09+00:00" pubdate="">2014年4月19日 at 下午12:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你指的哪个问题？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18779">
<article class="comment" id="comment-18779">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18779" rel="nofollow"><time datetime="2014-03-26T13:45:50+00:00" pubdate="">2014年3月26日 at 下午1:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18784">
<article class="comment" id="comment-18784">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-18784" rel="nofollow"><time datetime="2014-03-23T17:24:29+00:00" pubdate="">2014年3月23日 at 下午5:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用代码高亮的插件，再修改下css</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43800">
<article class="comment" id="comment-43800">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-2058-The-sum-problem-3156.html#comment-43800" rel="nofollow"><time datetime="2014-01-29T11:43:43+00:00" pubdate="">2014年1月29日 at 上午11:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>C语言版本的代码好像有点问题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>