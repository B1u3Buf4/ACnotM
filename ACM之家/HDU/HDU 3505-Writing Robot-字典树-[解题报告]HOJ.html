<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>04-09</div>
<div class="tit"><h1 class="entry-title">HDU 3505-Writing Robot-字典树-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/string" rel="category tag" title="查看字符串处理中的全部文章">字符串处理</a>, <a href="http://www.acmerblog.com/category/graph/flow" rel="category tag" title="查看网络流中的全部文章">网络流</a></span><span class="i4">围观1199次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5705" href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comments" title="《HDU 3505-Writing Robot-字典树-[解题报告]HOJ》上的评论">28 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Writing Robot</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Word’s combination is an interesting thing.<br/>Given a set of words S={s1, s2, …, sn}, where si is a word only consists lowercase letter and its length is less than 50. When si merges in a text, its effect on reader’s mood is both positive and negative. A word’s positive effect is measured in love level li and negative effect is in hate level hi.<br/>At the same time, given a set paragraph P={P1, P2, …, Pn} and Pj is a string whose length is less than 1000. For each word si in S, there is two conditions in Pj as follows:<br/>Related : si is a substring of Pj, and li units of love level is added to Pj, if si occurs several times in Pj, every occurrence is counted.<br/>Unrelated : si never occurs in Pj and this condition bring Pj nothing.<br/>Text T is defined as a subset of P. T’s love level is defined as sum of Pj’s love level where Pj belongs to T minus words?hate level. Because a strange psychology phenomenon, hate level of a word which occurs in T is only counted once no matter how many times it occurs. <br/>Given the set of S and P, writing robot’s job is to select a subset T to maximum the love level. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of the input contains a single integer T (1 ≤ T ≤ 15), the number of test cases. Then T cases follow. <br/>First line of each case contains 2 integers, S, P. (1≤S, P≤150), then S lines follows, each line contains 2 integers, li, hi, (1≤li≤100, 1≤hi≤1000), and a string si with length less than 50. Next P lines, each contains a string Pi with length less than 1000. It guarantees that the answer will not exceed 32-bit signed integer. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line of the input contains a single integer T (1 ≤ T ≤ 15), the number of test cases. Then T cases follow. <br/>First line of each case contains 2 integers, S, P. (1≤S, P≤150), then S lines follows, each line contains 2 integers, li, hi, (1≤li≤100, 1≤hi≤1000), and a string si with length less than 50. Next P lines, each contains a string Pi with length less than 1000. It guarantees that the answer will not exceed 32-bit signed integer.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3 2
2 2 hit
1 2 it
3 1 song
hitman
singasong
2 2
2 3 ab
1 6 ba
ababab
bababa</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 2
Case 2: 6

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>In the first case, T maybe {""}, {"hitman"}, {"singasong"},{"hitman", "singasong"} and their love level is 0, -1, 2, 1. So "singasong" is chosen.
In the second case, cause "ab" and "ba" all occurs in P1 and P2, obviously choosing them both as T={"ababab", "bababa"} will get most love level.</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --><br/>
</p><p>悲剧题，最后时候都没有出，原来是自己字典树忘记清零了，囧~ 其他的就是网络流水题了，模型很好想，也就不多说什么了。</p> <p> </p> <div style="BACKGROUND: #fdfdfd; COLOR: black;"><u>C++语言</u>: <a rel="nofollow">hdu 3505</a></div> <div jquery="15" style="BACKGROUND-COLOR: #000000; FONT-FAMILY: 'None', 'Consolas', 'Lucida Console', 'Courier New'; COLOR: #e0eee0;"><span style="COLOR: #7c7268;">001</span> <span style="COLOR: #8db6cd;">#include &lt;cstdio&gt;</span><br/><span style="COLOR: #7c7268;">002</span> <span style="COLOR: #8db6cd;">#include &lt;cstring&gt;</span><br/><span style="COLOR: #7c7268;">003</span> <span style="COLOR: #8db6cd;">#include &lt;algorithm&gt;</span><br/><span style="COLOR: #7c7268;">004</span> <span style="COLOR: #90ee90;">using</span> <span style="COLOR: #90ee90;">namespace</span> <span style="COLOR: #e0eee0;">std</span>;<br/><span style="COLOR: #f810b0;">005</span> <span style="COLOR: #8db6cd;">#define MAXN 160</span><br/><span style="COLOR: #7c7268;">006</span> <br/><span style="COLOR: #7c7268;">007</span> <span style="COLOR: #90ee90;">const</span> <span style="COLOR: #add8e6;">int</span> N <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">MAXN</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #00ffff;">2</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">2</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">E</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">MAXN</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #00ffff;">2</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">MAXN</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #e0eee0;">MAXN</span>;<br/><span style="COLOR: #7c7268;">008</span> <span style="COLOR: #7c7268;">/*==================================================*\</span><br/><span style="COLOR: #7c7268;">009</span> <span style="COLOR: #7c7268;">| Dinic最大流 O(V^2 * E)</span><br/><span style="COLOR: #f810b0;">010</span> <span style="COLOR: #7c7268;">| INIT: g.build(n); g.add_edge()加入所有弧;</span><br/><span style="COLOR: #7c7268;">011</span> <span style="COLOR: #7c7268;">| CALL: g.max_flow(s, t); 答案保存在 g._cost 中</span><br/><span style="COLOR: #7c7268;">012</span> <span style="COLOR: #7c7268;">\*==================================================*/</span><br/><span style="COLOR: #7c7268;">013</span> <span style="COLOR: #90ee90;">typedef</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #e0eee0;">typec</span>; <span style="COLOR: #7c7268;">// type of cost</span><br/><span style="COLOR: #7c7268;">014</span> <span style="COLOR: #90ee90;">const</span> <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">inf</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0x3f3f3f3f3f3f3f3fL</span><span style="COLOR: #e0eee0;">L</span>; <span style="COLOR: #7c7268;">// max of cost</span><br/><span style="COLOR: #f810b0;">015</span> <br/><span style="COLOR: #7c7268;">016</span> <span style="COLOR: #90ee90;">struct</span> <span style="COLOR: #e0eee0;">NetWork</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">017</span>     <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">_n</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span>N<span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span>N<span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span>N<span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span>N<span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">018</span>     <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">_cost</span>;<br/><span style="COLOR: #7c7268;">019</span> <br/><span style="COLOR: #f810b0;">020</span>     <span style="COLOR: #90ee90;">struct</span> <span style="COLOR: #e0eee0;">Edge</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">021</span>         <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">_x</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_y</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_next</span>;<br/><span style="COLOR: #7c7268;">022</span>         <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">_c</span>;<br/><span style="COLOR: #7c7268;">023</span>     <span style="COLOR: #e0eee0;">}</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">E</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #00ffff;">2</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">2</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">024</span> <br/><span style="COLOR: #f810b0;">025</span>     <span style="COLOR: #add8e6;">void</span> <span style="COLOR: #e0eee0;">add_edge</span>(<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">x</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">y</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">c</span>) <span style="COLOR: #e0eee0;">{</span> <span style="COLOR: #7c7268;">// add an arc(x -&gt; y, c); vertex: 0 ~ n-1;</span><br/><span style="COLOR: #7c7268;">026</span>         <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_x</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">x</span>; <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_y</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">y</span>; <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">c</span>;<br/><span style="COLOR: #7c7268;">027</span>         <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_next</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">x</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">x</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">++</span>;<br/><span style="COLOR: #7c7268;">028</span>         <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_x</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">y</span>; <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_y</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">x</span>; <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>;<br/><span style="COLOR: #7c7268;">029</span>         <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_next</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">y</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">y</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_ne</span><span style="COLOR: #e0eee0;">++</span>;<br/><span style="COLOR: #f810b0;">030</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">031</span> <br/><span style="COLOR: #7c7268;">032</span>     <span style="COLOR: #90ee90;">inline</span> <span style="COLOR: #add8e6;">void</span> <span style="COLOR: #e0eee0;">build</span>(<span style="COLOR: #add8e6;">int</span> n) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">033</span>         <span style="COLOR: #e0eee0;">_n</span> <span style="COLOR: #e0eee0;">=</span> n; <span style="COLOR: #e0eee0;">_ne</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">2</span>;<br/><span style="COLOR: #7c7268;">034</span>         <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> n <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #90ee90;">sizeof</span> (<span style="COLOR: #add8e6;">int</span>));<br/><span style="COLOR: #f810b0;">035</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">036</span> <br/><span style="COLOR: #7c7268;">037</span>     <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">max_flow</span>(<span style="COLOR: #add8e6;">int</span> s<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">t</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">038</span>         <span style="COLOR: #e0eee0;">typec</span> <span style="COLOR: #e0eee0;">tr</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">res</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>;<br/><span style="COLOR: #7c7268;">039</span>         <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">f</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">r</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">top</span>;<br/><span style="COLOR: #f810b0;">040</span>         <span style="COLOR: #90ee90;">while</span> (<span style="COLOR: #00ffff;">1</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">041</span>             <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_n</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #90ee90;">sizeof</span> (<span style="COLOR: #add8e6;">int</span>));<br/><span style="COLOR: #7c7268;">042</span>             <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">f</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> s<span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">r</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">1</span>; <span style="COLOR: #e0eee0;">f</span> <span style="COLOR: #e0eee0;">!=</span> <span style="COLOR: #e0eee0;">r</span>;)<br/><span style="COLOR: #7c7268;">043</span>                 <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">f</span><span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">j</span>; <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_next</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">044</span>                     <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">&amp;&amp;</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_y</span><span style="COLOR: #e0eee0;">])</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #f810b0;">045</span>                         <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">1</span>;<br/><span style="COLOR: #7c7268;">046</span>                         <span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">r</span><span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">k</span>;<br/><span style="COLOR: #7c7268;">047</span>                         <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">t</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">048</span>                             <span style="COLOR: #e0eee0;">f</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">r</span>;<br/><span style="COLOR: #7c7268;">049</span>                             <span style="COLOR: #90ee90;">break</span>;<br/><span style="COLOR: #f810b0;">050</span>                         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">051</span>                     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">052</span>                 <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">053</span>             <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">t</span><span style="COLOR: #e0eee0;">])</span> <span style="COLOR: #90ee90;">break</span>;<br/><span style="COLOR: #7c7268;">054</span>             <span style="COLOR: #e0eee0;">memcpy</span>(<span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_head</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_n</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #90ee90;">sizeof</span> (<span style="COLOR: #add8e6;">int</span>));<br/><span style="COLOR: #f810b0;">055</span>             <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> s<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">top</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>;;) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">056</span>                 <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">t</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">057</span>                     <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">tr</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">inf</span>; <span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">top</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">k</span>)<br/><span style="COLOR: #7c7268;">058</span>                         <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">tr</span>)<br/><span style="COLOR: #7c7268;">059</span>                             <span style="COLOR: #e0eee0;">tr</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">f</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_c</span>;<br/><span style="COLOR: #f810b0;">060</span>                     <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">k</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">top</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">k</span>)<br/><span style="COLOR: #7c7268;">061</span>                         <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">-=</span> <span style="COLOR: #e0eee0;">tr</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">k</span><span style="COLOR: #e0eee0;">]</span><span style="COLOR: #e0eee0;">^</span><span style="COLOR: #00ffff;">1</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">tr</span>;<br/><span style="COLOR: #7c7268;">062</span>                     <span style="COLOR: #e0eee0;">res</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">tr</span>;<br/><span style="COLOR: #7c7268;">063</span>                     <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">top</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">f</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_x</span>;<br/><span style="COLOR: #7c7268;">064</span>                 <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #f810b0;">065</span>                 <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_next</span>)<br/><span style="COLOR: #7c7268;">066</span>                     <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_c</span> <span style="COLOR: #e0eee0;">&amp;&amp;</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">1</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">].</span><span style="COLOR: #e0eee0;">_y</span><span style="COLOR: #e0eee0;">])</span> <span style="COLOR: #90ee90;">break</span>;<br/><span style="COLOR: #7c7268;">067</span>                 <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">])</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">068</span>                     <span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">top</span><span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">069</span>                     <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_cur</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_y</span>;<br/><span style="COLOR: #f810b0;">070</span>                 <span style="COLOR: #e0eee0;">}</span> <span style="COLOR: #90ee90;">else</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">071</span>                     <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #00ffff;">0</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #e0eee0;">top</span>) <span style="COLOR: #90ee90;">break</span>;<br/><span style="COLOR: #7c7268;">072</span>                     <span style="COLOR: #e0eee0;">_dep</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span>;<br/><span style="COLOR: #7c7268;">073</span>                     <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">_bf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">_ps</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">--</span><span style="COLOR: #e0eee0;">top</span><span style="COLOR: #e0eee0;">]].</span><span style="COLOR: #e0eee0;">_x</span>;<br/><span style="COLOR: #7c7268;">074</span>                 <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #f810b0;">075</span>             <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">076</span>         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">077</span>         <span style="COLOR: #90ee90;">return</span> <span style="COLOR: #e0eee0;">_cost</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">res</span>;<br/><span style="COLOR: #7c7268;">078</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">079</span> <span style="COLOR: #e0eee0;">}</span> <span style="COLOR: #e0eee0;">g</span>;<br/><span style="COLOR: #f810b0;">080</span> <br/><span style="COLOR: #7c7268;">081</span> <span style="COLOR: #add8e6;">int</span> n<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">m</span>;<br/><span style="COLOR: #7c7268;">082</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #e0eee0;">love</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">MAXN</span><span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">hate</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">MAXN</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">083</span> <br/><span style="COLOR: #7c7268;">084</span> <span style="COLOR: #7c7268;">//////////////////////////////////////////////</span><br/><span style="COLOR: #f810b0;">085</span> <span style="COLOR: #90ee90;">struct</span> <span style="COLOR: #e0eee0;">Trie</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">086</span>     <span style="COLOR: #e0eee0;">Trie</span><span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #00ffff;">26</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">087</span>     <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">terminate</span>;<br/><span style="COLOR: #7c7268;">088</span> <span style="COLOR: #e0eee0;">}</span> <span style="COLOR: #e0eee0;">nodes</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">MAXN</span> <span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #00ffff;">600</span><span style="COLOR: #e0eee0;">],</span> <span style="COLOR: #e0eee0;">*</span><span style="COLOR: #e0eee0;">ptr</span>;<br/><span style="COLOR: #7c7268;">089</span> <br/><span style="COLOR: #f810b0;">090</span> <span style="COLOR: #add8e6;">void</span> <span style="COLOR: #e0eee0;">insert_trie</span>(<span style="COLOR: #add8e6;">char</span><span style="COLOR: #e0eee0;">*</span> s<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">no</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">091</span>     <span style="COLOR: #e0eee0;">Trie</span><span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #e0eee0;">root</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">nodes</span>;<br/><span style="COLOR: #7c7268;">092</span>     <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">093</span>         <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span>s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #80a0ff;">‘a’</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">==</span> <span style="COLOR: #00ffff;">0</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">094</span>             <span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span>s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #80a0ff;">‘a’</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">ptr</span>;<br/><span style="COLOR: #f810b0;">095</span>             <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">ptr</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #90ee90;">sizeof</span>(<span style="COLOR: #e0eee0;">Trie</span>));    <span style="COLOR: #7c7268;">// notice!!!!</span><br/><span style="COLOR: #7c7268;">096</span>             <span style="COLOR: #e0eee0;">ptr</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span>;<br/><span style="COLOR: #7c7268;">097</span>         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">098</span>         <span style="COLOR: #e0eee0;">root</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span>s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #80a0ff;">‘a’</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">099</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #f810b0;">100</span>     <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span> <span style="COLOR: #e0eee0;">!=</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">101</span>         <span style="COLOR: #e0eee0;">love</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">no</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">love</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">102</span>         <span style="COLOR: #e0eee0;">hate</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">no</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">hate</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">103</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">104</span>     <span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">no</span>;<br/><span style="COLOR: #f810b0;">105</span> <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">106</span> <br/><span style="COLOR: #7c7268;">107</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #e0eee0;">slove</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">MAXN</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">108</span> <span style="COLOR: #add8e6;">bool</span> <span style="COLOR: #e0eee0;">map</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">MAXN</span><span style="COLOR: #e0eee0;">][</span><span style="COLOR: #e0eee0;">MAXN</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">109</span> <br/><span style="COLOR: #f810b0;">110</span> <span style="COLOR: #add8e6;">void</span> <span style="COLOR: #e0eee0;">find_trie</span>(<span style="COLOR: #add8e6;">char</span><span style="COLOR: #e0eee0;">*</span> s<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">noo</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">111</span>     <span style="COLOR: #e0eee0;">Trie</span><span style="COLOR: #e0eee0;">*</span> <span style="COLOR: #e0eee0;">root</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">nodes</span>;<br/><span style="COLOR: #7c7268;">112</span>     <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span> <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>)<br/><span style="COLOR: #7c7268;">113</span>         <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span>s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #80a0ff;">‘a’</span><span style="COLOR: #e0eee0;">])</span> <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">114</span>             <span style="COLOR: #e0eee0;">root</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">next</span><span style="COLOR: #e0eee0;">[</span>s<span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #80a0ff;">‘a’</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #f810b0;">115</span>             <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span> <span style="COLOR: #e0eee0;">!=</span> <span style="COLOR: #e0eee0;">-</span><span style="COLOR: #00ffff;">1</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">116</span>                 <span style="COLOR: #e0eee0;">slove</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">noo</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">love</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">117</span>                 <span style="COLOR: #e0eee0;">map</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">noo</span><span style="COLOR: #e0eee0;">][</span><span style="COLOR: #e0eee0;">root</span><span style="COLOR: #e0eee0;">-&gt;</span><span style="COLOR: #e0eee0;">terminate</span><span style="COLOR: #e0eee0;">]</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #90ee90;">true</span>;<br/><span style="COLOR: #7c7268;">118</span>             <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">119</span>         <span style="COLOR: #e0eee0;">}</span> <span style="COLOR: #90ee90;">else</span><br/><span style="COLOR: #f810b0;">120</span>             <span style="COLOR: #90ee90;">return</span>;<br/><span style="COLOR: #7c7268;">121</span> <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">122</span> <span style="COLOR: #7c7268;">///////////////////////////////////////////////</span><br/><span style="COLOR: #7c7268;">123</span> <br/><span style="COLOR: #7c7268;">124</span> <span style="COLOR: #90ee90;">inline</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">pointS</span>(<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">x</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #f810b0;">125</span>     <span style="COLOR: #90ee90;">return</span> <span style="COLOR: #e0eee0;">x</span>;<br/><span style="COLOR: #7c7268;">126</span> <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">127</span> <br/><span style="COLOR: #7c7268;">128</span> <span style="COLOR: #90ee90;">inline</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">pointP</span>(<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">x</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">129</span>     <span style="COLOR: #90ee90;">return</span> n <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">x</span>;<br/><span style="COLOR: #f810b0;">130</span> <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">131</span> <br/><span style="COLOR: #7c7268;">132</span> <span style="COLOR: #add8e6;">char</span> <span style="COLOR: #e0eee0;">buf</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #00ffff;">20000</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">133</span> <br/><span style="COLOR: #7c7268;">134</span> <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">main</span>() <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #f810b0;">135</span> <span style="COLOR: #8db6cd;">#ifndef ONLINE_JUDGE</span><br/><span style="COLOR: #7c7268;">136</span>     <span style="COLOR: #e0eee0;">freopen</span>(<span style="COLOR: #80a0ff;">“in.txt”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #80a0ff;">“r”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">stdin</span>);<br/><span style="COLOR: #7c7268;">137</span>     <span style="COLOR: #e0eee0;">freopen</span>(<span style="COLOR: #80a0ff;">“out.txt”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #80a0ff;">“w”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">stdout</span>);<br/><span style="COLOR: #7c7268;">138</span> <span style="COLOR: #8db6cd;">#endif</span><br/><span style="COLOR: #7c7268;">139</span>     <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">test</span>;<br/><span style="COLOR: #f810b0;">140</span>     <span style="COLOR: #e0eee0;">scanf</span>(<span style="COLOR: #80a0ff;">“%d”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">&amp;</span><span style="COLOR: #e0eee0;">test</span>);<br/><span style="COLOR: #7c7268;">141</span>     <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">cas</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">1</span>; <span style="COLOR: #e0eee0;">cas</span> <span style="COLOR: #e0eee0;">&lt;=</span> <span style="COLOR: #e0eee0;">test</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">cas</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">142</span>         <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">slove</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #90ee90;">sizeof</span>(<span style="COLOR: #e0eee0;">slove</span>));<br/><span style="COLOR: #7c7268;">143</span>         <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">map</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #90ee90;">sizeof</span>(<span style="COLOR: #e0eee0;">map</span>));<br/><span style="COLOR: #7c7268;">144</span>         <span style="COLOR: #e0eee0;">ptr</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">nodes</span>;<br/><span style="COLOR: #f810b0;">145</span>         <span style="COLOR: #e0eee0;">memset</span>(<span style="COLOR: #e0eee0;">ptr</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #00ffff;">0</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #90ee90;">sizeof</span>(<span style="COLOR: #e0eee0;">Trie</span>));        <span style="COLOR: #7c7268;">// notice!!!!</span><br/><span style="COLOR: #7c7268;">146</span> <br/><span style="COLOR: #7c7268;">147</span>         <span style="COLOR: #e0eee0;">scanf</span>(<span style="COLOR: #80a0ff;">“%d%d”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">&amp;</span>n<span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">&amp;</span><span style="COLOR: #e0eee0;">m</span>);<br/><span style="COLOR: #7c7268;">148</span>         <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">&lt;</span> n; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">149</span>             <span style="COLOR: #e0eee0;">scanf</span>(<span style="COLOR: #80a0ff;">“%I64d%I64d%s”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">love</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">hate</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">buf</span>);<br/><span style="COLOR: #f810b0;">150</span>             <span style="COLOR: #e0eee0;">insert_trie</span>(<span style="COLOR: #e0eee0;">buf</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">i</span>);<br/><span style="COLOR: #7c7268;">151</span>         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">152</span>         <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">m</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">153</span>             <span style="COLOR: #e0eee0;">scanf</span>(<span style="COLOR: #80a0ff;">“%s”</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">buf</span>);<br/><span style="COLOR: #7c7268;">154</span>             <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">len</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #e0eee0;">strlen</span>(<span style="COLOR: #e0eee0;">buf</span>);<br/><span style="COLOR: #f810b0;">155</span>             <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">len</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">j</span>)<br/><span style="COLOR: #7c7268;">156</span>                 <span style="COLOR: #e0eee0;">find_trie</span>(<span style="COLOR: #e0eee0;">buf</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">i</span>);<br/><span style="COLOR: #7c7268;">157</span>         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">158</span>         <span style="COLOR: #e0eee0;">g</span><span style="COLOR: #e0eee0;">.</span><span style="COLOR: #e0eee0;">build</span>(n <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">m</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">2</span>);<br/><span style="COLOR: #7c7268;">159</span>         <span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">src</span> <span style="COLOR: #e0eee0;">=</span> n <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">m</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">sink</span> <span style="COLOR: #e0eee0;">=</span> n <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #e0eee0;">m</span> <span style="COLOR: #e0eee0;">+</span> <span style="COLOR: #00ffff;">1</span>;<br/><span style="COLOR: #f810b0;">160</span>         <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">&lt;</span> n; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>)<br/><span style="COLOR: #7c7268;">161</span>             <span style="COLOR: #e0eee0;">g</span><span style="COLOR: #e0eee0;">.</span><span style="COLOR: #e0eee0;">add_edge</span>(<span style="COLOR: #e0eee0;">pointS</span>(<span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">),</span> <span style="COLOR: #e0eee0;">sink</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">hate</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]);</span><br/><span style="COLOR: #7c7268;">162</span>         <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #add8e6;">long</span> <span style="COLOR: #e0eee0;">sum</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>;<br/><span style="COLOR: #7c7268;">163</span>         <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">m</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>) <span style="COLOR: #e0eee0;">{</span><br/><span style="COLOR: #7c7268;">164</span>             <span style="COLOR: #e0eee0;">g</span><span style="COLOR: #e0eee0;">.</span><span style="COLOR: #e0eee0;">add_edge</span>(<span style="COLOR: #e0eee0;">src</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">pointP</span>(<span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">),</span> <span style="COLOR: #e0eee0;">slove</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">]);</span><br/><span style="COLOR: #f810b0;">165</span>             <span style="COLOR: #e0eee0;">sum</span> <span style="COLOR: #e0eee0;">+=</span> <span style="COLOR: #e0eee0;">slove</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">];</span><br/><span style="COLOR: #7c7268;">166</span>         <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">167</span>         <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">i</span> <span style="COLOR: #e0eee0;">&lt;</span> n; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">i</span>)<br/><span style="COLOR: #7c7268;">168</span>             <span style="COLOR: #90ee90;">for</span> (<span style="COLOR: #add8e6;">int</span> <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">=</span> <span style="COLOR: #00ffff;">0</span>; <span style="COLOR: #e0eee0;">j</span> <span style="COLOR: #e0eee0;">&lt;</span> <span style="COLOR: #e0eee0;">m</span>; <span style="COLOR: #e0eee0;">++</span><span style="COLOR: #e0eee0;">j</span>)<br/><span style="COLOR: #7c7268;">169</span>                 <span style="COLOR: #90ee90;">if</span> (<span style="COLOR: #e0eee0;">map</span><span style="COLOR: #e0eee0;">[</span><span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">][</span><span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">])</span><br/><span style="COLOR: #f810b0;">170</span>                     <span style="COLOR: #e0eee0;">g</span><span style="COLOR: #e0eee0;">.</span><span style="COLOR: #e0eee0;">add_edge</span>(<span style="COLOR: #e0eee0;">pointP</span>(<span style="COLOR: #e0eee0;">j</span><span style="COLOR: #e0eee0;">),</span> <span style="COLOR: #e0eee0;">pointS</span>(<span style="COLOR: #e0eee0;">i</span><span style="COLOR: #e0eee0;">),</span> <span style="COLOR: #e0eee0;">inf</span>);<br/><span style="COLOR: #7c7268;">171</span>         <span style="COLOR: #e0eee0;">printf</span>(<span style="COLOR: #80a0ff;">“Case %d: %I64d</span><span style="COLOR: #80a0ff;">\n</span><span style="COLOR: #80a0ff;">“</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">cas</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">sum</span> <span style="COLOR: #e0eee0;">-</span> <span style="COLOR: #e0eee0;">g</span><span style="COLOR: #e0eee0;">.</span><span style="COLOR: #e0eee0;">max_flow</span>(<span style="COLOR: #e0eee0;">src</span><span style="COLOR: #e0eee0;">,</span> <span style="COLOR: #e0eee0;">sink</span>));<br/><span style="COLOR: #7c7268;">172</span>     <span style="COLOR: #e0eee0;">}</span><br/><span style="COLOR: #7c7268;">173</span>     <span style="COLOR: #90ee90;">return</span> <span style="COLOR: #00ffff;">0</span>;<br/><span style="COLOR: #7c7268;">174</span> <span style="COLOR: #e0eee0;">}</span><br/></div>参考：<a href="#respond">http://xpycc.blog.163.com/blog/static/50266902201072491946947/</a>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75922">
<article class="comment" id="comment-75922">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75922" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75921">
<article class="comment" id="comment-75921">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75921" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75920">
<article class="comment" id="comment-75920">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75920" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75919">
<article class="comment" id="comment-75919">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75919" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75918">
<article class="comment" id="comment-75918">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75918" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75917">
<article class="comment" id="comment-75917">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75917" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75916">
<article class="comment" id="comment-75916">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75916" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75915">
<article class="comment" id="comment-75915">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75915" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75914">
<article class="comment" id="comment-75914">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75914" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75913">
<article class="comment" id="comment-75913">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75913" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75912">
<article class="comment" id="comment-75912">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75912" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75911">
<article class="comment" id="comment-75911">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75911" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-75910">
<article class="comment" id="comment-75910">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75910" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75909">
<article class="comment" id="comment-75909">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531737" rel="external nofollow">新用户050654</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-75909" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么还是预告啊。??。作者大大！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30202">
<article class="comment" id="comment-30202">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30202" rel="nofollow"><time datetime="2015-06-30T08:04:07+00:00" pubdate="">2015年6月30日 at 上午8:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30204">
<article class="comment" id="comment-30204">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30204" rel="nofollow"><time datetime="2015-06-18T08:54:52+00:00" pubdate="">2015年6月18日 at 上午8:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49273">
<article class="comment" id="comment-49273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-49273" rel="nofollow"><time datetime="2015-06-07T06:57:21+00:00" pubdate="">2015年6月7日 at 上午6:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30203">
<article class="comment" id="comment-30203">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30203" rel="nofollow"><time datetime="2015-05-16T07:32:54+00:00" pubdate="">2015年5月16日 at 上午7:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58740">
<article class="comment" id="comment-58740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-58740" rel="nofollow"><time datetime="2015-03-04T02:49:24+00:00" pubdate="">2015年3月4日 at 上午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30201">
<article class="comment" id="comment-30201">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30201" rel="nofollow"><time datetime="2015-01-26T07:46:20+00:00" pubdate="">2015年1月26日 at 上午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30205">
<article class="comment" id="comment-30205">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tonight</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30205" rel="nofollow"><time datetime="2014-11-09T13:59:19+00:00" pubdate="">2014年11月9日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58739">
<article class="comment" id="comment-58739">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-58739" rel="nofollow"><time datetime="2014-11-05T03:05:08+00:00" pubdate="">2014年11月5日 at 上午3:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30206">
<article class="comment" id="comment-30206">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30206" rel="nofollow"><time datetime="2014-10-28T14:49:46+00:00" pubdate="">2014年10月28日 at 下午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是有公式吗？何不直接计算</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30197">
<article class="comment" id="comment-30197">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30197" rel="nofollow"><time datetime="2014-10-08T08:37:36+00:00" pubdate="">2014年10月8日 at 上午8:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一种方法怎么会是O(log(m+n))呢？没有二分的话直接遍历应该就是O(m+n)吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30198">
<article class="comment" id="comment-30198">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">final</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30198" rel="nofollow"><time datetime="2014-10-03T01:27:43+00:00" pubdate="">2014年10月3日 at 上午1:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30199">
<article class="comment" id="comment-30199">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30199" rel="nofollow"><time datetime="2014-09-21T10:57:34+00:00" pubdate="">2014年9月21日 at 上午10:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30196">
<article class="comment" id="comment-30196">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30196" rel="nofollow"><time datetime="2014-08-10T01:52:58+00:00" pubdate="">2014年8月10日 at 上午1:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30200">
<article class="comment" id="comment-30200">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-3505-writing-robot-5705.html#comment-30200" rel="nofollow"><time datetime="2014-05-23T14:33:37+00:00" pubdate="">2014年5月23日 at 下午2:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>