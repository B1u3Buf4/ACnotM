<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-15</div>
<div class="tit"><h1 class="entry-title">HDU 4035-Maze-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观284次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7038" href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comments" title="《HDU 4035-Maze-动态规划-[解题报告]HOJ》上的评论">23 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Maze</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
When wake up, lxhgww find himself in a huge maze.
<p>The maze consisted by N rooms and tunnels connecting these rooms. Each pair of rooms is connected by one and only one path. Initially, lxhgww is in room 1. Each room has a dangerous trap. When lxhgww step into a room, he has a possibility to be killed and restart from room 1. Every room also has a hidden exit. Each time lxhgww comes to a room, he has chance to find the exit and escape from this maze.</p>
<p>Unfortunately, lxhgww has no idea about the structure of the whole maze. Therefore, he just chooses a tunnel randomly each time. When he is in a room, he has the same possibility to choose any tunnel connecting that room (including the tunnel he used to come to that room).<br/>What is the expect number of tunnels he go through before he find the exit? </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
First line is an integer T (T ≤ 30), the number of test cases.
<p>At the beginning of each case is an integer N (2 ≤ N ≤ 10000), indicates the number of rooms in this case.</p>
<p>Then N-1 pairs of integers X, Y (1 ≤ X, Y ≤ N, X ≠ Y) are given, indicate there is a tunnel between room X and room Y.</p>
<p>Finally, N pairs of integers Ki and Ei (0 ≤ Ki, Ei ≤ 100, Ki + Ei ≤ 100, K1 = E1 = 0) are given, indicate the percent of the possibility of been killed and exit in the ith room. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
First line is an integer T (T ≤ 30), the number of test cases.
<p>At the beginning of each case is an integer N (2 ≤ N ≤ 10000), indicates the number of rooms in this case.</p>
<p>Then N-1 pairs of integers X, Y (1 ≤ X, Y ≤ N, X ≠ Y) are given, indicate there is a tunnel between room X and room Y.</p>
<p>Finally, N pairs of integers Ki and Ei (0 ≤ Ki, Ei ≤ 100, Ki + Ei ≤ 100, K1 = E1 = 0) are given, indicate the percent of the possibility of been killed and exit in the ith room.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
3
1 2
1 3
0 0
100 0
0 100
3
1 2
2 3
0 0
100 0
0 100
6
1 2
2 3
1 4
4 5
4 6
0 0
20 30
40 30
50 50
70 10
20 60</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 2.000000
Case 2: impossible
Case 3: 2.895522</pre>
<p> <!-- problem end --></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">题意：有很多个房间，你可以经过传送门，传送方法有三种，1：到达与这个房间相连的其他房间，2:kill,回到起点。3：出口，逃离这个空间。这三个的发生概率是不同的，求逃离的数学期望。</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">显然是dp，可惜我对不起林教，没有得其真传，然后去搜报告，结果还是林教的报告，写的很简单，但是很明了，和以前那题差不多，可惜这是在这颗树上。然后wa了10次，分析问题太不全面了，竟然认为每个节点的A，B，C是不变的。。。我汗啊，不知道当时我是怎么想的。</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">分析一下：首先，期望一般采用逆推，对于每个节点，有三种转移<span style="font-size:18px">1：到达与这个房间相连的其他房间，2:kill,回到起点。3：出口，逃离这个空间。用p[i]表示距离出口还差多少期望。（因为是反过来的）显然p[1] 为最终的答案。</span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">那么列出每个节点的期望转移。</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">先是叶子节点：p[i]=p[1]*k[i]+e[i]*0+(1-k[i]-e[i])*p[f[i]];(0是因为当前节点为出口时期望为0，看清楚p[i]的定义；f[i]表示i当前的父亲节点)；</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">然后是非叶子节点p[i]=p[1]*k[i]+e[i]*0+(1-k[i]-e[i])/cnt*((sum(p[j])+1)+p[f[i]]+1);(j为儿子节点，cnt为与这个房间相连的房子总数)；其实我觉得这个方程设定也很巧妙，为什么要分开成父亲节点和儿子节点呢？特别是下面的转换；</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">设p[i]满足p[i]=A[i]*p[1]+B[i]*p[f[i]]+C[i];然后代入，将p[j]换掉；</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">你会得到一个关于p[i],e1,p[f[i]],的方程，自己动手算算；</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">这里我只给出化简后的式子。</span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px">p[i]=(k[i]+(1-k[i]-e[i])/m*sum(A[j]))/(1-(1-k[i]-e[i])/m*sum(B[j]))*p[1]+<span style="font-size:18px">(1-k[i]-e[i])/m)/<span style="font-size:18px">(1-(1-k[i]-e[i])/m*sum(B[j]))*p[f[i]]+<span style="font-size:18px">1-k[i]-e[i]+<span style="font-size:18px">(1-k[i]-e[i])/m*sum(C[j]));</span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">与<span style="font-size:18px">p[i]=A[i]*e1+B[i]*p[f[i]]+C[i]对比得出</span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">A[i]=<span style="font-size:18px">(k[i]+(1-k[i]-e[i])/m*sum(A[j]))/(1-(1-k[i]-e[i])/m*sum(B[j]));</span></span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">B[i]=<span style="font-size:18px">(1-k[i]-e[i])/m)/<span style="font-size:18px">(1-(1-k[i]-e[i])/m*sum(B[j]));</span></span></span></span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">C[i]=<span style="font-size:18px">1-k[i]-e[i]+<span style="font-size:18px">(1-k[i]-e[i])/m*sum(C[j]));</span></span></span></span></span></span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">这样就差不多完工了，因为p[1]=A[1]*P[1]+B[1]*0+C[1];</span></span></span></span></span></span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px">得出p[1]=C[1]/(1-A[1]);你会发现所有的p[i]其实都是中间变量，到最后都没了，林教说一般都是这样子的。</span></span></span></span></span></span></span></span></span></span></span></p>
<p style="margin-top:4px; margin-right:0px; margin-bottom:4px; margin-left:0px; padding-top:2px; padding-right:0px; padding-bottom:2px; padding-left:0px">
<span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-size:18px"><span style="font-family:'Times New Roman'; font-size:16px"></span></span></span></span></span></span></span></span></span></span></span></span></p>
<table align="center" border="0" cellspacing="2" style="border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dashed; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(135,155,255); border-left-color:rgb(211,211,211); font-family:Tahoma; font-size:12px" width="100%">
<tbody>
<tr bgcolor="#1A5CC" style="font-family:Arial; font-weight:bold; font-size:12px; color:rgb(255,255,255); background-color:rgb(26,92,200); text-align:center">
<td height="22" style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="8%">
Run ID</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="15%">
Submit Time</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
Judge Status</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="50">
Pro.ID</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="74">
Exe.Time</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="90">
Exe.Memory</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="76">
Code Len.</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="80">
Language</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)" width="16%">
Author</td>
</tr>
<tr align="center">
<td height="22px" style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
4616318</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
2011-09-17 11:12:06</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
<span style="color:red">Accepted</span></td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
<a style="color:rgb(26,92,200); text-decoration:none">4035</a></td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
93MS</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
1020K</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
1658B</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211)">
C++</td>
<td style="font-family:Arial,Verdana,sans-serif; font-size:12px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dotted; border-right-style:dotted; border-bottom-style:dotted; border-left-style:dotted; border-top-color:rgb(211,211,211); border-right-color:rgb(211,211,211); border-bottom-color:rgb(211,211,211); border-left-color:rgb(211,211,211); word-wrap:break-word; word-break:break-all">
<a style="color:rgb(26,92,200); text-decoration:none">xym2010</a></td>
</tr>
</tbody>
</table>
<pre class="brush:cpp" name="code">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;iostream&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;
using namespace std;
struct node
{
    double e,k;
}d[10005];
struct egde
{
    int v,next;
}ee[20005];
double A[10005],B[10005],C[10005];
int n,fa[10005],pos=0,flag=1;
void DP(int t,int f)
{
    int cnt=0;
    if(ee[fa[t]].next==-1&amp;&amp;f!=-1)
    {
        A[t]=d[t].k;
        B[t]=1-d[t].k-d[t].e;
        C[t]=1-d[t].k-d[t].e;
        return ;
    }
	A[t]=0;B[t]=0;C[t]=0;
    for(int i=fa[t];i!=-1;i=ee[i].next)
    {
        cnt++;
        if(ee[i].v==f)continue;
        DP(ee[i].v,t);
        A[t]+=A[ee[i].v];
        B[t]+=B[ee[i].v];
        C[t]+=C[ee[i].v];
    }
    double tt=(1-d[t].k-d[t].e)/cnt;
    A[t]=(d[t].k+tt*A[t])/(1-tt*B[t]);
    C[t]=(1-d[t].k-d[t].e+tt*C[t])/(1-tt*B[t]);
    B[t]=(tt)/(1-tt*B[t]);
}
int main()
{
    int T,t,x,y,k,e;
    scanf("%d",&amp;T);
    for(t=1;t&lt;=T;t++)
    {
        memset(fa,-1,sizeof(fa));
        pos=0;flag=1;
        scanf("%d",&amp;n);
        for(int i=0;i&lt;n-1;i++)
        {
            scanf("%d%d",&amp;x,&amp;y);
            ee[pos].v=y;ee[pos].next=fa[x];fa[x]=pos++;
            ee[pos].v=x;ee[pos].next=fa[y];fa[y]=pos++;
        }
        for(int i=1;i&lt;=n;i++)
        {
            scanf("%d%d",&amp;k,&amp;e);
            d[i].e=e/100.0;
            d[i].k=k/100.0;
        }
        memset(A,0,sizeof(A));
        memset(B,0,sizeof(B));
        memset(C,0,sizeof(C));
        DP(1,-1);
        printf("Case %d: ",t);
        if(fabs(1-A[1])&lt;=1e-10)printf("impossible\n");
        else
            printf("%f\n",C[1]/(1-A[1]));
    }
	return 0;
}
</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/xymscau/article/details/6785348</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-99989">
<article class="comment" id="comment-99989">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919532302" rel="external nofollow">新用户810866</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-99989" rel="nofollow"><time datetime="2017-04-20T21:02:03+00:00" pubdate="">2017年4月20日 at 下午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>讨厌~人家只是爱上了一个叫琳子______美德可怜的人，而她只是巧合的与我是同一个性别罢了~再这样，我就生气了呦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-70571">
<article class="comment" id="comment-70571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70571" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-70570">
<article class="comment" id="comment-70570">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70570" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-70569">
<article class="comment" id="comment-70569">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70569" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-70568">
<article class="comment" id="comment-70568">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70568" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-70567">
<article class="comment" id="comment-70567">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70567" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-70566">
<article class="comment" id="comment-70566">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70566" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-70565">
<article class="comment" id="comment-70565">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70565" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-70564">
<article class="comment" id="comment-70564">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516869" rel="external nofollow">新用户685632</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-70564" rel="nofollow"><time datetime="2017-04-11T15:16:32+00:00" pubdate="">2017年4月11日 at 下午3:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>个人还是建议，你不必跟我讲。这话或许你对自己说。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51951">
<article class="comment" id="comment-51951">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51951" rel="nofollow"><time datetime="2015-07-01T20:21:19+00:00" pubdate="">2015年7月1日 at 下午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51948">
<article class="comment" id="comment-51948">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51948" rel="nofollow"><time datetime="2015-06-28T10:09:11+00:00" pubdate="">2015年6月28日 at 上午10:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51945">
<article class="comment" id="comment-51945">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51945" rel="nofollow"><time datetime="2015-06-24T19:05:53+00:00" pubdate="">2015年6月24日 at 下午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>涨姿势了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51947">
<article class="comment" id="comment-51947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">_Tree</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51947" rel="nofollow"><time datetime="2015-06-23T14:08:46+00:00" pubdate="">2015年6月23日 at 下午2:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个解法好像不对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51952">
<article class="comment" id="comment-51952">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51952" rel="nofollow"><time datetime="2015-06-22T05:13:45+00:00" pubdate="">2015年6月22日 at 上午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51944">
<article class="comment" id="comment-51944">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51944" rel="nofollow"><time datetime="2015-06-05T03:20:37+00:00" pubdate="">2015年6月5日 at 上午3:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-35464">
<article class="comment" id="comment-35464">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-35464" rel="nofollow"><time datetime="2015-05-31T10:14:21+00:00" pubdate="">2015年5月31日 at 上午10:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>全是智力分析的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51954">
<article class="comment" id="comment-51954">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51954" rel="nofollow"><time datetime="2015-05-24T20:44:11+00:00" pubdate="">2015年5月24日 at 下午8:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51953">
<article class="comment" id="comment-51953">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51953" rel="nofollow"><time datetime="2015-05-24T10:54:03+00:00" pubdate="">2015年5月24日 at 上午10:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51946">
<article class="comment" id="comment-51946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51946" rel="nofollow"><time datetime="2015-05-15T00:18:32+00:00" pubdate="">2015年5月15日 at 上午12:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51955">
<article class="comment" id="comment-51955">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51955" rel="nofollow"><time datetime="2015-05-11T22:35:11+00:00" pubdate="">2015年5月11日 at 下午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51949">
<article class="comment" id="comment-51949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51949" rel="nofollow"><time datetime="2015-05-01T15:21:22+00:00" pubdate="">2015年5月1日 at 下午3:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看似简单，还是不少坑的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51950">
<article class="comment" id="comment-51950">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-51950" rel="nofollow"><time datetime="2015-04-28T15:57:16+00:00" pubdate="">2015年4月28日 at 下午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，我的方法占用的内存更多些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-35465">
<article class="comment" id="comment-35465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/hdu-4035-maze-7038.html#comment-35465" rel="nofollow"><time datetime="2015-04-26T21:20:51+00:00" pubdate="">2015年4月26日 at 下午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>