<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1517 A Multiplication Game-数论-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/game" rel="category tag" title="查看博弈论中的全部文章">博弈论</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观1205次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2074" href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comments" title="《HDU 1517 A Multiplication Game-数论-[解题报告] C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">A Multiplication Game</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Stan and Ollie play the game of multiplication by multiplying an integer p by one of the numbers 2 to 9. Stan always starts with p = 1, does his multiplication, then Ollie multiplies the number, then Stan and so on. Before a game starts, they draw an integer 1 &lt; n &lt; 4294967295 and the winner is who first reaches p &gt;= n. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each line of input contains one integer number n. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each line of input output one line either 
<p>Stan wins. </p>
<p>or </p>
<p>Ollie wins.</p>
<p>assuming that both of them play perfectly.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
162
17
34012226</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Stan wins.
Ollie wins.
Stan wins.</pre>
<p> <!-- problem end --></p>
<p>这道题真的是想了很久，一直束缚在SG函数上了，殊不知有的时候寻找P-position和N-position的规律更加方便。看了大牛的代码，寻找必胜区间，还有就是&amp;位运算把自己搞糊涂了，惭愧。。。。以后判断奇偶数还是用%的好。。。</p>
<p>转自：<a href="http://blog.pfan.cn/cruxd/22157.html">http://blog.pfan.cn/cruxd/22157.html</a></p>
<p> 这题好X难。</p>
<p>    题目大概意思是：两人轮流乘一个2－9的数，从1开始乘，求谁的乘积先大于N。</p>
<p>    如果是加法就好做了。凑到剩下的数能整除11，然后对称着加。问题是乘法。</p>
<p>    所以寻找必胜点（段）。以1000为例。</p>
<p>    1000 | 999 … 112 |    若占住999到112，则对手必胜。必须让对手占领此段。</p>
<p>    1000 | 999 … 112 | 111 … 56 |   因此必占段是 111 －? 。如果56被对手占住，则56×2＝112，入必败段。问题转化成为占56。</p>
<p>    如此循环。如下 1000 | 999 … 112 | 111 … 56 | 55 … 7 | 6 … 4 | 3 … 1</p>
<p>   仔细考虑端点，我在处理端点情况时想了好久。</p>
<p>    这是我的代码。</p>
<pre class="brush:cpp ">/*
  * AUthor:lonelycatcher
  * problem:hdu 1517
  * Type:博弈
  */
 #include &lt;iostream&gt;
 #include&lt;stdio.h&gt;
 #include&lt;cstdlib&gt;
 using namespace std;
 long long  n;
 int main()
 {
     setbuf(stdout,NULL);
     while(cin&gt;&gt;n)
     {
         if(n==1)
         {
             printf("Stan wins.\n");
             continue;
         }
         int steps=0;
         while(n&gt;1)
         {
             steps++;
             if(steps&amp;1)
             {
                 n=(n-1)/9+1;
             }
             else n=(n+1)/2;
         }
         if(steps&amp;1)printf("Stan wins.\n");
         else printf("Ollie wins.\n");
     }
     return 0;
 }</pre>
<p>解题报告转自：http://www.cnblogs.com/lonelycatcher/archive/2011/08/20/2147430.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-41297">
<article class="comment" id="comment-41297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-41297" rel="nofollow"><time datetime="2015-05-28T12:01:02+00:00" pubdate="">2015年5月28日 at 下午12:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13910">
<article class="comment" id="comment-13910">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13910" rel="nofollow"><time datetime="2015-05-27T02:50:51+00:00" pubdate="">2015年5月27日 at 上午2:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41296">
<article class="comment" id="comment-41296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-41296" rel="nofollow"><time datetime="2015-05-26T00:07:10+00:00" pubdate="">2015年5月26日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修改一下吧 …</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13908">
<article class="comment" id="comment-13908">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13908" rel="nofollow"><time datetime="2015-02-21T05:15:55+00:00" pubdate="">2015年2月21日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你的理解应该是：即使主持人拿走一个箱子对结果没有影响。这样想，主持人拿走的箱子只是没有影响到你初始选择的那个箱子中有奖品的概率，但是改变了其余两个箱子的概率分布。由 1/3,1/3 变成了 0, 2/3</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13914">
<article class="comment" id="comment-13914">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13914" rel="nofollow"><time datetime="2014-11-21T13:14:26+00:00" pubdate="">2014年11月21日 at 下午1:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13909">
<article class="comment" id="comment-13909">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13909" rel="nofollow"><time datetime="2014-11-05T04:15:51+00:00" pubdate="">2014年11月5日 at 上午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41299">
<article class="comment" id="comment-41299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-41299" rel="nofollow"><time datetime="2014-10-14T23:26:23+00:00" pubdate="">2014年10月14日 at 下午11:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13913">
<article class="comment" id="comment-13913">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13913" rel="nofollow"><time datetime="2014-10-02T19:38:25+00:00" pubdate="">2014年10月2日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41298">
<article class="comment" id="comment-41298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-41298" rel="nofollow"><time datetime="2014-09-24T04:39:23+00:00" pubdate="">2014年9月24日 at 上午4:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13907">
<article class="comment" id="comment-13907">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13907" rel="nofollow"><time datetime="2014-07-05T19:45:19+00:00" pubdate="">2014年7月5日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13906">
<article class="comment" id="comment-13906">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13906" rel="nofollow"><time datetime="2014-03-17T00:06:25+00:00" pubdate="">2014年3月17日 at 上午12:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13912">
<article class="comment" id="comment-13912">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13912" rel="nofollow"><time datetime="2014-02-20T11:59:28+00:00" pubdate="">2014年2月20日 at 上午11:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13911">
<article class="comment" id="comment-13911">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-1517-A-Multiplication-Game-2074.html#comment-13911" rel="nofollow"><time datetime="2014-02-03T08:21:45+00:00" pubdate="">2014年2月3日 at 上午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>