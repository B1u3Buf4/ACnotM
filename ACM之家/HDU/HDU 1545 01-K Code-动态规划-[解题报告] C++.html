<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1545 01-K Code-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观914次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2102" href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comments" title="《HDU 1545 01-K Code-动态规划-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">01-K Code</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Consider a code string S of N symbols, each symbol can only be 0 or 1. In any consecutive substring of S, the number of 0′s differs from the number of 1′s by at most K. How many such valid code strings S are there? 
<p>For example, when N is 4, and K is 3, there are two invalid codes: 0000 and 1111.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. For each case, there are two positive integers N and K in a line.
<p>N is in the range of [1, 62].</p>
<p>K is in the range of [2, 5]. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output the number of valid code strings in a line for each case.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 2
4 3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
14</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1545" target="_blank">http://acm.hdu.edu.cn/showproblem.php?pid=1545</a></p>
<pre class="brush:cpp ">const int MM = 11111;
#define debug puts("wrong")
typedef __int64 int64;
int N,M;
int64 dp[63][11][11];//j min(0-1) k max(0-1)

void solve() {
    int i,j,k;int64 tmp,t1,t2;
    memset(dp[0],0,sizeof(dp[0]));
    dp[0][M][M]=1;
    for(i=1;i&lt;=N;i++) {
        memset(dp[i],0,sizeof(dp[i]));
        for(j=-M;j&lt;=M;j++) {
            for(k=-M;k&lt;=M;k++) {
                tmp=dp[i-1][j+M][k+M];
                if(tmp==0) continue;
                t1=f_min(j+1,1),t2=f_max(k+1,1);
                if(t1&gt;=(-M) &amp;&amp; t2&lt;=M)dp[i][t1+M][t2+M]+=tmp; //0
                t1=f_min(j-1,-1),t2=f_max(k-1,-1);
                if(t1&gt;=(-M) &amp;&amp; t2&lt;=M)dp[i][t1+M][t2+M]+=tmp; //1
            }
        }
    }
    int64 ans=0;
    for(i=-M;i&lt;=M;i++) for(j=-M;j&lt;=M;j++) {
        ans+=dp[N][i+M][j+M];
//        printf("%d %d %d\n",i,j,dp[2][i+M][j+M]);
    }
    printf("%I64d\n",ans);
}</pre>
<p> </p>
<p>解题报告转自：http://www.cnblogs.com/zhang1107/archive/2013/05/04/3058993.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-14140">
<article class="comment" id="comment-14140">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14140" rel="nofollow"><time datetime="2015-07-05T04:46:59+00:00" pubdate="">2015年7月5日 at 上午4:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学，非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14142">
<article class="comment" id="comment-14142">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14142" rel="nofollow"><time datetime="2015-07-03T19:54:36+00:00" pubdate="">2015年7月3日 at 下午7:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14138">
<article class="comment" id="comment-14138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14138" rel="nofollow"><time datetime="2015-06-15T21:39:12+00:00" pubdate="">2015年6月15日 at 下午9:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14141">
<article class="comment" id="comment-14141">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14141" rel="nofollow"><time datetime="2015-03-31T09:50:15+00:00" pubdate="">2015年3月31日 at 上午9:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14145">
<article class="comment" id="comment-14145">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14145" rel="nofollow"><time datetime="2015-01-31T16:21:53+00:00" pubdate="">2015年1月31日 at 下午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14139">
<article class="comment" id="comment-14139">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14139" rel="nofollow"><time datetime="2014-11-08T14:46:30+00:00" pubdate="">2014年11月8日 at 下午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的代码！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14136">
<article class="comment" id="comment-14136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14136" rel="nofollow"><time datetime="2014-10-27T16:27:43+00:00" pubdate="">2014年10月27日 at 下午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54980">
<article class="comment" id="comment-54980">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-54980" rel="nofollow"><time datetime="2014-10-26T23:30:09+00:00" pubdate="">2014年10月26日 at 下午11:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14143">
<article class="comment" id="comment-14143">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14143" rel="nofollow"><time datetime="2014-07-25T15:32:08+00:00" pubdate="">2014年7月25日 at 下午3:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞！！~~大赞！！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14134">
<article class="comment" id="comment-14134">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14134" rel="nofollow"><time datetime="2014-07-08T12:07:15+00:00" pubdate="">2014年7月8日 at 下午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14137">
<article class="comment" id="comment-14137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14137" rel="nofollow"><time datetime="2014-05-28T21:04:09+00:00" pubdate="">2014年5月28日 at 下午9:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额，不对应吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14135">
<article class="comment" id="comment-14135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14135" rel="nofollow"><time datetime="2014-05-07T10:34:09+00:00" pubdate="">2014年5月7日 at 上午10:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14133">
<article class="comment" id="comment-14133">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14133" rel="nofollow"><time datetime="2014-01-13T19:38:11+00:00" pubdate="">2014年1月13日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是穷举，但是代码有优化（v数组），并不是2^n。测试数据应该没问题，之前有超时的代码。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14144">
<article class="comment" id="comment-14144">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-1545-01-K-Code-2102.html#comment-14144" rel="nofollow"><time datetime="2013-12-20T19:42:25+00:00" pubdate="">2013年12月20日 at 下午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>