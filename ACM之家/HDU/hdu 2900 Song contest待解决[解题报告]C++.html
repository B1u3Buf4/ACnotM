<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-21</div>
<div class="tit"><h1 class="entry-title">hdu 2900 Song contest待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观435次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4561" href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comments" title="《hdu 2900 Song contest待解决[解题报告]C++》上的评论">19 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Song contest</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Every year, the continent of Cacophonea organises the Cacophonean Song Contest, for which each of its nations presents an act by a national singer or group. Each Cacophonean inhabitant may televote for any act which is not from his nation, so a nation can never vote for its own act. In the end, each of the s Cacophonean nations will award points to r acts. The act which received most votes from a certain nation will get r points from this nation, the act with the second largest amount of votes will get r – 1 points, etc., so the act with the rth largest amount of votes gets 1 point and less popular acts get no points from the voting nation. The  final ranking of the song-contest will then be decided by the total amount of points each nation received. 
<p>Music producer Dustin has been eagerly following the Cacophonean Song Contest for many years. Lately, he has observed that in certain nations, televotes are politically rather than artisti-cally motivated:</p>
<p> Politically voting nations prefer acts from neighbouring nations. More speci cally, the Eu-clidean distance between their capital and another nation’s capital is their popularity measure, irregardless of the artistic quality of the corresponding act. Hence, the nation with the closest capital will get most votes and the nation with the farthest capital will receive the least votes, which could yield no points at all if r &lt; s -1. It will never occur that two or more capitals will have the same distance to a certain capital.</p>
<p>Nations that vote quality-motivated will, as the name suggests, award points to nations according to an indisputable act ranking based on each act’s artistic quality. In this ranking,there will be no ties so each nation has its own unique rank.</p>
<p>However, Dustin has heard he can in uence the voting behaviour of other nations: an artist can find favour of politically voting nations by giving them special attention during his act (e.g. by singing parts in their local dialects, waving their  ags, etcetera). The more a politically voting nation will receive such attention in an act, the higher it will rank it. Of course this will be at the  cost of the original act and might result in terribly campy results. Therefore, nations that vote according to artistic quality will punish such behaviour. </p>
<p>More speci cally, Dustin can divide an act into exactly s – 1 parts. Originally, all parts are dedicated to the nation of the performer (i.e. they re ect his original artistic ideas), but this can be changed: </p>
<p>For each part in the act that will be dedicated to a certain politically voting nation, that nation will rank the performer’s nation one place higher (unless the performer’s nation is already ranked  rst). As each nation has a unique ranking position, the nation that originally was at that higher rank will then be ranked one place lower. </p>
<p>Quality-motivated voting nations do not like these soft-soaping attempts at all. Therefore, for each part in the act that will be dedicated to a nation which is not the original performer’s nation, quality-motivated nations will rank the original performer’s nation one place lower (unless the performer’s nation is already ranked lowest).</p>
<p>Only the fact that a certain amount of parts is dedicated to a certain nation will in uence voting behaviour: the exact part dedication sequence in the total act is not of interest here.</p>
<p>Dustin wants to use this knowledge (which no other Cacophonean producer has) to produce asmashing act, yielding as much points in the overall results as possible. You are asked to determine what the largest possible overall point score is he can obtain for an act, when he optimally exploits the described act-changing practices. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The  rst line of input consists of the integer number n, the number of test cases;
<p>Then, for each test case:</p>
<p>A line with an integer number s (1 &lt; s &lt;= 100), indicating the number of participating nations in the song contest;</p>
<p>Then, for each nation:</p>
<p> A line containing:A string c (not containing any spaces) with the nation’s name, followed by a space. Within a test case, there will not be multiple nations sharing the same name  ;</p>
<p>A character indicating the nation’s voting behaviour: ‘q’ if the voting behaviour is quality-motivated and ‘p’ if the behaviour is politically motivated. </p>
<p>A line containing: </p>
<p>The location of the nation’s capital, expressed in an (x, y) integer coordinate(-10000 &lt;=x &lt;= 10000, -10000 &lt;= y &lt;= 10000). x and y are separated by a space. Furthermore, y is followed by a space; </p>
<p>The actual artistic quality rank q of the nation’s act. This is a unique number-in the range 1 ….. s.  </p>
<p>A line with an integer number r (0 &lt; r &lt;= s – 1), indicating to how many nations each nation will attribute points; <br/>A line with the name of the nation for which Dustin should produce a song, achieving as much points as possible. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The  rst line of input consists of the integer number n, the number of test cases;
<p>Then, for each test case:</p>
<p>A line with an integer number s (1 &lt; s &lt;= 100), indicating the number of participating nations in the song contest;</p>
<p>Then, for each nation:</p>
<p> A line containing:A string c (not containing any spaces) with the nation’s name, followed by a space. Within a test case, there will not be multiple nations sharing the same name  ;</p>
<p>A character indicating the nation’s voting behaviour: ‘q’ if the voting behaviour is quality-motivated and ‘p’ if the behaviour is politically motivated. </p>
<p>A line containing: </p>
<p>The location of the nation’s capital, expressed in an (x, y) integer coordinate(-10000 &lt;=x &lt;= 10000, -10000 &lt;= y &lt;= 10000). x and y are separated by a space. Furthermore, y is followed by a space; </p>
<p>The actual artistic quality rank q of the nation’s act. This is a unique number-in the range 1 ….. s.  </p>
<p>A line with an integer number r (0 &lt; r &lt;= s – 1), indicating to how many nations each nation will attribute points; <br/>A line with the name of the nation for which Dustin should produce a song, achieving as much points as possible.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
Aulatrias q
0 0 1
Binen q
5 0 2
Cahin q
0 -4 3
2
Cahin
3
Aulatrias p
0 0 1
Binen p
5 0 2
Cahin p
0 -4 3
2
Binen</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
4</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81459">
<article class="comment" id="comment-81459">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516862" rel="external nofollow">新用户114991</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-81459" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁得了美元该揭露！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81458">
<article class="comment" id="comment-81458">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516862" rel="external nofollow">新用户114991</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-81458" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁得了美元该揭露！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81457">
<article class="comment" id="comment-81457">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516862" rel="external nofollow">新用户114991</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-81457" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁得了美元该揭露！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81456">
<article class="comment" id="comment-81456">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516862" rel="external nofollow">新用户114991</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-81456" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁得了美元该揭露！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81455">
<article class="comment" id="comment-81455">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516862" rel="external nofollow">新用户114991</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-81455" rel="nofollow"><time datetime="2017-04-12T18:13:49+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁得了美元该揭露！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46951">
<article class="comment" id="comment-46951">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">windy</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-46951" rel="nofollow"><time datetime="2015-04-15T20:38:29+00:00" pubdate="">2015年4月15日 at 下午8:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46952">
<article class="comment" id="comment-46952">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-46952" rel="nofollow"><time datetime="2015-03-07T00:38:58+00:00" pubdate="">2015年3月7日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25571">
<article class="comment" id="comment-25571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25571" rel="nofollow"><time datetime="2015-01-25T16:20:08+00:00" pubdate="">2015年1月25日 at 下午4:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46953">
<article class="comment" id="comment-46953">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-46953" rel="nofollow"><time datetime="2015-01-24T07:51:28+00:00" pubdate="">2015年1月24日 at 上午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>换句话说，A[k/2-1]不可能大于两数组合并之后的第k小值，所以我们可以将其抛弃。<br/>
应该是，不可能小于合并后的第K小值吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25570">
<article class="comment" id="comment-25570">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25570" rel="nofollow"><time datetime="2015-01-17T23:01:05+00:00" pubdate="">2015年1月17日 at 下午11:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25573">
<article class="comment" id="comment-25573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25573" rel="nofollow"><time datetime="2014-12-17T14:24:47+00:00" pubdate="">2014年12月17日 at 下午2:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你的理解应该是：即使主持人拿走一个箱子对结果没有影响。这样想，主持人拿走的箱子只是没有影响到你初始选择的那个箱子中有奖品的概率，但是改变了其余两个箱子的概率分布。由 1/3,1/3 变成了 0, 2/3</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46950">
<article class="comment" id="comment-46950">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-46950" rel="nofollow"><time datetime="2014-12-03T18:52:24+00:00" pubdate="">2014年12月3日 at 下午6:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>较好的写法是 start+(end-start)/2</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62987">
<article class="comment" id="comment-62987">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">asdass</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-62987" rel="nofollow"><time datetime="2014-09-23T02:38:53+00:00" pubdate="">2014年9月23日 at 上午2:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25574">
<article class="comment" id="comment-25574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25574" rel="nofollow"><time datetime="2014-06-28T18:54:11+00:00" pubdate="">2014年6月28日 at 下午6:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25567">
<article class="comment" id="comment-25567">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25567" rel="nofollow"><time datetime="2014-06-05T19:57:18+00:00" pubdate="">2014年6月5日 at 下午7:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57598">
<article class="comment" id="comment-57598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-57598" rel="nofollow"><time datetime="2014-05-22T21:41:34+00:00" pubdate="">2014年5月22日 at 下午9:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>全是智力分析的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25568">
<article class="comment" id="comment-25568">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rosamondwu</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25568" rel="nofollow"><time datetime="2014-04-20T15:48:02+00:00" pubdate="">2014年4月20日 at 下午3:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25569">
<article class="comment" id="comment-25569">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25569" rel="nofollow"><time datetime="2014-04-06T14:53:32+00:00" pubdate="">2014年4月6日 at 下午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25572">
<article class="comment" id="comment-25572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-2900-song-contest-4561.html#comment-25572" rel="nofollow"><time datetime="2014-03-19T05:34:02+00:00" pubdate="">2014年3月19日 at 上午5:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>