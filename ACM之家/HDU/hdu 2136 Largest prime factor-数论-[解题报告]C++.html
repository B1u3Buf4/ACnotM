<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-29</div>
<div class="tit"><h1 class="entry-title">hdu 2136 Largest prime factor-数论-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a></span><span class="i4">围观1987次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3285" href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comments" title="《hdu 2136 Largest prime factor-数论-[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Largest prime factor</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Everybody knows any number can be combined by the prime number.<br/>Now, your task is telling me what position of the largest prime factor.<br/>The position of prime 2 is 1, prime 3 is 2, and prime 5 is 3, etc.<br/>Specially, LPF(1) = 0. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each line will contain one integer n(0 &lt; n &lt; 1000000). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Each line will contain one integer n(0 &lt; n &lt; 1000000).</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2
3
4
5</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0
1
2
1
3</pre>
<p> <!-- problem end --></p>
<p>地址：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2136">http://acm.hdu.edu.cn/showproblem.php?pid=2136</a></p>
<p>题意：问一个数n最大的素因子是第几个素数。</p>
<p>mark：之前一直TLE。素数表不打好会TLE，分解素因子的时候不加sqrt优化也会TLE。。。</p>
<p>先打好100w的素数表，把素数的位序标记好，然后从1到sqrt(n)分解n，得到n最大的素因子后，再看是第几个。</p>
<p>代码：</p>
<pre class="brush:cpp "># include &lt;stdio.h&gt;
# include &lt;math.h&gt;


int IsPrime[1000010] ;
int Primes[1000010] ;
int cnt = 0 ;


void init()
{
    int i, j ;
    for(i = 1 ; i &lt;= 1000000 ; i++) IsPrime[i] = 1 ;
    for(i = 2 ; i &lt;= 1000 ; i++)if (IsPrime[i])
    {
        for (j = i*i ; j &lt;= 1000000 ; j+=i)
            IsPrime[j] = 0 ;
    }
    for(i = 1 ; i &lt;= 1000000 ; i++) if (IsPrime[i])
    {
        IsPrime[i] = cnt ;
        Primes[cnt++] = i ;
    }
}


int calc(int n)
{
    int i, lim = sqrt(n)+1, rtn = 0 ;
    for(i = 1 ; Primes[i] &lt;= lim &amp;&amp; n != 1; i++)
    {
        while (n%Primes[i] == 0)
        {
            n/=Primes[i] ;
            rtn = i ;
        }
    }
    if (n == 1) return rtn ;
    return IsPrime[n] ;
}


int main ()
{
    int n ;
    init() ;
    while (~scanf ("%d", &amp;n))
        printf ("%d\n", calc(n)) ;
    return 0 ;
}</pre>
<p>解题转自：http://www.cnblogs.com/lzsz1212/archive/2012/02/02/2335567.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-87065">
<article class="comment" id="comment-87065">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520580" rel="external nofollow">新用户115015</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-87065" rel="nofollow"><time datetime="2017-04-13T05:36:40+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>谁说的，上次我在北京，那段时间经常拉肚子，吃的又少，还工作到晚上10点，回去11点了，就遇到鬼打墙了，短短的路走了半个小时没走出去，幸亏我有点傻福气，问人了，才破了那个局，这东西其实在我们周围，要经常发善心，不做亏心事就不怕</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56280">
<article class="comment" id="comment-56280">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-56280" rel="nofollow"><time datetime="2015-07-03T13:57:12+00:00" pubdate="">2015年7月3日 at 下午1:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题本身没错，但是HDOJ放题目的时候，前面有个题目解释了什么是XXX定律。<br/>
这里直接放了这个题目，肯定没几个人明白是干啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19450">
<article class="comment" id="comment-19450">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">winter</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19450" rel="nofollow"><time datetime="2015-07-01T14:30:52+00:00" pubdate="">2015年7月1日 at 下午2:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19448">
<article class="comment" id="comment-19448">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19448" rel="nofollow"><time datetime="2015-04-20T03:09:16+00:00" pubdate="">2015年4月20日 at 上午3:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19447">
<article class="comment" id="comment-19447">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19447" rel="nofollow"><time datetime="2015-03-25T08:36:41+00:00" pubdate="">2015年3月25日 at 上午8:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19452">
<article class="comment" id="comment-19452">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">final</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19452" rel="nofollow"><time datetime="2015-02-05T16:17:50+00:00" pubdate="">2015年2月5日 at 下午4:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19451">
<article class="comment" id="comment-19451">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19451" rel="nofollow"><time datetime="2015-01-29T18:39:32+00:00" pubdate="">2015年1月29日 at 下午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56281">
<article class="comment" id="comment-56281">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wizcabbit</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-56281" rel="nofollow"><time datetime="2014-12-06T08:16:05+00:00" pubdate="">2014年12月6日 at 上午8:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19454">
<article class="comment" id="comment-19454">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19454" rel="nofollow"><time datetime="2014-11-03T22:07:31+00:00" pubdate="">2014年11月3日 at 下午10:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>沙发呢，我抢到了沙发</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44105">
<article class="comment" id="comment-44105">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-44105" rel="nofollow"><time datetime="2014-10-28T17:13:05+00:00" pubdate="">2014年10月28日 at 下午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44104">
<article class="comment" id="comment-44104">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-44104" rel="nofollow"><time datetime="2014-08-22T03:51:03+00:00" pubdate="">2014年8月22日 at 上午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19446">
<article class="comment" id="comment-19446">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19446" rel="nofollow"><time datetime="2014-07-08T02:17:24+00:00" pubdate="">2014年7月8日 at 上午2:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19449">
<article class="comment" id="comment-19449">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19449" rel="nofollow"><time datetime="2014-06-05T09:59:38+00:00" pubdate="">2014年6月5日 at 上午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19453">
<article class="comment" id="comment-19453">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/hdu-2136-largest-prime-factor-3285.html#comment-19453" rel="nofollow"><time datetime="2014-02-15T21:07:15+00:00" pubdate="">2014年2月15日 at 下午9:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>