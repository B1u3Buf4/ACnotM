<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-09</div>
<div class="tit"><h1 class="entry-title">HDU 1372 Knight Moves-BFS-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/graph/graph-visit" rel="category tag" title="查看图的遍历中的全部文章">图的遍历</a></span><span class="i4">围观1798次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1802" href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comments" title="《HDU 1372 Knight Moves-BFS-[解题报告] C++》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Knight Moves</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
A friend of you is doing research on the Traveling Knight Problem (TKP) where you are to find the shortest closed tour of knight moves that visits each square of a given set of n squares on a chessboard exactly once. He thinks that the most difficult part of the problem is determining the smallest number of knight moves between two given squares and that, once you have accomplished this, finding the tour would be easy.<br/>Of course you know that it is vice versa. So you offer him to write a program that solves the "difficult" part. 
<p>Your job is to write a program that takes two squares a and b as input and then determines the number of knight moves on a shortest route from a to b.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input file will contain one or more test cases. Each test case consists of one line containing two squares separated by one space. A square is a string consisting of a letter (a-h) representing the column and a digit (1-8) representing the row on the chessboard.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, print one line saying "To get from xx to yy takes n knight moves.". </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
e2 e4
a1 b2
b2 c3
a1 h8
a1 h7
h8 a1
b1 c3
f6 f6</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
To get from e2 to e4 takes 2 knight moves.
To get from a1 to b2 takes 4 knight moves.
To get from b2 to c3 takes 2 knight moves.
To get from a1 to h8 takes 6 knight moves.
To get from a1 to h7 takes 5 knight moves.
To get from h8 to a1 takes 6 knight moves.
To get from b1 to c3 takes 1 knight moves.
To get from f6 to f6 takes 0 knight moves.</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1372">Problem link adress:click here</a></p>
<p>This is a basic BFS problem.But the way of knight’s move  is strange,if you don’t know the law of the knight’s move,you are likely to cann’t work the problem out.However,if you can find the regularity of the problem from the given cases’s data,you must be very smart!</p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;queue&gt;
#include&lt;string&gt;
using namespace std;
int map[10][10];
char s1[5],s2[5];
int visted[10][10];
int x1,y1;
int x2,y2;
int dir[8][2]={1,2,-1,2,1,-2,-1,-2,2,1,2,-1,-2,1,-2,-1};
struct node
{
	int x,y,step;
};
void BFS()
{
	int x,y;
	node cur,next;
	queue&lt;node&gt;q;
	memset(visted,0,sizeof(visted));
	cur.x=x1;
	cur.y=y1;
	cur.step=0;
	visted[x1][y1]=1;
	q.push(cur);
	while(!q.empty())
	{
		cur=q.front();
		q.pop();
		if(cur.x==x2&amp;&amp;cur.y==y2)
		{
			printf("To get from %s to %s takes %d knight moves.\n",s1,s2,cur.step);
			return ;
		}
		for(int i=0;i&lt;8;i++)
		{
			next.x=x=cur.x+dir[i][0];
			next.y=y=cur.y+dir[i][1];
		    next.step=cur.step+1;
			if(x&gt;=0&amp;&amp;x&lt;8&amp;&amp;y&gt;=0&amp;&amp;y&lt;8)
			{
				visted[x][y]=1;
				q.push(next);
			}

		}
	}
}


int main()
{
	
	while(scanf("%s%s",s1,s2)!=EOF)
	{
		x1=s1[0]-'a';
		y1=s1[1]-'1';
		x2=s2[0]-'a';
		y2=s2[1]-'1';
		BFS();
	}
	return 0;
}</pre>
<p>　　</p>
<p>解题报告转自：http://www.cnblogs.com/heat-man/archive/2012/12/22/2829576.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-40770">
<article class="comment" id="comment-40770">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-40770" rel="nofollow"><time datetime="2015-07-12T10:48:54+00:00" pubdate="">2015年7月12日 at 上午10:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12857">
<article class="comment" id="comment-12857">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-12857" rel="nofollow"><time datetime="2015-07-10T17:50:31+00:00" pubdate="">2015年7月10日 at 下午5:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12855">
<article class="comment" id="comment-12855">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-12855" rel="nofollow"><time datetime="2015-05-29T15:13:31+00:00" pubdate="">2015年5月29日 at 下午3:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>2的64次方是多少？ 这到底是在考什么啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12853">
<article class="comment" id="comment-12853">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-12853" rel="nofollow"><time datetime="2015-03-09T09:29:45+00:00" pubdate="">2015年3月9日 at 上午9:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61521">
<article class="comment" id="comment-61521">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-61521" rel="nofollow"><time datetime="2014-11-10T16:26:16+00:00" pubdate="">2014年11月10日 at 下午4:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12854">
<article class="comment" id="comment-12854">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-12854" rel="nofollow"><time datetime="2014-08-30T18:31:29+00:00" pubdate="">2014年8月30日 at 下午6:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40771">
<article class="comment" id="comment-40771">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-40771" rel="nofollow"><time datetime="2014-06-12T10:17:53+00:00" pubdate="">2014年6月12日 at 上午10:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12856">
<article class="comment" id="comment-12856">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-12856" rel="nofollow"><time datetime="2014-03-08T21:01:06+00:00" pubdate="">2014年3月8日 at 下午9:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54663">
<article class="comment" id="comment-54663">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-54663" rel="nofollow"><time datetime="2014-01-04T21:36:24+00:00" pubdate="">2014年1月4日 at 下午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40772">
<article class="comment" id="comment-40772">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/hdu-1372-Knight-Moves-1802.html#comment-40772" rel="nofollow"><time datetime="2013-12-23T10:13:21+00:00" pubdate="">2013年12月23日 at 上午10:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>