<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-30</div>
<div class="tit"><h1 class="entry-title">HDU 3684-Gunshots-计算几何-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/convex" rel="category tag" title="查看凸包问题中的全部文章">凸包问题</a>, <a href="http://www.acmerblog.com/category/geometry" rel="category tag" title="查看计算几何中的全部文章">计算几何</a></span><span class="i4">围观482次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6645" href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comments" title="《HDU 3684-Gunshots-计算几何-[解题报告]HOJ》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Gunshots</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
President Bartlet was shot!  A group of terrorists shot to the crowd when President Bartlet waved to cheering people after his address. Many people were shot by the irrational bullets. Senior FBI agent Don Epps takes responsibility for this case. According to a series of crime scene investigation, including analyzing shot shells, replaying video from closed-circle television and collecting testimony by witnesses, Don keeps all the information about where and how the terrorists shot to crowd, as well as the location of every single person when the gun shoot happened.  Now he wants to know how many gunshot victims are there in this case.
<p>Imagine that each target person can be regarded as a polygon (can be concave or self-intersecting) and each gunshot can be regarded as a half-line. The bullet will be stopped by the first person it shoots. A person can be shot in three ways:<br/></p><center><img alt="Gomoku" src="http://www.acmerblog.com/img/1419916252324.gif"/></center> <br/>To simplify the problem, we assume that any two polygons can be completely separated by a line. Also each start point of the gunshot can be separated from each polygon by a line. Now given M people and N gunshots, please work out which person has been shot by each bullet. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are multiple test cases in the input. The first line of the input file is an integer T demonstrating the number of test cases. (T&lt;=10).
<p>For each test case, the first line is an integer N, representing the number of people (polygons). Following lines demonstrates the polygons. For the ith polygon (0&lt;=i&lt;N), the first line is an integer Q<sub>i</sub>, representing the number of edges of this polygon. In each of the following Qi lines, there are two real numbers x<sub>i</sub> and y<sub>i</sub> representing a point. Every pair of adjacent points demonstrate an edge of this polygon (i.e. (x<sub>i</sub>, y<sub>i</sub>) to (x<sub>i+1</sub>, y<sub>i+1</sub>) is an edge, in which 0&lt;=i&lt;Q<sub>i</sub>-1), and (x<sub>Qi-1</sub>, y<sub>Qi-1</sub>) to (x<sub>0</sub>, y<sub>0</sub>) also demonstrates an edge of this polygon. </p>
<p>Then there is a line contains an integer M representing the number of gunshots. In the following M lines, each line contains four real numbers x, y, dx and dy, representing the start point (x, y) and direction vector (dx, dy) of that gunshot. </p>
<p>In all test cases, we assume that 0&lt; N&lt;=100, 0&lt;Q<sub>i</sub>&lt;=1000, 0&lt;M&lt;=10000.  </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are multiple test cases in the input. The first line of the input file is an integer T demonstrating the number of test cases. (T&lt;=10).
<p>For each test case, the first line is an integer N, representing the number of people (polygons). Following lines demonstrates the polygons. For the ith polygon (0&lt;=i&lt;N), the first line is an integer Q<sub>i</sub>, representing the number of edges of this polygon. In each of the following Qi lines, there are two real numbers x<sub>i</sub> and y<sub>i</sub> representing a point. Every pair of adjacent points demonstrate an edge of this polygon (i.e. (x<sub>i</sub>, y<sub>i</sub>) to (x<sub>i+1</sub>, y<sub>i+1</sub>) is an edge, in which 0&lt;=i&lt;Q<sub>i</sub>-1), and (x<sub>Qi-1</sub>, y<sub>Qi-1</sub>) to (x<sub>0</sub>, y<sub>0</sub>) also demonstrates an edge of this polygon. </p>
<p>Then there is a line contains an integer M representing the number of gunshots. In the following M lines, each line contains four real numbers x, y, dx and dy, representing the start point (x, y) and direction vector (dx, dy) of that gunshot. </p>
<p>In all test cases, we assume that 0&lt; N&lt;=100, 0&lt;Q<sub>i</sub>&lt;=1000, 0&lt;M&lt;=10000. </p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
1
4
0 0
1 1
0 1
1 0
2
-1 0 1 0
-2 0 -1 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
HIT 0
MISS
*****

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>The figure of the first case in the samples is as follows:
<center><img alt="Gomoku" src="http://cdn.acmerblog.com/img/1419916252791.gif"/></center> </div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p>题目：在二维平面上，有N个人和M杆枪，每个人可以看成是一个多边形。问每杆枪射到谁了或者MISS。</p>
<p>分析：计算几何、凸包、旋转卡壳。由于题目给出一个很强大的条件、所有的人和枪可以被直线隔开，所以把所有的人看成凸包即可（因为不会把枪和人包进去）。</p>
<p>            1.射击判断：这里利用旋转卡壳，用平行于枪的射线的平行线对卡住人的凸包，那么射线和对踵点对构成的线段相交就是射中的充要条件。</p>
<p>            2.编程优化：如果对于每条射线枚举所有人寻找对踵点对一定会TLE，因此这里利用旋转卡壳计算是斜率的单调性优化。首先，将所有的射线的方向向量映射到(-90,90]区间上（因为凸包计算的斜率均在这个区间）。然后，对所有射线按斜率递增排序。最后，扫描所有的射线，扫描过程中，让卡住凸包的平行线随着射线的斜率旋转即可，每次旋转到刚好不小于射线斜率的时候，卡住的就是平行于射线的平行线对穿过的对踵点对。这里，我是采用先将所有的对踵点对找到存起来，最后用来查找，因为不这么做会TLE（可能是我的编程问题，常数太大了0<br/>
 0）。总体的时间均摊后的代价是O(NM)。WA几次后发现凸包写得有问题，（重点 = =囧），看来改写份凸包的模板了。</p>
<p>注意：是每组后面输出*****（看成最后的了）。</p>
<pre class="brush:cpp" name="code">#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;

using namespace std;

typedef struct pnode
{
    double x,y,d;
    pnode( double a, double b ) {x = a;y = b;}
    pnode(){};
}point;
point P[ 105 ][ 1005 ];
point P0,Pn;
int   Q[ 105 ];
int   top[ 105 ];

typedef struct lnode
{
    double x,y,dx,dy,d;
    int    id,hit,sign;
    lnode( point a, point b ) {x = a.x;y = a.y;dx = b.x-a.x;dy = b.y-a.y;}
    lnode(){};
}line;
line L[ 10005 ];

typedef struct knode
{
    int   size;
    line  l[ 1005 ];
    point a[ 1005 ];
    point b[ 1005 ];
}slope;
slope S[ 105 ];

//两点间距离 
double dist( point a, point b )
{
    return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));
}

//点到直线距离 
double dist( point a, line l )
{
    return fabs(l.dx*(a.y-l.y)-l.dy*(a.x-l.x))/sqrt(l.dx*l.dx+l.dy*l.dy);
}

//叉乘 ab*ac 
double crossproduct( point a, point b, point c )
{
    return (b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y);
}

//返回点a:(x,y)在直线l:(x0+tdx,y0+tdy)的参数t 
double parameter( line l, point a )
{
    if ( l.dx ) return (a.x-l.x)/l.dx*l.sign;
    else return (a.y-l.y)/l.dy*l.sign;
}

//直线相交判断 
bool l_cross_l( line a, line b )
{
    double t1 = b.dx*(a.y-b.y)-b.dy*(a.x-b.x);
    double t2 = b.dx*(a.y+a.dy-b.y)-b.dy*(a.x+a.dx-b.x);
    return t1*t2 &lt;= 0;
}

//两直线交点 
point crosspoint( line l, point a, point b )
{
    line m = line( a, b );
    if ( m.dx*l.dy == m.dy*l.dx ) {
        if ( dist( point( l.x, l.y ), a ) &lt; dist( point( l.x, l.y ), b ) )
            return a;
        else return b;
    }else {
        double a1 = -l.dy,b1 = l.dx,c1 = l.dx*l.y-l.dy*l.x;
        double a2 = -m.dy,b2 = m.dx,c2 = m.dx*m.y-m.dy*m.x;
        double x = (c1*b2-c2*b1)/(a1*b2-a2*b1);
        double y = (c1*a2-c2*a1)/(b1*a2-b2*a1);
        return point( x, y );
    } 
}

//两向量的夹角余弦 
double angle( line a, line b )
{
    return (a.dx*b.dx+a.dy*b.dy)/sqrt(a.dx*a.dx+a.dy*a.dy)/sqrt(b.dx*b.dx+b.dy*b.dy);
}

//点排序 
bool cmp1( point a, point b )
{
    if ( a.x == b.x ) return a.y &lt; b.y;
    else return a.x &lt; b.x;
}

//级角排序 
bool cmp2( point a, point b )
{
    double cp = crossproduct( P0, a, b );
    if ( cp == 0 ) return a.d &lt; b.d;
    else return cp &gt; 0;
}

//直线斜率排序 
bool cmp3( line a, line b )
{
    return a.dy*b.dx &lt; b.dy*a.dx;
}

//直线编号排序 
bool cmp4( line a, line b )
{
    return a.id &lt; b.id;
}

//凸包扫描算法 
void Graham( int N, int M )
{
    point  *p,q; 
    double  d1,d2,a1,a2;
    for ( int i = 0 ; i &lt; N ; ++ i ) {
        p = &amp;P[i][0];
        sort( p+0, p+Q[i], cmp1 );
        P0 = p[0];
        for ( int j = 1 ; j &lt; Q[i] ; ++ j )
            p[j].d = dist( P0, p[j] );
        sort( p+1, p+Q[i], cmp2 );
        
        //计算凸包 
        if ( Q[i] &gt; 2 ) {
            int top = 2;
            for ( int j = 3 ; j &lt; Q[i] ; ++ j ) {
                while ( top &gt; 0 &amp;&amp; crossproduct( p[top-1], p[top], p[j] ) &lt;= 0 ) -- top;
                p[++ top] = p[j];
            }
            p[++ top] = p[0];
            //删掉共线的中间点 
            int now = 1;
            for ( int j = 2 ; j &lt;= top ; ++ j ) 
                if ( crossproduct( p[now-1], p[now], p[j] ) == 0 ) p[now] = p[j];
                else p[++ now] = p[j];
            Q[i] = now;
        }
        
        //计算初始点对 
        int L1 = 0,L2 = 0;
        if ( Q[i] &gt; 1 ) L2 = 1;
        for ( int j = 1 ; j &lt; Q[i] ; ++ j )
            if ( p[j].x &gt; p[(j+1)%Q[i]].x ) {
                L2 = j;break;
            }
        int Ln = L2;
        //旋转卡壳，记录斜率和对踵点对 
        line lt = line( point(0,0), point(0,-1) );
        S[i].size = -1;
        while ( p[L1].x &lt;= p[(L1+1)%Q[i]].x || p[L2].x &gt;= p[(L2+1)%Q[i]].x ) {            
            a1 = angle( lt, line( p[L1], p[(L1+1)%Q[i]] ) );
            a2 = angle( lt, line( p[(L2+1)%Q[i]], p[L2] ) );
    		S[i].size ++;
            S[i].a[S[i].size] = p[L1];
            S[i].b[S[i].size] = p[L2];
            if ( a1 &gt; a2 &amp;&amp; p[L1].x &lt;= p[(L1+1)%Q[i]].x ) {
                lt = line( p[L1], p[(L1+1)%Q[i]] );
                L1 = (L1+1)%Q[i];
            }else {
                lt = line( p[(L2+1)%Q[i]], p[L2] );
                L2 = (L2+1)%Q[i];
            }
            S[i].l[S[i].size] = lt;
        }
        S[i].size ++;
        S[i].a[S[i].size] = p[0];
        S[i].b[S[i].size] = p[Ln];
        S[i].l[S[i].size] = line( point(0,0), point(0,1) );
    }
    int now[101];
    for ( int i = 0 ; i &lt; N ; ++ i ) 
        now[i] = 0;
    
    sort( L, L+M , cmp3 );
    for ( int i = 0 ; i &lt; M ; ++ i ) {
        L[i].hit = -1;
        for ( int j = 0 ; j &lt; N ; ++ j ) {
            while ( cmp3( S[j].l[now[j]], L[i] ) ) ++ now[j];
            //相交判断 
            if ( l_cross_l( line( S[j].a[now[j]], S[j].b[now[j]] ), L[i] ) ) {
                q  = crosspoint( L[i], S[j].a[now[j]], S[j].b[now[j]] );
                d2 = dist( q, point( L[i].x, L[i].y ) );
                //交点在射线的相反方向上 
                if ( parameter( L[i], q ) &lt; 0 ) continue;
                //否则取与射线原点最近的交点 
                if ( L[i].hit == -1 ) {
                    L[i].hit = j;
                    L[i].d = d2;
                }else if ( L[i].d &gt; d2 ) {
                    L[i].hit = j;
                    L[i].d = d2;
                }
            }
        }
    }
    
    sort( L, L+M, cmp4 );
    for ( int i = 0 ; i &lt; M ; ++ i ) 
        if ( L[i].hit != -1 )
            printf("HIT %d\n",L[i].hit);
        else printf("MISS\n");
}

int main()
{
    int T,N,M;
    while ( scanf("%d",&amp;T) != EOF ) 
    while ( T -- ) {
        scanf("%d",&amp;N);
        for ( int i = 0 ; i &lt; N ; ++ i ) {
            scanf("%d",&amp;Q[i]);
            for ( int j = 0 ; j &lt; Q[i] ; ++ j )
                scanf("%lf%lf",&amp;P[i][j].x,&amp;P[i][j].y);
        }
        scanf("%d",&amp;M);
        for ( int i = 0 ; i &lt; M ; ++ i ) {
            scanf("%lf%lf%lf%lf",&amp;L[i].x,&amp;L[i].y,&amp;L[i].dx,&amp;L[i].dy);
            L[i].id = i;
            if ( L[i].dx &lt; 0 ) {//转化区间 
				L[i].dx *= -1;
				L[i].dy *= -1;
				L[i].sign = -1;
			}else L[i].sign = 1;
        }
        Graham( N, M );
        printf("*****\n");
    }
    return 0;
}
</pre>
<p></p>
<p>参考：http://blog.csdn.net/mobius_strip/article/details/8316550</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73404">
<article class="comment" id="comment-73404">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73404" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73403">
<article class="comment" id="comment-73403">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73403" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73402">
<article class="comment" id="comment-73402">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73402" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73401">
<article class="comment" id="comment-73401">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73401" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73400">
<article class="comment" id="comment-73400">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73400" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73399">
<article class="comment" id="comment-73399">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73399" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73398">
<article class="comment" id="comment-73398">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919528222" rel="external nofollow">新用户367950</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-73398" rel="nofollow"><time datetime="2017-04-11T22:05:33+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>***某电商双11前的标价：￥4499</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33028">
<article class="comment" id="comment-33028">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33028" rel="nofollow"><time datetime="2015-07-10T07:23:16+00:00" pubdate="">2015年7月10日 at 上午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3中，GetRightPosition()和GetLeftPosition()与STL中的upper_bound()和lower_boune()的代码实现一样吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33022">
<article class="comment" id="comment-33022">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33022" rel="nofollow"><time datetime="2015-07-01T09:59:50+00:00" pubdate="">2015年7月1日 at 上午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33025">
<article class="comment" id="comment-33025">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33025" rel="nofollow"><time datetime="2015-06-17T02:29:00+00:00" pubdate="">2015年6月17日 at 上午2:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目虽然简单，但是小编做的很到位，应该会给很多人启发吧！对于面试当中不给开辟额外空间的问题不是绝对的，实际上至少是允许少数变量存在的。之前遇到相似的问题也是恍然大悟，今天看到小编这篇文章相见恨晚。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33029">
<article class="comment" id="comment-33029">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33029" rel="nofollow"><time datetime="2015-06-16T11:31:55+00:00" pubdate="">2015年6月16日 at 上午11:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>以了解 想問為甚麼 Tbl[6001] = {1} 初始化都是1<br/>
為何不是Tbl[0]=1 其他為0</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33030">
<article class="comment" id="comment-33030">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33030" rel="nofollow"><time datetime="2015-06-12T06:06:26+00:00" pubdate="">2015年6月12日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>51行错了，改为：void Union(struct subset subsets[], int x, int y)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33027">
<article class="comment" id="comment-33027">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33027" rel="nofollow"><time datetime="2015-05-10T14:08:56+00:00" pubdate="">2015年5月10日 at 下午2:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33026">
<article class="comment" id="comment-33026">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33026" rel="nofollow"><time datetime="2015-05-09T05:31:02+00:00" pubdate="">2015年5月9日 at 上午5:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用代码高亮的插件，再修改下css</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33023">
<article class="comment" id="comment-33023">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33023" rel="nofollow"><time datetime="2015-04-21T18:46:00+00:00" pubdate="">2015年4月21日 at 下午6:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33021">
<article class="comment" id="comment-33021">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33021" rel="nofollow"><time datetime="2015-04-18T05:41:15+00:00" pubdate="">2015年4月18日 at 上午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33032">
<article class="comment" id="comment-33032">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33032" rel="nofollow"><time datetime="2015-02-19T14:42:08+00:00" pubdate="">2015年2月19日 at 下午2:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33024">
<article class="comment" id="comment-33024">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33024" rel="nofollow"><time datetime="2015-02-19T00:10:36+00:00" pubdate="">2015年2月19日 at 上午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33020">
<article class="comment" id="comment-33020">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33020" rel="nofollow"><time datetime="2015-02-15T04:34:33+00:00" pubdate="">2015年2月15日 at 上午4:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有的，已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33031">
<article class="comment" id="comment-33031">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-33031" rel="nofollow"><time datetime="2015-01-26T21:24:02+00:00" pubdate="">2015年1月26日 at 下午9:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“可以发现,树将是满二叉树,”这句话不对吧，构造的树应该是“完全二叉树”，而非“满二叉树”。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50804">
<article class="comment" id="comment-50804">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hwp</a></span> on <a href="http://www.acmerblog.com/hdu-3684-gunshots-6645.html#comment-50804" rel="nofollow"><time datetime="2015-01-20T18:14:06+00:00" pubdate="">2015年1月20日 at 下午6:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>