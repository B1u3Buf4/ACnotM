<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-25</div>
<div class="tit"><h1 class="entry-title">HDU 1001 Sum Problem[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1549次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1256" href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comments" title="《HDU 1001 Sum Problem[解题报告] C++》上的评论">16 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Sum Problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Hey, welcome to HDOJ(Hangzhou Dianzi University Online Judge).
<p>In this problem, your task is to calculate SUM(n) = 1 + 2 + 3 + … + n. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist of a series of integers n, one integer per line. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each case, output SUM(n) in one line, followed by a blank line. You may assume the result will be in the range of 32-bit signed integer.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
100</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1

5050</pre>
<p><!-- problem end --></p>
<p> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1001">http://acm.hdu.edu.cn/showproblem.php?pid=1001</a></p>
<p>  题目看起来是挺简单的，第一反应就是用公式做，哪晓得用公式中间也要注意使用的方法。</p>
<p>不能直接<span style="background-color: #33cccc;">sum=(1+n)*n/2;因为题目只是说结果在32bit之内，但(1+n)*n很可能超出32bit，</span>所以这样写放上去就是错的。</p>
<p>这可能是和编译有关吧！决定今天晚上复习下编译原理这部分的内容。</p>
<p>  <span style="color: #ff0000;">还有一个问题，</span>题目也没有说要输入到文件末尾，但不加EOF判断，放上去又是错的，<span style="background-color: #33cccc;">看来以后只要题目没有给出题目结束的标志时我都默认它要求输入到文件末尾好了。</span>以防万一啊~~</p>
<p> </p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;

int main()
{
	int n;
	int sum;   

	while(scanf("%d",&amp;n)!=EOF)  //eof notice
	{
		//一定要这么算
		if(n%2==0)
			sum=n/2*(1+n);
		else
			sum = (1+n)/2*n;
		printf("%d/n/n",sum); 
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-65014">
<article class="comment" id="comment-65014">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">老衲用飘柔</span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-65014" rel="nofollow"><time datetime="2017-01-12T10:24:55+00:00" pubdate="">2017年1月12日 at 上午10:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题主能问下为什么非得先/2再乘么? 就算时间长那也应该是超时而不显示WA啊.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64561">
<article class="comment" id="comment-64561">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://t.qq.com/tianzhichengjie66961" rel="external nofollow">天之惩诫</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-64561" rel="nofollow"><time datetime="2016-03-12T09:20:25+00:00" pubdate="">2016年3月12日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include<br/>
void main()<br/>
{<br/>
    unsigned int a;<br/>
    while(scanf(“%u”,&amp;a)!=EOF)<br/>
        printf(“%unn”,(1+a)*a/2);<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10311">
<article class="comment" id="comment-10311">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10311" rel="nofollow"><time datetime="2015-07-05T17:22:27+00:00" pubdate="">2015年7月5日 at 下午5:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10309">
<article class="comment" id="comment-10309">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10309" rel="nofollow"><time datetime="2015-05-21T00:29:18+00:00" pubdate="">2015年5月21日 at 上午12:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目虽然简单，但是小编做的很到位，应该会给很多人启发吧！对于面试当中不给开辟额外空间的问题不是绝对的，实际上至少是允许少数变量存在的。之前遇到相似的问题也是恍然大悟，今天看到小编这篇文章相见恨晚。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3401">
<article class="comment" id="comment-3401">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">sora_shiro</span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-3401" rel="nofollow"><time datetime="2015-05-11T14:27:41+00:00" pubdate="">2015年5月11日 at 下午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10314">
<article class="comment" id="comment-10314">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10314" rel="nofollow"><time datetime="2015-04-12T02:08:16+00:00" pubdate="">2015年4月12日 at 上午2:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10315">
<article class="comment" id="comment-10315">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10315" rel="nofollow"><time datetime="2015-03-10T14:14:31+00:00" pubdate="">2015年3月10日 at 下午2:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，算是枚举吧，已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10318">
<article class="comment" id="comment-10318">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10318" rel="nofollow"><time datetime="2015-02-28T20:29:34+00:00" pubdate="">2015年2月28日 at 下午8:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10308">
<article class="comment" id="comment-10308">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10308" rel="nofollow"><time datetime="2015-01-27T01:19:19+00:00" pubdate="">2015年1月27日 at 上午1:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10307">
<article class="comment" id="comment-10307">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10307" rel="nofollow"><time datetime="2014-08-22T08:09:23+00:00" pubdate="">2014年8月22日 at 上午8:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10312">
<article class="comment" id="comment-10312">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10312" rel="nofollow"><time datetime="2014-08-12T09:26:33+00:00" pubdate="">2014年8月12日 at 上午9:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10317">
<article class="comment" id="comment-10317">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10317" rel="nofollow"><time datetime="2014-07-29T18:29:42+00:00" pubdate="">2014年7月29日 at 下午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的很好~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10316">
<article class="comment" id="comment-10316">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10316" rel="nofollow"><time datetime="2014-05-31T01:05:52+00:00" pubdate="">2014年5月31日 at 上午1:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10313">
<article class="comment" id="comment-10313">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liluvu</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10313" rel="nofollow"><time datetime="2014-02-15T10:55:54+00:00" pubdate="">2014年2月15日 at 上午10:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分三种情况讨论。Not Possible就是impossible</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39524">
<article class="comment" id="comment-39524">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-39524" rel="nofollow"><time datetime="2014-02-12T11:01:21+00:00" pubdate="">2014年2月12日 at 上午11:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10310">
<article class="comment" id="comment-10310">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/hdu-1001-Sum-Problem-1256.html#comment-10310" rel="nofollow"><time datetime="2013-12-04T07:27:00+00:00" pubdate="">2013年12月4日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>