<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-27</div>
<div class="tit"><h1 class="entry-title">HDU 1086 You can Solve a Geometry Problem too-计算几何-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观734次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1356" href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comments" title="《HDU 1086 You can Solve a Geometry Problem too-计算几何-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">You can Solve a Geometry Problem too</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Many geometry（几何）problems were designed in the ACM/ICPC. And now, I also prepare a geometry problem for this final exam. According to the experience of many ACMers, geometry problems are always much trouble, but this problem is very easy, after all we are now attending an exam, not a contest :)<br/>Give you N (1&lt;=N&lt;=100) segments（线段）, please output the number of all intersections（交点）. You should count repeatedly if M (M&gt;2) segments intersect at the same point.
<p>Note:<br/>You can assume that two segments would not intersect at more than one point.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input contains multiple test cases. Each test case contains a integer N (1=N&lt;=100) in a line first, and then N lines follow. Each line describes one segment with four float values x1, y1, x2, y2 which are coordinates of the segment’s ending. <br/>A test case starting with 0 terminates the input and this test case is not to be processed. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each case, print the number of intersections, and one line one case.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
0.00 0.00 1.00 1.00
0.00 1.00 1.00 0.00
3
0.00 0.00 1.00 1.00
0.00 1.00 1.00 0.000
0.00 0.00 1.00 0.00
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3</pre>
<p><!-- problem end --></p>
<p><a href="http://blog.csdn.net/nywsp/article/details/8521559" title="http://blog.csdn.net/nywsp/article/details/8521559"><span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">原址： http://blog.csdn.net/nywsp/article/details/8521559</span></a></p>
<p>hdu 1086 求线段焦点数</p>
<p><span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">因为 两向量叉乘==两向量构成的平行四边形(以两向量为邻边)的面积 , 所以上面的公式也不难理解. </span><br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/><br/>
<span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">而且由于向量是有方向的, 所以面积也是有方向的, 通常我们以逆时针为正, 顺时针为负数. </span><br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/><br/>
<br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/><br/>
<span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">改良算法关键点就是: </span><br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/><br/>
<span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">如果”线段ab和点c构成的三角形面积”与”线段ab和点d构成的三角形面积” 构成的三角形面积的正负符号相异, </span><br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/><br/>
<span style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;">那么点c和点d位于线段ab两侧. 如下图所示: </span><br style="font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/>
</p>
<p><img alt="" src="http://dl.iteye.com/upload/picture/pic/112459/4de37912-f58a-32c3-aaff-32c85ef8b11c.png" style="border: 0px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px; line-height: 25.200000762939453px;"/></p>
<p><span style="font-family: Helvetica,Tahoma,Arial,sans-serif;"><span style="font-size: 14px; line-height: 25.200000762939453px;">注意面积等于0也是交点</span></span></p>
<p> </p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;math.h&gt;
#include&lt;stdio.h&gt;
using namespace std;
struct as
{
    double x;
    double y;
}p[210];
int is_cm(as a,as b,as c,as d)//判断是否相交
{
    double Sabc=(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x);
    double Sabd=(b.x-a.x)*(d.y-a.y)-(b.y-a.y)*(d.x-a.x);
    if(Sabc*Sabd&gt;0)
        return 0;
    double Scda=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x);
    double Scdb=(d.x-c.x)*(b.y-c.y)-(d.y-c.y)*(b.x-c.x);
    if(Scda*Scdb&lt;=0)
        return 1;
    else
        return 0;
}
int main()
{
    int n,i,j,sum;
    while(cin&gt;&gt;n,n)
    {
        sum=0;
        for(i=0;i&lt;2*n;i++)
           scanf("%lf%lf",&amp;p[i].x,&amp;p[i].y);
        for(i=0;i&lt;2*n;i+=2)
            for(j=i+2;j&lt;2*n;j+=2)
            if(is_cm(p[i],p[i+1],p[j],p[j+1]))
                sum++;
        cout&lt;&lt;sum&lt;&lt;endl;
    }
}</pre>
<p> </p>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-39803">
<article class="comment" id="comment-39803">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-39803" rel="nofollow"><time datetime="2015-06-23T15:58:57+00:00" pubdate="">2015年6月23日 at 下午3:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10883">
<article class="comment" id="comment-10883">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10883" rel="nofollow"><time datetime="2015-02-28T07:26:33+00:00" pubdate="">2015年2月28日 at 上午7:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>方法二可行，已测试<br/>
<a href="http://blog.csdn.net/alpc_paul/article/details/33769407" rel="nofollow">http://blog.csdn.net/alpc_paul/article/details/33769407</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39801">
<article class="comment" id="comment-39801">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-39801" rel="nofollow"><time datetime="2015-01-12T16:13:13+00:00" pubdate="">2015年1月12日 at 下午4:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10888">
<article class="comment" id="comment-10888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10888" rel="nofollow"><time datetime="2014-12-13T08:08:20+00:00" pubdate="">2014年12月13日 at 上午8:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10882">
<article class="comment" id="comment-10882">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10882" rel="nofollow"><time datetime="2014-10-25T09:06:14+00:00" pubdate="">2014年10月25日 at 上午9:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>6题应该就是算概率的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10889">
<article class="comment" id="comment-10889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10889" rel="nofollow"><time datetime="2014-10-18T10:03:50+00:00" pubdate="">2014年10月18日 at 上午10:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目需要求解的是最小值，而且没有考虑可能存在环</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10891">
<article class="comment" id="comment-10891">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fanxianxian</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10891" rel="nofollow"><time datetime="2014-08-26T21:01:06+00:00" pubdate="">2014年8月26日 at 下午9:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得是D哎……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10890">
<article class="comment" id="comment-10890">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10890" rel="nofollow"><time datetime="2014-04-25T01:46:39+00:00" pubdate="">2014年4月25日 at 上午1:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://beeder.me" rel="nofollow">http://beeder.me</a> 这个网站上有很多poj和hihoCoder的题解，质量不错，欢迎转载。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10885">
<article class="comment" id="comment-10885">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10885" rel="nofollow"><time datetime="2014-04-21T19:51:14+00:00" pubdate="">2014年4月21日 at 下午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>必须试过啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39802">
<article class="comment" id="comment-39802">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-39802" rel="nofollow"><time datetime="2014-04-05T16:48:41+00:00" pubdate="">2014年4月5日 at 下午4:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10886">
<article class="comment" id="comment-10886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10886" rel="nofollow"><time datetime="2014-04-04T05:54:11+00:00" pubdate="">2014年4月4日 at 上午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，算是枚举吧，已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10887">
<article class="comment" id="comment-10887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10887" rel="nofollow"><time datetime="2014-03-13T21:38:07+00:00" pubdate="">2014年3月13日 at 下午9:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10884">
<article class="comment" id="comment-10884">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-10884" rel="nofollow"><time datetime="2014-02-06T22:28:27+00:00" pubdate="">2014年2月6日 at 下午10:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39804">
<article class="comment" id="comment-39804">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zoe_music</a></span> on <a href="http://www.acmerblog.com/hdu-1086-You-can-Solve-a-Geometry-Problem-too-1356.html#comment-39804" rel="nofollow"><time datetime="2013-12-27T02:09:01+00:00" pubdate="">2013年12月27日 at 上午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>