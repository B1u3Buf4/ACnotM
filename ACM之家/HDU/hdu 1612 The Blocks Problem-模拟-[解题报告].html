<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-16</div>
<div class="tit"><h1 class="entry-title">hdu 1612 The Blocks Problem-模拟-[解题报告]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观801次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2457" href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comments" title="《hdu 1612 The Blocks Problem-模拟-[解题报告]》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The Blocks Problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Many areas of Computer Science use simple, abstract domains for both analytical and empirical studies. For example, an early AI study of planning and robotics (STRIPS) used a block world in which a robot arm performed tasks involving the manipulation of blocks. <br/>In this problem you will model a simple block world under certain rules and constraints. Rather than determine how to achieve a specified state, you will “program” a robotic arm to respond to a limited set of commands
<p>The problem is to parse a series of commands that instruct a robot arm in how to manipulate blocks that lie on a flat table. Initially there are n blocks on the table (numbered from 0 to n-1) with block bi adjacent to block bi+1 for all 0≤i&lt;n-1 as shown in the diagram below<br/><img src="http://acm.hdu.edu.cn/data/images/1612-1.gif"/><br/>The valid commands for the robot arm that manipulates blocks are: </p>
<p>move a onto b <br/>where a and b are block numbers, puts block a onto block b after returning any blocks that are stacked on top of blocks a and b to their initial positions. </p>
<p>move a over b <br/>where a and b are block numbers, puts block a onto the top of the stack containing block b, after returning any blocks that are stacked on top of block a to their initial positions. </p>
<p>pile a onto b <br/>where a and b are block numbers, moves the pile of blocks consisting of block a, and any blocks that are stacked above block a, onto block b. All blocks on top of block b are moved to their initial positions prior to the pile taking place. The blocks stacked above block a retain their order when moved. </p>
<p>pile a over b <br/>where a and b are block numbers, puts the pile of blocks consisting of block a, and any blocks that are stacked above block a, onto the top of the stack containing block b. The blocks stacked above block a retain their original order when moved. </p>
<p>quit <br/>terminates manipulations in the block world. </p>
<p>Any command in which a = b or in which a and b are in the same stack of blocks is an illegal command. All illegal commands should be ignored and should have no affect on the configuration of blocks.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input begins with an integer n on a line by itself representing the number of blocks in the block world. You may assume that 0 &lt; n &lt; 25. <br/>The number of blocks is followed by a sequence of block commands, one command per line. Your program should process all commands until the quit command is encountered. 
<p>You may assume that all commands will be of the form specified above. There will be no syntactically incorrect commands.  </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output should consist of the final state of the blocks world. Each original block position numbered i (0≤i&lt;n-1 where n is the number of blocks) should appear followed immediately by a colon. If there is at least a block on it, the colon must be followed by one space, followed by a list of blocks that appear stacked in that position with each block number separated from other block numbers by a space. Don’t put any trailing spaces on a line. 
<p>There should be one line of output for each block position (i.e., n lines of output where n is the integer on the first line of input). </p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
10
move 9 onto 1
move 8 over 1
move 7 over 1
move 6 over 1
pile 8 over 6
pile 8 over 5
move 2 over 1
move 4 over 9
quit</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
 0: 0
 1: 1 9 2 4
 2:
 3: 3
 4:
 5: 5 8 7 6
 6:
 7:
 8:
 9:</pre>
<p> <!-- problem end -->
</p><p>终于AC了，这道题目去年寒假卡得我要死，最后一气之下就不做了。。。想想居然一年之久了，我本来都快忘了这道题了，最近发现白书的奥秘，觉得刘汝佳的题目真的相当练思维以及对代码的操作，决定又刷起题目来，这时候才想起这道题。</p>
<p>用栈进行模拟堆砖块，用个rec[]数组记录其现在所在的栈号，比较麻烦的是pile 操作，为了把a以及a以上的所有砖块都以原秩序放置于b砖块顶端，我用了个临时的栈进行存贮，然后再一个一个放到b栈上面。。这样就不会破坏秩序。。但是感觉这样做挺耗时的，原以为通不过，结果还是通过了。。。22ms，也不算太高吧。。不知道还有没有更好的pile方法</p>
<p>这个题目去年我都没想清楚题意，题目里面有个关键词 initial，意味着所有操作要还原的砖块都应该还原到它原本的位置，即 1还原到1号栈 2还原到2号栈，依次类推，因为根据题目的意思以及几大操作分析，一个栈要么就没元素，要么栈底元素就是栈号对应的元素，一旦移走了，栈必为空，一旦要还原，必定就把还原成最原始的样子</p>
<p>。一年了，觉得自己思维进步了一些，这是好事，继续加油！</p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;stack&gt;
#include &lt;queue&gt;
#define N 35
using namespace std;
stack &lt;int&gt; arr[N];
int rec[N];
int n,a,b;
char ch1[5],ch2[5];
void solve()
{
    int temp=arr[rec[a]].top();;
    int t2=arr[rec[b]].top();
    if (temp==t2) return;
    if (ch1[0]=='m' &amp;&amp; ch2[1]=='n')
    {

        while (temp!=a)
        {
            arr[temp].push(temp);
            rec[temp]=temp;
            arr[rec[a]].pop();
            temp=arr[rec[a]].top();
        }

        while (t2!=b)
        {
            arr[t2].push(t2);
            rec[t2]=t2;
            arr[rec[b]].pop();
            t2=arr[rec[b]].top();
        }
        arr[rec[b]].push(a);
        arr[rec[a]].pop();
        rec[a]=rec[b];
        return;
    }
    if (ch1[0]=='m' &amp;&amp; ch2[1]=='v')
    {

        while (temp!=a)
        {
            arr[temp].push(temp);
            rec[temp]=temp;
            arr[rec[a]].pop();
            temp=arr[rec[a]].top();
        }
        arr[rec[b]].push(a);
        arr[rec[a]].pop();
        rec[a]=rec[b];
        return;
    }
    if (ch1[0]=='p' &amp;&amp; ch2[1]=='n')
    {

        while (t2!=b)
        {
            arr[t2].push(t2);
            rec[t2]=t2;
            arr[rec[b]].pop();
            t2=arr[rec[b]].top();
        }
        stack &lt;int&gt; q;
        while (temp!=a)
        {
            q.push(temp);
            arr[rec[a]].pop();
            temp=arr[rec[a]].top();
        }
        arr[rec[b]].push(temp);
        arr[rec[a]].pop();
        rec[a]=rec[b];
        while (!q.empty())
        {
            int tt=q.top();
            q.pop();
            rec[tt]=rec[b];
            arr[rec[b]].push(tt);
        }
        return;
    }
    if (ch1[0]=='p' &amp;&amp; ch2[1]=='v')
    {
        stack &lt;int&gt; q;
        while (temp!=a)
        {
            q.push(temp);
            arr[rec[a]].pop();
            temp=arr[rec[a]].top();
        }
        arr[rec[b]].push(temp);
        arr[rec[a]].pop();
        rec[a]=rec[b];
        while (!q.empty())
        {
            int tt=q.top();
            q.pop();
            rec[tt]=rec[b];
            arr[rec[b]].push(tt);
        }
    }
}
void print()
{
    for (int i=0;i&lt;n;i++)
    {
       printf("%d:",i);
       stack&lt;int&gt; q;
       while (!arr[i].empty())
       {
           int temp=arr[i].top();
           q.push(temp);
           arr[i].pop();
       }

       while (!q.empty())
       {
           printf(" %d",q.top());
           q.pop();
       }

       putchar('\n');
    }
}
int main()
{
    scanf("%d",&amp;n);
    int i,j;
    for (i=0;i&lt;n;i++){
        arr[i].push(i);
        rec[i]=i;
    }
    getchar();
    while (scanf("%s",ch1))
    {
        if (ch1[0]=='q')
            break;
        scanf("%d%s%d",&amp;a,ch2,&amp;b);
        getchar();
        solve();
    }
    print();
}</pre>
<p> </p>
<p>解题转自：http://www.cnblogs.com/kkrisen/archive/2013/12/05/3460445.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-16071">
<article class="comment" id="comment-16071">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tkdzyl2013</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16071" rel="nofollow"><time datetime="2015-06-05T12:00:23+00:00" pubdate="">2015年6月5日 at 下午12:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个 。。。。不是动态规划吧？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16070">
<article class="comment" id="comment-16070">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16070" rel="nofollow"><time datetime="2015-05-04T06:08:49+00:00" pubdate="">2015年5月4日 at 上午6:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16069">
<article class="comment" id="comment-16069">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16069" rel="nofollow"><time datetime="2015-04-14T04:48:28+00:00" pubdate="">2015年4月14日 at 上午4:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16072">
<article class="comment" id="comment-16072">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16072" rel="nofollow"><time datetime="2015-01-21T11:33:41+00:00" pubdate="">2015年1月21日 at 上午11:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16062">
<article class="comment" id="comment-16062">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16062" rel="nofollow"><time datetime="2014-12-25T17:01:05+00:00" pubdate="">2014年12月25日 at 下午5:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16063">
<article class="comment" id="comment-16063">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16063" rel="nofollow"><time datetime="2014-11-27T12:03:36+00:00" pubdate="">2014年11月27日 at 下午12:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16068">
<article class="comment" id="comment-16068">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16068" rel="nofollow"><time datetime="2014-11-14T16:27:08+00:00" pubdate="">2014年11月14日 at 下午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>
	Hello Web Admin, I noticed that your On-Page SEO is is missing a few factors, for one you do not use all three H tags in your post, also I notice that you are not using bold or italics properly in your SEO optimization. On-Page SEO means more now than ever since the new Google update: Panda. No longer are backlinks and simply pinging or sending out a RSS feed the key to getting Google PageRank or Alexa Rankings, You now NEED On-Page SEO. So what is good On-Page SEO?First your keyword must appear in the title.Then it must appear in the URL.You have to optimize your keyword and make sure that it has a nice keyword density of 3-5% in your article with relevant LSI (Latent Semantic Indexing). Then you should spread all H1,H2,H3 tags in your article.Your Keyword should appear in your first paragraph and in the last sentence of the page. You should have relevant usage of Bold and italics of your keyword.There should be one internal link to a page on your blog and you should have one image with an alt tag that has your keyword….wait there's even more Now what if i told you there was a simple WordPress plugin that does all the On-Page SEO, and automatically for you? That's right AUTOMATICALLY, just watch this 4minute video for more information at.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16067">
<article class="comment" id="comment-16067">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16067" rel="nofollow"><time datetime="2014-11-08T04:53:20+00:00" pubdate="">2014年11月8日 at 上午4:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16066">
<article class="comment" id="comment-16066">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zcmu_sls</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16066" rel="nofollow"><time datetime="2014-08-21T14:49:50+00:00" pubdate="">2014年8月21日 at 下午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>沙发呢，我抢到了沙发</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42355">
<article class="comment" id="comment-42355">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-42355" rel="nofollow"><time datetime="2014-08-05T07:42:56+00:00" pubdate="">2014年8月5日 at 上午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16064">
<article class="comment" id="comment-16064">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16064" rel="nofollow"><time datetime="2014-06-23T07:19:29+00:00" pubdate="">2014年6月23日 at 上午7:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42354">
<article class="comment" id="comment-42354">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-42354" rel="nofollow"><time datetime="2014-03-13T11:35:23+00:00" pubdate="">2014年3月13日 at 上午11:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thank you very much</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16065">
<article class="comment" id="comment-16065">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/hdu-1612-The-Blocks-Problem-2457.html#comment-16065" rel="nofollow"><time datetime="2014-02-15T09:54:56+00:00" pubdate="">2014年2月15日 at 上午9:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>