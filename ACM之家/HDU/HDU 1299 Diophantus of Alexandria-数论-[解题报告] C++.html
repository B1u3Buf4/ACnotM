<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1299 Diophantus of Alexandria-数论-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a></span><span class="i4">围观1178次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1669" href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comments" title="《HDU 1299 Diophantus of Alexandria-数论-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Diophantus of Alexandria</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Diophantus of Alexandria was an egypt mathematician living in Alexandria. He was one of the first mathematicians to study equations where variables were restricted to integral values. In honor of him, these equations are commonly called diophantine equations. One of the most famous diophantine equation is x^n + y^n = z^n. Fermat suggested that for n &gt; 2, there are no solutions with positive integral values for x, y and z. A proof of this theorem (called Fermat’s last theorem) was found only recently by Andrew Wiles.
<p>Consider the following diophantine equation: </p>
<p></p><center>1 / x + 1 / y = 1 / n where x, y, n ∈ N+ (1) </center>
<p>Diophantus is interested in the following question: for a given n, how many distinct solutions (i. e., solutions satisfying x ≤ y) does equation (1) have? For example, for n = 4, there are exactly three distinct solutions: </p>
<p></p><center>1 / 5 + 1 / 20 = 1 / 4<br/>1 / 6 + 1 / 12 = 1 / 4<br/>1 / 8 + 1 / 8 = 1 / 4</center>
<p>Clearly, enumerating these solutions can become tedious for bigger values of n. Can you help Diophantus compute the number of distinct solutions for big values of n quickly? </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains the number of scenarios. Each scenario consists of one line containing a single number n (1 ≤ n ≤ 10^9).  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output for every scenario begins with a line containing "Scenario #i:", where i is the number of the scenario starting at 1. Next, print a single line with the number of distinct solutions of equation (1) for the given value of n. Terminate each scenario with a blank line. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
4
1260</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Scenario #1:
3

Scenario #2:
113</pre>
<p><!-- problem end --></p>
<p>        题目大意：给你一个数Ｎ　求　１／Ｘ＋１／Ｙ＝１／Ｎ　中Ｘ　，Ｙ　有几种组合。</p>
<p>　　分析思路：　由题意可知　Ｘ〉Ｎ，Ｙ〉N。  我们可令 Y=N+ K（K为正整数）。</p>
<p>                                化简可得 X= （N* N）/ K + N 。   X，Y 为正整数 。 </p>
<p>                                所以呢， 只需N* N的因子数即可。</p>
<p>                               知道了这个，之后就直接 A 就行。</p>
<p>         代码如下：</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;

#define Len 50000

bool a[Len];
int b[Len];
int k;
void Isprime()
{
     int i,j;
     a[2]=true;
     k=1;
     b[0]=2;
     for(i=3;i&lt;Len;i++)
     {
                       if(i&amp;1)
                       a[i]=true;
                       else
                       false;
     }
     for(i=3;i&lt;Len;i++)
     {
                       if(a[i])
                       {
                               b[k]=i;
                               k++;
                               for(j=i+i;j&lt;Len;j+=i)
                                                    a[j]=false;
                       }
     }
}
int main()
{
    Isprime();
    int x,n,i,j,sum,m=1,t;
    scanf("%d",&amp;n);
    while(n--)
    {
              j=0;
              sum=1;
              scanf("%d",&amp;x);
              for(i=0;i&lt;k;i++)
              {
                    t=0;
                    if(x&lt;b[i])
                    break;
                    while(x%b[i]==0 )
                    {
                           x=x/b[i]; 
                           t++;        
                    }
                    sum *= (t*2+1);
                    j++;
              }
              printf("Scenario #%d:\n",m);
              m++;
              if(x&gt;1)  // 可能 存在 一个 素数 X . 
              sum*=3;
              printf("%d\n\n",(sum+1)/2);
    }
    return 0;
}</pre>
<p></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-40539">
<article class="comment" id="comment-40539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xun.gong</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-40539" rel="nofollow"><time datetime="2015-05-03T21:00:44+00:00" pubdate="">2015年5月3日 at 下午9:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于输出格式不用控制？？还是直接使用cout输出。？？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12298">
<article class="comment" id="comment-12298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12298" rel="nofollow"><time datetime="2015-03-31T03:12:00+00:00" pubdate="">2015年3月31日 at 上午3:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没敢用map，总怕stl用着会超时</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40540">
<article class="comment" id="comment-40540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-40540" rel="nofollow"><time datetime="2014-10-30T17:23:10+00:00" pubdate="">2014年10月30日 at 下午5:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢指出，已改正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12293">
<article class="comment" id="comment-12293">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mazilian</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12293" rel="nofollow"><time datetime="2014-10-01T05:55:17+00:00" pubdate="">2014年10月1日 at 上午5:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40538">
<article class="comment" id="comment-40538">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-40538" rel="nofollow"><time datetime="2014-09-24T08:53:32+00:00" pubdate="">2014年9月24日 at 上午8:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确性是关键，冲突是都会有的，主要是那种算法冲突的概率低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12296">
<article class="comment" id="comment-12296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12296" rel="nofollow"><time datetime="2014-09-11T13:51:03+00:00" pubdate="">2014年9月11日 at 下午1:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很详细！赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40541">
<article class="comment" id="comment-40541">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi2015</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-40541" rel="nofollow"><time datetime="2014-09-01T04:40:31+00:00" pubdate="">2014年9月1日 at 上午4:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，应该是200！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12299">
<article class="comment" id="comment-12299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12299" rel="nofollow"><time datetime="2014-08-30T10:25:06+00:00" pubdate="">2014年8月30日 at 上午10:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40542">
<article class="comment" id="comment-40542">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-40542" rel="nofollow"><time datetime="2014-08-05T05:11:56+00:00" pubdate="">2014年8月5日 at 上午5:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12295">
<article class="comment" id="comment-12295">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12295" rel="nofollow"><time datetime="2014-07-31T10:40:27+00:00" pubdate="">2014年7月31日 at 上午10:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12294">
<article class="comment" id="comment-12294">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12294" rel="nofollow"><time datetime="2014-06-20T19:42:39+00:00" pubdate="">2014年6月20日 at 下午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额，不对应吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12292">
<article class="comment" id="comment-12292">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12292" rel="nofollow"><time datetime="2014-03-30T05:37:09+00:00" pubdate="">2014年3月30日 at 上午5:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说下这个是用的什么算法策略？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12291">
<article class="comment" id="comment-12291">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12291" rel="nofollow"><time datetime="2014-03-29T21:03:08+00:00" pubdate="">2014年3月29日 at 下午9:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的是python代码啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12297">
<article class="comment" id="comment-12297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xun.gong</a></span> on <a href="http://www.acmerblog.com/hdu-1299-Diophantus-of-Alexandria-1669.html#comment-12297" rel="nofollow"><time datetime="2014-02-03T21:21:06+00:00" pubdate="">2014年2月3日 at 下午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>