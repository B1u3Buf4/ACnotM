<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4748-Area-计算几何-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/solid-geometry" rel="category tag" title="查看立体几何中的全部文章">立体几何</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观88次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7793" href="http://www.acmerblog.com/hdu-4748-area-7793.html#comments" title="《HDU 4748-Area-计算几何-[解题报告]HOJ》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<blockquote>
<div class="ptt" lang="en-US">Area</div>
<div class="plm">
<table align="center">
<tbody>
<tr>
<td><strong>Time Limit:</strong> 1000MS</td>
<td width="10px"> </td>
<td><strong>Memory Limit:</strong> 10000K</td>
</tr>
<tr>
<td><strong>Total Submissions:</strong> 5227</td>
<td width="10px"> </td>
<td><strong>Accepted:</strong> 2342</td>
</tr>
</tbody>
</table>
</div>
<p class="pst">Description</p>
<div class="ptx" lang="en-US">Being well known for its highly innovative products, Merck would definitely be a good target for industrial espionage. To protect its brand-new research and development facility the company has installed the latest system of surveillance robots patrolling the area. These robots move along the walls of the facility and report suspicious observations to the central security office. The only flaw in the system a competitor抯 agent could find is the fact that the robots radio their movements unencrypted. Not being able to find out more, the agent wants to use that information to calculate the exact size of the area occupied by the new facility. It is public knowledge that all the corners of the building are situated on a rectangular grid and that only straight walls are used. Figure 1 shows the course of a robot around an example area. <br/><center><br/><img alt="Area" src="http://cdn.acmerblog.com/img/1447930738347.jpg"/> <br/>Figure 1: Example area. </center><br/>You are hired to write a program that calculates the area occupied by the new facility from the movements of a robot along its walls. You can assume that this area is a polygon with corners on a rectangular grid. However, your boss insists that you use a formula he is so proud to have found somewhere. The formula relates the number I of grid points inside the polygon, the number E of grid points on the edges, and the total area A of the polygon. Unfortunately, you have lost the sheet on which he had written down that simple formula for you, so your first task is to find the formula yourself. </div>
<p class="pst">Input</p>
<div class="ptx" lang="en-US">The first line contains the number of scenarios. <br/>For each scenario, you are given the number m, 3 &lt;= m &lt; 100, of movements of the robot in the first line. The following m lines contain pairs 揹x dy�of integers, separated by a single blank, satisfying .-100 &lt;= dx, dy &lt;= 100 and (dx, dy) != (0, 0). Such a pair means that the robot moves on to a grid point dx units to the right and dy units upwards on the grid (with respect to the current position). You can assume that the curve along which the robot moves is closed and that it does not intersect or even touch itself except for the start and end points. The robot moves anti-clockwise around the building, so the area to be calculated lies to the left of the curve. It is known in advance that the whole polygon would fit into a square on the grid with a side length of 100 units. </div>
<p class="pst">Output</p>
<div class="ptx" lang="en-US">The output for every scenario begins with a line containing 揝cenario #i:� where i is the number of the scenario starting at 1. Then print a single line containing I, E, and A, the area A rounded to one digit after the decimal point. Separate the three numbers by two single blanks. Terminate the output for the scenario with a blank line.</div>
<p class="pst">Sample Input</p>
<pre class="sio">2
4
1 0
0 1
-1 0
0 -1
7
5 0
1 3
-2 2
-1 0
0 -3
-3 1
0 -3
</pre>
<p class="pst">Sample Output</p>
<pre class="sio">Scenario #1:
0 4 1.0

Scenario #2:
12 16 19.0</pre>
<p class="pst">Source</p>
<div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=Northwestern+Europe+2001">Northwestern Europe 2001</a></div>
</blockquote>
<div class="ptx" lang="en-US"> </div>
<div class="ptx" lang="en-US">题目大意：给定m个点，注意这里不是直接给的坐标，而是给的由前一个点变化多少，所以一定要看清楚题意，都怪自己英语太差，所以，搞了好久都不知道第一个样例怎么出来的。知道这个之后就是将输入来的“坐标”转化为真正的坐标了，第一个点从(0, 0)开始比较好算，一般选择这个。 这个题用到的定理或者说是知识点说一下：</div>
<div class="ptx" lang="en-US">1.<span style="color: #ff0000;"> Pick定理</span>：给定顶点座标均是整点（或正方形格点）的简单多边形，<strong>皮克定理</strong>说明了其面积<em>A</em>和内部格点数目<em>i</em>、边上格点数目<em>b</em>的关系：<em>A</em> = <em>i</em> + <em>b</em>/2 – 1。</div>
<div class="ptx" lang="en-US">2. <span style="color: #ff0000;">GCD（x, y）求一条线穿过的点数</span>：一条线穿过的点格子的点的个数，这句话讲的比较通俗，我看网上有说覆盖的点的个数，刚开始没怎么理解，后来发现意思就是这条线能穿过多少个点，除了起点之外的，就是说假如中间一个点都没穿过，只有两个端点的话，那么它穿过的点就是1，除了起点之外，就1个。其中x是这条线在x轴上的投影，y是在y轴上的投影长度。</div>
<div class="ptx" lang="en-US">3. <span style="color: #ff0000;">叉积的几何意义</span>：多边形的面积=顺序定点的叉积之和</div>
<div class="ptx" lang="en-US">我的代码：</div>
<div class="ptx" lang="en-US">
<pre class="brush:cpp">#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#include &lt;cmath&gt;
using namespace std;
const int maxn = 105;
struct point{
    int x, y;
};
point p[maxn];
int n;
int x_multi(const point p1, const point p2)
{
    return (p1.x * p2.y - p2.x * p1.y);
}
int gcd(int a, int b)
{
    return b == 0 ? a : gcd(b, a % b);
}
int main()
{
    int t;
    scanf("%d", &amp;t);
    int kase = 0;
    while (t--)
    {
        scanf("%d", &amp;n);
        p[0].x = p[0].y = 0;
        int t1, t2;
        for (int i = 1; i &lt;= n; i++)
        {
            scanf("%d %d", &amp;t1, &amp;t2);
            p[i].x = p[i - 1].x + t1;
            p[i].y = p[i - 1].y + t2;
        }
        int area = 0;
        int outside = 0;
        for (int i = 1; i &lt; n; i++)
        {
            area += x_multi(p[i], p[i + 1]);
            outside += gcd(abs(p[i].x - p[i + 1].x), abs(p[i].y - p[i + 1].y));
        }
        area += x_multi(p[n], p[1]);
        outside += gcd(abs(p[n].x - p[1].x), abs(p[n].y - p[1].y));
        if (area &lt; 0)
            area = -area;
        int inside = area + 2 - outside;
        inside /= 2;
        printf("Scenario #%d:\n", ++kase);
        if (area % 2 == 0)//如果在边界上的定点个数为偶数，面积就是整数
        {
            printf("%d %d %d.0\n\n", inside, outside, area / 2);
        }
        else//反之就是小数
            printf("%d %d %d.5\n\n", inside, outside, area / 2);
    }

    return 0;
}</pre>
<p> 下面是POJ 2954的代码，原题就不粘了，大意：给三角形的三个点的坐标，求三角形内有多少个点。思路还是Pick定理</p>
<p>AC代码</p>
<pre class="brush:cpp">/*************************************************************************
    &gt; File Name:            poj_2954.cpp
    &gt; Author:               Howe_Young
    &gt; Mail:                 1013410795@qq.com
    &gt; Created Time:         2015年04月17日 星期五 20时26分14秒
 ************************************************************************/

#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;cmath&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;cstdio&gt;

using namespace std;
struct point{
    int x, y;
};
int x_multi(const point p1, const point p2, const point p3)
{
    return ((p3.x - p1.x) * (p2.y - p1.y) - (p2.x - p1.x) * (p3.y - p1.y));
}
int gcd(int a, int b)
{
    return b == 0 ? a : gcd(b, a % b);
}
int main()
{
    point p1, p2, p3;
    while (~scanf("%d %d %d %d %d %d", &amp;p1.x, &amp;p1.y, &amp;p2.x, &amp;p2.y, &amp;p3.x, &amp;p3.y) &amp;&amp; (p1.x || p2.x || p3.x || p1.y || p2.y || p3.y))
    {
        int area = x_multi(p1, p2, p3);//这里的area是两倍的area，因为面积没有除以2
        if (area &lt; 0)
            area = -area;
        int on_edge = 0;
        on_edge += gcd(abs(p1.x - p2.x), abs(p1.y - p2.y));
        on_edge += gcd(abs(p1.x - p3.x), abs(p1.y - p3.y));
        on_edge += gcd(abs(p2.x - p3.x), abs(p2.y - p3.y));
        int inside = area + 2 - on_edge;//这个就是pick公式两边同时×2
        inside /= 2;
        printf("%d\n", inside);
    }
    return 0;
}</pre>
<p> </p>
</div>
<p>参考：http://www.cnblogs.com/Howe-Young/p/4435887.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-102386">
<article class="comment" id="comment-102386">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519958" rel="external nofollow">新用户968228</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-102386" rel="nofollow"><time datetime="2017-04-24T13:59:06+00:00" pubdate="">2017年4月24日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>旧版的只到贪婪之岛。。新版嘛，你看都有蚂蚁篇了。。内容倒是差不多的。就是旧版的感觉剧情有点拖…</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-101910">
<article class="comment" id="comment-101910">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919463033" rel="external nofollow">新用户545436</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-101910" rel="nofollow"><time datetime="2017-04-23T14:02:19+00:00" pubdate="">2017年4月23日 at 下午2:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>到霹雳异次元 有闽南语的 你们都不是霹雳粉丝啊 居然都不知道</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-101437">
<article class="comment" id="comment-101437">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516243" rel="external nofollow">新用户387313</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-101437" rel="nofollow"><time datetime="2017-04-22T13:59:14+00:00" pubdate="">2017年4月22日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“好像我的作业没写！作文！没写！试卷！也没写”【表情a】</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-100653">
<article class="comment" id="comment-100653">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512500" rel="external nofollow">新用户525451</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-100653" rel="nofollow"><time datetime="2017-04-21T14:04:14+00:00" pubdate="">2017年4月21日 at 下午2:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>世界所有作家想办法帮你来画 </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96825">
<article class="comment" id="comment-96825">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516777" rel="external nofollow">新用户677469</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-96825" rel="nofollow"><time datetime="2017-04-19T19:07:53+00:00" pubdate="">2017年4月19日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请叫淋枫好不</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66266">
<article class="comment" id="comment-66266">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66266" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66265">
<article class="comment" id="comment-66265">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66265" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66264">
<article class="comment" id="comment-66264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66264" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66263">
<article class="comment" id="comment-66263">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66263" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66262">
<article class="comment" id="comment-66262">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66262" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66261">
<article class="comment" id="comment-66261">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465818" rel="external nofollow">新用户089183</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-66261" rel="nofollow"><time datetime="2017-04-10T14:37:47+00:00" pubdate="">2017年4月10日 at 下午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是天章物语后续的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-65251">
<article class="comment" id="comment-65251">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.wx31.com/" rel="external nofollow">a货网</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-65251" rel="nofollow"><time datetime="2017-03-23T20:05:22+00:00" pubdate="">2017年3月23日 at 下午8:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/6a/laugh.gif"/> 上海a货 COACH(寇驰)TITONI(梅花)iijin(艾今) Goldlion(金利来)Corum(昆仑表)McQueen(麦昆)Hermes(爱马仕)shechipin.cf</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-65117">
<article class="comment" id="comment-65117">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://SKAW.rmb88.gq/" rel="external nofollow">送红包</a></span> on <a href="http://www.acmerblog.com/hdu-4748-area-7793.html#comment-65117" rel="nofollow"><time datetime="2017-03-19T04:28:36+00:00" pubdate="">2017年3月19日 at 上午4:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赠88元彩金 澳门金沙娱乐城MACAU银河国际V5娱乐城hTtP://6374.rmb88.cf</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>