<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1267 下沙的沙子有几粒？-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观945次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1632" href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comments" title="《HDU 1267 下沙的沙子有几粒？-动态规划-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">下沙的沙子有几粒？</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
2005年11月份，我们学校参加了ACM/ICPC 亚洲赛区成都站的比赛，在这里，我们获得了历史性的突破，尽管只是一枚铜牌，但获奖那一刻的激动，也许将永远铭刻在我们几个人的心头。借此机会,特向去年为参加ACM亚洲赛而艰苦集训了近半年的各位老队员表示感谢。<br/>    实际上，除了获奖以外，在这次比赛期间还有一件事也让我们记忆深刻。那是比赛当天等待入场的时候，听到某个学校的一个队员在说：“有个学校的英文名很有意思，叫什么Hangzhou Dianzi University”. 哈哈，看来我们学校的英文名起的非常好，非常吸引人呀。<br/>    不过，事情的发展谁也没有料到，随着杭电英文校名的这一次曝光，影响越来越大，很多人开始对杭电英文校名进行研究，不久以后甚至还成立了一个专门的研究机构，叫做“HDU 校名研究会”。并不断有报道说-相-当-多的知名科学家改行，专门对该问题进行研究，学术界称之为“杭电现象”。很多人在国际知名期刊上发表了研究论文，这其中，尤以中国超级女科学家宇春小姐写的一篇研究报告最为著名，报告发表在science上，标题是“杭电为什么这样红？” 文中研究发现：Hangzhou Dianzi University这个校名具有深刻的哲学思想和内涵，她同时提出了一个大胆的猜想：“假定一个字符串由m个H和n个D组成，从左到右扫描该串，如果字符H的累计数总是不小于字符D的累计数,那么，满足条件的字符串总数就恰好和下沙的沙粒一样多。”<br/>    这就是当今著名的“宇春猜想”！<br/>    虽然还没能从数学上证明这个猜想的正确性，但据说美国方面在小布什的亲自干预下，已经用超级计算机验证了在（1&lt;=n&lt;=m&lt;=1000000000000）时都是正确的。my god! 这是一个多么伟大的猜想！虽然我们以前总说，21世纪是属于中国的，可还是没想这一天来的这么早，自豪ing… + 感动ing…<br/>感动和自豪之余，问题也来了，如果已知m和n的值，请计算下沙的沙粒到底有多少。
<p>Ps: <br/>     1. 中国有关方面正在积极行动，着手为宇春小姐申报诺贝尔奖。<br/>     2、“宇春猜想”中提到的H和D组成的字符串现在被学术界成为“杭电串串”（“杭电串串”前不久被一个卖羊肉串的注册了商标，现在我校正在积极联系买断，据说卖方的底价是1000万欧元，绝不打折，看来希望不大，sigh…） </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入数据包含多个测试实例，每个占一行，由两个整数m和n组成，m和 n 分别表示字符串中H和D的个数。由于我们目前所使用的微机和老美的超级计算机没法比，所以题目给定的数据范围是（1&lt;=n&lt;=m&lt;=20）。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
对于每个测试实例，请输出下沙的沙粒到底有多少，计算规则请参考“宇春猜想”，每个实例的输出占一行。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 1
3 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3</pre>
<p><!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1267" target="_blank">hdu 1267 <span style="font-size: 15px;">下沙的沙子有几粒？</span></a></p>
<p>参考自大牛<a href="http://www.wutianqi.com/?p=2642">http://www.wutianqi.com/?p=2642</a></p>
<p>分析，这题其实是H和D的组合排列问题，只不过要考虑期间累计的H和D的数量关系。</p>
<p>用DP来做，可以推导出：</p>
<p>dp[i][j] = dp[i-1][j] + dp[i][j-1]</p>
<p>dp[][]前一个表示H的数量，后一个表示D的数量。</p>
<p>分上面那种情况是因为最后一个必然是H或者D，而此时可以考虑把新加的一个放在最后，因为假如加的是H，如果加在[i-1][j]中加入H，则最后一个依然是H或D，此时如果成立，那么依然属于[i-1][j]或[i][j-1]的情况。</p>
<p>所以推导出此递推关系。</p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
using namespace std;
int main()
{
	__int64 dp[25][25];
	int n,m;
	dp[1][2]=0;
	for(int i=1;i&lt;=20;i++)
		dp[i][1]=i;
	for(int i=2;i&lt;=20;i++)
		for(int j=2;j&lt;=20;j++)
		{
			if(i&gt;=j)
				dp[i][j]=dp[i-1][j]+dp[i][j-1];
			else dp[i][j]=0;
		}
	while(scanf("%d %d",&amp;n,&amp;m)==2)
	{
		printf("%I64d\n",dp[n][m]);
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-40431">
<article class="comment" id="comment-40431">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-40431" rel="nofollow"><time datetime="2015-06-12T19:12:56+00:00" pubdate="">2015年6月12日 at 下午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12059">
<article class="comment" id="comment-12059">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12059" rel="nofollow"><time datetime="2015-05-20T17:54:53+00:00" pubdate="">2015年5月20日 at 下午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太明白DFS的方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12061">
<article class="comment" id="comment-12061">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12061" rel="nofollow"><time datetime="2015-05-01T01:06:13+00:00" pubdate="">2015年5月1日 at 上午1:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>aha, welcome!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12063">
<article class="comment" id="comment-12063">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12063" rel="nofollow"><time datetime="2015-04-24T20:39:16+00:00" pubdate="">2015年4月24日 at 下午8:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12066">
<article class="comment" id="comment-12066">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12066" rel="nofollow"><time datetime="2015-03-22T20:46:40+00:00" pubdate="">2015年3月22日 at 下午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12062">
<article class="comment" id="comment-12062">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12062" rel="nofollow"><time datetime="2014-12-06T03:43:51+00:00" pubdate="">2014年12月6日 at 上午3:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12060">
<article class="comment" id="comment-12060">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12060" rel="nofollow"><time datetime="2014-11-07T23:34:44+00:00" pubdate="">2014年11月7日 at 下午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很棒的网站，加油！⛽️</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40432">
<article class="comment" id="comment-40432">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-40432" rel="nofollow"><time datetime="2014-08-15T14:34:02+00:00" pubdate="">2014年8月15日 at 下午2:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12058">
<article class="comment" id="comment-12058">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12058" rel="nofollow"><time datetime="2014-08-02T14:39:40+00:00" pubdate="">2014年8月2日 at 下午2:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有的，已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40433">
<article class="comment" id="comment-40433">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-40433" rel="nofollow"><time datetime="2014-05-21T09:20:44+00:00" pubdate="">2014年5月21日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12064">
<article class="comment" id="comment-12064">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rosamondwu</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12064" rel="nofollow"><time datetime="2014-05-01T03:01:42+00:00" pubdate="">2014年5月1日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40434">
<article class="comment" id="comment-40434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-40434" rel="nofollow"><time datetime="2014-01-31T14:10:23+00:00" pubdate="">2014年1月31日 at 下午2:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#pragma pack(2) 这个用法太坑爹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12057">
<article class="comment" id="comment-12057">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12057" rel="nofollow"><time datetime="2013-12-23T06:50:13+00:00" pubdate="">2013年12月23日 at 上午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12065">
<article class="comment" id="comment-12065">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/hdu-1267-%E4%B8%8B%E6%B2%99%E7%9A%84%E6%B2%99%E5%AD%90%E6%9C%89%E5%87%A0%E7%B2%92%EF%BC%9F-1632.html#comment-12065" rel="nofollow"><time datetime="2013-12-08T11:39:47+00:00" pubdate="">2013年12月8日 at 上午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>