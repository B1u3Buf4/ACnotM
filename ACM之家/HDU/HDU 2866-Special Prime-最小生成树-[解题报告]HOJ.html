<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-17</div>
<div class="tit"><h1 class="entry-title">HDU 2866-Special Prime-最小生成树-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a></span><span class="i4">围观541次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4509" href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comments" title="《HDU 2866-Special Prime-最小生成树-[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Special Prime</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Give you a prime number p, if you could find some natural number (0 is not inclusive) n and m, satisfy the following expression: <br/>   <center><img src="http://www.acmerblog.com/img/1392911495494.jpg"/></center> <br/>We call this p a “Special Prime”.<br/>AekdyCoin want you to tell him the number of the “Special Prime” that no larger than L.<br/>For example:<br/>  If L =20<br/>1^3 + 7*1^2 = 2^3<br/>8^3 + 19*8^2 = 12^3<br/>That is to say the prime number 7, 19 are two “Special Primes”. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases.<br/>Every case has only one integer indicating L.(1&lt;=L&lt;=10^6) </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of several test cases.<br/>Every case has only one integer indicating L.(1&lt;=L&lt;=10^6)</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
7
777</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
10
<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
<center><img src="http://cdn.acmerblog.com/img/1392911495652.jpg"/></center> 
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p>题目：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2866" style="color:rgb(26,92,200); text-decoration:none; font-family:Tahoma">Special Prime</a></p>
<p>题意：求范围L内满足 n^3 + p*n^2 = m^3 的素数p的个数</p>
<p>思路：化简一下得到 n^2 *( n + p ) = m^3 </p>
<p><span style="white-space:pre"></span>假设 n^2 和 n+p 之间有公共素因子 p , 那么 n+p = k*p , 即 n=p*（k-1）,带进去得到 p^3 * (k-1)^2 *k = m^3 , (k-1)^2*k 肯定是不能表示成某一个数的三次幂的，所以假设不成立</p>
<p>       所以 n^2 和 n+p 之间没有公共素因子 p ， 那么可以假设n=x^3 , n+p=y^3 , 相减得到 p = y^3 – x^3 = (y-x) *(y^2+y*x+x^2) , 哈哈， p是素数，所以 y-x=1 ， p =(x+1)^3 – x^3 = 3*x^2+3*x+1 , 暴力一下x,判断是否是素数就ok了</p>
<p>
</p>
<pre class="brush:cpp ">#include &lt;cstring&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
using namespace std;
#define maxn 1000010
bool prime[maxn];
void Prime()
{
    memset(prime,true,sizeof(prime));
    prime[0]=prime[1]=0;
    for(int i=2;i*i&lt;maxn;i++)
        if(prime[i])
            for(int j=2*i;j&lt;maxn;j+=i)
                prime[j]=0;
}
int main()
{
    Prime();
    int n,ans,p;
    while(scanf("%d",&amp;n)!=EOF)
    {
        ans=0;
        for(int i=1;;i++)
        {
            int tmp=3*i*i+3*i+1;
            if(tmp&gt;n)
                break;
            if(prime[tmp])
                ans++;
        }
        if(ans)
            printf("%d\n",ans);
        else
            printf("No Special Prime!\n");
    }
    return 0;
}</pre>
<p>解题参考：http://blog.csdn.net/shiyuankongbu/article/details/9375867</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81562">
<article class="comment" id="comment-81562">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517990" rel="external nofollow">新用户757319</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-81562" rel="nofollow"><time datetime="2017-04-12T18:13:51+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跟我习惯一样</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57540">
<article class="comment" id="comment-57540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-57540" rel="nofollow"><time datetime="2015-05-25T17:43:52+00:00" pubdate="">2015年5月25日 at 下午5:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25307">
<article class="comment" id="comment-25307">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25307" rel="nofollow"><time datetime="2015-02-25T04:22:03+00:00" pubdate="">2015年2月25日 at 上午4:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25299">
<article class="comment" id="comment-25299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25299" rel="nofollow"><time datetime="2015-01-18T07:42:20+00:00" pubdate="">2015年1月18日 at 上午7:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个解法好像不对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25308">
<article class="comment" id="comment-25308">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25308" rel="nofollow"><time datetime="2014-12-07T00:50:50+00:00" pubdate="">2014年12月7日 at 上午12:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错，支持一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25302">
<article class="comment" id="comment-25302">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25302" rel="nofollow"><time datetime="2014-11-22T03:11:24+00:00" pubdate="">2014年11月22日 at 上午3:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
牛逼牛逼</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25310">
<article class="comment" id="comment-25310">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25310" rel="nofollow"><time datetime="2014-08-19T10:23:04+00:00" pubdate="">2014年8月19日 at 上午10:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25300">
<article class="comment" id="comment-25300">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25300" rel="nofollow"><time datetime="2014-07-28T22:28:30+00:00" pubdate="">2014年7月28日 at 下午10:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25306">
<article class="comment" id="comment-25306">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25306" rel="nofollow"><time datetime="2014-05-28T13:52:48+00:00" pubdate="">2014年5月28日 at 下午1:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有限自动机在ACM中是必须掌握的算法，实际上在面试当中几乎不可能让你单独的去实现这个算法，如果有题目要用到有限自动机来降低时间复杂度，那么这种面试题应该属于很难的级别了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25305">
<article class="comment" id="comment-25305">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25305" rel="nofollow"><time datetime="2014-04-20T10:25:04+00:00" pubdate="">2014年4月20日 at 上午10:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>处凡愚而不减，在圣贤而不增；<br/>住烦恼而不乱，居禅定而不寂。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25309">
<article class="comment" id="comment-25309">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25309" rel="nofollow"><time datetime="2014-04-05T12:48:11+00:00" pubdate="">2014年4月5日 at 下午12:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25304">
<article class="comment" id="comment-25304">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25304" rel="nofollow"><time datetime="2014-03-30T01:23:47+00:00" pubdate="">2014年3月30日 at 上午1:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太懂呀，乡亲们。原理知道代码不会</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25301">
<article class="comment" id="comment-25301">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25301" rel="nofollow"><time datetime="2014-03-20T06:01:12+00:00" pubdate="">2014年3月20日 at 上午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25303">
<article class="comment" id="comment-25303">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25303" rel="nofollow"><time datetime="2014-03-18T00:23:55+00:00" pubdate="">2014年3月18日 at 上午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看见的晚了，只能提交一次唉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25311">
<article class="comment" id="comment-25311">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-2866-special-prime-4509.html#comment-25311" rel="nofollow"><time datetime="2014-03-14T13:00:37+00:00" pubdate="">2014年3月14日 at 下午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>