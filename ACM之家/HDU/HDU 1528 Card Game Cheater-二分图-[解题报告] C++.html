<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1528 Card Game Cheater-二分图-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/graph/bipartite-graph" rel="category tag" title="查看二分图中的全部文章">二分图</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观526次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2085" href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comments" title="《HDU 1528 Card Game Cheater-二分图-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Card Game Cheater</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Adam and Eve play a card game using a regular deck of 52 cards. The rules are simple. The players sit on opposite sides of a table, facing each other. Each player gets k cards from the deck and, after looking at them, places the cards face down in a row on the table. Adam’s cards are numbered from 1 to k from his left, and Eve’s cards are numbered 1 to k from her right (so Eve’s i:th card is opposite Adam’s i:th card). The cards are turned face up, and points are awarded as follows (for each i ∈ {1, . . . , k}):
<p>If Adam’s i:th card beats Eve’s i:th card, then Adam gets one point.</p>
<p>If Eve’s i:th card beats Adam’s i:th card, then Eve gets one point.</p>
<p>A card with higher value always beats a card with a lower value: a three beats a two, a four beats a three and a two, etc. An ace beats every card except (possibly) another ace.</p>
<p>If the two i:th cards have the same value, then the suit determines who wins: hearts beats all other suits, spades beats all suits except hearts, diamond beats only clubs, and clubs does not beat any suit. </p>
<p>For example, the ten of spades beats the ten of diamonds but not the Jack of clubs. </p>
<p>This ought to be a game of chance, but lately Eve is winning most of the time, and the reason is that she has started to use marked cards. In other words, she knows which cards Adam has on the table before he turns them face up. Using this information she orders her own cards so that she gets as many points as possible.</p>
<p>Your task is to, given Adam’s and Eve’s cards, determine how many points Eve will get if she plays optimally.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There will be several test cases. The first line of input will contain a single positive integer N giving the number of test cases. After that line follow the test cases.
<p>Each test case starts with a line with a single positive integer k &lt;= 26 which is the number of cards each player gets. The next line describes the k cards Adam has placed on the table, left to right. The next line describes the k cards Eve has (but she has not yet placed them on the table). A card is described by two characters, the first one being its value (2, 3, 4, 5, 6, 7, 8 ,9, T, J, Q, K, or A), and the second one being its suit (C, D, S, or H). Cards are separated by white spaces. So if Adam’s cards are the ten of clubs, the two of hearts, and the Jack of diamonds, that could be described by the line</p>
<p>TC 2H JD </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case output a single line with the number of points Eve gets if she picks the optimal way to arrange her cards on the table.
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1
JD
JH
2
5D TC
4C 5H
3
2H 3H 4H
2D 3D 4D</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
1
2</pre>
<p> <!-- problem end --></p>
<p><strong><span style="font-size:14px">题目：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1528" target="_blank">点击打开链接</a></span></strong></p>
<p><strong><span style="font-size:14px">题意：两个人纸牌游戏，牌大的人得分。牌大：<span style="font-family:'Times New Roman'">2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9 &lt; T &lt; J &lt; Q</span></span></strong></p>
<p><span style="font-weight:bold"><span style="font-family:'Times New Roman'"><span style="font-size:14px">          &lt; K &lt; A 。值一样看花色，<span style="font-family:'Times New Roman'"> hearts (红心) &gt; <span style="font-family:'Times New Roman'">spades (黑桃) &gt; <span style="font-family:'Times New Roman'">diamond<br/>
 (方块) &gt;</span></span></span></span></span></span></p>
<p><span style="font-weight:bold"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-size:14px">            <span style="font-family:'Times New Roman'">clubs<br/>
 (梅花)。问<span style="font-family:'Times New Roman'">Eve 能得多少分。(每次得1分)</span></span></span></span></span></span></span></span></p>
<p><span style="font-weight:bold"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-size:14px">分析：将Eve的每张牌与<span style="font-family:'Times New Roman'">Adam的所有牌比较，与所有比这张牌小的Adam的牌连边。</span></span></span></span></span></span></span></span></p>
<p><span style="font-weight:bold"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-family:'Times New Roman'"><span style="font-size:14px"> <br/>
          然后求最大匹配。</span></span></span></span></span></span></span></span></p>
<p><span style="font-family:'Times New Roman'"><strong><span style="font-size:14px">感想：几天前就写了，开始WA以为是对于王没有四种花色的处理应该分开。昨天</span></strong></span></p>
<p><span style="font-family:'Times New Roman'"><strong><span style="font-size:14px">           突然发现问题根本不在那，因为这里面根本没说王，是数组开小了。</span></strong></span></p>
<p>
</p>
<p><span style="font-family:'Times New Roman'; font-size:18px"><strong>代码：</strong></span>
</p>
<p><span style="font-family:Times New Roman; font-size:18px"><strong></strong></span></p>
<pre class="brush:cpp ">#include&lt;cstdio&gt;
#include&lt;iostream&gt;
#include&lt;cstring&gt;
using namespace std;

char t1[15]={'2','3','4','5','6','7','8','9','T','J','Q','K','A'};
int t2[15]={1,2,3,4,5,6,7,8,9,10,11,12,13};
struct node
{
    int id;
    char cha;
    char type;
}card[60];
int n,cnt;
int match[60];
int vis[60];
int g[60][60];

bool judge(int x,int y)
{
    if(card[x].type=='H' &amp;&amp; card[y].type!='H')
        return true;
    else if(card[x].type=='S' &amp;&amp; (card[y].type=='D'||card[y].type=='C'))
        return true;
    else if(card[x].type=='D' &amp;&amp; card[y].type=='C')
        return true;
    else return false;
}
bool dfs(int u)
{
    for(int i=1;i&lt;=n;i++)
    {
        if(g[u][i] &amp;&amp; !vis[i])
        {
            vis[i]=true;
            if(match[i]==-1 || dfs(match[i]))
            {
                match[i]=u;
                return true;
            }
        }
    }
    return false;
}
int main()
{
    int T,i,j,k;
    scanf("%d",&amp;T);
    while(T--)
    {
        scanf("%d",&amp;n);
        getchar();
        memset(card,0,sizeof(card));
        memset(match,-1,sizeof(match));
        memset(g,0,sizeof(g));
        for(j=1;j&lt;=n;j++)
        {
            card[j].cha=getchar();
            for(k=0;k&lt;13;k++)
                if(card[j].cha==t1[k])
                    card[j].id=t2[k];
            /*if(card[j].id==13)
            {
                if(j&lt;=n-1)
                    getchar();
                continue;
            }*/
            card[j].type=getchar();
            if(j&lt;=n-1)
                getchar();
        }
        getchar();
        for(j=n+1;j&lt;=2*n;j++)
        {
            card[j].cha=getchar();
            for(k=0;k&lt;13;k++)
                if(card[j].cha==t1[k])
                    card[j].id=t2[k];
            /*if(card[j].id==13)
            {
                if(j&lt;=n-1)
                    getchar();
                continue;
            }*/
            card[j].type=getchar();
            getchar();
            for(i=1;i&lt;=n;i++)
            {
                if(card[j].id&gt;card[i].id)
                    g[j][i]=true;
                else if(card[j].id==card[i].id &amp;&amp; judge(j,i))
                    g[j][i]=true;
            }
        }
        cnt=0;
        for(i=n+1;i&lt;=2*n;i++)
        {
            memset(vis,0,sizeof(vis));
            if(dfs(i))
                cnt++;
        }
        printf("%d\n",cnt);
    }
    return 0;
}</pre>
<p></p>
<p>
</p>
<p>
</p>
<p>解题报告转自：http://blog.csdn.net/u011262722/article/details/10815855</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-14008">
<article class="comment" id="comment-14008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14008" rel="nofollow"><time datetime="2015-05-18T19:44:39+00:00" pubdate="">2015年5月18日 at 下午7:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41330">
<article class="comment" id="comment-41330">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41330" rel="nofollow"><time datetime="2015-05-04T20:06:06+00:00" pubdate="">2015年5月4日 at 下午8:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>受益匪浅！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14009">
<article class="comment" id="comment-14009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14009" rel="nofollow"><time datetime="2015-04-16T20:20:13+00:00" pubdate="">2015年4月16日 at 下午8:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41334">
<article class="comment" id="comment-41334">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41334" rel="nofollow"><time datetime="2015-04-14T00:36:37+00:00" pubdate="">2015年4月14日 at 上午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14010">
<article class="comment" id="comment-14010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14010" rel="nofollow"><time datetime="2015-01-21T14:39:48+00:00" pubdate="">2015年1月21日 at 下午2:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>a是根先忽略掉，递归子树。剩下前缀bejkcfghid和后缀jkebfghicd，分拆的原则的是每个子树前缀和后缀的节点个数是一样的，根节点出现在前缀的第一个，后缀的最后一个。根节点b出现后缀的第四个位置，则第一部分为四个节点，前缀bejk，后缀jkeb，剩下的c出现在后缀的倒数第2个，就划分为cfghi和 fghic，第3部分就为c、c</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41331">
<article class="comment" id="comment-41331">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41331" rel="nofollow"><time datetime="2015-01-14T23:16:11+00:00" pubdate="">2015年1月14日 at 下午11:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14007">
<article class="comment" id="comment-14007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14007" rel="nofollow"><time datetime="2014-11-25T03:18:18+00:00" pubdate="">2014年11月25日 at 上午3:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码过于复杂了吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14006">
<article class="comment" id="comment-14006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14006" rel="nofollow"><time datetime="2014-09-24T02:46:12+00:00" pubdate="">2014年9月24日 at 上午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41333">
<article class="comment" id="comment-41333">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41333" rel="nofollow"><time datetime="2014-09-06T12:07:23+00:00" pubdate="">2014年9月6日 at 下午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41332">
<article class="comment" id="comment-41332">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41332" rel="nofollow"><time datetime="2014-07-03T14:54:05+00:00" pubdate="">2014年7月3日 at 下午2:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14011">
<article class="comment" id="comment-14011">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-14011" rel="nofollow"><time datetime="2014-05-15T10:38:51+00:00" pubdate="">2014年5月15日 at 上午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41329">
<article class="comment" id="comment-41329">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41329" rel="nofollow"><time datetime="2014-03-18T10:53:05+00:00" pubdate="">2014年3月18日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>您没有考虑 树的根节点是负数的情况， 若树的根节点是个很大的负数，那么就要考虑过不过另外一边子树了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41335">
<article class="comment" id="comment-41335">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41335" rel="nofollow"><time datetime="2013-12-25T18:50:08+00:00" pubdate="">2013年12月25日 at 下午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41328">
<article class="comment" id="comment-41328">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/hdu-1528-Card-Game-Cheater-2085.html#comment-41328" rel="nofollow"><time datetime="2013-12-22T03:07:43+00:00" pubdate="">2013年12月22日 at 上午3:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>