<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-26</div>
<div class="tit"><h1 class="entry-title">hdu 1996 汉诺塔VI-组合数学-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/math/combination" rel="category tag" title="查看组合数学中的全部文章">组合数学</a></span><span class="i4">围观1559次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3078" href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comments" title="《hdu 1996 汉诺塔VI-组合数学-[解题报告]C++》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">汉诺塔VI</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
n个盘子的汉诺塔问题的最少移动次数是2^n-1,即在移动过程中会产生2^n个系列。由于<br/>发生错移产生的系列就增加了，这种错误是放错了柱子，并不会把大盘放到小盘上，即各柱<br/>子从下往上的大小仍保持如下关系 ：<br/>n=m+p+q <br/>a1&gt;a2&gt;…&gt;am<br/>b1&gt;b2&gt;…&gt;bp<br/>c1&gt;c2&gt;…&gt;cq<br/>计算所有会产生的系列总数. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
包含多组数据，首先输入T,表示有T组数据.每个数据一行，是盘子的数<br/>目N&lt;30. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
包含多组数据，首先输入T,表示有T组数据.每个数据一行，是盘子的数<br/>目N&lt;30.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1
3 
29</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
27
68630377364883</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#define N 30
__int64 c[N][N];///组合数
int main()
{
    int i,j,k;
    for(i = 0; i &lt; N; ++i)
        c[i][0] = c[i][i] =1;
    for(i = 1; i &lt; N; ++i)
        for(j = 1; j &lt; i; ++j)
            c[i][j] = c[i-1][j] + c[i-1][j-1];
    __int64 sum[N] = {0};
    int t;
    for(t = 1; t &lt; N; ++t)
        for(i = 0; i &lt;= t; ++i)
            for(j = 0;j&lt;= t - i; ++j)
                sum[t] += c[t][i] * c[t-i][j];
    scanf("%d",&amp;t);
    while(t--)
    {
        scanf("%d",&amp;i);
        printf("%I64d\n",sum[i]);
    }
    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/cscj2010/article/details/7597326</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-18302">
<article class="comment" id="comment-18302">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18302" rel="nofollow"><time datetime="2015-06-18T14:59:47+00:00" pubdate="">2015年6月18日 at 下午2:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码是给出了，但是解析的也太不清晰了吧！如 13 abejkcfghid jkebfghicda<br/>
第一步拆分为 三部分 (bejk, cfghi, d) * C(13,3)，为什么要这样拆分，原则是什么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56053">
<article class="comment" id="comment-56053">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zcmu_sls</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-56053" rel="nofollow"><time datetime="2015-03-17T12:14:38+00:00" pubdate="">2015年3月17日 at 下午12:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不对，仔细对比一下输入输出， 怎么会有‘‘printf("The winning moves are:");’’这种输出呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18293">
<article class="comment" id="comment-18293">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18293" rel="nofollow"><time datetime="2015-01-19T00:44:36+00:00" pubdate="">2015年1月19日 at 上午12:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int half(int *array,int len,int key)<br/>
{<br/>
    int l=0,r=len;<br/>
    while(l&lt;r)<br/>
    {<br/>
        int m=(l+r)&gt;&gt;1;<br/>
        if(key&gt;array <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/98/weibom_org.gif"/> )l=m+1;<br/>
        else if(key&lt;array <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/98/weibom_org.gif"/> )r=m;<br/>
        else return m;<br/>
    }<br/>
    return -1;<br/>
}<br/>
这种就能避免一些Bug<br/>
l,m,r<br/>
左边是l,m;右边就是m+1,r;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18296">
<article class="comment" id="comment-18296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18296" rel="nofollow"><time datetime="2015-01-13T11:39:51+00:00" pubdate="">2015年1月13日 at 上午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很给力啊，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18298">
<article class="comment" id="comment-18298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18298" rel="nofollow"><time datetime="2014-12-26T18:41:45+00:00" pubdate="">2014年12月26日 at 下午6:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漂亮。佩服。<br/>
P.S.  unsigned 应该去掉。换行符是n 不是/n<br/>
还可以稍微优化一下，<br/>
int main() {<br/>
	int m,n,ai,aj,bi,bj,ak,bk;<br/>
	while (scanf("%d%d",&amp;m,&amp;n)!=EOF) {<br/>
		ai = sqrt(m-1);<br/>
		bi = sqrt(n-1);<br/>
		aj = (m-ai*ai-1)&gt;&gt;1;<br/>
		bj = (n-bi*bi-1)&gt;&gt;1;<br/>
		ak = ((ai+1)*(ai+1)-m)&gt;&gt;1;<br/>
		bk = ((bi+1)*(bi+1)-n)&gt;&gt;1;<br/>
		printf("%dn",abs(ai-bi)+abs(aj-bj)+abs(ak-bk));<br/>
	}<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18300">
<article class="comment" id="comment-18300">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18300" rel="nofollow"><time datetime="2014-10-31T01:55:44+00:00" pubdate="">2014年10月31日 at 上午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如何解决overload的问题呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18292">
<article class="comment" id="comment-18292">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18292" rel="nofollow"><time datetime="2014-08-02T04:30:36+00:00" pubdate="">2014年8月2日 at 上午4:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有的，已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18294">
<article class="comment" id="comment-18294">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18294" rel="nofollow"><time datetime="2014-07-27T11:29:38+00:00" pubdate="">2014年7月27日 at 上午11:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，九度OJ也有此题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18297">
<article class="comment" id="comment-18297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18297" rel="nofollow"><time datetime="2014-05-31T10:09:23+00:00" pubdate="">2014年5月31日 at 上午10:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>21行中，j&lt;10可改为j&lt;10-i，减少比较次数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18299">
<article class="comment" id="comment-18299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18299" rel="nofollow"><time datetime="2014-04-05T15:06:46+00:00" pubdate="">2014年4月5日 at 下午3:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18295">
<article class="comment" id="comment-18295">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18295" rel="nofollow"><time datetime="2014-03-17T11:36:28+00:00" pubdate="">2014年3月17日 at 上午11:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数组</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18301">
<article class="comment" id="comment-18301">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/hdu-1996-%E6%B1%89%E8%AF%BA%E5%A1%94VI-3078.html#comment-18301" rel="nofollow"><time datetime="2014-01-17T04:51:54+00:00" pubdate="">2014年1月17日 at 上午4:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>比较基础，找些自信</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>