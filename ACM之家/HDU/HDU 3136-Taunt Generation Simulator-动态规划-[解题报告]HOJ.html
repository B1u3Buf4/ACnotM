<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-03</div>
<div class="tit"><h1 class="entry-title">HDU 3136-Taunt Generation Simulator-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观539次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4953" href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comments" title="《HDU 3136-Taunt Generation Simulator-动态规划-[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Taunt Generation Simulator</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In all the annals of knighthood, no personality trait has been in more dire need than the fortitude to withstand the diplomatically deleterious effects of a vicious, relentless taunting. Tasked with strengthening the mental endurance of Camelot’s knights, King Arthur’s court decided that instructional taunting must be applied, yet it could not be delivered by the chivalrous administration. Thus, Sir Lancelot commanded a local anarcho-syndicalist peasant to write a program that generates taunts (a.k.a. mudslinging) thereby producing a script to test the patience of knights in a training environment. To prevent unbridled creativity in taunting from spoiling the otherwise stately proceedings of a nobleman’s education, the following rules designed by committee (The Round Table) must be adhered to:
<pre><br/>&lt;taunt&gt; ::= &lt;sentence&gt; | &lt;taunt&gt; &lt;sentence&gt; | &lt;noun&gt;! | &lt;sentence&gt;<br/>&lt;sentence&gt; ::= &lt;past-rel&gt; &lt;noun-phrase&gt; | &lt;present-rel&gt; &lt;noun-phrase&gt; | &lt;past-rel&gt; &lt;article&gt; &lt;noun&gt;<br/>&lt;noun-phrase&gt; ::= &lt;article&gt; &lt;modified-noun&gt;<br/>&lt;modified-noun&gt; ::= &lt;noun&gt; | &lt;modifier&gt; &lt;noun&gt;<br/>&lt;modifier&gt; ::= &lt;adjective&gt; | &lt;adverb&gt; &lt;adjective&gt;<br/>&lt;present-rel&gt; ::= your &lt;present-person&gt; &lt;present-verb&gt;<br/>&lt;past-rel&gt; ::= your &lt;past-person&gt; &lt;past-verb&gt;<br/>&lt;present-person&gt; ::= steed | king | first-born<br/>&lt;past-person&gt; ::= mother | father | grandmother | grandfather | godfather<br/>&lt;noun&gt; ::= hamster | coconut | duck | herring | newt | peril | chicken | vole | parrot | mouse | twit<br/>&lt;present-verb&gt; ::= is | “masquerades as”<br/>&lt;past-verb&gt; ::= was | personified<br/>&lt;article&gt; ::= a<br/>&lt;adjective&gt; ::= silly | wicked | sordid | naughty | repulsive | malodorous | ill-tempered<br/>&lt;adverb&gt; ::= conspicuously | categorically | positively | cruelly | incontrovertibly</pre>
<p>Note that all phrases in double quotes are to be treated as one word for taunt simulation output.</p>
<p>The number of taunts elicited at any given time is derived from the number of words spoken by the knight. For every three words (or fraction thereof) delivered by the knight, the generator produces one or more taunts in a theater-style script format. In the event that 2 taunts must be produced on a single line, they will be counted as 2 taunts towards the total required. By a mandate from the masses, a word will always contain at least one alphabetic character, and will be separated from other words by at least 1 space.</p>
<p>In exception to the above rules, whenever the program finds the holy grail, which is to say, the letters t-h-e-h-o-l-y-g-r-a-i-l (case insensitive) in that order in a line of input, then the first taunt generated will be displayed by the program as "(A childish hand gesture)".</p>
<p>To ensure all royal quality assurance criteria are met, the program must be demonstrated by a simulation showing the taunts produced from a series of inputs. Each taunt is generated by applying the taunt generation rules until all of the &lt;…&gt; have been replaced with appropriate words. In most cases, you will face a choice of alternate rules for expanding a phrase name. In these cases, you should make a choice as follows: Suppose that this is the <b><i>k<sup>th</sup></i></b> such choice that you have faced for that rule since the start of program execution, and that you must choose one of <b><i>n</i></b> rules for expanding a given kind of phrase. Let the rules for that phrase be numbered from <b><i>1…n</i></b> in the order of appearance above, and then choose rule number <b><i>((k-1) mod n) + 1</i></b>.</p>
<p>Well, get on with it! </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist of an unspecified number of lines. Each line will contain a statement uttered by a knight consisting of letters, digits, the characters ",.-!?" and whitespace. Each line of input will be more than 1 character and less than 72 characters in length. All words will be separated by whitespace. Each statement will contain at least one word. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input will consist of an unspecified number of lines. Each line will contain a statement uttered by a knight consisting of letters, digits, the characters ",.-!?" and whitespace. Each line of input will be more than 1 character and less than 72 characters in length. All words will be separated by whitespace. Each statement will contain at least one word.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
Hello!
Are you feeling alright?
Is there someone else I could talk to?
Anyone at all?
We seek the holy grail . . .</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Knight: Hello!
Taunter: Your mother was a hamster.

Knight: Are you feeling alright?
Taunter: Coconut! Your steed is a silly duck.

Knight: Is there someone else I could talk to?
Taunter: Your father personified a herring.
Taunter: Your grandmother was a newt.
Taunter: Peril! Your king masquerades as a conspicuously wicked chicken.

Knight: Anyone at all?
Taunter: Your grandfather personified a vole.

Knight: We seek the holy grail . . .
Taunter: (A childish hand gesture).
Taunter: Your godfather was a parrot.</pre>
<p> <!-- problem end --></p>
<p>本题练习快速排序和动态规划。</p>
<p>题目连接:</p>
<p>http://acm.hit.edu.cn/hoj/problem/view?id=3136
</p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;algorithm&gt;

using namespace std;

#define Maxn 5002

int be[Maxn];//开始时刻
int en[Maxn];//结束时刻
int pri[Maxn];//优先级
int best[Maxn];//the maximum total value of beauty level

//快速排序，以en[i]升序排列
void qsort(int l,int r)
{
    int x = en[rand()%(r-l+1) + l];//+l
    int i = l;
    int j = r;
    while(i&lt;=j)
    {
        while(en[i]&lt;x)
        {
            i++;
        }
        while(en[j]&gt;x)
        {
            j--;
        }
        if(i&lt;=j)
        {
            swap(be[i],be[j]);
            swap(en[i],en[j]);
            swap(pri[i],pri[j]);
            i++;
            j--;
        }
    }
    if(l&lt;j)
    {
        qsort(l,j);
    }
    if(i&lt;r)
    {
        qsort(i,r);
    }
}
int main()
{
#ifndef ONLINE_JUDGE
    freopen("in.txt","r",stdin);
#endif
    int n;
    while(scanf("%d",&amp;n)!=EOF)
    {
        int ans = 0;
        for(int i=0; i&lt;n; i++)
        {
            scanf(" %d %d %d",&amp;be[i],&amp;en[i],&amp;pri[i]);
            en[i] = en[i] + be[i] - 1;
        }
        qsort(0,n-1);
        for(int i=0; i&lt;n; i++)
        {
            best[i] = pri[i];
        }
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i-1; j&gt;=0; j--)
            {
                if(be[i]&gt;en[j])
                {
                    best[i] = max(best[i],best[j] + pri[i]);
                }
            }
        }
        for(int i=0; i&lt;n; i++)
        {
            if(best[i]&gt;ans)
            {
                ans = best[i];
            }
        }
        printf("%d\n",ans);
    }

    return 0;
}</pre>
<p>参考：http://blog.csdn.net/niuox/article/details/8469017</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78759">
<article class="comment" id="comment-78759">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517690" rel="external nofollow">新用户410366</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-78759" rel="nofollow"><time datetime="2017-04-12T12:30:20+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真要是不明飞行物体，请问，它能安全的飞在故宫上面吗？北京方面在就把它打下来了吧！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57995">
<article class="comment" id="comment-57995">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-57995" rel="nofollow"><time datetime="2015-05-29T23:56:27+00:00" pubdate="">2015年5月29日 at 下午11:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27372">
<article class="comment" id="comment-27372">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27372" rel="nofollow"><time datetime="2015-03-13T17:13:27+00:00" pubdate="">2015年3月13日 at 下午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27382">
<article class="comment" id="comment-27382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">abguorui0928</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27382" rel="nofollow"><time datetime="2015-03-03T19:28:19+00:00" pubdate="">2015年3月3日 at 下午7:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第23行：<br/>
hash <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = -1是否应该改成hash[s <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ] = -1</p>
<p>因为是要把从字符串s的start位到当前位在hash中重置</p>
<p>修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27376">
<article class="comment" id="comment-27376">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">_Tree</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27376" rel="nofollow"><time datetime="2015-01-21T17:13:52+00:00" pubdate="">2015年1月21日 at 下午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27374">
<article class="comment" id="comment-27374">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27374" rel="nofollow"><time datetime="2014-11-27T03:44:57+00:00" pubdate="">2014年11月27日 at 上午3:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27373">
<article class="comment" id="comment-27373">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27373" rel="nofollow"><time datetime="2014-11-02T00:21:17+00:00" pubdate="">2014年11月2日 at 上午12:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分三种情况讨论。Not Possible就是impossible</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27381">
<article class="comment" id="comment-27381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27381" rel="nofollow"><time datetime="2014-10-11T18:34:55+00:00" pubdate="">2014年10月11日 at 下午6:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27377">
<article class="comment" id="comment-27377">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27377" rel="nofollow"><time datetime="2014-09-08T08:02:39+00:00" pubdate="">2014年9月8日 at 上午8:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27371">
<article class="comment" id="comment-27371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27371" rel="nofollow"><time datetime="2014-08-31T02:48:25+00:00" pubdate="">2014年8月31日 at 上午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27375">
<article class="comment" id="comment-27375">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27375" rel="nofollow"><time datetime="2014-08-12T22:57:47+00:00" pubdate="">2014年8月12日 at 下午10:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27379">
<article class="comment" id="comment-27379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27379" rel="nofollow"><time datetime="2014-07-29T12:05:22+00:00" pubdate="">2014年7月29日 at 下午12:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27383">
<article class="comment" id="comment-27383">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27383" rel="nofollow"><time datetime="2014-06-28T21:02:15+00:00" pubdate="">2014年6月28日 at 下午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的很好~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27378">
<article class="comment" id="comment-27378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27378" rel="nofollow"><time datetime="2014-05-19T14:36:15+00:00" pubdate="">2014年5月19日 at 下午2:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27380">
<article class="comment" id="comment-27380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-3136-taunt-generation-simulator-4953.html#comment-27380" rel="nofollow"><time datetime="2014-03-20T16:06:41+00:00" pubdate="">2014年3月20日 at 下午4:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>