<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-21</div>
<div class="tit"><h1 class="entry-title">HDU 1677 Nested Dolls-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观1806次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2630" href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comments" title="《HDU 1677 Nested Dolls-动态规划-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Nested Dolls</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Dilworth is the world’s most prominent collector of Russian nested dolls: he literally has thousands of them! You know, the wooden hollow dolls of different sizes of which the smallest doll is contained in the second smallest, and this doll is in turn contained in the next one and so forth. One day he wonders if there is another way of nesting them so he will end up with fewer nested dolls? After all, that would make his collection even more magnificent! He unpacks each nested doll and measures the width and height of each contained doll. A doll with width w1 and height h1 will fit in another doll of width w2 and height h2 if and only if w1 &lt; w2 and h1 &lt; h2. Can you help him calculate the smallest number of nested dolls possible to assemble from his massive list of measurements? </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
On the first line of input is a single positive integer 1 &lt;= t &lt;= 20 specifying the number of test cases to follow. Each test case begins with a positive integer 1 &lt;= m &lt;= 20000 on a line of itself telling the number of dolls in the test case. Next follow 2m positive integers w1, h1,w2, h2, . . . ,wm, hm, where wi is the width and hi is the height of doll number i. 1 &lt;= wi, hi &lt;= 10000 for all i. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case there should be one line of output containing the minimum number of nested dolls possible.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
3
20 30 40 50 30 40
4
20 30 10 10 30 20 40 50
3
10 30 20 20 30 10
4
10 10 20 30 40 50 39 51</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
2
3
2</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;algorithm&gt;
#include &lt;iostream&gt;
using namespace std;
const int N=20000+5;
struct doll
{
	int w;
	int h;
}d[N];
int dp[N];//储存排序结果
bool cmp(doll d1,doll d2)
{
	return d1.w&gt;d2.w||(d1.w==d2.w&amp;&amp;d1.h&lt;d2.h);//注意这里排序是避免相同的宽度被包含
}
int main()
{
	int T,i,mxlen,j,n,r,l,mid;
	scanf("%d",&amp;T);
	while(T--)
	{
		scanf("%d",&amp;n);
		for(i=0;i&lt;n;i++)
		scanf("%d%d",&amp;d[i].w,&amp;d[i].h);
		sort(d,d+n,cmp);
		memset(dp,0,sizeof(dp));
		mxlen=0;
		for(i=0;i&lt;n;i++)
	     {   l=0;
	     	r=mxlen;
	     	while(l&lt;r)//利用二分法进行排序找到适合d[i].h的插入的位置
	     	{
	     		mid=(l+r)/2;
	     		if(dp[mid]&lt;=d[i].h)
	     		 l=mid+1;
	     		 else
	     		 r=mid;
	     	}
	     	dp[l]=d[i].h;//在l位置上插入d[i].h
	     	if(l==mxlen)//如果找到的位置刚好在当前序列的尾端则插入
	     	mxlen++;
	     }
		printf("%d\n",mxlen);
   }
	return 0;
}</pre>
<p>解题报告转自：http://blog.csdn.net/jhc23/article/details/9749611</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-16541">
<article class="comment" id="comment-16541">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16541" rel="nofollow"><time datetime="2015-07-15T21:01:48+00:00" pubdate="">2015年7月15日 at 下午9:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rho快速因数分解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55592">
<article class="comment" id="comment-55592">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-55592" rel="nofollow"><time datetime="2015-07-11T02:55:25+00:00" pubdate="">2015年7月11日 at 上午2:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序输出是对的，呈三角型。原程序是按C++写的，已经改成了C的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55590">
<article class="comment" id="comment-55590">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-55590" rel="nofollow"><time datetime="2015-06-12T01:54:52+00:00" pubdate="">2015年6月12日 at 上午1:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16535">
<article class="comment" id="comment-16535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16535" rel="nofollow"><time datetime="2014-11-29T23:27:54+00:00" pubdate="">2014年11月29日 at 下午11:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42571">
<article class="comment" id="comment-42571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-42571" rel="nofollow"><time datetime="2014-11-20T13:30:53+00:00" pubdate="">2014年11月20日 at 下午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>97行缺一个分号</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16536">
<article class="comment" id="comment-16536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16536" rel="nofollow"><time datetime="2014-09-05T06:24:35+00:00" pubdate="">2014年9月5日 at 上午6:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16539">
<article class="comment" id="comment-16539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16539" rel="nofollow"><time datetime="2014-09-04T13:22:10+00:00" pubdate="">2014年9月4日 at 下午1:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55591">
<article class="comment" id="comment-55591">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-55591" rel="nofollow"><time datetime="2014-07-27T17:53:50+00:00" pubdate="">2014年7月27日 at 下午5:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有些说不通吧，只有1个孩子肯定是男孩了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55589">
<article class="comment" id="comment-55589">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-55589" rel="nofollow"><time datetime="2014-07-17T13:53:25+00:00" pubdate="">2014年7月17日 at 下午1:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16537">
<article class="comment" id="comment-16537">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16537" rel="nofollow"><time datetime="2014-05-13T07:16:11+00:00" pubdate="">2014年5月13日 at 上午7:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42573">
<article class="comment" id="comment-42573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-42573" rel="nofollow"><time datetime="2014-03-14T02:19:04+00:00" pubdate="">2014年3月14日 at 上午2:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16538">
<article class="comment" id="comment-16538">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16538" rel="nofollow"><time datetime="2014-01-18T00:24:04+00:00" pubdate="">2014年1月18日 at 上午12:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16540">
<article class="comment" id="comment-16540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-16540" rel="nofollow"><time datetime="2014-01-16T08:32:50+00:00" pubdate="">2014年1月16日 at 上午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42572">
<article class="comment" id="comment-42572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-1677-Nested-Dolls-2630.html#comment-42572" rel="nofollow"><time datetime="2014-01-09T23:00:11+00:00" pubdate="">2014年1月9日 at 下午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>