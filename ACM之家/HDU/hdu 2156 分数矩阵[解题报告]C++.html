<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-30</div>
<div class="tit"><h1 class="entry-title">hdu 2156 分数矩阵[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1321次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3305" href="http://www.acmerblog.com/hdu-2156-3305.html#comments" title="《hdu 2156 分数矩阵[解题报告]C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">分数矩阵</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
我们定义如下矩阵:<br/>1/1 1/2 1/3<br/>1/2 1/1 1/2<br/>1/3 1/2 1/1<br/>矩阵对角线上的元素始终是1/1，对角线两边分数的分母逐个递增。<br/>请求出这个矩阵的总和。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
每行给定整数N (N&lt;50000)，表示矩阵为 N*N.当N为0时，输入结束。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
每行给定整数N (N&lt;50000)，表示矩阵为 N*N.当N为0时，输入结束。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2
3
4
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1.00
3.00
5.67
8.83</pre>
<p> <!-- problem end --></p>
<p> 
</p><pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;math.h&gt;
#include&lt;string.h&gt;
#define max 50001
double x[max]={0,1};
int main(){
    int n,i;
	double sum=1;
	for(i=2;i&lt;max;i++){
		sum+=2*(1.0/i);
		x[i]=x[i-1]+sum;
	}
	while(scanf("%d",&amp;n)&amp;&amp; n){ 
		printf("%.2lf\n",x[n]);
	}
	return 0;
}</pre>
<p></p>
<p>解题转自：http://blog.csdn.net/qq775445624/article/details/6709966</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-86910">
<article class="comment" id="comment-86910">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86910" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86909">
<article class="comment" id="comment-86909">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86909" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86908">
<article class="comment" id="comment-86908">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86908" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86907">
<article class="comment" id="comment-86907">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86907" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86906">
<article class="comment" id="comment-86906">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86906" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86905">
<article class="comment" id="comment-86905">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86905" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86904">
<article class="comment" id="comment-86904">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86904" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86903">
<article class="comment" id="comment-86903">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86903" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86902">
<article class="comment" id="comment-86902">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86902" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86901">
<article class="comment" id="comment-86901">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512994" rel="external nofollow">新用户900982</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-86901" rel="nofollow"><time datetime="2017-04-13T05:36:39+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>人之初，性本善。作者不更是混蛋!你不更，我不赞，看你以后怎么办！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19598">
<article class="comment" id="comment-19598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19598" rel="nofollow"><time datetime="2015-03-19T12:31:52+00:00" pubdate="">2015年3月19日 at 下午12:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在方法1里面：</p>
<p>    //遍历所有的边，计算入度<br/>
    for(int i=0; i&lt;V; i++)<br/>
  {<br/>
        degree <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = 0;<br/>
        for (j = adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .begin(); j != adj <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .end(); ++j)<br/>
       {<br/>
            degree[*j]++;<br/>
        }<br/>
    }</p>
<p>为什么每遍历一条链表，要首先将每个链表头的顶点的入度置为0呢？<br/>
比如顶点5，若在顶点1、2、3、4的链表中出现过顶点5，那么要增加顶点5的入度，但是在遍历顶点5的链表时，又将顶点5的入度置为0了，那之前的从顶点1234到顶点5的边不是都没了吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19597">
<article class="comment" id="comment-19597">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19597" rel="nofollow"><time datetime="2015-02-24T08:56:08+00:00" pubdate="">2015年2月24日 at 上午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个程序编译都通不过， int L[m+1][n+1];这样定义出错，应该换成具体的数字ac</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19592">
<article class="comment" id="comment-19592">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19592" rel="nofollow"><time datetime="2015-02-07T18:02:35+00:00" pubdate="">2015年2月7日 at 下午6:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19593">
<article class="comment" id="comment-19593">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19593" rel="nofollow"><time datetime="2015-01-17T18:24:09+00:00" pubdate="">2015年1月17日 at 下午6:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19596">
<article class="comment" id="comment-19596">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19596" rel="nofollow"><time datetime="2015-01-07T16:08:41+00:00" pubdate="">2015年1月7日 at 下午4:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19595">
<article class="comment" id="comment-19595">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19595" rel="nofollow"><time datetime="2014-11-07T17:09:05+00:00" pubdate="">2014年11月7日 at 下午5:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44160">
<article class="comment" id="comment-44160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-44160" rel="nofollow"><time datetime="2014-10-07T20:04:47+00:00" pubdate="">2014年10月7日 at 下午8:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62312">
<article class="comment" id="comment-62312">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-62312" rel="nofollow"><time datetime="2014-10-01T18:55:29+00:00" pubdate="">2014年10月1日 at 下午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题其实还可以找循环节。参照欧拉定理（也就是费马定理的推广）,a^(phi(m)) mod m = 1</p>
<p><a href="http://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86_(%E6%95%B0%E8%AE%BA)" rel="nofollow">http://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86_(%E6%95%B0%E8%AE%BA)</a></p>
<p>所以先算b mod phi(10)，这个部分都是可以约掉的。基本上O(1)的时间就出解了。当然，这也是因为这个问题模数太小的原因。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19594">
<article class="comment" id="comment-19594">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19594" rel="nofollow"><time datetime="2014-05-10T00:48:20+00:00" pubdate="">2014年5月10日 at 上午12:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目和代码都不一样好吗！！！搞错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19599">
<article class="comment" id="comment-19599">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jandk</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-19599" rel="nofollow"><time datetime="2014-04-03T23:39:45+00:00" pubdate="">2014年4月3日 at 下午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种二分还是比较经典！mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56328">
<article class="comment" id="comment-56328">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-56328" rel="nofollow"><time datetime="2014-03-02T16:09:47+00:00" pubdate="">2014年3月2日 at 下午4:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56329">
<article class="comment" id="comment-56329">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-2156-3305.html#comment-56329" rel="nofollow"><time datetime="2014-02-24T13:52:13+00:00" pubdate="">2014年2月24日 at 下午1:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>