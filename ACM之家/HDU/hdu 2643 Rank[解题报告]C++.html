<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-12</div>
<div class="tit"><h1 class="entry-title">hdu 2643 Rank[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观236次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4234" href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comments" title="《hdu 2643 Rank[解题报告]C++》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Rank</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Recently in Teddy’s hometown there is a competition named "Cow Year Blow Cow".N competitors had took part in this competition.The competition was so intense that the rank was changing and changing.<br/>Now the question is:<br/>How many different ways that n competitors can rank in a competition, allowing for the possibility of ties. <br/>as the answer will be very large,you can just output the answer MOD 20090126.<br/>Here are the ways when N = 2:<br/>P1 &lt; P2<br/>P2 &lt; P1<br/>P1 = P2  </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line will contain a T,then T cases followed.<br/>each case only contain one integer N (N &lt;= 100),indicating the number of people. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line will contain a T,then T cases followed.<br/>each case only contain one integer N (N &lt;= 100),indicating the number of people.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
2
3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
13</pre>
<p> <!-- problem end --></p>
<p>题目要求算出大小关系的所有情况，我们把相等的放在一起，他们之间没有大小关系，形成分组，这个就是由第二类斯特灵数算出来的，在对分好的组进行全排列。</p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
 typedef long long i64;
 int main()
 {
     int T,n;
     i64 s[150][150],f[150];
     scanf("%d",&amp;T);
     f[0]=1;
     for(int i=1;i&lt;=100;i++)
     {
         s[i][i]=1;s[i][1]=1;f[i]=f[i-1]*i%20090126;
     }
     for(int i=2;i&lt;=100;i++)
     for(int j=2;j&lt;=i;j++)
     s[i][j]=(s[i-1][j-1]+j*s[i-1][j])%20090126;
     while(T--)
     {
         i64 sum=0;
         scanf("%d",&amp;n);
         for(int i=1;i&lt;=n;i++)
         sum+=f[i]*s[n][i]%20090126;
         printf("%d\n",sum%20090126);
     }
     return 0;
 }</pre>
<p> </p>
<p>解题转自：http://www.cnblogs.com/Acgsws/archive/2013/07/19/3201150.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83554">
<article class="comment" id="comment-83554">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83554" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83553">
<article class="comment" id="comment-83553">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83553" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83552">
<article class="comment" id="comment-83552">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83552" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83551">
<article class="comment" id="comment-83551">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83551" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83550">
<article class="comment" id="comment-83550">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83550" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83549">
<article class="comment" id="comment-83549">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83549" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83548">
<article class="comment" id="comment-83548">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515010" rel="external nofollow">新用户524898</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-83548" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>斑的时空忍术来源 斑自己都承认 他的瞳力在与初代战斗后就一直没有恢复 而且现在出场的写轮眼使用者 除了卡卡西的空间撕裂 似乎多与精神类 灵魂类攻击（幻术）有关 还有少量如天照 须佐一样的特殊物理攻击 与空间的联系并不大 硬说斑的时空忍术来源于写轮眼 有些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23640">
<article class="comment" id="comment-23640">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23640" rel="nofollow"><time datetime="2015-06-16T01:20:04+00:00" pubdate="">2015年6月16日 at 上午1:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23641">
<article class="comment" id="comment-23641">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa_zmt</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23641" rel="nofollow"><time datetime="2015-05-23T17:19:09+00:00" pubdate="">2015年5月23日 at 下午5:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是穷举，但是代码有优化（v数组），并不是2^n。测试数据应该没问题，之前有超时的代码。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46054">
<article class="comment" id="comment-46054">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-46054" rel="nofollow"><time datetime="2015-05-23T07:37:12+00:00" pubdate="">2015年5月23日 at 上午7:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23646">
<article class="comment" id="comment-23646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23646" rel="nofollow"><time datetime="2015-05-04T12:20:12+00:00" pubdate="">2015年5月4日 at 下午12:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46055">
<article class="comment" id="comment-46055">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bobo</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-46055" rel="nofollow"><time datetime="2015-04-30T18:10:54+00:00" pubdate="">2015年4月30日 at 下午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I go through some of your put up and I uncovered a good deal of expertise from it. Many thanks for posting this sort of exciting posts</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23638">
<article class="comment" id="comment-23638">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23638" rel="nofollow"><time datetime="2014-11-29T21:39:07+00:00" pubdate="">2014年11月29日 at 下午9:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23639">
<article class="comment" id="comment-23639">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23639" rel="nofollow"><time datetime="2014-11-20T19:11:12+00:00" pubdate="">2014年11月20日 at 下午7:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62775">
<article class="comment" id="comment-62775">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-62775" rel="nofollow"><time datetime="2014-10-10T19:52:46+00:00" pubdate="">2014年10月10日 at 下午7:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23642">
<article class="comment" id="comment-23642">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23642" rel="nofollow"><time datetime="2014-09-28T15:54:15+00:00" pubdate="">2014年9月28日 at 下午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>图像处理那题解题报告在哪儿呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23637">
<article class="comment" id="comment-23637">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23637" rel="nofollow"><time datetime="2014-08-20T00:31:42+00:00" pubdate="">2014年8月20日 at 上午12:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题这里的解法最坏情况似乎应该是指数的。回溯的时候<br/>
O(n) = O(n-1) + O(n-2) + ….<br/>
O(n-1) = O(n-2) + O(n-3)+ …<br/>
O(n) – O(n-1) = O(n-1)<br/>
O(n) = 2O(n-1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46053">
<article class="comment" id="comment-46053">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-46053" rel="nofollow"><time datetime="2014-07-07T17:00:10+00:00" pubdate="">2014年7月7日 at 下午5:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23643">
<article class="comment" id="comment-23643">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23643" rel="nofollow"><time datetime="2014-06-04T07:46:27+00:00" pubdate="">2014年6月4日 at 上午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，九度OJ也有此题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23645">
<article class="comment" id="comment-23645">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23645" rel="nofollow"><time datetime="2014-05-02T15:45:22+00:00" pubdate="">2014年5月2日 at 下午3:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A猴子认识的所有猴子和B猴子认识的所有猴子都能认识，这句话用《爱屋及乌》描述比较容易理解……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23644">
<article class="comment" id="comment-23644">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-2643-rank-4234.html#comment-23644" rel="nofollow"><time datetime="2014-03-30T18:51:54+00:00" pubdate="">2014年3月30日 at 下午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>