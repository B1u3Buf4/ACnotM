<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4602-Partition-递推-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观65次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7646" href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comments" title="《HDU 4602-Partition-递推-[解题报告]HOJ》上的评论">9 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Partition</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Define f(n) as the number of ways to perform n in format of the sum of some positive integers. For instance, when n=4, we have<br/>  4=1+1+1+1<br/>  4=1+1+2<br/>  4=1+2+1<br/>  4=2+1+1<br/>  4=1+3<br/>  4=2+2<br/>  4=3+1<br/>  4=4<br/>totally 8 ways. Actually, we will have f(n)=2<sup>(n-1)</sup> after observations.<br/>Given a pair of integers n and k, your task is to figure out how many times that the integer k occurs in such 2<sup>(n-1)</sup> ways. In the example above, number 1 occurs for 12 times, while number 4 only occurs once. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains a single integer T(1≤T≤10000), indicating the number of test cases.<br/>Each test case contains two integers n and k(1≤n,k≤10<sup>9</sup>). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line contains a single integer T(1≤T≤10000), indicating the number of test cases.<br/>Each test case contains two integers n and k(1≤n,k≤10<sup>9</sup>).</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
4 2
5 5</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
5
1</pre>
<p> <!-- problem end --></p>
<p>/*<br/>
分析：<br/>
    2013multi第一场c题，递推找规律都行。<br/>
    打个表就能看出来规律了，递推的过程完全就是高中时候数学某<br/>
种经典题的原题= =I 。</p>
<p>                                          2013-07-23<br/>
*/</p>
<p></p>
<pre class="brush:cpp" name="code">#include"iostream"
#include"cstdio"
#include"cstring"
using namespace std;
const int mod=1000000007;

__int64 sp(__int64 a,__int64 b)
{
	__int64 ans=1;
	while(b)
	{
		if(b%2)	ans=(ans*a)%mod;
		b/=2;
		a=(a*a)%mod;
	}
	return ans%mod;
}
__int64 solve(int x)
{
	__int64 ans;
	if(x==1)	return 1;
	if(x==2)	return 2;
	if(x==3)	return 5;
	ans=((2*sp(2,x-2))%mod+((x-2)*sp(2,x-3))%mod)%mod;
	return ans;
}
int main()
{
	int T;
	int n,k;
	int x;
	cin&gt;&gt;T;
	while(T--)
	{
		scanf("%d%d",&amp;n,&amp;k);
		if(k&gt;n)	{printf("0\n");continue;}
		x=n;
		x-=(k-1);
		printf("%I64d\n",solve(x));
	}
	return 0;
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/ice_crazy/article/details/9427583</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97529">
<article class="comment" id="comment-97529">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513300" rel="external nofollow">新用户686143</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-97529" rel="nofollow"><time datetime="2017-04-20T05:15:16+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>壮哉我灵剑山</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66644">
<article class="comment" id="comment-66644">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66644" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66643">
<article class="comment" id="comment-66643">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66643" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66642">
<article class="comment" id="comment-66642">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66642" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66641">
<article class="comment" id="comment-66641">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66641" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66640">
<article class="comment" id="comment-66640">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66640" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66639">
<article class="comment" id="comment-66639">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66639" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66638">
<article class="comment" id="comment-66638">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66638" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66637">
<article class="comment" id="comment-66637">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516489" rel="external nofollow">新用户966064</a></span> on <a href="http://www.acmerblog.com/hdu-4602-partition-7646.html#comment-66637" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚看完，豆瓣评分水分太大了。5分顶天</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>