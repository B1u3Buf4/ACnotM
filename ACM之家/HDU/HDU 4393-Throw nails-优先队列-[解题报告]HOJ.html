<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>05-24</div>
<div class="tit"><h1 class="entry-title">HDU 4393-Throw nails-优先队列-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a>, <a href="http://www.acmerblog.com/category/data-struct" rel="category tag" title="查看数据结构中的全部文章">数据结构</a></span><span class="i4">围观145次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7404" href="http://www.acmerblog.com/hdu-4393-throw-nails-7404.html#comments" title="《HDU 4393-Throw nails-优先队列-[解题报告]HOJ》上的评论">2 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Throw nails</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The annual school bicycle contest started. ZL is a student in this school. He is so boring because he can’t ride a bike!! So he decided to interfere with the contest. He has got the players’ information by previous contest video. A player can run   F   meters the first second, and then can run  S   meters every second.<br/>Each player has a single straight runway. And ZL will throw a nail  every second end to the farthest player’s runway. After the "BOOM", this player will be eliminated. If more then one players are NO.1, he always choose the player who has the smallest ID. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
In the first line there is an integer T (T &lt;= 20), indicates the number of test cases.<br/>In each case, the first line contains one integer n (1 &lt;= n &lt;= 50000), which is the number of the players. <br/>Then n lines follow, each contains two integers Fi(0 &lt;= Fi &lt;= 500), Si (0 &lt; Si &lt;= 100) of the ith player. Fi  is  the way can be run in first second and Si is the speed after one second .i is the player’s ID start from 1.
<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px">
<div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
<p>Huge input, scanf is recommended.<br/>Huge output, printf is recommended.</p></div>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
In the first line there is an integer T (T &lt;= 20), indicates the number of test cases.<br/>In each case, the first line contains one integer n (1 &lt;= n &lt;= 50000), which is the number of the players. <br/>Then n lines follow, each contains two integers Fi(0 &lt;= Fi &lt;= 500), Si (0 &lt; Si &lt;= 100) of the ith player. Fi  is  the way can be run in first second and Si is the speed after one second .i is the player’s ID start from 1.
<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px">
<div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
<p>Huge input, scanf is recommended.<br/>Huge output, printf is recommended.</p></div>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
100 1
100 2
3 100
5
1 1
2 2
3 3
4 1
3 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case #1:
1 3 2
Case #2:
4 5 3 2 1

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
Hint
The first case:

1st Second end
Player1  100m    (BOOM!!)
Player2  100m
Player3    3m

2nd Second end
Player2  102m    
Player3  103m    (BOOM!!)

3rd  Second end
Player2  104m    (BOOM!!)
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p>题目大意：</p>
<p>给你n个人，他们在进行一场自行车竞速比赛，每个人在第1s时走fi米，以后每秒走si米，一个小孩在仍钉子破坏比赛，每秒他都选最靠前的那个人，如果有多个人，选编号最小的那个，问你这些人依次被破退出比赛的顺序。(1 &lt;= n &lt;= 50000)(0 &lt;= Fi &lt;= 500)(0 &lt; Si &lt;= 100)</p>
<p>题解：</p>
<p>下面是官方的题解，比赛时我没做出来，原因在于忘记了(0 &lt; Si &lt;= 100)的数据范围.</p>
<p><span style="font-size:14.0pt">法一</span> <br/>
<span style="font-size:14.0pt">考虑Fi最大只有500，所以501s之后只有 speed 对排名有影响（此时如果F也相同，则按ID顺序），排序即可。前501s暴力查找，然后直接按照排序结果输出。</span><br/>
<br/>
<span style="font-size:14.0pt">法二</span> <br/>
<span style="font-size:14.0pt">当 way 和 speed 呈二维不递增序列时，排名不会发生变化。排序后暴力查找到way和speed满足这个条件即可。</span><br/>
<br/>
<span style="font-size:14.0pt">法三</span> <br/>
<span style="font-size:14.0pt">考虑Si最大只有100，所以我们可以建立优先队列数组s[1..100]，对于每个优先队列，按第一关键字Fi第二关键字ID排序，每次取出所有的优先队列里最大值，然后直接 计算（Time-1）*Si + Fi 找最大的way，将对应的优先队列pop并输出对应ID即可。     </span></p>
<p>下面是用第三种方法AC的程序</p>
<pre class="brush:cpp" name="code">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cstdlib&gt;
#include&lt;queue&gt;
using namespace std;
struct node
{
    int f,id;
    bool operator&lt;(const node&amp; b)const
    {
        return (f&lt;b.f)||(f==b.f &amp;&amp; id&gt;b.id);
    }
};
priority_queue&lt;node&gt; s[120];
int sec,n;
int main()
{
    scanf("%d",&amp;sec);
    for(int z=1;z&lt;=sec;z++)
    {
        scanf("%d",&amp;n);
        for(int i=1;i&lt;=n;i++)
        {
            node t;int f,d;
            scanf("%d%d",&amp;f,&amp;d);
            t.f=f;
            t.id=i;
            s[d].push(t);
        }

        printf("Case #%d:\n",z);
        for(int i=1;i&lt;=n;i++)
        {
            int maxx=-1,minid=1&lt;&lt;28;int re;
            for(int j=1;j&lt;=100;j++)
            if(!s[j].empty())
            {
                node t=s[j].top();
                if((i-1)*j+t.f&gt;maxx || ((i-1)*j+t.f==maxx &amp;&amp; t.id&lt;minid))
                {
                    maxx=(i-1)*j+t.f;
                    re=j;
                    minid=t.id;
                }
            }
            int tem=s[re].top().id;
            if(i==n)printf("%d\n",tem);else printf("%d ",tem);
            s[re].pop();
        }
    }
    return 0;
}
</pre>
<p>
</p>
<p></p>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/hyogahyoga/article/details/7901921</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-68106">
<article class="comment" id="comment-68106">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516690" rel="external nofollow">新用户452020</a></span> on <a href="http://www.acmerblog.com/hdu-4393-throw-nails-7404.html#comment-68106" rel="nofollow"><time datetime="2017-04-11T03:57:03+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你说的是《越空狂龙》，强烈推荐给没有看过的人，炒鸡好看。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68105">
<article class="comment" id="comment-68105">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516690" rel="external nofollow">新用户452020</a></span> on <a href="http://www.acmerblog.com/hdu-4393-throw-nails-7404.html#comment-68105" rel="nofollow"><time datetime="2017-04-11T03:57:03+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你说的是《越空狂龙》，强烈推荐给没有看过的人，炒鸡好看。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>