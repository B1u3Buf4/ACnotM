<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-26</div>
<div class="tit"><h1 class="entry-title">hdu 2049 不容易系列之(4)――考新郎-递推-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观804次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3145" href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comments" title="《hdu 2049 不容易系列之(4)――考新郎-递推-[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">不容易系列之(4)――考新郎</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
国庆期间,省城HZ刚刚举行了一场盛大的集体婚礼,为了使婚礼进行的丰富一些,司仪临时想出了有一个有意思的节目,叫做"考新郎",具体的操作是这样的:<br/><img src="http://www.acmerblog.com/img/img"/>
<p>首先,给每位新娘打扮得几乎一模一样,并盖上大大的红盖头随机坐成一排;<br/>然后,让各位新郎寻找自己的新娘.每人只准找一个,并且不允许多人找一个.<br/>最后,揭开盖头,如果找错了对象就要当众跪搓衣板…</p>
<p>看来做新郎也不是容易的事情…</p>
<p>假设一共有N对新婚夫妇,其中有M个新郎找错了新娘,求发生这种情况一共有多少种可能. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入数据的第一行是一个整数C,表示测试实例的个数，然后是C行数据，每行包含两个整数N和M(1&lt;M&lt;=N&lt;=20)。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输入数据的第一行是一个整数C,表示测试实例的个数，然后是C行数据，每行包含两个整数N和M(1&lt;M&lt;=N&lt;=20)。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
2 2
3 2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3</pre>
<p> <!-- problem end --></p>
<p><span style="font-family:KaiTi_GB2312; font-size:18px">题解：</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:18px">  此题属于递推题，和hdu2048思路是一样的，不同的是先将不用跪搓板的新郎挑出，有B = n! / ((n-m)! * m!)个，再将跪搓板的新郎A = A[m]（这与hdu2048算法一样）个。总的个数为A*B个。同样要记得用 __int64 开数组A[], B[]。</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:18px">  代码如下：</span></p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;

__int64 fact(int n)
{
	if (n &lt;= 1)
		return 1;
	else
		return n*fact(n-1);
}

int main()
{
	int i, n, m, C;
	__int64 A[21] = {0, 0, 1},
			B[21] = {0, 0, 1};
	for (i=3; i&lt;21; i++)
	{//如果有i个跪搓板的新郎，这些新郎有A[i]种选择
		B[i] = A[i-2] + (i-2) * B[i-1];
		A[i] = (i-1) * B[i];
	} 
	for (i=0; i&lt;21; i++)
		B[i] = fact(i);//存起来待用
	scanf("%d", &amp;C);
	for (i=0; i&lt;C; i++)
	{
		scanf("%d%d", &amp;n, &amp;m);
		printf("%I64d\n", B[n]/(B[n-m]*B[m])*A[m]);//不知道这里算不算个技巧，反正比直接调用fact()函数快得多
	}
	return 0;
}</pre>
<p>
 </p>
<p>
<span style="font-family:KaiTi_GB2312; font-size:18px">做2048用了将近半小时，做这个4、5分钟就搞定了。虽然简单，但是成就感十足，我喜欢~~~~~~</span></p>
<p>解题转自：http://blog.csdn.net/suifengdream/article/details/8523740</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-18703">
<article class="comment" id="comment-18703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-18703" rel="nofollow"><time datetime="2015-07-03T09:51:55+00:00" pubdate="">2015年7月3日 at 上午9:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18701">
<article class="comment" id="comment-18701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-18701" rel="nofollow"><time datetime="2015-06-27T15:26:00+00:00" pubdate="">2015年6月27日 at 下午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输出规范写错了哦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43765">
<article class="comment" id="comment-43765">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43765" rel="nofollow"><time datetime="2015-02-14T09:16:05+00:00" pubdate="">2015年2月14日 at 上午9:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>yeah, This is very tricky. If you use Cpp,you need more code</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43763">
<article class="comment" id="comment-43763">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43763" rel="nofollow"><time datetime="2015-02-06T12:09:14+00:00" pubdate="">2015年2月6日 at 下午12:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18702">
<article class="comment" id="comment-18702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-18702" rel="nofollow"><time datetime="2014-09-20T03:18:59+00:00" pubdate="">2014年9月20日 at 上午3:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>纠正一个错误，二分查找树的中序遍历获得元素的升序排列。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43764">
<article class="comment" id="comment-43764">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43764" rel="nofollow"><time datetime="2014-08-26T00:23:36+00:00" pubdate="">2014年8月26日 at 上午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43762">
<article class="comment" id="comment-43762">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43762" rel="nofollow"><time datetime="2014-08-21T14:48:04+00:00" pubdate="">2014年8月21日 at 下午2:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43761">
<article class="comment" id="comment-43761">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Yaunxi</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43761" rel="nofollow"><time datetime="2014-08-19T08:02:54+00:00" pubdate="">2014年8月19日 at 上午8:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3中，GetRightPosition()和GetLeftPosition()与STL中的upper_bound()和lower_boune()的代码实现一样吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56110">
<article class="comment" id="comment-56110">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-56110" rel="nofollow"><time datetime="2014-08-02T05:27:44+00:00" pubdate="">2014年8月2日 at 上午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18704">
<article class="comment" id="comment-18704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-18704" rel="nofollow"><time datetime="2014-07-02T20:01:19+00:00" pubdate="">2014年7月2日 at 下午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56111">
<article class="comment" id="comment-56111">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa_zmt</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-56111" rel="nofollow"><time datetime="2014-05-30T13:33:04+00:00" pubdate="">2014年5月30日 at 下午1:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56113">
<article class="comment" id="comment-56113">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Anne</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-56113" rel="nofollow"><time datetime="2014-05-30T06:07:03+00:00" pubdate="">2014年5月30日 at 上午6:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43760">
<article class="comment" id="comment-43760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-43760" rel="nofollow"><time datetime="2014-03-16T00:34:45+00:00" pubdate="">2014年3月16日 at 上午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>值得分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56112">
<article class="comment" id="comment-56112">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-2049-%E4%B8%8D%E5%AE%B9%E6%98%93%E7%B3%BB%E5%88%97%E4%B9%8B%284%29%E2%80%95%E2%80%95%E8%80%83%E6%96%B0%E9%83%8E-3145.html#comment-56112" rel="nofollow"><time datetime="2014-03-05T15:20:55+00:00" pubdate="">2014年3月5日 at 下午3:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个是python代码啊。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>