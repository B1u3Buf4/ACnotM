<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-16</div>
<div class="tit"><h1 class="entry-title">hdu 1623 Searching Quickly-字符串处理-[解题报告]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/string" rel="category tag" title="查看字符串处理中的全部文章">字符串处理</a></span><span class="i4">围观1215次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2468" href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comments" title="《hdu 1623 Searching Quickly-字符串处理-[解题报告]》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Searching Quickly</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Searching and sorting are part of the theory and practice of computer science. For example, binary search provides a good example of an easy-to-understand algorithm with sub-linear complexity. Quicksort is an efficient O(nlongn) [average case] comparison based sort. 
<p>KWIC-indexing is an indexing method that permits efficient “human search” of, for example, a list of titles. </p>
<p>Given a list of titles and a list of “words to ignore”, you are to write a program that generates a KWIC (Key Word In Context) index of the titles. In a KWIC-index, a title is listed once for each keyword that occurs in the title. The KWIC-index is alphabetized by keyword. </p>
<p>Any word that is not one of the “words to ignore” is a potential keyword. </p>
<p>For example, if words to ignore are “the, of, and, as, a” and the list of titles is: </p>
<p>Descent of Man<br/>The Ascent of Man<br/>The Old Man and The Sea<br/>A Portrait of The Artist As a Young Man</p>
<p>A KWIC-index of these titles might be given by: </p>
<p>                      a portrait of the ARTIST as a young man <br/>                                    the ASCENT of man <br/>                                        DESCENT of man <br/>                             descent of MAN <br/>                          the ascent of MAN <br/>                                the old MAN and the sea <br/>    a portrait of the artist as a young MAN <br/>                                    the OLD man and the sea <br/>                                      a PORTRAIT of the artist as a young man <br/>                    the old man and the SEA <br/>          a portrait of the artist as a YOUNG man </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input is a sequence of lines, the string :: is used to separate the list of words to ignore from the list of titles. Each of the words to ignore appears in lower-case letters on a line by itself and is no more than 10 characters in length. Each title appears on a line by itself and may consist of mixed-case (upper and lower) letters. Words in a title are separated by whitespace. No title contains more than 15 words. 
<p>There will be no more than 50 words to ignore, no more than than 200 titles, and no more than 10,000 characters in the titles and words to ignore combined. No characters other than ‘a’-'z’, ‘A’-'Z’, and white space will appear in the input. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output should be a KWIC-index of the titles, with each title appearing once for each keyword in the title, and with the KWIC-index alphabetized by keyword. If a word appears more than once in a title, each instance is a potential keyword. 
<p>The keyword should appear in all upper-case letters. All other words in a title should be in lower-case letters. Titles in the KWIC-index with the same keyword should appear in the same order as they appeared in the input file. In the case where multiple instances of a word are keywords in the same title, the keywords should be capitalized in left-to-right order. </p>
<p>Case (upper or lower) is irrelevant when determining if a word is to be ignored. </p>
<p>The titles in the KWIC-index need NOT be justified or aligned by keyword, all titles may be listed left-justified.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
is
the
of
and
as
a
but
::
Descent of Man
The Ascent of Man
The Old Man and The Sea
A Portrait of The Artist As a Young Man
A Man is a Man but Bubblesort IS A DOG</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
a portrait of the ARTIST as a young man 
the ASCENT of man 
a man is a man but BUBBLESORT is a dog 
DESCENT of man 
a man is a man but bubblesort is a DOG 
descent of MAN 
the ascent of MAN 
the old MAN and the sea 
a portrait of the artist as a young MAN 
a MAN is a man but bubblesort is a dog 
a man is a MAN but bubblesort is a dog 
the OLD man and the sea 
a PORTRAIT of the artist as a young man 
the old man and the SEA 
a portrait of the artist as a YOUNG man</pre>
<p> <!-- problem end --></p>
<p><span style="font-size:18px"><a href="http://blog.csdn.net/ra_winding/article/details/7986534">AOAPC I: Beginning Algorithm Contests (Rujia Liu)</a> :: </span><span style="font-size:18px; font-family:Arial"><span style="line-height:26px"><a href="http://blog.csdn.net/ra_winding/article/details/7986579">Volume<br/>
 1. Elementary Problem Solving</a></span></span><span style="font-size:18px; font-family:Arial; line-height:26px"> ::<a href="http://blog.csdn.net/ra_winding/article/details/8170450">Sorting/Searching</a></span>
</p>
<p><span style="font-size:14px"><br/>
</span></p>
<p><strong><span style="font-size:24px">Description</span></strong></p>
<p><span style="font-size:18px">在一些文章标题中， 寻找关键词。</span></p>
<p><span style="font-size:18px">所谓关键词， 就是在一个过滤词表中， 没有被过滤掉的单词。</span></p>
<p><span style="font-size:18px">请将关键词找出来后， 按字典序排序。</span></p>
<p><span style="font-size:18px">且输出关键词时， 是将关键词在标题中以全大写的形式出现（其他单词全变为小写），</span></p>
<p><span style="font-size:18px">然后输出整个句子。</span></p>
<p><span style="font-size:18px"><br/>
</span></p>
<p><span style="font-size:24px"><strong>Type</strong></span></p>
<p><span style="font-size:18px">Sorting/Searching</span></p>
<p><span style="font-size:18px"><br/>
</span></p>
<p><span style="font-size:24px"><strong>Analysis</strong></span></p>
<p><span style="font-size:18px">利用 STL map 做起来就容易了，</span></p>
<p><span style="font-size:18px">将关键词作键， 对应的句子作值， 储存于 multimap 中。</span></p>
<p><span style="font-size:18px">（由于可能出现相同的关键词， 所以应该用 multimap）</span></p>
<p><span style="font-size:18px">连字典序排序都剩了。</span></p>
<p><span style="font-size:18px"><br/>
</span></p>
<p><span style="font-size:18px">最后要注意， 标题和过滤词表在输入时可以全转为小写，</span></p>
<p><span style="font-size:18px">会比较方便字符串操作。</span></p>
<p><span style="font-size:18px"><br/>
</span></p>
<p><span style="font-size:24px"><strong>Solution</strong></span></p>
<pre class="brush:cpp ">// UVaOJ 123
// Searching Quickly
// by A Code Rabbit

#include &lt;cctype&gt;
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;map&gt;
using namespace std;

string word;
string title;

string ToLower(string str);
string ToUpper(string str);

int main() {
    set&lt;string&gt; words;
    while (getline(cin, word)) {
        if (word == "::") break;
        else words.insert(ToLower(word));
    }

    multimap&lt;string, string&gt; kwic;
    while (getline(cin, title)) {
        title = ToLower(title);
        string key;
        string val = title;
        for (int i = 0; i &lt;= title.length(); i++) {
            if ((i == title.length() || title[i] == ' ') &amp;&amp; key != "") {
                if (!words.count(key)) {
                    key = ToUpper(key);
                    for (int j = 0; j &lt; key.length(); j++)
                        val[i - key.length() + j] = key[j];
                    kwic.insert(make_pair(key, val));
                    val = title;
                }
                key = "";
            } else {
                key += title[i];
            }
        }
    }

    for (map&lt;string, string&gt;::iterator iter = kwic.begin();
        iter != kwic.end();
        ++iter)
    {
        cout &lt;&lt; iter-&gt;second &lt;&lt; endl;
    }
    

    return 0;
}

string ToLower(string str) {
    for (int i = 0; i &lt; str.length(); i++)
        str[i] = tolower(str[i]);
    return str;
}

string ToUpper(string str) {
    for (int i = 0; i &lt; str.length(); i++)
        str[i] = toupper(str[i]);
    return str;
}</pre>
<div>
</div>
<p>解题转自：http://blog.csdn.net/ra_winding/article/details/8207202</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-42387">
<article class="comment" id="comment-42387">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42387" rel="nofollow"><time datetime="2015-07-08T01:38:59+00:00" pubdate="">2015年7月8日 at 上午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61891">
<article class="comment" id="comment-61891">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-61891" rel="nofollow"><time datetime="2015-04-27T02:07:14+00:00" pubdate="">2015年4月27日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42391">
<article class="comment" id="comment-42391">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42391" rel="nofollow"><time datetime="2015-03-21T20:21:08+00:00" pubdate="">2015年3月21日 at 下午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16150">
<article class="comment" id="comment-16150">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qq1005873807</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-16150" rel="nofollow"><time datetime="2015-03-17T05:52:29+00:00" pubdate="">2015年3月17日 at 上午5:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>27行 minStack.push(minValue); 去掉就对了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16151">
<article class="comment" id="comment-16151">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-16151" rel="nofollow"><time datetime="2014-10-14T14:31:51+00:00" pubdate="">2014年10月14日 at 下午2:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42388">
<article class="comment" id="comment-42388">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42388" rel="nofollow"><time datetime="2014-08-30T19:33:05+00:00" pubdate="">2014年8月30日 at 下午7:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16149">
<article class="comment" id="comment-16149">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-16149" rel="nofollow"><time datetime="2014-08-29T12:11:12+00:00" pubdate="">2014年8月29日 at 下午12:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42385">
<article class="comment" id="comment-42385">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42385" rel="nofollow"><time datetime="2014-08-29T05:58:41+00:00" pubdate="">2014年8月29日 at 上午5:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42386">
<article class="comment" id="comment-42386">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42386" rel="nofollow"><time datetime="2014-06-12T18:01:48+00:00" pubdate="">2014年6月12日 at 下午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42392">
<article class="comment" id="comment-42392">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42392" rel="nofollow"><time datetime="2014-05-21T01:13:41+00:00" pubdate="">2014年5月21日 at 上午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，现在就缺少新的资料</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42389">
<article class="comment" id="comment-42389">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42389" rel="nofollow"><time datetime="2014-04-20T07:17:50+00:00" pubdate="">2014年4月20日 at 上午7:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个还不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-42390">
<article class="comment" id="comment-42390">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/hdu-1623-Searching-Quickly-2468.html#comment-42390" rel="nofollow"><time datetime="2014-01-26T04:44:38+00:00" pubdate="">2014年1月26日 at 上午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>