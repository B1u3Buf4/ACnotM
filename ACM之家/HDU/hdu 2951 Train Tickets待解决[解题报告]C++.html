<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-24</div>
<div class="tit"><h1 class="entry-title">hdu 2951 Train Tickets待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观818次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4676" href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comments" title="《hdu 2951 Train Tickets待解决[解题报告]C++》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Train Tickets</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Tor Gunnar is a huge fan of trains. All his life, he’s been running around at home yelling "Toot Toot". So when he recently found out about a job opening at a local train company, he immediately applied. Tor Gunnar, having studied really hard to reach such opportunities, got the job. <br/><center><img src="http://www.acmerblog.com/img/1393505594942.jpg"/></center> <br/>It was the happiest moment of his life! To his great dissappointment, though, he discovered that the contract said nothing about riding trains all day. He is now assigned to the IT department, and is supposed to help write a new ticket management system. The part he is supposed to write, is an algorithm for distributing tickets among the difierent possible travels along a train route.
<p>Tor Gunnar comes from a strange country. In addition to speaking a language even he himself doesn’t understand, the countrys government has pushed through some weird laws that influences how train tickets are sold. This means that the price for travelling from station A to station B is predetermined. Also, everytime you sell tickets for a given trip, you’ll know the exact demand for travelling between each pair of cities. What more, the government is allowed to set aside some tickets for their own usage (these are free of<br/>charge).</p>
<p>One train trip consists of a series of stations. It is possible to travel from station A to B as long as A precedes B in the station list. Each train has a given capacity, and there can never be more than this amount of passengers in between two adjacent stations.</p>
<p>Tor Gunnar is completely puzzled, and desperately needs your help. Write a program that helps him figure out the best ticket distribution. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of input contains a single number T, the number of test cases to follow.
<p>Each test case begins with a line containing two numbers, N and P, the number of stations in the case and the capacity of the train, respectively. Then follow N – 1 lines, giving the ticket prices, Cij . The i-th of these N lines contain N – i numbers. The j-th number of the i-th line is the cost of a ticket from station i to station i + j. The next N – 1 lines give the demand for tickets for each pair of stations, Dij , in the same format as the prices.</p>
<p> Another N – 1 lines in the same format follow these, statin the number of tickets set aside for the government officials, Oij .</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line of input contains a single number T, the number of test cases to follow.
<p>Each test case begins with a line containing two numbers, N and P, the number of stations in the case and the capacity of the train, respectively. Then follow N – 1 lines, giving the ticket prices, Cij . The i-th of these N lines contain N – i numbers. The j-th number of the i-th line is the cost of a ticket from station i to station i + j. The next N – 1 lines give the demand for tickets for each pair of stations, Dij , in the same format as the prices.</p>
<p> Another N – 1 lines in the same format follow these, statin the number of tickets set aside for the government officials, Oij .</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
3 1
3 4
2
0 0
0
0 0
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-80987">
<article class="comment" id="comment-80987">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80987" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80986">
<article class="comment" id="comment-80986">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80986" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80985">
<article class="comment" id="comment-80985">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80985" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80984">
<article class="comment" id="comment-80984">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80984" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80983">
<article class="comment" id="comment-80983">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80983" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80982">
<article class="comment" id="comment-80982">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80982" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80981">
<article class="comment" id="comment-80981">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521864" rel="external nofollow">新用户642224</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-80981" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>花爷的新作，还是想念萌三，虽然可能不会再出续集了，但是还是抱了一丝希望继续关注作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26008">
<article class="comment" id="comment-26008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26008" rel="nofollow"><time datetime="2015-04-13T00:56:49+00:00" pubdate="">2015年4月13日 at 上午12:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26001">
<article class="comment" id="comment-26001">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26001" rel="nofollow"><time datetime="2015-03-02T04:22:30+00:00" pubdate="">2015年3月2日 at 上午4:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26005">
<article class="comment" id="comment-26005">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26005" rel="nofollow"><time datetime="2015-02-19T08:29:08+00:00" pubdate="">2015年2月19日 at 上午8:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>6题应该就是算概率的吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26004">
<article class="comment" id="comment-26004">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26004" rel="nofollow"><time datetime="2015-02-16T11:07:18+00:00" pubdate="">2015年2月16日 at 上午11:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47117">
<article class="comment" id="comment-47117">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-47117" rel="nofollow"><time datetime="2014-12-28T06:28:20+00:00" pubdate="">2014年12月28日 at 上午6:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;</p>
<p>int main() {<br/>
	//answer must be odd<br/>
    int n, u, d;<br/>
    while(scanf("%d%d%d",&amp;n,&amp;u,&amp;d)==3 &amp;&amp; n&gt;0) {<br/>
        if(n&lt;=u) { puts("1"); continue; }<br/>
        n-=u; u-=d; n+=u-1; n/=u;<br/>
        n&lt;&lt;=1, ++n;<br/>
        printf("%dn",n);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26002">
<article class="comment" id="comment-26002">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26002" rel="nofollow"><time datetime="2014-11-09T05:47:07+00:00" pubdate="">2014年11月9日 at 上午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-1]）这个地方也也有笔误<br/>
应改为L（X [0 .. M-1]，Y [0 .. N-1]）= 1 + L（X [0 .. M-2]，Y [0 .. N-2]）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47116">
<article class="comment" id="comment-47116">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-47116" rel="nofollow"><time datetime="2014-11-06T03:55:25+00:00" pubdate="">2014年11月6日 at 上午3:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK),这样比较看，快排快</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47119">
<article class="comment" id="comment-47119">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-47119" rel="nofollow"><time datetime="2014-10-18T02:19:42+00:00" pubdate="">2014年10月18日 at 上午2:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26007">
<article class="comment" id="comment-26007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Riddick</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26007" rel="nofollow"><time datetime="2014-10-06T05:18:35+00:00" pubdate="">2014年10月6日 at 上午5:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很给力啊，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26009">
<article class="comment" id="comment-26009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26009" rel="nofollow"><time datetime="2014-08-11T00:20:28+00:00" pubdate="">2014年8月11日 at 上午12:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26006">
<article class="comment" id="comment-26006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotongtest</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26006" rel="nofollow"><time datetime="2014-07-29T03:01:43+00:00" pubdate="">2014年7月29日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47115">
<article class="comment" id="comment-47115">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-47115" rel="nofollow"><time datetime="2014-04-23T20:34:31+00:00" pubdate="">2014年4月23日 at 下午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47118">
<article class="comment" id="comment-47118">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-47118" rel="nofollow"><time datetime="2014-04-22T05:29:23+00:00" pubdate="">2014年4月22日 at 上午5:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，我的方法占用的内存更多些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-26003">
<article class="comment" id="comment-26003">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">_Tree</a></span> on <a href="http://www.acmerblog.com/hdu-2951-train-tickets-4676.html#comment-26003" rel="nofollow"><time datetime="2014-03-04T17:25:08+00:00" pubdate="">2014年3月4日 at 下午5:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>