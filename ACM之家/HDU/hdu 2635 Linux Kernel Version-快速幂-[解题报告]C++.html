<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-12</div>
<div class="tit"><h1 class="entry-title">hdu 2635 Linux Kernel Version-快速幂-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观756次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4222" href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comments" title="《hdu 2635 Linux Kernel Version-快速幂-[解题报告]C++》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Linux Kernel Version</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Samuel is fed up with Microsoft Windows system. Instead of xp he chose to install Linux Fedora 10 in his own desktop. But Linux has various distributions with different kernel versions. Some kernels are not stable. Of course,the unstable ones is not of  Samuel’s choice. Samuel is never tired of reinstalling Linux,because he always wants to try the latest release version on his computer. So Samuel needs to know the kernel’s version before he downloads the distribution version.<br/>   Here is an easy problem for you,tell Samuel which distribution he should choose to reinstall. <br/>   To make the problem easier,suppose each Linux kernel version mark is made up by a string like the format:”r.x.y”Here r represents the major version number,x will be even(stable) or odd(beta version not stable,need to be developed),y represents the time the kernel has been corrected. For instance,the kernel whose number is 2.6.7 is a stable version. However,2.5.11 is not due to the number the letter x represents is odd. <br/>   As for he problem which one is the latest kernel,you can also refer to version number. When compared two version,you should first compare the r1 and r2, if r1&gt;r2 version 1 is the latest version. If r1=r2,you need to compare x1 and x2,if x1&gt;x2 that means the version 1 is the latest. If x1=x2,then you need to compare y1 and y2,version 1 is the newest one only if y1&gt;y2..Not clear about my English explanation,you can see the HDOJ 1976,it has a Chinese one. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist 2 major parts:<br/>Test cases t.<br/>Each of test case is made up of 2 minor parts:<br/>1.The number of available distributions<br/>2.Name of the distribution(a string,no white blanks)<br/>3.The kernel version(also a string in the format r.x.y without any blanks)<br/>I guarantee there is no test case has the same distribution name but with different kernel version nor the same kernel version but with the different distribution name. All the information in the same test cases is totally different. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input will consist 2 major parts:<br/>Test cases t.<br/>Each of test case is made up of 2 minor parts:<br/>1.The number of available distributions<br/>2.Name of the distribution(a string,no white blanks)<br/>3.The kernel version(also a string in the format r.x.y without any blanks)<br/>I guarantee there is no test case has the same distribution name but with different kernel version nor the same kernel version but with the different distribution name. All the information in the same test cases is totally different.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
SUSE 2.6.5
Fedora 2.6.7
Ubuntu 2.6.6
4
RedFlag 2.4.5
CentOS 2.5.6
Fedora 2.4.3
Debian 2.5.7
(In reality,the kernel version may not be so. The numbers are made up by myself.)</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
The latest distribution Samuel will choose is Fedora.
The latest distribution Samuel will choose is RedFlag.</pre>
<p> <!-- problem end --></p>
<pre><span style="color:#339900"></span></pre>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#include &lt;cstring&gt;
#define mod 9999997
long long tmp[3][3],ans[3][3],a[3][3];
void mul(long long a[][3],long long b[][3])
{
    for(int i=1; i&lt;=2; i++)
        for(int j=1; j&lt;=2; j++)
        {
            tmp[i][j]=0;
            for(int k=1; k&lt;=2; k++)
                tmp[i][j]+=a[i][k]*b[k][j];
            if(tmp[i][j]&gt;=mod) tmp[i][j]%=mod;
        }
    memcpy(a,tmp,sizeof(tmp));
}
void pow(long long ans[][3],long long b[][3],int n)
{
    ans[1][1]=ans[2][2]=1;
    ans[1][2]=ans[2][1]=0;
    while(n)
    {
        if(n&amp;1) mul(ans,b);
        mul(b,b);
        n&gt;&gt;=1;
    }
}
int main()
{
    int n;
    while(scanf("%d",&amp;n)==1)
    {
        memset(ans,0,sizeof(ans));
        a[1][1]=3;
        a[1][2]=a[2][2]=1;
        a[2][1]=0;
        pow(ans,a,n);
        printf("%d\n",ans[1][2]%mod);
    }
    return 0;
}</pre>
<p></p>
<p>解题转自：http://blog.csdn.net/ehi11/article/details/8616643</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83638">
<article class="comment" id="comment-83638">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83638" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83637">
<article class="comment" id="comment-83637">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83637" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83636">
<article class="comment" id="comment-83636">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83636" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83635">
<article class="comment" id="comment-83635">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83635" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83634">
<article class="comment" id="comment-83634">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83634" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83633">
<article class="comment" id="comment-83633">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83633" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83632">
<article class="comment" id="comment-83632">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511639" rel="external nofollow">新用户571481</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-83632" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是，我姓索诶！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57176">
<article class="comment" id="comment-57176">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-57176" rel="nofollow"><time datetime="2015-06-15T10:06:55+00:00" pubdate="">2015年6月15日 at 上午10:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46026">
<article class="comment" id="comment-46026">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46026" rel="nofollow"><time datetime="2015-04-30T23:17:15+00:00" pubdate="">2015年4月30日 at 下午11:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46034">
<article class="comment" id="comment-46034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46034" rel="nofollow"><time datetime="2015-03-30T10:12:37+00:00" pubdate="">2015年3月30日 at 上午10:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46030">
<article class="comment" id="comment-46030">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46030" rel="nofollow"><time datetime="2015-03-22T10:18:39+00:00" pubdate="">2015年3月22日 at 上午10:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23572">
<article class="comment" id="comment-23572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-23572" rel="nofollow"><time datetime="2015-03-12T06:57:52+00:00" pubdate="">2015年3月12日 at 上午6:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你指的哪个问题？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23571">
<article class="comment" id="comment-23571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-23571" rel="nofollow"><time datetime="2014-11-06T10:01:31+00:00" pubdate="">2014年11月6日 at 上午10:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46028">
<article class="comment" id="comment-46028">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46028" rel="nofollow"><time datetime="2014-10-11T07:18:13+00:00" pubdate="">2014年10月11日 at 上午7:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46029">
<article class="comment" id="comment-46029">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46029" rel="nofollow"><time datetime="2014-06-30T07:34:38+00:00" pubdate="">2014年6月30日 at 上午7:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23573">
<article class="comment" id="comment-23573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-23573" rel="nofollow"><time datetime="2014-06-28T15:30:47+00:00" pubdate="">2014年6月28日 at 下午3:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46027">
<article class="comment" id="comment-46027">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46027" rel="nofollow"><time datetime="2014-06-22T08:02:19+00:00" pubdate="">2014年6月22日 at 上午8:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23574">
<article class="comment" id="comment-23574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-23574" rel="nofollow"><time datetime="2014-04-11T23:05:04+00:00" pubdate="">2014年4月11日 at 下午11:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46033">
<article class="comment" id="comment-46033">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rtaxa</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46033" rel="nofollow"><time datetime="2014-04-06T10:45:43+00:00" pubdate="">2014年4月6日 at 上午10:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修改一下吧 …</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46031">
<article class="comment" id="comment-46031">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46031" rel="nofollow"><time datetime="2014-03-11T21:03:46+00:00" pubdate="">2014年3月11日 at 下午9:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46032">
<article class="comment" id="comment-46032">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MyHome</a></span> on <a href="http://www.acmerblog.com/hdu-2635-linux-kernel-version-4222.html#comment-46032" rel="nofollow"><time datetime="2014-02-15T08:51:21+00:00" pubdate="">2014年2月15日 at 上午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>排版</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>