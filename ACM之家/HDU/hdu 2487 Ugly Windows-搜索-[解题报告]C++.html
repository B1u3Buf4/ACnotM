<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-26</div>
<div class="tit"><h1 class="entry-title">hdu 2487 Ugly Windows-搜索-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search" rel="category tag" title="查看搜索中的全部文章">搜索</a></span><span class="i4">围观1106次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3951" href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comments" title="《hdu 2487 Ugly Windows-搜索-[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Ugly Windows</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Sheryl works for a software company in the country of Brada. Her job is to develop a Windows operating system. People in Brada are incredibly conservative. They even never use graphical monitors! So Sheryl’s operating system has to run in text mode and windows in that system are formed by characters. Sheryl decides that every window has an ID which is a capital English letter (‘A’ to ‘Z’). Because every window had a unique ID, there can’t be more than 26 windows at the same time. And as you know, all windows are rectangular.
<p>On the screen of that ugly Windows system, a window’s frame is formed by its ID letters. Fig-1 shows that there is only one window on the screen, and that window’s ID is ‘A’. Windows may overlap. Fig-2 shows the situation that window B is on the top of window A. And Fig-3 gives a more complicated overlapping. Of course, if some parts of a window are covered by other windows, you can’t see those parts on the screen. </p>
<p>…………………….<br/>….AAAAAAAAAAAAA……..<br/>….A………..A……..<br/>….A………..A……..<br/>….A………..A……..<br/>….AAAAAAAAAAAAA……..<br/>……………………. </p>
<p>Fig-1</p>
<p>…………………….<br/>….AAAAAAAAAAAAA……..<br/>….A………..A……..<br/>….A…….BBBBBBBBBB…<br/>….A…….B……..B…<br/>….AAAAAAAAB……..B…<br/>…………BBBBBBBBBB…<br/>……………………. </p>
<p>Fig-2</p>
<p>……………………..<br/>….AAAAAAAAAAAAA………<br/>….A………..A………<br/>….A…….BBBBBBBBBB….<br/>….A…….B……..BCCC.<br/>….AAAAAAAAB……..B..C.<br/>…….C….BBBBBBBBBB..C.<br/>…….CCCCCCCCCCCCCCCCCC. <br/>…………………….. </p>
<p>Fig-3</p>
<p>If a window has no parts covered by other windows, we call it a “top window” (The frame is also considered as a part of a window). Usually, the top windows are the windows that interact with user most frequently. Assigning top windows more CPU time and higher priority will result in better user experiences. Given the screen presented as Figs above, can you tell Sheryl which windows are top windows? </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several test cases.
<p>Each test case begins with two integers, n and m (1 &lt;= n, m &lt;= 100), indicating that the screen has n lines, and each line consists of m characters.</p>
<p>The following n lines describe the whole screen you see. Each line contains m characters. For characters which are not on any window frame, we just replace them with ‘.’ . </p>
<p>The input ends with a line of two zeros.</p>
<p>It is guaranteed that:</p>
<p>1) There is at least one window on the screen.<br/>2) Any window’s frame is at least 3 characters wide and 3 characters high.<br/>3) No part of any window is outside the screen.</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input contains several test cases.
<p>Each test case begins with two integers, n and m (1 &lt;= n, m &lt;= 100), indicating that the screen has n lines, and each line consists of m characters.</p>
<p>The following n lines describe the whole screen you see. Each line contains m characters. For characters which are not on any window frame, we just replace them with ‘.’ . </p>
<p>The input ends with a line of two zeros.</p>
<p>It is guaranteed that:</p>
<p>1) There is at least one window on the screen.<br/>2) Any window’s frame is at least 3 characters wide and 3 characters high.<br/>3) No part of any window is outside the screen.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
9 26
..........................
....AAAAAAAAAAAAA.........
....A...........A.........
....A.......BBBBBBBBBB....
....A.......B........BCCC.
....AAAAAAAAB........B..C.
.......C....BBBBBBBBBB..C.
.......CCCCCCCCCCCCCCCCCC. 
..........................
7 25
.........................
....DDDDDDDDDDDDD........
....D...........D........
....D...........D........
....D...........D..AAA...
....DDDDDDDDDDDDD..A.A...
...................AAA...
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
B
AD</pre>
<p> <!-- problem end --></p>
<p>题目： <a href="http://acm.hdu.edu.cn/showproblem.php?pid=2487">http://acm.hdu.edu.cn/showproblem.php?pid=2487</a></p>
<p>题目大意：</p>
<p>用一个大写字母表示一个窗口的ID，每个窗口至少要有3*3，给你一个桌面，要你输出位于最上层的窗口的ID。</p>
<p>解题思路：</p>
<p>先找到一个矩形窗口的左上角的点，记为（x, y）。然后向右搜索，遇到拐点，再向下找，又遇到拐点，记下这个点的坐标（tx, ty），再向左找，遇到拐点，向上找，遇到拐点，停止，记下这个点的坐标（dx, dy）。</p>
<p>判断 起点 和 终点 是否一样；</p>
<p>判断窗口大小是否小于3*3；</p>
<p>判断该窗口里面是否还套有其他窗口。</p>
<p>AC代码：</p>
<p>#include &lt;iostream&gt;<br/>using namespace std;</p>
<p>char w[120][120];<br/>int n, m;</p>
<p>bool Isok(int x, int y)<br/>{<br/> if (x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m)<br/>   return false;<br/> else<br/>   return true;<br/>}</p>
<p>bool find(int x, int y, char c)<br/>{<br/> int tx, ty, dx, dy, i, j;<br/> for (j = y + 1;Isok(x, j); ++j)<br/>   if (w[x][j] != c)<br/>    break; <br/> ty = j – 1;</p>
<p> for (i = x + 1; Isok(i, ty); ++i)<br/>   if (w[i][ty] != c)<br/>    break;<br/> tx = i – 1;</p>
<p> for (j = ty; Isok(tx, j); –j)<br/>   if (w[tx][j] != c)<br/>    break;<br/> dy = j + 1;</p>
<p> for (i = tx; Isok(i, dy); –i)<br/>   if (w[i][dy] != c)<br/>    break;<br/> dx = i + 1;</p>
<p> if (x != dx || y != dy)//起点与终点不同  <br/>   return false;</p>
<p> if (tx – x &lt;= 1 || ty – y &lt;= 1)//窗口小于3*3<br/>   return false;</p>
<p> bool flag = true;</p>
<p> for (i = x + 1; i &lt; tx &amp;&amp; flag; ++i)<br/>   for (j = y + 1; j &lt; ty &amp;&amp; flag; ++j)<br/>    if (w[i][j] != ‘.’)//窗口内套了其他窗口<br/>    {<br/>     flag = false;<br/>     break;<br/>    }</p>
<p> if (flag)<br/>   return true;<br/> else<br/>   return false;<br/>}</p>
<p>int main()<br/>{<br/> while (1)<br/> {<br/>   scanf("%d%d", &amp;n, &amp;m);<br/>   if (n == 0 &amp;&amp; m == 0)<br/>    break;</p>
<p>   for (int i = 0; i &lt; n; ++i)<br/>    scanf("%s", w[i]);</p>
<p>   int ans[30] = {0};</p>
<p>   for (int i = 0; i &lt; n; ++i)<br/>   {<br/>    for (int j = 0; j &lt; m; ++j)<br/>    {<br/>     if (w[i][j] != ‘.’ &amp;&amp; ans[w[i][j] – ‘A’] == 0)//找一个窗口的左上角的坐标<br/>     {<br/>      ans[w[i][j] – ‘A’] = -1;<br/>     <br/>      if (find(i, j, w[i][j]))<br/>       ans[w[i][j] – ‘A’] = 1;    <br/>     }<br/>    }<br/>   }</p>
<p>   for (int i = 0; i &lt; 26; ++i)<br/>   {<br/>    if (ans[i] == 1)<br/>     printf("%c", (char)(i + ‘A’));<br/>   }<br/>   printf("\n");<br/> }<br/> return 0;<br/>}</p>
<p> 解题转自：http://hi.baidu.com/yato__/item/7807f5ba20d782ea4ec7fd69</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-84397">
<article class="comment" id="comment-84397">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520335" rel="external nofollow">新用户570274</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-84397" rel="nofollow"><time datetime="2017-04-12T23:52:09+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>8.8..效率插件还。。行么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22378">
<article class="comment" id="comment-22378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22378" rel="nofollow"><time datetime="2015-06-22T19:52:34+00:00" pubdate="">2015年6月22日 at 下午7:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22381">
<article class="comment" id="comment-22381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22381" rel="nofollow"><time datetime="2015-04-30T13:32:58+00:00" pubdate="">2015年4月30日 at 下午1:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22372">
<article class="comment" id="comment-22372">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">windy</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22372" rel="nofollow"><time datetime="2015-04-07T04:19:36+00:00" pubdate="">2015年4月7日 at 上午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22370">
<article class="comment" id="comment-22370">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22370" rel="nofollow"><time datetime="2015-03-26T07:48:59+00:00" pubdate="">2015年3月26日 at 上午7:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22373">
<article class="comment" id="comment-22373">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22373" rel="nofollow"><time datetime="2015-03-21T02:59:12+00:00" pubdate="">2015年3月21日 at 上午2:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3中，GetRightPosition()和GetLeftPosition()与STL中的upper_bound()和lower_boune()的代码实现一样吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22375">
<article class="comment" id="comment-22375">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22375" rel="nofollow"><time datetime="2015-01-01T06:43:42+00:00" pubdate="">2015年1月1日 at 上午6:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22377">
<article class="comment" id="comment-22377">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22377" rel="nofollow"><time datetime="2014-10-17T04:08:07+00:00" pubdate="">2014年10月17日 at 上午4:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22374">
<article class="comment" id="comment-22374">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22374" rel="nofollow"><time datetime="2014-10-08T14:49:29+00:00" pubdate="">2014年10月8日 at 下午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22371">
<article class="comment" id="comment-22371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22371" rel="nofollow"><time datetime="2014-06-22T16:19:14+00:00" pubdate="">2014年6月22日 at 下午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22379">
<article class="comment" id="comment-22379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22379" rel="nofollow"><time datetime="2014-06-21T11:00:03+00:00" pubdate="">2014年6月21日 at 上午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很赞的解答</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22376">
<article class="comment" id="comment-22376">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22376" rel="nofollow"><time datetime="2014-06-15T17:34:06+00:00" pubdate="">2014年6月15日 at 下午5:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>涨姿势了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22380">
<article class="comment" id="comment-22380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22380" rel="nofollow"><time datetime="2014-06-14T10:32:39+00:00" pubdate="">2014年6月14日 at 上午10:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45400">
<article class="comment" id="comment-45400">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-45400" rel="nofollow"><time datetime="2014-05-07T01:58:04+00:00" pubdate="">2014年5月7日 at 上午1:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22369">
<article class="comment" id="comment-22369">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ozhfo</a></span> on <a href="http://www.acmerblog.com/hdu-2487-ugly-windows-3951.html#comment-22369" rel="nofollow"><time datetime="2014-02-03T23:47:35+00:00" pubdate="">2014年2月3日 at 下午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>