<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2289 Cup-分治-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观1162次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3519" href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comments" title="《hdu 2289 Cup-分治-[解题报告]C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Cup</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The WHU ACM Team has a big cup, with which every member drinks water. Now, we know the volume of the water in the cup, can you tell us it height? 
<p>The radius of the cup’s top and bottom circle is known, the cup’s height is also known. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. The first line of input contains an integer T, indicating the num of test cases.<br/>Each test case is on a single line, and it consists of four floating point numbers: r, R, H, V, representing the bottom radius, the top radius, the height and the volume of the hot water.
<p>Technical Specification</p>
<p>1. T ≤ 20.<br/>2. 1 ≤ r, R, H ≤ 100; 0 ≤ V ≤ 1000,000,000.<br/>3. r ≤ R.<br/>4. r, R, H, V are separated by ONE whitespace.<br/>5. There is NO empty line between two neighboring cases.</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of several test cases. The first line of input contains an integer T, indicating the num of test cases.<br/>Each test case is on a single line, and it consists of four floating point numbers: r, R, H, V, representing the bottom radius, the top radius, the height and the volume of the hot water.
<p>Technical Specification</p>
<p>1. T ≤ 20.<br/>2. 1 ≤ r, R, H ≤ 100; 0 ≤ V ≤ 1000,000,000.<br/>3. r ≤ R.<br/>4. r, R, H, V are separated by ONE whitespace.<br/>5. There is NO empty line between two neighboring cases.</p>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
100 100 100 3141562</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
99.999024</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;algorithm&gt;
using namespace std;
#define PI acos(-1.0)
#define exp 1e-9
double solve(double r,double R,double h,double H)
{
    double u = h/H*(R-r) + r;
    return PI/3*(r*r+r*u+u*u)*h;
}
int main()
{
    int t;
    double r,R,H,V,mid,vv,f,l;
    scanf("%d",&amp;t);
    while(t--)
    {
        scanf("%lf%lf%lf%lf",&amp;r,&amp;R,&amp;H,&amp;V);
        f=0;
        l=100;
        while(l-f&gt;exp)
        {
            mid=(l+f)/2;
            vv=solve(r,R,mid,H);
            if(fabs(vv-V)&lt;=exp)
                break;
            else if(vv&gt;V)
                l=mid-exp;
            else
                f=mid+exp;
        }
        printf("%.6lf\n",mid);
    }
    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/libin56842/article/details/17336981</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-86014">
<article class="comment" id="comment-86014">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86014" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86013">
<article class="comment" id="comment-86013">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86013" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86012">
<article class="comment" id="comment-86012">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86012" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86011">
<article class="comment" id="comment-86011">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86011" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86010">
<article class="comment" id="comment-86010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86010" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86009">
<article class="comment" id="comment-86009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86009" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86008">
<article class="comment" id="comment-86008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86008" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86007">
<article class="comment" id="comment-86007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511695" rel="external nofollow">新用户724009</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-86007" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>说得我马上断网玩了一把</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20686">
<article class="comment" id="comment-20686">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20686" rel="nofollow"><time datetime="2014-12-03T08:30:42+00:00" pubdate="">2014年12月3日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢指出，已改正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62438">
<article class="comment" id="comment-62438">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-62438" rel="nofollow"><time datetime="2014-11-22T22:51:30+00:00" pubdate="">2014年11月22日 at 下午10:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62442">
<article class="comment" id="comment-62442">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-62442" rel="nofollow"><time datetime="2014-11-17T17:04:26+00:00" pubdate="">2014年11月17日 at 下午5:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56526">
<article class="comment" id="comment-56526">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-56526" rel="nofollow"><time datetime="2014-10-31T18:54:51+00:00" pubdate="">2014年10月31日 at 下午6:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于输出格式不用控制？？还是直接使用cout输出。？？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20687">
<article class="comment" id="comment-20687">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20687" rel="nofollow"><time datetime="2014-09-14T13:00:21+00:00" pubdate="">2014年9月14日 at 下午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>样例输出和程序输出不吻合，修改一下样例输出吧。我用的是VC编译器，会提示我的i和j变量重复定义</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62439">
<article class="comment" id="comment-62439">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-62439" rel="nofollow"><time datetime="2014-09-02T13:12:43+00:00" pubdate="">2014年9月2日 at 下午1:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20685">
<article class="comment" id="comment-20685">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20685" rel="nofollow"><time datetime="2014-06-25T03:51:47+00:00" pubdate="">2014年6月25日 at 上午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>秒！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62440">
<article class="comment" id="comment-62440">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-62440" rel="nofollow"><time datetime="2014-04-08T23:06:37+00:00" pubdate="">2014年4月8日 at 下午11:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输入样例作为一个整体输入，带回车</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20690">
<article class="comment" id="comment-20690">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20690" rel="nofollow"><time datetime="2014-04-06T03:54:38+00:00" pubdate="">2014年4月6日 at 上午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20688">
<article class="comment" id="comment-20688">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20688" rel="nofollow"><time datetime="2014-03-20T21:24:42+00:00" pubdate="">2014年3月20日 at 下午9:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56528">
<article class="comment" id="comment-56528">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qq1005873807</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-56528" rel="nofollow"><time datetime="2014-02-25T22:18:55+00:00" pubdate="">2014年2月25日 at 下午10:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56527">
<article class="comment" id="comment-56527">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-56527" rel="nofollow"><time datetime="2014-02-09T16:14:55+00:00" pubdate="">2014年2月9日 at 下午4:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>very good solutions.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20689">
<article class="comment" id="comment-20689">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-20689" rel="nofollow"><time datetime="2014-01-21T02:56:14+00:00" pubdate="">2014年1月21日 at 上午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有的，已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62441">
<article class="comment" id="comment-62441">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-2289-cup-3519.html#comment-62441" rel="nofollow"><time datetime="2014-01-15T22:00:47+00:00" pubdate="">2014年1月15日 at 下午10:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发的在线笔试题吗?发现很多C啊，阿里不是JAVA多么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>