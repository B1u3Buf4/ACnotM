<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-12</div>
<div class="tit"><h1 class="entry-title">hdu 2645 find the nearest station -BFS-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search" rel="category tag" title="查看搜索中的全部文章">搜索</a></span><span class="i4">围观722次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4237" href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comments" title="《hdu 2645 find the nearest station -BFS-[解题报告]C++》上的评论">19 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">find the nearest station </h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Since dandelion has left the hometown  so long,she finds it’s difficult to find the station in the city.So she needs you ,a clear programmer, to help her.<br/>      Now you know the map of the city, which has showed every station in the city.You are asked to find the shortest distance between every grid and the stations.You should notice that the road in dandelion’s hometown is  vertical or horizontal,so the distance of two girds is defined as |x1-x2|+|y1-y2|. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. Each test case start with a line containing two number, n, m(1 &lt;= n, m ≤ 182), the rows and the columns of city. Then n lines follow, each contain exact m characters, representing the type of block in it. (0 for empty place ,1 for station).The data will contains at least one station. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of several test cases. Each test case start with a line containing two number, n, m(1 &lt;= n, m ≤ 182), the rows and the columns of city. Then n lines follow, each contain exact m characters, representing the type of block in it. (0 for empty place ,1 for station).The data will contains at least one station.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 4
0001
0011
0110</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3 2 1 0
2 1 0 0
1 0 0 1</pre>
<p> <!-- problem end --></p>
<p>/*<br/>
分析：<br/>
    水题，BFS或者暴力都行。<br/>
    竟然排第一额-、-II。暴力的方法就不说了，可以<br/>
看成一道多源点的BFS（也可以看成有一个虚拟节点为到<br/>
所有station的总源点，没什么区别），点的总数为n的<br/>
话，那么暴力要O(n^2)，用BFS的话就是O(n)了。</p>
<p>
                                                     2013-01-23<br/>
*/</p>
<p></p>
<pre class="brush:cpp ">#include"stdio.h"
#include"string.h"
#include"stdlib.h"
#include"queue"
#define N 333
using namespace std;

int n,m;
char map[N][N];
int dis[N][N],flag[N][N];
int dir[4][2]={1,0, -1,0, 0,1, 0,-1};

struct node
{
    int x,y;
};
void solve()
{
    queue&lt;node&gt;q;
    node now,next;
    memset(dis,0,sizeof(dis));
    memset(flag,0,sizeof(flag));
    int i,l;
    for(i=0;i&lt;n;i++)
    {
        scanf("%s",map[i]);
        for(l=0;l&lt;m;l++)
        {
            if(map[i][l]=='1')
            {
                now.x=i,now.y=l;
                q.push(now);
                flag[i][l]=1;
            }
        }
    }
    while(!q.empty())
    {
        now=q.front();
        q.pop();
        for(i=0;i&lt;4;i++)
        {
            next.x=now.x+dir[i][0];
            next.y=now.y+dir[i][1];
            if(next.x&lt;0 || next.x&gt;=n || next.y&lt;0 || next.y&gt;=m)    continue;
            if(flag[next.x][next.y])                            continue;
            q.push(next);
            flag[next.x][next.y]=1;
            dis[next.x][next.y]=dis[now.x][now.y]+1;
        }
    }
}
int main()
{
    int i,l;
    while(scanf("%d%d",&amp;n,&amp;m)!=-1)
    {
        solve();
        for(i=0;i&lt;n;i++)
        {
            printf("%d",dis[i][0]);
            for(l=1;l&lt;m;l++)    printf(" %d",dis[i][l]);
            printf("\n");
        }
    }
    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/ice_crazy/article/details/8535791</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83540">
<article class="comment" id="comment-83540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83540" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83539">
<article class="comment" id="comment-83539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83539" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83538">
<article class="comment" id="comment-83538">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83538" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83537">
<article class="comment" id="comment-83537">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83537" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83536">
<article class="comment" id="comment-83536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83536" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83535">
<article class="comment" id="comment-83535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83535" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83534">
<article class="comment" id="comment-83534">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514272" rel="external nofollow">新用户969432</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-83534" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>百度上“官”的解释是：在政府担任职务的人。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46075">
<article class="comment" id="comment-46075">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46075" rel="nofollow"><time datetime="2015-06-22T07:05:21+00:00" pubdate="">2015年6月22日 at 上午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46070">
<article class="comment" id="comment-46070">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46070" rel="nofollow"><time datetime="2015-06-22T02:26:20+00:00" pubdate="">2015年6月22日 at 上午2:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没有对题目进行一番分析，真是美中不足啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46071">
<article class="comment" id="comment-46071">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46071" rel="nofollow"><time datetime="2015-05-23T12:42:42+00:00" pubdate="">2015年5月23日 at 下午12:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46067">
<article class="comment" id="comment-46067">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46067" rel="nofollow"><time datetime="2015-03-26T05:04:20+00:00" pubdate="">2015年3月26日 at 上午5:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，应该是200！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46074">
<article class="comment" id="comment-46074">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46074" rel="nofollow"><time datetime="2014-12-06T03:10:39+00:00" pubdate="">2014年12月6日 at 上午3:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46069">
<article class="comment" id="comment-46069">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46069" rel="nofollow"><time datetime="2014-08-23T01:53:05+00:00" pubdate="">2014年8月23日 at 上午1:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23648">
<article class="comment" id="comment-23648">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-23648" rel="nofollow"><time datetime="2014-07-23T18:14:36+00:00" pubdate="">2014年7月23日 at 下午6:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么鬼，怎么多头文件</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46068">
<article class="comment" id="comment-46068">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46068" rel="nofollow"><time datetime="2014-07-18T19:09:42+00:00" pubdate="">2014年7月18日 at 下午7:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-23649">
<article class="comment" id="comment-23649">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-23649" rel="nofollow"><time datetime="2014-07-09T11:38:04+00:00" pubdate="">2014年7月9日 at 上午11:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46073">
<article class="comment" id="comment-46073">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46073" rel="nofollow"><time datetime="2014-06-29T18:40:54+00:00" pubdate="">2014年6月29日 at 下午6:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46072">
<article class="comment" id="comment-46072">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46072" rel="nofollow"><time datetime="2014-06-25T07:10:45+00:00" pubdate="">2014年6月25日 at 上午7:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46066">
<article class="comment" id="comment-46066">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-2645-find-the-nearest-station-4237.html#comment-46066" rel="nofollow"><time datetime="2014-02-13T09:52:39+00:00" pubdate="">2014年2月13日 at 上午9:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>