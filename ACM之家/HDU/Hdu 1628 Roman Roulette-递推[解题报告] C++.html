<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-16</div>
<div class="tit"><h1 class="entry-title">Hdu 1628 Roman Roulette-递推[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观910次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2473" href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comments" title="《Hdu 1628 Roman Roulette-递推[解题报告] C++》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Roman Roulette</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">
<p>The historian Flavius Josephus relates how, in the Romano-Jewish conflict of 67 A.D., the Romans took the town of Jotapata which he was commanding. Escaping, Jospehus found himself trapped in a cave with 40 companions. The Romans discovered his whereabouts and invited him to surrender, but his companions refused to allow him to do so. He therefore suggested that they kill each other, one by one, the order to be decided by lot. Tradition has it that the means for effecting the lot was to stand in a circle, and, beginning at some point, count round, every third person being killed in turn. The sole survivor of this process was Josephus, who then surrendered to the Romans. Which begs the question: had Josephus previously practised quietly with 41 stones in a dark corner, or had he calculated mathematically that he should adopt the 31st position in order to survive?Having read an account of this gruesome event you become obsessed with the fear that you will find yourself in a similar situation at some time in the future. In order to prepare yourself for such an eventuality you decide to write a program to run on your hand-held PC which will determine the position that the counting process should start in order to ensure that you will be the sole survivor.</p>
<p>In particular, your program should be able to handle the following variation of the processes described by Josephus. n &gt; 0 people are initially arranged in a circle, facing inwards, and numbered from 1 to n. The numbering from 1 to n proceeds consecutively in a clockwise direction. Your allocated number is 1. Starting with person number i, counting starts in a clockwise direction, until we get to person number k (k &gt; 0), who is promptly killed. We then proceed to count a further k people in a clockwise direction, starting with the person immediately to the left of the victim. The person number k so selected has the job of burying the victim, and then returning to the position in the circle that the victim had previously occupied. Counting then proceeeds from the person to his immediate left, with the kth person being killed, and so on, until only one person remains.</p>
<p>For example, when n = 5, and k = 2, and i = 1, the order of execution is 2, 5, 3, and 1. The survivor is 4.</p>
</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">
<p>Your program must read input lines containing values for n and k (in that order), and for each input line output the number of the person with which the counting should begin in order to ensure that you are the sole survivor. For example, in the above case the safe starting position is 3. Input will be terminated by a line containing values of 0 for n and k.Your program may assume a maximum of 100 people taking part in this event.</p>
</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">1 1
1 5
0 0</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">1
1</pre>
<p><!-- problem end --><br/>
<strong>题目大意：</strong></p>
<p>历史学家弗拉维·约瑟夫曾讲述过这样的故事：在公元前67年的罗马犹太战争中，罗马攻下了他掌权的城市。随后，他与另外40个反抗战士一起逃到了一个山洞中而被困在里面。罗马人发现了他的下落并劝他投降，但他的战士们拒绝投降。于是他提议互相杀死对方，一个接一个，顺序由大家决定。有一种传统的方式，即为了公平起见所有人都站成一个环，从某一点开始，循环计数，每隔两个活着的人就杀掉一个。最后只有约瑟夫幸存了下来，投降了罗马。问题来了，约瑟夫如何知道一开始站第31位才会幸存到最后呢？是不是趁着洞穴黑暗大家没注意，悄悄地用41个石子演练过了？还是他用数学方法计算出了这个位置？</p>
<p>在仔细读过这个故事由来后，你逐渐克服了恐惧心理，不再害怕将来这种事会发生到你的头上。但为了应对这种类似的情况，你准备为你的手机写一个程序，以便快速的计算这个过程并确保你能站到最后幸存的位置上。</p>
<p>类似于约瑟夫所述的问题，你的程序需要处理如下改编过的问题。最初n（n &gt; 0）个人面朝内围成一个环，并依次按顺时针编号1到n。你的编号为1，第一个轮到的人编号为i，同样顺时针方向开始计数，直到第k（k &gt; 0）个人把他杀掉。然后再从下一个还活着的人开始向后数到第k个人，由这个人来把刚才杀掉的人埋葬，并站到被杀的人的位置上。然后再从他左面第一个还活着的人开始计数，杀掉第k个人，以此类推，直到只有一个人还活着。</p>
<p>比方说，n = 5，k = 2，i = 1，被杀的顺序应为：2、5、3和1。4幸存。</p>
<h2><strong>分析</strong></h2>
<p>类似于经典的约瑟夫环问题，这类问题都是可以用数学推导求出通式的。但这道题目的过程要远比约瑟夫环问题复杂得多，分析通式比较困难，且由于数据量很小（少于100人），可直接按模拟类型的题目对待求解。</p>
<p>模拟的实现使用动态数组是非常方便的，过程也很简单。数组初始存储每一个人的编号，从第0个元素（1号）开始计数，每次杀死一个人前先不要将这个人的编号删除，而是先找出要来埋他的人，将他们的编号互换，然后将埋他的人原来所在的位置删掉即可。最后计算出的是从1号开始计数，最后能幸存的人编号p，那么从你前面第p个人开始你就是安全的（你站在第1位），即n – p。这个换算的原理是显而易见的。</p>
<pre class="brush:cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;
int main(void) {
    //循环处理每一行输入的数据
    for (int n, k; cin &gt;&gt; n &gt;&gt; k &amp;&amp; n * k != 0; ) {
        vector&lt;int&gt; Circle; //将动态数组中存入顺序的编号，从1起
        for (int i = 0; i &lt; n; Circle.push_back(++i));
        //循环杀人，直到只有一个幸存者。m为被杀死人的编号
        for (int m = (k - 1) % Circle.size(), t; Circle.size() != 1; ) {
            //计算埋葬者在数组中的位置，人数按已杀死m号人后计算
            t = (m - 1 + k) % (Circle.size() - 1);
            //如果t在m的后面，则要加1(数组尺寸在此时并未改变)
            t = (t + (t &gt;= m)) % Circle.size();
            Circle[m] = Circle[t]; //将埋葬者移动到被杀死人的位置上
            Circle.erase(Circle.begin() + t); //删除原埋葬者的位置
            //继续向后数k个人，做下一次循环
            m = (m - (t &lt; m) + k) % Circle.size();
        } //换算后输出结果
        cout &lt;&lt; (n - Circle.front() + 1) % n + 1 &lt;&lt; endl;
    }
    return 0;
}</pre>
<p>转自：http://www.cnblogs.com/devymex/archive/2010/09/04/1813034.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-90191">
<article class="comment" id="comment-90191">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458587" rel="external nofollow">新用户580643</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-90191" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>7联票，……站和……东站离多远啊？赶得上么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90190">
<article class="comment" id="comment-90190">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458587" rel="external nofollow">新用户580643</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-90190" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>7联票，……站和……东站离多远啊？赶得上么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-90189">
<article class="comment" id="comment-90189">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458587" rel="external nofollow">新用户580643</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-90189" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>7联票，……站和……东站离多远啊？赶得上么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-90188">
<article class="comment" id="comment-90188">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458587" rel="external nofollow">新用户580643</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-90188" rel="nofollow"><time datetime="2017-04-13T11:22:39+00:00" pubdate="">2017年4月13日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>7联票，……站和……东站离多远啊？赶得上么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16182">
<article class="comment" id="comment-16182">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16182" rel="nofollow"><time datetime="2015-05-25T12:20:44+00:00" pubdate="">2015年5月25日 at 下午12:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16181">
<article class="comment" id="comment-16181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16181" rel="nofollow"><time datetime="2015-05-11T03:13:41+00:00" pubdate="">2015年5月11日 at 上午3:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16183">
<article class="comment" id="comment-16183">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16183" rel="nofollow"><time datetime="2015-05-10T04:12:22+00:00" pubdate="">2015年5月10日 at 上午4:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯，尽量吧。题目太多了，很多解题报告是用程序自动发布的，所以就只有代码了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16190">
<article class="comment" id="comment-16190">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16190" rel="nofollow"><time datetime="2015-05-05T11:32:49+00:00" pubdate="">2015年5月5日 at 上午11:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16191">
<article class="comment" id="comment-16191">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wizcabbit</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16191" rel="nofollow"><time datetime="2015-05-04T07:34:33+00:00" pubdate="">2015年5月4日 at 上午7:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16186">
<article class="comment" id="comment-16186">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">helloacm</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16186" rel="nofollow"><time datetime="2015-02-15T20:46:55+00:00" pubdate="">2015年2月15日 at 下午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16184">
<article class="comment" id="comment-16184">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16184" rel="nofollow"><time datetime="2014-11-29T15:40:37+00:00" pubdate="">2014年11月29日 at 下午3:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个程序编译都通不过， int L[m+1][n+1];这样定义出错，应该换成具体的数字ac</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16180">
<article class="comment" id="comment-16180">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16180" rel="nofollow"><time datetime="2014-06-17T06:06:28+00:00" pubdate="">2014年6月17日 at 上午6:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16188">
<article class="comment" id="comment-16188">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16188" rel="nofollow"><time datetime="2014-06-02T11:00:43+00:00" pubdate="">2014年6月2日 at 上午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16179">
<article class="comment" id="comment-16179">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">super157</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16179" rel="nofollow"><time datetime="2014-05-03T17:02:01+00:00" pubdate="">2014年5月3日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16189">
<article class="comment" id="comment-16189">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16189" rel="nofollow"><time datetime="2014-04-15T06:18:21+00:00" pubdate="">2014年4月15日 at 上午6:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16187">
<article class="comment" id="comment-16187">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16187" rel="nofollow"><time datetime="2014-03-30T12:07:26+00:00" pubdate="">2014年3月30日 at 下午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题的样例描述不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16192">
<article class="comment" id="comment-16192">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16192" rel="nofollow"><time datetime="2014-03-03T01:41:34+00:00" pubdate="">2014年3月3日 at 上午1:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16185">
<article class="comment" id="comment-16185">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/hdu-1628-roman-roulette-2473.html#comment-16185" rel="nofollow"><time datetime="2014-02-27T14:53:15+00:00" pubdate="">2014年2月27日 at 下午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是HDU 2411。。标题党么。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>