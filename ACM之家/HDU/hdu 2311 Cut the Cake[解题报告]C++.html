<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2311 Cut the Cake[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1231次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3540" href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comments" title="《hdu 2311 Cut the Cake[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Cut the Cake</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Today is the birthday of Mr. Bon Vivant, who is known as one of the greatest p�issiers in the world. Those who are invited to his birthday party are gourmets from around the world. They are eager to see and eat his extremely creative cakes. Now a large box-shaped cake is being carried into the party. It is not beautifully decorated and looks rather simple, but it must be delicious beyond anyone’s imagination. Let us cut it into pieces with a knife and serve them to the guests attending the party.
<p>The cake looks rectangular, viewing from above (Figure C-1). As exemplified in Figure C-2, the cake will iteratively be cut into pieces, where on each cut exactly a single piece is cut into two smaller pieces. Each cut surface must be orthogonal to the bottom face and must be orthogonal or parallel to a side face. So, every piece shall be rectangular looking from above and every side face vertical.<br/> <img src="http://www.acmerblog.com/img/1388997092504.png"/> <br/>                              Figure C-1: The top view of the cake<br/> <img src="http://www.acmerblog.com/img/1388997092596.png"/> <br/>                              Figure C-2: Cutting the cake into pieces</p>
<p>Piece sizes in Figure C-2 vary significantly and it may look unfair, but you don’t have to worry. Those guests who would like to eat as many sorts of cakes as possible often prefer smaller pieces. Of course, some prefer larger ones.<br/>Your mission of this problem is to write a computer program that simulates the cutting process of the cake and reports the size of each piece. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input is a sequence of datasets, each of which is of the following format.
<p>    n  w  d<br/>    p1  s1<br/>    …<br/>    pn  sn<br/>    　</p>
<p>The first line starts with an integer n that is between 0 and 100 inclusive. It is the number of cuts to be performed. The following w and d in the same line are integers between 1 and 100 inclusive. They denote the width and depth of the cake, respectively. Assume in the sequel that the cake is placed so that w and d are the lengths in the east-west and north-south directions, respectively.</p>
<p>Each of the following n lines specifies a single cut, cutting one and only one piece into two. pi is an integer between 1 and i inclusive and is the identification number of the piece that is the target of the i-th cut. Note that, just before the i-th cut, there exist exactly i pieces. Each piece in this stage has a unique identification number that is one of 1, 2, …, i and is defined as follows:</p>
<p>    * The earlier a piece was born, the smaller its identification number is.<br/>    * Of the two pieces born at a time by the same cut, the piece with the smaller area (looking from above) has the smaller identification number. If their areas are the same, you may define as you like the order between them, since your choice in this case has no influence on the final answer. </p>
<p>Note that identification numbers are adjusted after each cut.<br/>si is an integer between 1 and 1000 inclusive and specifies the starting point of the i-th cut. From the northwest corner of the piece whose identification number is pi, you can reach the starting point by traveling si in the clockwise direction around the piece. You may assume that the starting point determined in this way cannot be any one of the four corners of the piece. The i-th cut surface is orthogonal to the side face on which the starting point exists.</p>
<p>The end of the input is indicated by a line with three zeros. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input is a sequence of datasets, each of which is of the following format.
<p>    n  w  d<br/>    p1  s1<br/>    …<br/>    pn  sn<br/>    　</p>
<p>The first line starts with an integer n that is between 0 and 100 inclusive. It is the number of cuts to be performed. The following w and d in the same line are integers between 1 and 100 inclusive. They denote the width and depth of the cake, respectively. Assume in the sequel that the cake is placed so that w and d are the lengths in the east-west and north-south directions, respectively.</p>
<p>Each of the following n lines specifies a single cut, cutting one and only one piece into two. pi is an integer between 1 and i inclusive and is the identification number of the piece that is the target of the i-th cut. Note that, just before the i-th cut, there exist exactly i pieces. Each piece in this stage has a unique identification number that is one of 1, 2, …, i and is defined as follows:</p>
<p>    * The earlier a piece was born, the smaller its identification number is.<br/>    * Of the two pieces born at a time by the same cut, the piece with the smaller area (looking from above) has the smaller identification number. If their areas are the same, you may define as you like the order between them, since your choice in this case has no influence on the final answer. </p>
<p>Note that identification numbers are adjusted after each cut.<br/>si is an integer between 1 and 1000 inclusive and specifies the starting point of the i-th cut. From the northwest corner of the piece whose identification number is pi, you can reach the starting point by traveling si in the clockwise direction around the piece. You may assume that the starting point determined in this way cannot be any one of the four corners of the piece. The i-th cut surface is orthogonal to the side face on which the starting point exists.</p>
<p>The end of the input is indicated by a line with three zeros.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 5 6
1 18
2 19
1 2
3 4 1
1 1
2 1
3 1
0 2 5
0 0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
4 4 6 16
1 1 1 1
10</pre>
<p> <!-- problem end --></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
<strong>2012 Multi-University Training Contest 3</strong></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
1009题</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
没看到后来加的说明，以为都是矩形区域，直接AC了…………</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-align:left">
</p><pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
const int MAXN = 1005;
int left[3][MAXN][MAXN], right[3][MAXN][MAXN], top[3][MAXN][MAXN];
char a[MAXN][MAXN];

inline int min(const int &amp;x, const int &amp;y)
{
    return x &lt; y ? x : y;
}

inline int max(const int &amp;x, const int &amp;y)
{
    return x &gt; y ? x : y;
}

int main()
{
    int t;
    int n, m;
    scanf("%d", &amp;t);
    memset(a, 0, sizeof(a));
    for(int cas=1;cas&lt;=t;++cas)
    {
        scanf("%d%d",&amp;n,&amp;m);
        for(int i=1;i&lt;=n;++i)
        {
            scanf("%s", a[i]+1);
        }
        memset(left, 0, sizeof(left));
        memset(right, 0, sizeof(right));
        memset(top, 0, sizeof(top));
        for(int i=1;i&lt;=n;++i)
        {
            for(int j=1;j&lt;=m;++j)
            {
                if(a[i][j] == 'B')
                {
                    top[0][i][j] = 0;
                    top[1][i][j] = top[1][i-1][j] + 1;
                    left[0][i][j] = 0;
                    left[1][i][j] = left[1][i][j-1] + 1;
                }
                else
                {
                    top[0][i][j] = top[0][i-1][j] + 1;
                    top[1][i][j] = 0;
                    left[0][i][j] = left[0][i][j-1] + 1;
                    left[1][i][j] = 0;
                }
                if(a[i][j] == a[i-1][j])
                {
                    top[2][i][j] = 1;
                }
                else
                {
                    top[2][i][j] = top[2][i-1][j] + 1;
                }
                if(a[i][j] == a[i][j-1])
                {
                    left[2][i][j] = 1;
                }
                else
                {
                    left[2][i][j] = left[2][i][j-1] + 1;
                }
            }
            for(int j=m;j&gt;=1;--j)
            {
                if(a[i][j] == 'B')
                {
                    right[0][i][j] = 0;
                    right[1][i][j] = right[1][i][j+1] + 1;
                }
                else
                {
                    right[0][i][j] = right[0][i][j+1] + 1;
                    right[1][i][j] = 0;
                }
                if(a[i][j] == a[i][j+1])
                {
                    right[2][i][j] = 1;
                }
                else
                {
                    right[2][i][j] = right[2][i][j+1] + 1;
                }
            }
        }
        int ans = 4;
        int maxLeft[3], maxRight[3];
        for(int j=1;j&lt;=m;++j)
        {
            for(int i=1;i&lt;=n;++i)
            {
                for(int k=0;k&lt;3;++k)
                {
                    if(top[k][i][j] == 1)
                    {
                        maxLeft[k] = left[k][i][j];
                        maxRight[k] = right[k][i][j];
                    }
                    else
                    {
                        maxLeft[k] = min(maxLeft[k], left[k][i][j]);
                        maxRight[k] = min(maxRight[k], right[k][i][j]);
                    }
                    ans = max(ans, (maxRight[k] + maxLeft[k] - 1) * 2 + top[k][i][j] * 2);
                }
            }
        }
        printf("Case #%d: %d\n", cas, ans);
    }
    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/cyberzhg/article/details/7815384</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-85947">
<article class="comment" id="comment-85947">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514554" rel="external nofollow">新用户330539</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-85947" rel="nofollow"><time datetime="2017-04-13T04:24:31+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来如此，我还以为抽屉角落里96年1.5G的硬盘是个黑科技</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20865">
<article class="comment" id="comment-20865">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20865" rel="nofollow"><time datetime="2015-06-10T01:04:08+00:00" pubdate="">2015年6月10日 at 上午1:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>else if也是要比较两次</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20869">
<article class="comment" id="comment-20869">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20869" rel="nofollow"><time datetime="2015-05-14T15:25:14+00:00" pubdate="">2015年5月14日 at 下午3:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20867">
<article class="comment" id="comment-20867">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20867" rel="nofollow"><time datetime="2015-04-20T07:27:11+00:00" pubdate="">2015年4月20日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>具体实现上有所差别，但思路是一样的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20873">
<article class="comment" id="comment-20873">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20873" rel="nofollow"><time datetime="2014-11-06T12:19:31+00:00" pubdate="">2014年11月6日 at 下午12:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>继续加油哦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20874">
<article class="comment" id="comment-20874">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20874" rel="nofollow"><time datetime="2014-10-23T18:00:38+00:00" pubdate="">2014年10月23日 at 下午6:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第36行，struct node **head_ref，怎么理解，那个函数感觉不是很懂啊！？？弱渣求助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20870">
<article class="comment" id="comment-20870">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20870" rel="nofollow"><time datetime="2014-10-04T04:47:38+00:00" pubdate="">2014年10月4日 at 上午4:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44703">
<article class="comment" id="comment-44703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-44703" rel="nofollow"><time datetime="2014-09-01T05:30:28+00:00" pubdate="">2014年9月1日 at 上午5:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20864">
<article class="comment" id="comment-20864">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20864" rel="nofollow"><time datetime="2014-06-15T02:59:47+00:00" pubdate="">2014年6月15日 at 上午2:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20863">
<article class="comment" id="comment-20863">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20863" rel="nofollow"><time datetime="2014-05-15T09:51:30+00:00" pubdate="">2014年5月15日 at 上午9:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20866">
<article class="comment" id="comment-20866">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">753951</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20866" rel="nofollow"><time datetime="2014-04-08T17:27:47+00:00" pubdate="">2014年4月8日 at 下午5:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好吧~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20871">
<article class="comment" id="comment-20871">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20871" rel="nofollow"><time datetime="2014-02-25T00:56:06+00:00" pubdate="">2014年2月25日 at 上午12:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20872">
<article class="comment" id="comment-20872">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20872" rel="nofollow"><time datetime="2014-01-26T10:39:10+00:00" pubdate="">2014年1月26日 at 上午10:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常好，初学者就应该先理解递归</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56547">
<article class="comment" id="comment-56547">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-56547" rel="nofollow"><time datetime="2014-01-21T13:08:31+00:00" pubdate="">2014年1月21日 at 下午1:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20868">
<article class="comment" id="comment-20868">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-2311-cut-the-cake-3540.html#comment-20868" rel="nofollow"><time datetime="2014-01-12T04:29:16+00:00" pubdate="">2014年1月12日 at 上午4:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>