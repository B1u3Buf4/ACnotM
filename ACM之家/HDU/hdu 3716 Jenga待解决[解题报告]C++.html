<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>02-21</div>
<div class="tit"><h1 class="entry-title">hdu 3716 Jenga待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观352次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6696" href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comments" title="《hdu 3716 Jenga待解决[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Jenga</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In their spare time of training, Alice and Charles often play Jenga together. As they’ve played the game together so many times, they both know each others’ performance as well as themselves’. Now with their success rate of each move provided, can you tell in what probability each of them will win? And of course, Alice and Charles, like other ACM-ICPC contestants such as you, are very clever.
<p>Jenga is a game of physical and mental skill. In Jenga, players take turns to remove a block from a tower and balance it on top, creating a taller and increasingly unstable structure as the game progresses.</p>
<p></p><center><img alt="Go Deeper" src="http://www.acmerblog.com/img/1435345680701.jpg"/></center>
<p>Jenga is played with 54 wooden blocks. Each block is three times as long as it is wide. To set up the game, the included loading tray is used to stack the initial tower which has 18 levels of three blocks placed adjacent to each other along their long side and perpendicular to the previous level (so, for example, if the blocks in the first level lie lengthwise north-south, the second level blocks will lie east-west).<br/>Once the tower is built, the players take turns to move. Moving in Jenga consists of taking one and only one block from any level (except those mentioned later) of the tower, and placing it on the topmost level in order to complete it. The blocks in the top level, and the level below it if the top level is not completed, cannot be removed. However, if the top level is completed, the blocks in the one below it can be removed. The removed block should be placed to make the top level as same as the other level (with no block removed). The move is successful if the tower does not fall. The game ends when the tower falls, or no block can be removed without making the tower fall (rarely happened). And the loser is the player who made the tower fall (i.e., whose turn it was when the tower fell), or who cannot make the move.</p>
<p></p><center><img alt="Go Deeper" src="http://www.acmerblog.com/img/1435345680871.jpg"/></center>
<p>Now let’s consider each level of the tower, there’re only four types of valid arrangement of wooden blocks, as illustrated above. At the beginning of the game, they’re all of the type A (or rotated by 90 degrees). And by removing a block from type A, one will get either type B or type C (or the mirrored equivalent of type C). No block from type B can be removed without making the tower fall. From type C we can only remove a block and result in type D. Then no block can be removed further. So there are only three types of moves: (1) A -&gt; B, (2) A -&gt; C and (3) C -&gt; D, in addition to adding the removed block to the top level.<br/>As Alice and Charles have played Jenga so many times, their success rate of each move is very stable and can be formulated as P = b – d*n, where b is the player’s base success rate of this type of move, d is the decrease of success rate for each additional level, and n is the number of levels in the tower before this move. The incomplete top level also counts as one level. For example, if the game begins with 18 levels, and both players have the same performance with b = 2.8 and d = 0.1, then P will be 1.0 for the first turn, and become 0.9 between the 2nd and the 4th turns. If P does not lie in the range [0, 1], the nearest number in the range is indicated. (E.g. when a player cannot fail the first several moves, P will be more than 1 until n is a bit larger.) </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input file contains multiple test cases. The first line of the input file is a single integer T (T ≤ 500), the number of test cases.<br/>Each test cases begins with a line of n<sub>0</sub> (3 ≤ n<sub>0</sub> ≤ 18), the number of levels in the tower when the game starts. (When n<sub>0</sub> is not 18, the rule sare the same.) The second line contains 6 real numbers b<sub>a1</sub>, d<sub>a1</sub>, b<sub>a2</sub>, d<sub>a2</sub>, b<sub>a3</sub>, d<sub>a3</sub>, indicating Alice’s base success rates and the decreases of success rates for each of the three moves: (1) A -&gt; B, (2) A -&gt; C and (3) C -&gt; D. The third line also contains 6 real numbers b<sub>c1</sub>, d<sub>c1</sub>, b<sub>c2</sub>, d<sub>c2</sub>, b<sub>c3</sub>, d<sub>c3</sub>, those of Charles. (0 ≤ b – d*n<sub>0</sub> ≤ 2 and 0 &lt; d ≤ 0.5 for all the 6 pairs of parameters. No real number will have more than 4 digits after the decimal point.) </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input file contains multiple test cases. The first line of the input file is a single integer T (T ≤ 500), the number of test cases.<br/>Each test cases begins with a line of n<sub>0</sub> (3 ≤ n<sub>0</sub> ≤ 18), the number of levels in the tower when the game starts. (When n<sub>0</sub> is not 18, the rule sare the same.) The second line contains 6 real numbers b<sub>a1</sub>, d<sub>a1</sub>, b<sub>a2</sub>, d<sub>a2</sub>, b<sub>a3</sub>, d<sub>a3</sub>, indicating Alice’s base success rates and the decreases of success rates for each of the three moves: (1) A -&gt; B, (2) A -&gt; C and (3) C -&gt; D. The third line also contains 6 real numbers b<sub>c1</sub>, d<sub>c1</sub>, b<sub>c2</sub>, d<sub>c2</sub>, b<sub>c3</sub>, d<sub>c3</sub>, those of Charles. (0 ≤ b – d*n<sub>0</sub> ≤ 2 and 0 &lt; d ≤ 0.5 for all the 6 pairs of parameters. No real number will have more than 4 digits after the decimal point.)</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
3
1.3 0.1 1.3 0.1 1.3 0.1
1.3 0.1 1.3 0.1 1.3 0.1
4
1.5 0.1 1.5 0.1 1.5 0.1
1.5 0.1 1.5 0.1 1.5 0.1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0.1810
0.8190</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73141">
<article class="comment" id="comment-73141">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73141" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73140">
<article class="comment" id="comment-73140">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73140" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73139">
<article class="comment" id="comment-73139">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73139" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73138">
<article class="comment" id="comment-73138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73138" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73137">
<article class="comment" id="comment-73137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73137" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73136">
<article class="comment" id="comment-73136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73136" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73135">
<article class="comment" id="comment-73135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919523038" rel="external nofollow">新用户243537</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-73135" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我看到最后说的特殊时期是什么时期？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50945">
<article class="comment" id="comment-50945">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-50945" rel="nofollow"><time datetime="2015-07-08T06:41:03+00:00" pubdate="">2015年7月8日 at 上午6:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33239">
<article class="comment" id="comment-33239">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-33239" rel="nofollow"><time datetime="2015-06-29T10:44:33+00:00" pubdate="">2015年6月29日 at 上午10:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>為甚麼fln*20+0.5f</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50946">
<article class="comment" id="comment-50946">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-50946" rel="nofollow"><time datetime="2015-06-07T19:48:11+00:00" pubdate="">2015年6月7日 at 下午7:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63979">
<article class="comment" id="comment-63979">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-63979" rel="nofollow"><time datetime="2015-05-23T14:46:34+00:00" pubdate="">2015年5月23日 at 下午2:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么输入两个0程序还没退出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33238">
<article class="comment" id="comment-33238">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-33238" rel="nofollow"><time datetime="2015-05-15T07:05:56+00:00" pubdate="">2015年5月15日 at 上午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;</p>
<p>int main() {<br/>
	//answer must be odd<br/>
    int n, u, d;<br/>
    while(scanf("%d%d%d",&amp;n,&amp;u,&amp;d)==3 &amp;&amp; n&gt;0) {<br/>
        if(n&lt;=u) { puts("1"); continue; }<br/>
        n-=u; u-=d; n+=u-1; n/=u;<br/>
        n&lt;&lt;=1, ++n;<br/>
        printf("%dn",n);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50943">
<article class="comment" id="comment-50943">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-50943" rel="nofollow"><time datetime="2015-05-12T05:02:16+00:00" pubdate="">2015年5月12日 at 上午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>参考 <a href="http://www.acmerblog.com/leetcode-solutions-6422.html" rel="nofollow">http://www.acmerblog.com/leetcode-solutions-6422.html</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33240">
<article class="comment" id="comment-33240">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-33240" rel="nofollow"><time datetime="2015-04-17T22:56:38+00:00" pubdate="">2015年4月17日 at 下午10:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50944">
<article class="comment" id="comment-50944">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/hdu-3716-jenga-6696.html#comment-50944" rel="nofollow"><time datetime="2015-03-05T16:33:34+00:00" pubdate="">2015年3月5日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>打字员路过。。。。。。算法是啥。。。能干嘛。。。。。。。。能吃么。。哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>