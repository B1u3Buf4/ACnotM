<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-28</div>
<div class="tit"><h1 class="entry-title">HDU 1032 The 3n + 1 problem-模拟-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a></span><span class="i4">围观882次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1436" href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comments" title="《HDU 1032 The 3n + 1 problem-模拟-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The 3n + 1 problem</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Problems in Computer Science are often classified as belonging to a certain class of problems (e.g., NP, Unsolvable, Recursive). In this problem you will be analyzing a property of an algorithm whose classification is not known for all possible inputs.
<p>Consider the following algorithm: </p>
<p>    1.      input n</p>
<p>    2.      print n</p>
<p>    3.      if n = 1 then STOP</p>
<p>    4.           if n is odd then   n &lt;- 3n + 1</p>
<p>    5.           else   n &lt;- n / 2</p>
<p>    6.      GOTO 2</p>
<p>Given the input 22, the following sequence of numbers will be printed 22 11 34 17 52 26 13 40 20 10 5 16 8 4 2 1 </p>
<p>It is conjectured that the algorithm above will terminate (when a 1 is printed) for any integral input value. Despite the simplicity of the algorithm, it is unknown whether this conjecture is true. It has been verified, however, for all integers n such that 0 &lt; n &lt; 1,000,000 (and, in fact, for many more numbers than this.) </p>
<p>Given an input n, it is possible to determine the number of numbers printed (including the 1). For a given n this is called the cycle-length of n. In the example above, the cycle length of 22 is 16. </p>
<p>For any two numbers i and j you are to determine the maximum cycle length over all numbers between i and j.  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist of a series of pairs of integers i and j, one pair of integers per line. All integers will be less than 1,000,000 and greater than 0. 
<p>You should process all pairs of integers and for each pair determine the maximum cycle length over all integers between and including i and j. </p>
<p>You can assume that no opperation overflows a 32-bit integer. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each pair of input integers i and j you should output i, j, and the maximum cycle length for integers between and including i and j. These three numbers should be separated by at least one space with all three numbers on one line and with one line of output for each line of input. The integers i and j must appear in the output in the same order in which they appeared in the input and should be followed by the maximum cycle length (on the same line). </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 10
100 200
201 210
900 1000</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 10 20
100 200 125
201 210 89
900 1000 174</pre>
<p><!-- problem end --></p>
<p> </p>
<p>直接模拟，超时了几次。</p>
<p>GCC的输入应该是while(scanf(“%d %d”, &amp;a, &amp;b) != EOF)， 我写成了while(scanf(“%d %d”, &amp;a, &amp;b))一直超时。= =！</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;

int s(int i) {
    int n = 1;
    while(i &gt; 1) {
        if (i%2 == 0)
            i /= 2;
        else
            i = 3*i+1;
        n++;
    }
    return n;
}


int main() {
    int a, b;
    int n, m;
        
    while(scanf("%d %d", &amp;n, &amp;m) != EOF) {
        a = n;
        b = m;
        if (a &gt; b) {
            int t=a;
            a=b;
            b=t;
        }
        int sum = 0;
        int i, r;
        for (i = a; i &lt;= b; i++) {
            r = s(i);
            if (r &gt; sum)
                sum = r;
        }
        
        printf("%d %d %d\n", n, m, sum);

                                
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-11121">
<article class="comment" id="comment-11121">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-11121" rel="nofollow"><time datetime="2015-07-03T14:25:27+00:00" pubdate="">2015年7月3日 at 下午2:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61284">
<article class="comment" id="comment-61284">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61284" rel="nofollow"><time datetime="2015-04-29T01:10:55+00:00" pubdate="">2015年4月29日 at 上午1:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54257">
<article class="comment" id="comment-54257">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-54257" rel="nofollow"><time datetime="2015-04-06T16:45:00+00:00" pubdate="">2015年4月6日 at 下午4:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61280">
<article class="comment" id="comment-61280">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61280" rel="nofollow"><time datetime="2015-02-19T20:01:57+00:00" pubdate="">2015年2月19日 at 下午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11122">
<article class="comment" id="comment-11122">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-11122" rel="nofollow"><time datetime="2014-10-21T02:08:50+00:00" pubdate="">2014年10月21日 at 上午2:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61283">
<article class="comment" id="comment-61283">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jhxxszy</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61283" rel="nofollow"><time datetime="2014-07-18T06:50:18+00:00" pubdate="">2014年7月18日 at 上午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61282">
<article class="comment" id="comment-61282">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61282" rel="nofollow"><time datetime="2014-07-15T15:57:21+00:00" pubdate="">2014年7月15日 at 下午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>為甚麼fln*20+0.5f</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11119">
<article class="comment" id="comment-11119">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Riddick</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-11119" rel="nofollow"><time datetime="2014-07-13T07:59:22+00:00" pubdate="">2014年7月13日 at 上午7:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61278">
<article class="comment" id="comment-61278">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61278" rel="nofollow"><time datetime="2014-07-01T21:04:47+00:00" pubdate="">2014年7月1日 at 下午9:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61279">
<article class="comment" id="comment-61279">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">windy</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61279" rel="nofollow"><time datetime="2014-06-16T23:11:54+00:00" pubdate="">2014年6月16日 at 下午11:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么编译器啊，不通过</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11118">
<article class="comment" id="comment-11118">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangxiansheng</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-11118" rel="nofollow"><time datetime="2014-05-30T04:16:30+00:00" pubdate="">2014年5月30日 at 上午4:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11120">
<article class="comment" id="comment-11120">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-11120" rel="nofollow"><time datetime="2014-02-22T20:12:17+00:00" pubdate="">2014年2月22日 at 下午8:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61285">
<article class="comment" id="comment-61285">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Emlar</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61285" rel="nofollow"><time datetime="2014-02-11T08:56:48+00:00" pubdate="">2014年2月11日 at 上午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看见的晚了，只能提交一次唉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61281">
<article class="comment" id="comment-61281">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/hdu-1032-The-3n-%2B-1-problem-1436.html#comment-61281" rel="nofollow"><time datetime="2014-01-26T13:16:07+00:00" pubdate="">2014年1月26日 at 下午1:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真考人啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>