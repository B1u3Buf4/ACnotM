<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-30</div>
<div class="tit"><h1 class="entry-title">hdu 3643 Boolean String Expression待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观371次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6604" href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comments" title="《hdu 3643 Boolean String Expression待解决[解题报告]C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Boolean String Expression</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Mike needs a bike and he decides to buy a second-hand one to save money. Luckily, he has found a second-hand goods BBS. However, there are so many messages there and it will be extremely boring for him to look through all those messages and figure out which one contains the information he needs. So he decides to write a program to do this.
<p>The problem is: how to determine whether a message is about selling a bike. Mike decides to use a keyword-find-based algorithm. First choose some keywords and then the program checks whether a message contains these keywords or not. For example, he wants to find messages that contain ‘bike’，and at the same time have ‘sell’ or don’t have ‘buy’ ("bike on sell", "bike", "sell bike and buy …"are all what he needs, but "buy bike" is not). Of course he wants his program can be used to handle things more than buying a bike.</p>
<p>As the string matching nature of the keyword-find-based algorithm, regular expression should be quite suitable here. But after a second thought, he throws it away: he even can’t figure out what the corresponding regular expression is for a simple query "don’t have the word ‘buy’".</p>
<p>After further thinking of this problem, Mike comes up with a great idea: combining string matching with Boolean algebra! He names it as "Boolean String Expression".</p>
<p>Formally, a Boolean String Expression is composed of normal strings, ‘&amp;’(and), ‘|’(or) and ‘!’(not). A Boolean String Expression s matches a message M when:<br/>1. s is a normal string, and it’s a substring of M<br/>2. s = a &amp; b, a and b are both Boolean String Expressions that match M<br/>3. s = a | b, a and b are both Boolean String Expressions, and at least one of them matches M<br/>4. s = ! a, a is Boolean String Expression which doesn’t match M</p>
<p>Precedence of the three operators is: ‘!’ &gt; ‘&amp;’ &gt; ‘|’. And parenthesis can be used to change precedence of operators. Mike’s query can be easily expressed as:<br/>bike &amp; (sell | !buy)<br/>Mike is very satisfied with this solution, but he comes to another problem: nearly all expressions can be changed into another form with the same meaning. For example, "bike &amp; (sell | !buy)" has a equivalent form of:<br/>(bike &amp; sell) | (bike &amp; !buy)<br/>It may seem to be obvious to you. However, it confuses Mike a lot and he needs your help to write a problem to check whether two Boolean String Expressions are equivalent. (Equivalent here means: all messages that match one expression will match the other, all messages that don’t match one expression will not match the other too) </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains an integer indicating the number of test cases (&lt;=30).<br/>Each test case contains three lines: The first line is an alphabet that contains only lower case letters. Suppose all messages we care about are only composed of those letters. The second line and 3rd line are two Boolean String Expressions. The expression contains only characters from the alphabet and ‘&amp;’, ‘|’, ‘!’ , and its length is no more than 20.</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line contains an integer indicating the number of test cases (&lt;=30).<br/>Each test case contains three lines: The first line is an alphabet that contains only lower case letters. Suppose all messages we care about are only composed of those letters. The second line and 3rd line are two Boolean String Expressions. The expression contains only characters from the alphabet and ‘&amp;’, ‘|’, ‘!’ , and its length is no more than 20.
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
abcdefghijklmnopqrstuvwxyz
bike&amp;(sell|!buy)
bike&amp;sell|bike&amp;!buy
abc
a&amp;(b|c)
a&amp;b|c
ab
ab&amp;!a
ab&amp;!b
ab
a|b
a|!a</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Yes
No
Yes
No

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
Case 3: Both expressions match nothing, so they are equivalent.
Case 4: Both expressions match all non-empty messages. However, the second expression can match an empty message, while the first one can’t.

</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73577">
<article class="comment" id="comment-73577">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919466458" rel="external nofollow">新用户526626</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-73577" rel="nofollow"><time datetime="2017-04-12T00:07:33+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>衣食父母是爸爸……父母是爸爸……父亲和母亲都是爸爸………………这果然很果壳！都弯出下一代来了23333</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73576">
<article class="comment" id="comment-73576">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919466458" rel="external nofollow">新用户526626</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-73576" rel="nofollow"><time datetime="2017-04-12T00:07:33+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>衣食父母是爸爸……父母是爸爸……父亲和母亲都是爸爸………………这果然很果壳！都弯出下一代来了23333</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50636">
<article class="comment" id="comment-50636">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-50636" rel="nofollow"><time datetime="2015-06-22T18:50:46+00:00" pubdate="">2015年6月22日 at 下午6:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>for(int i=1; i&lt;=m; i++){<br/>
            for(int j=1; j&lt;=n; j++){<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> [j-1] + 1;<br/>
                if(s1.charAt(i-1) == s3.charAt(i+j-1))<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = dp[i-1] <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  + 1;<br/>
                if(s2.charAt(j-1) == s3.charAt(i+j-1))<br/>
                    dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = Math.max(dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> [j - 1] + 1, dp <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> );<br/>
            }<br/>
        }<br/>
这里的代码似乎有点问题？ dp(i)(j) = dp(i)(j-1) + 1;这个例子System.out.println(ils.isInterleave("aa","dbbca", "aadbbcb"));返回的应该是false</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32759">
<article class="comment" id="comment-32759">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32759" rel="nofollow"><time datetime="2015-05-16T06:11:27+00:00" pubdate="">2015年5月16日 at 上午6:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32761">
<article class="comment" id="comment-32761">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa_zmt</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32761" rel="nofollow"><time datetime="2015-04-28T10:05:59+00:00" pubdate="">2015年4月28日 at 上午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rho快速因数分解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32760">
<article class="comment" id="comment-32760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32760" rel="nofollow"><time datetime="2015-04-22T09:19:19+00:00" pubdate="">2015年4月22日 at 上午9:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这排版…你都打开来看看改改</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32767">
<article class="comment" id="comment-32767">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32767" rel="nofollow"><time datetime="2015-04-08T16:28:56+00:00" pubdate="">2015年4月8日 at 下午4:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32766">
<article class="comment" id="comment-32766">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32766" rel="nofollow"><time datetime="2015-03-25T03:53:16+00:00" pubdate="">2015年3月25日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50637">
<article class="comment" id="comment-50637">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-50637" rel="nofollow"><time datetime="2015-03-18T11:47:50+00:00" pubdate="">2015年3月18日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>C语言版本的代码好像有点问题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32758">
<article class="comment" id="comment-32758">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32758" rel="nofollow"><time datetime="2015-03-02T17:21:13+00:00" pubdate="">2015年3月2日 at 下午5:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32762">
<article class="comment" id="comment-32762">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32762" rel="nofollow"><time datetime="2015-02-27T03:30:39+00:00" pubdate="">2015年2月27日 at 上午3:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32763">
<article class="comment" id="comment-32763">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32763" rel="nofollow"><time datetime="2015-02-24T19:15:01+00:00" pubdate="">2015年2月24日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，已改正。应该都是protected</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32765">
<article class="comment" id="comment-32765">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">final</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32765" rel="nofollow"><time datetime="2015-01-09T01:31:59+00:00" pubdate="">2015年1月9日 at 上午1:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50635">
<article class="comment" id="comment-50635">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-50635" rel="nofollow"><time datetime="2014-12-16T05:33:37+00:00" pubdate="">2014年12月16日 at 上午5:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更正。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32764">
<article class="comment" id="comment-32764">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-3643-boolean-string-expression-6604.html#comment-32764" rel="nofollow"><time datetime="2014-12-03T21:24:21+00:00" pubdate="">2014年12月3日 at 下午9:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学，非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>