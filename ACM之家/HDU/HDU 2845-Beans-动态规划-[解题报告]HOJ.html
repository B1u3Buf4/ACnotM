<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-17</div>
<div class="tit"><h1 class="entry-title">HDU 2845-Beans-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观341次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4488" href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comments" title="《HDU 2845-Beans-动态规划-[解题报告]HOJ》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Beans</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Bean-eating is an interesting game, everyone owns an M*N matrix, which is filled with different qualities beans. Meantime, there is only one bean in any 1*1 grid. Now you want to eat the beans and collect the qualities, but everyone must obey by the following rules: if you eat the bean at the coordinate(x, y), you can’t eat the beans anyway at the coordinates listed (if exiting): (x, y-1), (x, y+1), and the both rows whose abscissas are x-1 and x+1.<br/><center><img src="http://www.acmerblog.com/img/1392910179944.jpg"/></center>
<p>Now, how much qualities can you eat and then get ? </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are a few cases. In each case, there are two integer M (row number) and N (column number). The next M lines each contain N integers, representing the qualities of the beans. We can make sure that the quality of bean isn’t beyond 1000, and 1&lt;=M*N&lt;=200000. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are a few cases. In each case, there are two integer M (row number) and N (column number). The next M lines each contain N integers, representing the qualities of the beans. We can make sure that the quality of bean isn’t beyond 1000, and 1&lt;=M*N&lt;=200000.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 6
11 0 7 5 13 9
78 4 81 6 22 4
1 40 9 34 16 10
11 22 0 33 39 6</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
242</pre>
<p> <!-- problem end --></p>
<p> </p>
<p>题意：容易理解。</p>
<p>分析：以后碰到这种类型的题，就要考虑把矩阵先按行来处理，再按列处理。先算出每行能够能够得到的最大值，然后按列处理即可。</p>
<p>代码实现：</p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
int n,m;
int a[200005],dp[200005][2],b[200005];
int max(int x,int y)
{
    return x&gt;y?x:y;
}
int main()
{
    int i,j,res;
    while(scanf("%d%d",&amp;n,&amp;m)!=EOF)
    {
        res=-1000000;
        dp[0][0]=0;dp[0][1]=0;
        for(i=1;i&lt;=n;i++)
        {
            for(j=1;j&lt;=m;j++)
            {
                scanf("%d",&amp;a[j]);
                dp[j][0]=max(dp[j-1][0],dp[j-1][1]);
                dp[j][1]=dp[j-1][0]+a[j];   
            }
            b[i]=max(dp[m][0],dp[m][1]);
            if(res&lt;b[i])
                    res=b[i];
        }
        dp[0][0]=0;dp[0][1]=0;
        for(i=1;i&lt;=n;i++)
        {
            dp[i][0]=max(dp[i-1][0],dp[i-1][1]);
            dp[i][1]=dp[i-1][0]+b[i];
            if(res&lt;dp[i][0])
                res=dp[i][0];
            if(res&lt;dp[i][1])
                res=dp[i][1];
        }
        printf("%d\n",res);
    }
    return 0;
}</pre>
<p> </p>
<p>解题参考：http://www.cnblogs.com/jiangjing/archive/2013/07/28/3221462.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81650">
<article class="comment" id="comment-81650">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81650" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81649">
<article class="comment" id="comment-81649">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81649" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81648">
<article class="comment" id="comment-81648">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81648" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81647">
<article class="comment" id="comment-81647">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81647" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81646">
<article class="comment" id="comment-81646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81646" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81645">
<article class="comment" id="comment-81645">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81645" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81644">
<article class="comment" id="comment-81644">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527639" rel="external nofollow">新用户189821</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-81644" rel="nofollow"><time datetime="2017-04-12T19:45:05+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>chrome为什么视频无法点播放按钮捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25137">
<article class="comment" id="comment-25137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jamoeba</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25137" rel="nofollow"><time datetime="2015-04-20T08:33:21+00:00" pubdate="">2015年4月20日 at 上午8:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25135">
<article class="comment" id="comment-25135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25135" rel="nofollow"><time datetime="2015-03-29T19:35:31+00:00" pubdate="">2015年3月29日 at 下午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62939">
<article class="comment" id="comment-62939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-62939" rel="nofollow"><time datetime="2015-02-05T14:45:10+00:00" pubdate="">2015年2月5日 at 下午2:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力的文章，例子也非常好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25138">
<article class="comment" id="comment-25138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wuzirui</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25138" rel="nofollow"><time datetime="2015-01-23T11:23:18+00:00" pubdate="">2015年1月23日 at 上午11:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>目测会火</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57513">
<article class="comment" id="comment-57513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-57513" rel="nofollow"><time datetime="2014-12-17T08:30:43+00:00" pubdate="">2014年12月17日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于找到一篇能看懂的，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25136">
<article class="comment" id="comment-25136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25136" rel="nofollow"><time datetime="2014-12-14T23:02:50+00:00" pubdate="">2014年12月14日 at 下午11:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此网站甚是喜欢，潜力巨大，请问站长，如何加入开发团队~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46717">
<article class="comment" id="comment-46717">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">la0bei</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-46717" rel="nofollow"><time datetime="2014-11-02T01:44:45+00:00" pubdate="">2014年11月2日 at 上午1:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25134">
<article class="comment" id="comment-25134">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">aaa</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25134" rel="nofollow"><time datetime="2014-10-17T05:45:34+00:00" pubdate="">2014年10月17日 at 上午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46716">
<article class="comment" id="comment-46716">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-46716" rel="nofollow"><time datetime="2014-09-25T11:24:26+00:00" pubdate="">2014年9月25日 at 上午11:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25130">
<article class="comment" id="comment-25130">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25130" rel="nofollow"><time datetime="2014-09-16T22:39:28+00:00" pubdate="">2014年9月16日 at 下午10:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25132">
<article class="comment" id="comment-25132">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25132" rel="nofollow"><time datetime="2014-08-12T23:05:16+00:00" pubdate="">2014年8月12日 at 下午11:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种题解就相当于直接贴代码了，，想看的是思路</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25133">
<article class="comment" id="comment-25133">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuyuedeyu</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25133" rel="nofollow"><time datetime="2014-08-05T23:44:31+00:00" pubdate="">2014年8月5日 at 下午11:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25131">
<article class="comment" id="comment-25131">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-2845-beans-4488.html#comment-25131" rel="nofollow"><time datetime="2014-06-04T07:10:57+00:00" pubdate="">2014年6月4日 at 上午7:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>