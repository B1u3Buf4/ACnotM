<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-10</div>
<div class="tit"><h1 class="entry-title">hdu 3754 Binary Operation[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观436次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6746" href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comments" title="《hdu 3754 Binary Operation[解题报告]C++》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Binary Operation</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
<img alt="Alignment of Code" src="http://www.acmerblog.com/img/1435821720214.png"/> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input begins with an integer T. The next T blocks each represents a case. <br/><img alt="Alignment of Code" src="http://www.acmerblog.com/img/1435821720387.png"/> </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input begins with an integer T. The next T blocks each represents a case. <br/><img alt="Alignment of Code" src="http://www.acmerblog.com/img/1435821720511.png"/></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
0 1 2 3 4 5 6 7 8 9
1 2 3 4 5 6 7 8 9 0
2 3 4 5 6 7 8 9 0 1
3 4 5 6 7 8 9 0 1 2
4 5 6 7 8 9 0 1 2 3
5 6 7 8 9 0 1 2 3 4
6 7 8 9 0 1 2 3 4 5
7 8 9 0 1 2 3 4 5 6
8 9 0 1 2 3 4 5 6 7
9 0 1 2 3 4 5 6 7 8
0 10</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
15</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp">#include &lt;cstdio&gt;

typedef unsigned long long ullong;

int eval(int f[], int x, ullong k){
bool vst[10];
for(int i = 0;i &lt; 10; ++i) vst[i] = false;
vst[x] = true;
while(k--){
x = f[x];
if(vst[x]){
int len = 1;
for(int y = f[x];y != x;y = f[y]) ++len;
k %= len;
while(k--) x = f[x];
return x;
}
else vst[x] = true;
}
return x;
}

int g[10][10];

ullong min(ullong a, ullong b){
return a &lt; b ? a : b;
}
int main(){
int TT;
scanf("%d", &amp;TT);
for(int cas = 1; cas &lt;= TT; ++cas){
for(int i = 0;i &lt; 10; ++i){
for(int j = 0;j &lt; 10; ++j){
scanf("%d", g[j] + i);
}
}
ullong a, b;
scanf("%I64u %I64u", &amp;a, &amp;b);
ullong ans = 0;
for(ullong t = 1;t &lt;= b;t *= 10){
ullong u = a, v = b;
int d = u / t % 10;
ullong uu = min((u / t + 1) * t - 1, v);
int val = eval(g[d], d, uu - u);
for(++d, u = uu;d &lt; 10 &amp;&amp; u &lt; v; ++d, u = uu){
uu = min(u + t, v);
val = eval(g[d], val, uu - u);
}
if((v - u) / t &gt;= 10){
int f[10];
for(int d = 0;d &lt; 10; ++d){
f[d] = d;
for(int j = 0;j &lt; 10; ++j){
f[d] = eval(g[j], f[d], t);
}
}
val = eval(f, val, (v - u) / t / 10);
u += (v - u) / t / 10 * t * 10;
}
for(d = 0; u &lt; v; ++d, u = uu){
uu = min(u + t, v);
val = eval(g[d], val, uu - u);
}
ans += val * t;
}
printf("%I64u\n", ans);
}
return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73010">
<article class="comment" id="comment-73010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458059" rel="external nofollow">新用户912554</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-73010" rel="nofollow"><time datetime="2017-04-11T19:58:26+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>毕竟弹射确实诱人，最大起飞重量之类的硬性指标会有显著提高啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73009">
<article class="comment" id="comment-73009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458059" rel="external nofollow">新用户912554</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-73009" rel="nofollow"><time datetime="2017-04-11T19:58:26+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>毕竟弹射确实诱人，最大起飞重量之类的硬性指标会有显著提高啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73008">
<article class="comment" id="comment-73008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458059" rel="external nofollow">新用户912554</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-73008" rel="nofollow"><time datetime="2017-04-11T19:58:26+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>毕竟弹射确实诱人，最大起飞重量之类的硬性指标会有显著提高啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73007">
<article class="comment" id="comment-73007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458059" rel="external nofollow">新用户912554</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-73007" rel="nofollow"><time datetime="2017-04-11T19:58:26+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>毕竟弹射确实诱人，最大起飞重量之类的硬性指标会有显著提高啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64007">
<article class="comment" id="comment-64007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">130920099</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-64007" rel="nofollow"><time datetime="2015-07-10T12:35:47+00:00" pubdate="">2015年7月10日 at 下午12:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64006">
<article class="comment" id="comment-64006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-64006" rel="nofollow"><time datetime="2015-07-09T15:21:40+00:00" pubdate="">2015年7月9日 at 下午3:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>惊艳了，没想到代码如此简洁</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33512">
<article class="comment" id="comment-33512">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-33512" rel="nofollow"><time datetime="2015-07-09T10:36:06+00:00" pubdate="">2015年7月9日 at 上午10:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59607">
<article class="comment" id="comment-59607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-59607" rel="nofollow"><time datetime="2015-07-03T20:38:39+00:00" pubdate="">2015年7月3日 at 下午8:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>remove没有实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59609">
<article class="comment" id="comment-59609">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-59609" rel="nofollow"><time datetime="2015-06-08T21:41:49+00:00" pubdate="">2015年6月8日 at 下午9:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>额，不对应吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64009">
<article class="comment" id="comment-64009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-64009" rel="nofollow"><time datetime="2015-06-06T09:13:09+00:00" pubdate="">2015年6月6日 at 上午9:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59605">
<article class="comment" id="comment-59605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-59605" rel="nofollow"><time datetime="2015-06-04T11:04:34+00:00" pubdate="">2015年6月4日 at 上午11:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 如果此题没有要求 相对位置不变，可以参考文章：http://www.acmerblog.com/interview-9-2427/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33515">
<article class="comment" id="comment-33515">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-33515" rel="nofollow"><time datetime="2015-05-28T09:41:52+00:00" pubdate="">2015年5月28日 at 上午9:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>比较基础，找些自信</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33513">
<article class="comment" id="comment-33513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-33513" rel="nofollow"><time datetime="2015-05-24T19:15:52+00:00" pubdate="">2015年5月24日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33514">
<article class="comment" id="comment-33514">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jixiangniao993</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-33514" rel="nofollow"><time datetime="2015-05-21T10:42:20+00:00" pubdate="">2015年5月21日 at 上午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59608">
<article class="comment" id="comment-59608">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-59608" rel="nofollow"><time datetime="2015-05-06T17:43:26+00:00" pubdate="">2015年5月6日 at 下午5:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64008">
<article class="comment" id="comment-64008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-64008" rel="nofollow"><time datetime="2015-05-05T05:12:57+00:00" pubdate="">2015年5月5日 at 上午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59606">
<article class="comment" id="comment-59606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-59606" rel="nofollow"><time datetime="2015-04-28T20:52:37+00:00" pubdate="">2015年4月28日 at 下午8:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51034">
<article class="comment" id="comment-51034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-3754-binary-operation-6746.html#comment-51034" rel="nofollow"><time datetime="2015-04-17T19:17:11+00:00" pubdate="">2015年4月17日 at 下午7:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目的核心一句话是：取还是不取。<br/>
如果当前取，则index+1作为参数。如果当前不取，则任用index作为参数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>