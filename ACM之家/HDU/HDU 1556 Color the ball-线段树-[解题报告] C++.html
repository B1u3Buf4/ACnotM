<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1556 Color the ball-线段树-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/data-struct/trees" rel="category tag" title="查看树形结构中的全部文章">树形结构</a>, <a href="http://www.acmerblog.com/category/data-struct/indexed-trees" rel="category tag" title="查看树状数组中的全部文章">树状数组</a></span><span class="i4">围观1266次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2110" href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comments" title="《HDU 1556 Color the ball-线段树-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Color the ball</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
N个气球排成一排，从左到右依次编号为1,2,3….N.每次给定2个整数a b(a &lt;= b),lele便为骑上他的“小飞鸽"牌电动车从气球a开始到气球b依次给每个气球涂一次颜色。但是N次以后lele已经忘记了第I个气球已经涂过几次颜色了，你能帮他算出每个气球被涂过几次颜色吗？ </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
每个测试实例第一行为一个整数N,(N &lt;= 100000).接下来的N行，每行包括2个整数a b(1 &lt;= a &lt;= b &lt;= N)。<br/>当N = 0，输入结束。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
每个测试实例输出一行，包括N个整数，第I个数代表第I个气球总共被涂色的次数。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1 1
2 2
3 3
3
1 1
1 2
1 3
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 1 1
3 2 1</pre>
<p> <!-- problem end --></p>
<p>本题也可用线段树过，但代码麻烦得多。题意就不用说了，直接上代码吧。</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
 #include &lt;string.h&gt;
 #define lowbit(x) ((x)&amp;(-x))
 int a[100005],n;
 void update(int x,int y)
 {
     while(x &lt;= n)
     {
         a[x] += y;
         x += lowbit(x);
     }
 }
 int getsum(int x)
 {
     int ans = 0;
     while(x &gt; 0)
     {
         ans += a[x];
         x -= lowbit(x);
     }
     return ans;
 }
 int main()
 {
     int i,j;
     while(scanf("%d",&amp;n) == 1 &amp;&amp; n)
     {
         memset(a,0,sizeof(a));
         for(j = 1;j &lt;= n;j ++)
         {
             int a,b;
             scanf("%d %d",&amp;a,&amp;b);
             update(a,1);
             update(b+1,-1);
         }
         printf("%d",getsum(1));
         for(i = 2;i &lt;= n;i ++)
             printf(" %d",getsum(i));
         puts("");
     }
     return 0;
 }</pre>
<p>这道题也可直接用数组过，新学到一种方法。</p>
<p>更新点的时候起点坐标开始是1，结束坐标后一位是-1，然后叠加的每个点的次数。</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
 int a[100005];
 int main()
 {
     int i,n,p,q,s;
     while(scanf("%d",&amp;n)==1 &amp;&amp; n)
     {
         for(i = 1;i &lt;= n;i ++)
             a[i] = 0;
         for(i = 1;i &lt;= n;i ++)
         {
             scanf("%d %d",&amp;p,&amp;q);
             a[p] ++;
             a[q+1] --;
         }
         printf("%d",a[1]);
         s = a[1];
         for(i = 2;i &lt;= n;i ++)
         {
             s += a[i];
             printf(" %d",s);
         }
         puts("");
     }
     return 0;
 }</pre>
<p>解题报告转自：http://www.cnblogs.com/zhangteng512/archive/2011/09/27/2193313.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-14181">
<article class="comment" id="comment-14181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14181" rel="nofollow"><time datetime="2015-05-18T06:10:06+00:00" pubdate="">2015年5月18日 at 上午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14188">
<article class="comment" id="comment-14188">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cyyuen</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14188" rel="nofollow"><time datetime="2015-05-03T12:32:03+00:00" pubdate="">2015年5月3日 at 下午12:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于找到一篇能看懂的，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14184">
<article class="comment" id="comment-14184">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14184" rel="nofollow"><time datetime="2015-04-13T23:23:56+00:00" pubdate="">2015年4月13日 at 下午11:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>后面的掩码变量部分乍一看比较难理解，其实就是把32位按照一个整体来看待。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14185">
<article class="comment" id="comment-14185">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14185" rel="nofollow"><time datetime="2015-04-04T07:12:19+00:00" pubdate="">2015年4月4日 at 上午7:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>贴的有些代码的头文件不见了，这是为啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14186">
<article class="comment" id="comment-14186">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14186" rel="nofollow"><time datetime="2015-03-24T09:42:20+00:00" pubdate="">2015年3月24日 at 上午9:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14182">
<article class="comment" id="comment-14182">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14182" rel="nofollow"><time datetime="2015-02-17T18:55:52+00:00" pubdate="">2015年2月17日 at 下午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以根据二叉排序树的定义进行严格的排序树创建和后序遍历操作。如果形成的排序树相同，其树的前、中、后序遍历是相同的，但在此处不能使用中序遍历，因为，中序遍历的结果就是排序的结果。经在九度测试，运行时间90ms，比楼主的要快。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14180">
<article class="comment" id="comment-14180">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14180" rel="nofollow"><time datetime="2014-12-17T23:49:27+00:00" pubdate="">2014年12月17日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过  在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41425">
<article class="comment" id="comment-41425">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-41425" rel="nofollow"><time datetime="2014-10-18T23:12:22+00:00" pubdate="">2014年10月18日 at 下午11:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41421">
<article class="comment" id="comment-41421">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-41421" rel="nofollow"><time datetime="2014-10-01T19:05:43+00:00" pubdate="">2014年10月1日 at 下午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很高兴你会喜欢这个网站。目前还没有一个开发团队，网站是我一个人在维护，都是用的开源系统，也没有太多需要开发的部分，主要是内容整理。非常感谢你的关注。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-14187">
<article class="comment" id="comment-14187">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14187" rel="nofollow"><time datetime="2014-09-17T23:20:49+00:00" pubdate="">2014年9月17日 at 下午11:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41423">
<article class="comment" id="comment-41423">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-41423" rel="nofollow"><time datetime="2014-06-17T06:27:57+00:00" pubdate="">2014年6月17日 at 上午6:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41422">
<article class="comment" id="comment-41422">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-41422" rel="nofollow"><time datetime="2014-05-02T17:36:52+00:00" pubdate="">2014年5月2日 at 下午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-14183">
<article class="comment" id="comment-14183">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-14183" rel="nofollow"><time datetime="2014-03-07T22:05:57+00:00" pubdate="">2014年3月7日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>5.1处，反了；“上一个操作符的优先级比操作符ch的优先级大，或栈是空的就入栈。”如代码所述，应为“上一个操作符的优先级比操作符ch的优先级小，或栈是空的就入栈。”</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41424">
<article class="comment" id="comment-41424">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-1556-Color-the-ball-2110.html#comment-41424" rel="nofollow"><time datetime="2014-01-11T15:42:22+00:00" pubdate="">2014年1月11日 at 下午3:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个是代码高亮功能，那就再换一个颜色</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>