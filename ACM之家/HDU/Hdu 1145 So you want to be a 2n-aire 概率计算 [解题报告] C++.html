<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-02</div>
<div class="tit"><h1 class="entry-title">Hdu 1145 So you want to be a 2n-aire? 概率计算 [解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/probability" rel="category tag" title="查看概率计算中的全部文章">概率计算</a></span><span class="i4">围观803次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1485" href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comments" title="《Hdu 1145 So you want to be a 2n-aire? 概率计算 [解题报告] C++》上的评论">23 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">So you want to be a 2n-aire?</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">The player starts with a prize of $1, and is asked a sequence of n questions. For each question, he may<br/>
quit and keep his prize.<br/>
answer the question. If wrong, he quits with nothing. If correct, the prize is doubled, and he continues with the next question.<br/>
After the last question, he quits with his prize. The player wants to maximize his expected prize.<br/>
Once each question is asked, the player is able to assess the probability p that he will be able to answer it. For each question, we assume that p is a random variable uniformly distributed over the range t .. 1.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">Input is a number of lines, each with two numbers: an integer 1 ≤ n ≤ 30, and a real 0 ≤ t ≤ 1. Input is terminated by a line containing 0 0. This line should not be processed.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">For each input n and t, print the player’s expected prize, if he plays the best strategy. Output should be rounded to three fractional digits.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">1 0.5
1 0.3
2 0.6
24 0.25
0 0</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">1.500
1.357
2.560
230.138</pre>
<p><!-- problem end --></p>
<div>         题目大意：像百万富翁的闯关游戏原理一样。但是百万富翁里面好像如果你不答的话就必须拿上当前现金走人，而这个题可以不走，keep the prize。每次你可以选择不答。也可以选择答题，答对，现金翻倍，错误则没钱。答对每个题目的概率的范围是p~1.给你n，p让你求每次都是最好的选择，然后可以得到的现金期望。</div>
<div></div>
<div>           解题思路：开始看了题目，不知所云。懂了意思之后也不知道如何下手。看了下题解，表示题解看了半天才懂。主要用到一个原理，每次把下次可以得到的最大现金期望算出来，然后算下百分比。看下自己是选择不答还是选择答题。</div>
<div></div>
<div><a href="http://cdn.acmerblog.com/wp-content/uploads/2013/12/20130822164740312.jpg"><img alt="20130822164740312" class="alignnone wp-image-1530" height="250" src="http://cdn.acmerblog.com/wp-content/uploads/2013/12/20130822164740312-300x169.jpg" width="500"/></a></div>
<div></div>
<div></div>
<div></div>
<div>
<pre class="brush:cpp">#include&lt;cstdio&gt;
#include&lt;iostream&gt;
using namespace std;
double t,res;
double tmp,mo;
int n;

double dfs(int k,int money)
{
    if(k==n)
    {
        mo=0.5,tmp=2*money;
        if(t&gt;mo) return (1+t)/2*tmp;
        return (1-mo)/(1-t)*(1+mo)/2*tmp+(mo-t)/(1-t)*money;
    }
    tmp=dfs(k+1,money*2);

    mo=money/tmp;  //是为了找出平衡点
    if(t&gt;mo) return (1+t)/2*tmp;
    return (1-mo)/(1-t)*(1+mo)/2*tmp+(mo-t)/(1-t)*money;
}

int main()
{
    while((scanf("%d%lf",&amp;n,&amp;t))!=EOF)
    {
        if(n==0&amp;&amp;t==0) break;
        res=dfs(1,1);
        printf("%.3lf\n",res);
    }
    return 0;
}</pre>
<p> </p>
</div>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-94078">
<article class="comment" id="comment-94078">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94078" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94077">
<article class="comment" id="comment-94077">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94077" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94076">
<article class="comment" id="comment-94076">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94076" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94075">
<article class="comment" id="comment-94075">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94075" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94074">
<article class="comment" id="comment-94074">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94074" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94073">
<article class="comment" id="comment-94073">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94073" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94072">
<article class="comment" id="comment-94072">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94072" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94071">
<article class="comment" id="comment-94071">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94071" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94070">
<article class="comment" id="comment-94070">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919515016" rel="external nofollow">新用户537928</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-94070" rel="nofollow"><time datetime="2017-04-13T18:47:35+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>但钻石还是很贵啊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11267">
<article class="comment" id="comment-11267">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11267" rel="nofollow"><time datetime="2015-06-16T23:44:34+00:00" pubdate="">2015年6月16日 at 下午11:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11257">
<article class="comment" id="comment-11257">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11257" rel="nofollow"><time datetime="2015-06-10T18:21:52+00:00" pubdate="">2015年6月10日 at 下午6:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>理解错了。。。。。谢谢楼主~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11261">
<article class="comment" id="comment-11261">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bob</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11261" rel="nofollow"><time datetime="2015-05-25T18:10:50+00:00" pubdate="">2015年5月25日 at 下午6:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11268">
<article class="comment" id="comment-11268">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mazilian</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11268" rel="nofollow"><time datetime="2015-05-23T05:42:36+00:00" pubdate="">2015年5月23日 at 上午5:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I go through some of your put up and I uncovered a good deal of expertise from it. Many thanks for posting this sort of exciting posts</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11266">
<article class="comment" id="comment-11266">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bobo</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11266" rel="nofollow"><time datetime="2015-05-04T08:31:44+00:00" pubdate="">2015年5月4日 at 上午8:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，现在就缺少新的资料</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11255">
<article class="comment" id="comment-11255">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fwhappy</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11255" rel="nofollow"><time datetime="2015-04-20T03:48:05+00:00" pubdate="">2015年4月20日 at 上午3:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11260">
<article class="comment" id="comment-11260">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">winter</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11260" rel="nofollow"><time datetime="2015-02-19T11:49:06+00:00" pubdate="">2015年2月19日 at 上午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>
	welcome!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11258">
<article class="comment" id="comment-11258">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bcys</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11258" rel="nofollow"><time datetime="2015-01-09T16:12:46+00:00" pubdate="">2015年1月9日 at 下午4:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11264">
<article class="comment" id="comment-11264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11264" rel="nofollow"><time datetime="2014-09-03T19:59:57+00:00" pubdate="">2014年9月3日 at 下午7:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>目前为止见过的最易懂的一个，多谢分享</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11265">
<article class="comment" id="comment-11265">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11265" rel="nofollow"><time datetime="2014-06-26T05:01:48+00:00" pubdate="">2014年6月26日 at 上午5:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11262">
<article class="comment" id="comment-11262">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11262" rel="nofollow"><time datetime="2014-06-08T21:44:58+00:00" pubdate="">2014年6月8日 at 下午9:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主放题时候没注意下？xxx定律见：<br/>
hdoj3782：http://acm.hdu.edu.cn/showproblem.php?pid=3782</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11263">
<article class="comment" id="comment-11263">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11263" rel="nofollow"><time datetime="2014-05-12T17:57:49+00:00" pubdate="">2014年5月12日 at 下午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11259">
<article class="comment" id="comment-11259">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11259" rel="nofollow"><time datetime="2014-04-21T02:37:43+00:00" pubdate="">2014年4月21日 at 上午2:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11256">
<article class="comment" id="comment-11256">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-1145-so-you-want-to-be-a-2n-aire-1485.html#comment-11256" rel="nofollow"><time datetime="2013-12-25T22:37:13+00:00" pubdate="">2013年12月25日 at 下午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>