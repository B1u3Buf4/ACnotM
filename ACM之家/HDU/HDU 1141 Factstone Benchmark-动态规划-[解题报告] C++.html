<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-28</div>
<div class="tit"><h1 class="entry-title">HDU 1141 Factstone Benchmark-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观689次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1462" href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comments" title="《HDU 1141 Factstone Benchmark-动态规划-[解题报告] C++》上的评论">23 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Factstone Benchmark</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">Amtel has announced that it will release a 128-bit computer chip by 2010, a 256-bit computer by 2020, and so on, continuing its strategy of doubling the word-size every ten years. (Amtel released a 64-bit computer in 2000, a 32-bit computer in 1990, a 16-bit computer in 1980, an 8-bit computer in 1970, and a 4-bit computer, its first, in 1960.)<br/>
Amtel will use a new benchmark – the Factstone – to advertise the vastly improved capacity of its new chips. The Factstone rating is defined to be the largest integer n such that n! can be represented as an unsigned integer in a computer word.Given a year 1960 ≤ y ≤ 2160, what will be the Factstone rating of Amtel’s most recently released chip?
<p>There are several test cases. For each test case, there is one line of input containing y. A line containing 0 follows the last test case. For each test case, output a line giving the Factstone rating.</p>
</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">1960
1981
0</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">3
8</pre>
<p><!-- problem end --></p>
<p>地址：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1141">http://acm.hdu.edu.cn/showproblem.php?pid=1141</a></p>
<p>题意：atmel公司1960年发布4bits的处理器，每10年翻一番。给一个年份，问最近一次发布的处理器能运算的n!最大的n是多少。</p>
<p>mark：最大的处理器位数是2160年的4194304bits。要算n!的二进制表示位，直接算很难，可以变成求log2后取整加1。然后因为log2(n!) = log2(1) + log2(2)…+log2(n)，所以直接O(n)就可以了。大概算到30w可以把500wbits的算出来，之后按输入二分。</p>
<p>代码：</p>
<pre class="brush:cpp "># include &lt;stdio.h&gt;
# include &lt;math.h&gt;

int dp[300010] ;

void init()
{
    int i ;
    double sum = 0 ;
    for (i = 2 ; i &lt;= 300000 ; i++)
    {
        sum += log2(i*1.0) ;
        dp[i] = ((int)sum) + 1 ;
    }
}

int main ()
{
    int n, l, r, mid ;
    init() ;
    while (~scanf ("%d", &amp;n), n)
    {
        n = 1 &lt;&lt; ((n-1940) / 10) ;
        l = 1, r = 300000 ; 
        while (l&lt;r-1)
        {
            mid = (l+r)/2 ;
            if (dp[mid] &lt; n) l = mid ;
            else r = mid ;
        }
        if (dp[r] == n) l = r ;
        printf ("%d\n", l) ;
    }
    return 0 ;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-94087">
<article class="comment" id="comment-94087">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94087" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94086">
<article class="comment" id="comment-94086">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94086" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94085">
<article class="comment" id="comment-94085">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94085" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94084">
<article class="comment" id="comment-94084">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94084" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94083">
<article class="comment" id="comment-94083">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94083" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94082">
<article class="comment" id="comment-94082">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94082" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94081">
<article class="comment" id="comment-94081">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94081" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94080">
<article class="comment" id="comment-94080">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94080" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94079">
<article class="comment" id="comment-94079">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521233" rel="external nofollow">新用户385792</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-94079" rel="nofollow"><time datetime="2017-04-13T18:47:36+00:00" pubdate="">2017年4月13日 at 下午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我是经过的那条狗麽</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11233">
<article class="comment" id="comment-11233">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11233" rel="nofollow"><time datetime="2015-06-29T08:34:22+00:00" pubdate="">2015年6月29日 at 上午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40014">
<article class="comment" id="comment-40014">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-40014" rel="nofollow"><time datetime="2015-06-15T20:30:40+00:00" pubdate="">2015年6月15日 at 下午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错，支持一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11235">
<article class="comment" id="comment-11235">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rocky</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11235" rel="nofollow"><time datetime="2015-05-02T16:35:27+00:00" pubdate="">2015年5月2日 at 下午4:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这配图…..</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40012">
<article class="comment" id="comment-40012">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-40012" rel="nofollow"><time datetime="2015-04-28T20:11:45+00:00" pubdate="">2015年4月28日 at 下午8:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11236">
<article class="comment" id="comment-11236">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11236" rel="nofollow"><time datetime="2015-03-25T12:30:22+00:00" pubdate="">2015年3月25日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40013">
<article class="comment" id="comment-40013">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-40013" rel="nofollow"><time datetime="2015-03-18T13:07:00+00:00" pubdate="">2015年3月18日 at 下午1:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11238">
<article class="comment" id="comment-11238">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11238" rel="nofollow"><time datetime="2015-02-15T08:51:32+00:00" pubdate="">2015年2月15日 at 上午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的题，还是能做出几道的，嘿嘿</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40015">
<article class="comment" id="comment-40015">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-40015" rel="nofollow"><time datetime="2014-11-24T07:36:38+00:00" pubdate="">2014年11月24日 at 上午7:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有一点问题。。后面动态规划的程序中<br/>
int dp[n+1][W+1];<br/>
会报错  提示表达式必须含有常量值。该怎么修改呢。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40016">
<article class="comment" id="comment-40016">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-40016" rel="nofollow"><time datetime="2014-08-13T02:43:12+00:00" pubdate="">2014年8月13日 at 上午2:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11232">
<article class="comment" id="comment-11232">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1520006273</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11232" rel="nofollow"><time datetime="2014-07-23T20:15:47+00:00" pubdate="">2014年7月23日 at 下午8:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好吧~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11237">
<article class="comment" id="comment-11237">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11237" rel="nofollow"><time datetime="2014-06-24T02:11:44+00:00" pubdate="">2014年6月24日 at 上午2:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11234">
<article class="comment" id="comment-11234">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11234" rel="nofollow"><time datetime="2014-06-08T01:46:45+00:00" pubdate="">2014年6月8日 at 上午1:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11239">
<article class="comment" id="comment-11239">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11239" rel="nofollow"><time datetime="2014-01-28T06:29:37+00:00" pubdate="">2014年1月28日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11240">
<article class="comment" id="comment-11240">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">la0bei</a></span> on <a href="http://www.acmerblog.com/hdu-1141-factstone-benchmark-1462.html#comment-11240" rel="nofollow"><time datetime="2014-01-17T19:07:41+00:00" pubdate="">2014年1月17日 at 下午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>