<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-09</div>
<div class="tit"><h1 class="entry-title">hdu 2496 Moveable maze待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观436次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4034" href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comments" title="《hdu 2496 Moveable maze待解决[解题报告]C++》上的评论">16 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Moveable maze</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
After solving a difficult programming problem, you decide to take a break and play a puzzle game. After playing the game for a while, you decide to write a program to solve it for you. 
<p>The game is played on a grid with <i>R</i> rows and <i>C</i> columns. Each square of the grid contains a black dot in the centre and black lines in the direction of some, none, or all of its north, east, south, and west neighbouring squares. Your objective in this game is to move your playing piece from the centre of the square in the <i>i<sub>1</sub></i><sup>th</sup> row and the <i>j<sub>1</sub></i><sup>th</sup> column, where it begins, to the centre of the square in the the <i>i<sub>2</sub></i><sup>th</sup> row and the <i>j<sub>2</sub></i><sup>th</sup> column. </p>
<p>You wish to do this in the least number of turns possible, where a turn consists of the following two parts. First in each turn, you may opt to select any grid square and rotate it 90 degrees clockwise or counterclockwise. Second in each turn, you may opt to move your piece from the centre of its current grid square to the centre of a neighbouring grid square, provided your piece does not leave the black markings. In other words, you may move from a square A to a neighbouring square B if A has a black line in the direction of B and B has a black line in the direction of A. Note that either part of a turn may be omitted. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input consists of a number of test cases. The first line of each test case contains the two integers <i>R</i> and <i>C</i>, separated by spaces, with 1 &lt;= <i>R, C</i> &lt;= 20. 
<p>The next line contains the integers <i>i<sub>1</sub>, j<sub>1</sub>, i<sub>2</sub>, j<sub>2</sub></i>, separated by spaces, with 1 &lt;= <i>i<sub>1</sub>, i<sub>2</sub></i> &lt;= <i>R</i> and 1 &lt;= <i>j<sub>1</sub>, j<sub>2</sub></i> &lt;= <i>C</i>.</p>
<p>The following <i>R</i> lines of input each contain one row of the grid, from north to south. Each of these lines contains exactly <i>C</i> strings of letters, separated by spaces, that correspond to squares of the grid, from west to east. Their format is as follows: 
</p><ul>
<li>If the string is the single character x, then the square does not contain a line to any of its neighbours. </li>
<p>
</p><li>Otherwise, the string contains some of the characters N, E, S, W, which indicate that a black line extends from this square’s centre in the direction of its north, east, south, or west neighbour, respectively. No character will appear in the string more than once.</li>
</ul>
<p>It is guaranteed that it is possible to move your playing piece from (<i>i<sub>1</sub>, j<sub>1</sub></i>) to (<i>i<sub>2</sub>, j<sub>2</sub></i>). </p>
<p>Input is terminated by a line containing 0 0. These zeros are not a test case and should not be processed. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Input consists of a number of test cases. The first line of each test case contains the two integers <i>R</i> and <i>C</i>, separated by spaces, with 1 &lt;= <i>R, C</i> &lt;= 20. 
<p>The next line contains the integers <i>i<sub>1</sub>, j<sub>1</sub>, i<sub>2</sub>, j<sub>2</sub></i>, separated by spaces, with 1 &lt;= <i>i<sub>1</sub>, i<sub>2</sub></i> &lt;= <i>R</i> and 1 &lt;= <i>j<sub>1</sub>, j<sub>2</sub></i> &lt;= <i>C</i>.</p>
<p>The following <i>R</i> lines of input each contain one row of the grid, from north to south. Each of these lines contains exactly <i>C</i> strings of letters, separated by spaces, that correspond to squares of the grid, from west to east. Their format is as follows: 
</p><ul>
<li>If the string is the single character x, then the square does not contain a line to any of its neighbours. </li>
<p>
</p><li>Otherwise, the string contains some of the characters N, E, S, W, which indicate that a black line extends from this square’s centre in the direction of its north, east, south, or west neighbour, respectively. No character will appear in the string more than once.</li>
</ul>
<p>It is guaranteed that it is possible to move your playing piece from (<i>i<sub>1</sub>, j<sub>1</sub></i>) to (<i>i<sub>2</sub>, j<sub>2</sub></i>). </p>
<p>Input is terminated by a line containing 0 0. These zeros are not a test case and should not be processed.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 2
1 1 4 1
E SW
x EW
NW ES
N x
0 0

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>A diagram of the input:

<img src="../../../data/images/C240-1002-1.jpg"/>
</div><i style="font-size:1px"> </i></pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
5

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
An example optimal solution is: 

1. Rotate (2,2) clockwise. Step to (1,2). 
2. Rotate (3,2) counterclockwise. Step to (2,2). 
3. Rotate (3,2) counterclockwise. Step to (3,2).
4. Rotate (3,1) clockwise. Step to (3,1).
5. Rotate (3,1) clockwise. Step to (4,1).</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-84338">
<article class="comment" id="comment-84338">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511928" rel="external nofollow">新用户478815</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-84338" rel="nofollow"><time datetime="2017-04-12T23:52:08+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥你要什么时候更新啊回个话呗！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-84337">
<article class="comment" id="comment-84337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511928" rel="external nofollow">新用户478815</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-84337" rel="nofollow"><time datetime="2017-04-12T23:52:08+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥你要什么时候更新啊回个话呗！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-84336">
<article class="comment" id="comment-84336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511928" rel="external nofollow">新用户478815</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-84336" rel="nofollow"><time datetime="2017-04-12T23:52:08+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥你要什么时候更新啊回个话呗！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22621">
<article class="comment" id="comment-22621">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22621" rel="nofollow"><time datetime="2015-07-04T00:22:51+00:00" pubdate="">2015年7月4日 at 上午12:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22620">
<article class="comment" id="comment-22620">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22620" rel="nofollow"><time datetime="2015-04-26T01:37:56+00:00" pubdate="">2015年4月26日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22615">
<article class="comment" id="comment-22615">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22615" rel="nofollow"><time datetime="2015-04-24T19:11:26+00:00" pubdate="">2015年4月24日 at 下午7:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>具体实现上有所差别，但思路是一样的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22623">
<article class="comment" id="comment-22623">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22623" rel="nofollow"><time datetime="2015-04-21T20:32:57+00:00" pubdate="">2015年4月21日 at 下午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22619">
<article class="comment" id="comment-22619">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22619" rel="nofollow"><time datetime="2015-03-19T08:55:00+00:00" pubdate="">2015年3月19日 at 上午8:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以用公式。主要为了说明动态规划，如果要打表的话，这种方法也是较简单和高效的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22618">
<article class="comment" id="comment-22618">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22618" rel="nofollow"><time datetime="2015-03-07T20:10:51+00:00" pubdate="">2015年3月7日 at 下午8:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22622">
<article class="comment" id="comment-22622">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22622" rel="nofollow"><time datetime="2014-11-23T11:46:46+00:00" pubdate="">2014年11月23日 at 上午11:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#pragma pack(2) 这个用法太坑爹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56943">
<article class="comment" id="comment-56943">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-56943" rel="nofollow"><time datetime="2014-11-22T22:10:45+00:00" pubdate="">2014年11月22日 at 下午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d8/good_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_org.gif"/> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22616">
<article class="comment" id="comment-22616">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jhxxszy</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22616" rel="nofollow"><time datetime="2014-11-05T12:08:33+00:00" pubdate="">2014年11月5日 at 下午12:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>We do not harbor that I couldn’t remove other individuals’ problems whenever this arrived at.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45513">
<article class="comment" id="comment-45513">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yupeng.bai</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-45513" rel="nofollow"><time datetime="2014-09-20T04:52:59+00:00" pubdate="">2014年9月20日 at 上午4:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>一开始就规定不相邻节点颜色相同，可能得不到最优解。我想个类似的算法，也不确定是否总能得到最优解：先着一个点，随机挑一个相邻点，着第二色，继续随机选一个点，但必须至少有一个边和已着点相邻，着上不同色，当然尽量不增加新色，直到完成。我还找不到反例验证他的错误。。希望LZ也帮想想, 有想法欢迎来邮件。谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22617">
<article class="comment" id="comment-22617">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-22617" rel="nofollow"><time datetime="2014-08-27T22:35:03+00:00" pubdate="">2014年8月27日 at 下午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不需要输出，只要函数返回值正确就行</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56945">
<article class="comment" id="comment-56945">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-56945" rel="nofollow"><time datetime="2014-03-21T19:55:55+00:00" pubdate="">2014年3月21日 at 下午7:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56944">
<article class="comment" id="comment-56944">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-2496-moveable-maze-4034.html#comment-56944" rel="nofollow"><time datetime="2014-02-27T15:51:23+00:00" pubdate="">2014年2月27日 at 下午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>