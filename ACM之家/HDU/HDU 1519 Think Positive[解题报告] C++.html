<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">HDU 1519 Think Positive[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观1566次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2076" href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comments" title="《HDU 1519 Think Positive[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Think Positive</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
It is well known, that the year on planet Eisiem has n days. Of course, some days are very good for people, while some others are just horrible. Long observations have shown for each day of the year whether this day is good for most people, or bad.
<p>The new president of the Planet Federation wants all people to be happy. He knows that good emotions have a tendency to accumulate, just like bad ones do. The New Year however is a special event and all emotions accumulated by this moment just disappear. Therefore the president wants to change the calendar on Eisiem and choose the new first day of the year, so that the positive emotions would prevail the whole year.</p>
<p>More precisely, for all i from 1 to n let ai be 1 if i-th day is good for most people and -1 if it is bad. Let sjk be the sum of ai for all days from the j-th day of the year to the k-th, that is:</p>
<p><img src="http://acm.hdu.edu.cn/data/images/1519-1.jpg"/></p>
<p>President wants to find such j to order the j-th day to be the first day of the year, that sjk is positive for all k from 1 to n. Since he wants several variants to choose from, he asks you to find all such j. Since he doesn’t want to get too much information at once, first of all he wants to know the number of such j. That is exactly your task. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains multiple test cases. The first line of the input is a single integer T (1 &lt;= T &lt;= 30) which is the number of test cases. T test cases follow, each preceded by a single blank line.
<p>The first line of each test case contains n – the number of days (1 &lt;= n &lt;= 200 000). Next line contains n integer numbers – ai.</p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each case, output the number of different indices j, such that sjk is positive for all k, in a single line. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2

5
1 -1 1 -1 1
7
1 1 1 1 1 1 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
7</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
int map[30][30][30];
int main()
{
    int a,b,c,i,j,k;
    for(i=0;i&lt;=20;++i)
        for(j=0;j&lt;=20;++j)
            for(k=0;k&lt;=20;++k)
                if(i==0 || j==0 || k==0)
                    map[i][j][k]=1;
                else if(i&lt;j &amp;&amp; j&lt;k)
                    map[i][j][k]=map[i][j][k-1]+map[i][j-1][k-1]-map[i][j-1][k-1];
                else
                    map[i][j][k]=map[i-1][j][k]+map[i-1][j-1][k]+map[i-1][j][k-1]-map[i-1][j-1][k-1];
    while(scanf("%d%d%d",&amp;a,&amp;b,&amp;c),a!=-1 || b!=-1 || c!=-1)
    {
        if(a&lt;=0 || b&lt;=0 || c&lt;=0)
            i=1;
        else if(a&gt;20 || b&gt;20 || c&gt;20)
            i=map[20][20][20];
        else
            i=map[a][b][c];
        printf("w(%d, %d, %d) = %d\n",a,b,c,i);
    }
    return 0;
}</pre>
<p></p>
<p>解题报告转自：http://blog.csdn.net/hong0220/article/details/8892045</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-13934">
<article class="comment" id="comment-13934">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13934" rel="nofollow"><time datetime="2015-07-12T19:34:49+00:00" pubdate="">2015年7月12日 at 下午7:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13936">
<article class="comment" id="comment-13936">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13936" rel="nofollow"><time datetime="2015-06-17T13:36:17+00:00" pubdate="">2015年6月17日 at 下午1:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个后缀数组不是常用的那个.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61664">
<article class="comment" id="comment-61664">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-61664" rel="nofollow"><time datetime="2015-05-30T05:06:14+00:00" pubdate="">2015年5月30日 at 上午5:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13937">
<article class="comment" id="comment-13937">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13937" rel="nofollow"><time datetime="2015-01-25T04:39:41+00:00" pubdate="">2015年1月25日 at 上午4:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，现在就缺少新的资料</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13933">
<article class="comment" id="comment-13933">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13933" rel="nofollow"><time datetime="2014-12-01T22:33:20+00:00" pubdate="">2014年12月1日 at 下午10:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发的在线笔试题吗?发现很多C啊，阿里不是JAVA多么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13941">
<article class="comment" id="comment-13941">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13941" rel="nofollow"><time datetime="2014-10-28T22:01:50+00:00" pubdate="">2014年10月28日 at 下午10:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13929">
<article class="comment" id="comment-13929">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13929" rel="nofollow"><time datetime="2014-10-25T14:03:27+00:00" pubdate="">2014年10月25日 at 下午2:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://beeder.me" rel="nofollow">http://beeder.me</a> 这个网站上有很多poj和hihoCoder的题解，质量不错，欢迎转载。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13939">
<article class="comment" id="comment-13939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13939" rel="nofollow"><time datetime="2014-10-21T23:05:34+00:00" pubdate="">2014年10月21日 at 下午11:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是有公式吗？何不直接计算</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13940">
<article class="comment" id="comment-13940">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fermi</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13940" rel="nofollow"><time datetime="2014-08-13T11:47:08+00:00" pubdate="">2014年8月13日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13932">
<article class="comment" id="comment-13932">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rocky</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13932" rel="nofollow"><time datetime="2014-07-17T18:56:04+00:00" pubdate="">2014年7月17日 at 下午6:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;</p>
<p>int main() {<br/>
	//answer must be odd<br/>
    int n, u, d;<br/>
    while(scanf("%d%d%d",&amp;n,&amp;u,&amp;d)==3 &amp;&amp; n&gt;0) {<br/>
        if(n&lt;=u) { puts("1"); continue; }<br/>
        n-=u; u-=d; n+=u-1; n/=u;<br/>
        n&lt;&lt;=1, ++n;<br/>
        printf("%dn",n);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13935">
<article class="comment" id="comment-13935">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13935" rel="nofollow"><time datetime="2014-06-05T02:40:47+00:00" pubdate="">2014年6月5日 at 上午2:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能不能说一下tmp数组和solve都是干嘛的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13938">
<article class="comment" id="comment-13938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wall_</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13938" rel="nofollow"><time datetime="2014-03-21T05:43:06+00:00" pubdate="">2014年3月21日 at 上午5:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-13931">
<article class="comment" id="comment-13931">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13931" rel="nofollow"><time datetime="2014-02-11T10:56:31+00:00" pubdate="">2014年2月11日 at 上午10:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>书上的解法更巧妙一些，在九度OJ实测的效率差不多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13930">
<article class="comment" id="comment-13930">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/hdu-1519-Think-Positive-2076.html#comment-13930" rel="nofollow"><time datetime="2014-01-10T08:56:16+00:00" pubdate="">2014年1月10日 at 上午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第23行：<br/>
hash <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = -1是否应该改成hash[s <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ] = -1</p>
<p>因为是要把从字符串s的start位到当前位在hash中重置</p>
<p>修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>