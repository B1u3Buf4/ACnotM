<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-10</div>
<div class="tit"><h1 class="entry-title">hdu 2582 f(n)-最小生成树-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a></span><span class="i4">围观1016次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4133" href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comments" title="《hdu 2582 f(n)-最小生成树-[解题报告]C++》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">f(n)</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
This time I need you to calculate the f(n) . (3&lt;=n&lt;=1000000)
<p>        f(n)= Gcd(3)+Gcd(4)+…+Gcd(i)+…+Gcd(n).<br/>        Gcd(n)=gcd(C[n][1],C[n][2],……,C[n][n-1])<br/>C[n][k]   means the number of way to choose k things from n some things.<br/>gcd(a,b) means the greatest common divisor of a and b. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test case. For each test case:One integer n(3&lt;=n&lt;=1000000). The end of the in put file is EOF. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test case. For each test case:One integer n(3&lt;=n&lt;=1000000). The end of the in put file is EOF.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
26983</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
37556486</pre>
<p> <!-- problem end --></p>
<p><strong><span style="color: #008000;">打表找规律：</span></strong></p>
<p> </p>
<p><strong><span style="color: #008000;">当n为质数是，GCD(n)=n;</span></strong></p>
<p><strong><span style="color: #008000;">当n为质数k的q次方时，GCD(n)=k;</span></strong></p>
<p><strong><span style="color: #008000;">其他情况，GCD(n)=1.</span></strong></p>
<p><strong><span style="color: #008000;">代码如下：</span></strong></p>
<p> </p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
 #include&lt;cstdlib&gt;
 #include&lt;stdio.h&gt;
 #define ll long long
 #define M 1000001
 using namespace std;
 ll a[M];
 int prime[79000],cnt;
 bool f[M];
 int fac(int n)
 {
     for(int i=0;i&lt;cnt&amp;&amp;prime[i]*prime[i]&lt;=n;i++){
         if(n%prime[i]==0){
             n/=prime[i];
             while(n%prime[i]==0) n/=prime[i];
             if(n==1) return prime[i];
             return 0;
         }
     }
     return 0;
 }
 void init()
 {
     int i,j,k;
     cnt=0;
     for(i=2;i&lt;M;i++){
         if(f[i]==0) prime[cnt++]=i;
         for(j=0;j&lt;cnt&amp;&amp;i*prime[j]&lt;M;j++){
             f[i*prime[j]]=1;
             if(i%prime[j]==0) break;
         }
     }
 }
 int main()
 {
     int i,k,n;
     init();
     while(scanf("%d",&amp;n)!=EOF){
         ll ans=0;
         for(i=3;i&lt;=n;i++){
             if(f[i]==0) ans+=i;
             else{
                 k=fac(i);
                 if(k) ans+=k;
                 else ans+=1;
             }
         }
         printf("%I64d\n",ans);
     }
     return 0;
 }</pre>
<p> </p>
<p> </p>
<p> </p>
<p>解题转自：http://www.cnblogs.com/xin-hua/p/3273497.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83718">
<article class="comment" id="comment-83718">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516965" rel="external nofollow">新用户085743</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-83718" rel="nofollow"><time datetime="2017-04-12T22:38:37+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>国语…..有粤语没？搜不到</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83717">
<article class="comment" id="comment-83717">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516965" rel="external nofollow">新用户085743</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-83717" rel="nofollow"><time datetime="2017-04-12T22:38:37+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>国语…..有粤语没？搜不到</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-23192">
<article class="comment" id="comment-23192">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-23192" rel="nofollow"><time datetime="2015-04-24T13:54:44+00:00" pubdate="">2015年4月24日 at 下午1:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45810">
<article class="comment" id="comment-45810">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-45810" rel="nofollow"><time datetime="2015-03-07T05:30:12+00:00" pubdate="">2015年3月7日 at 上午5:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是比较简单的解法了，如果有更好的办法可以告诉我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62734">
<article class="comment" id="comment-62734">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Bernice1989</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62734" rel="nofollow"><time datetime="2015-01-02T08:25:20+00:00" pubdate="">2015年1月2日 at 上午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的代码！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62735">
<article class="comment" id="comment-62735">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62735" rel="nofollow"><time datetime="2014-08-28T22:14:56+00:00" pubdate="">2014年8月28日 at 下午10:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57083">
<article class="comment" id="comment-57083">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-57083" rel="nofollow"><time datetime="2014-06-11T05:47:08+00:00" pubdate="">2014年6月11日 at 上午5:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62736">
<article class="comment" id="comment-62736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62736" rel="nofollow"><time datetime="2014-06-04T13:11:06+00:00" pubdate="">2014年6月4日 at 下午1:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不是有公式吗？何不直接计算</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45809">
<article class="comment" id="comment-45809">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-45809" rel="nofollow"><time datetime="2014-05-12T03:53:34+00:00" pubdate="">2014年5月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62733">
<article class="comment" id="comment-62733">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62733" rel="nofollow"><time datetime="2014-05-02T02:53:11+00:00" pubdate="">2014年5月2日 at 上午2:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62738">
<article class="comment" id="comment-62738">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GDUTtian</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62738" rel="nofollow"><time datetime="2014-03-21T18:37:22+00:00" pubdate="">2014年3月21日 at 下午6:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62737">
<article class="comment" id="comment-62737">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/hdu-2582-fn-4133.html#comment-62737" rel="nofollow"><time datetime="2014-03-20T03:35:28+00:00" pubdate="">2014年3月20日 at 上午3:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>