<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-29</div>
<div class="tit"><h1 class="entry-title">hdu 2114 Calculate S(n)-数学-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/combination" rel="category tag" title="查看组合数学中的全部文章">组合数学</a></span><span class="i4">围观1933次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3259" href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comments" title="《hdu 2114 Calculate S(n)-数学-[解题报告]C++》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Calculate S(n)</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Calculate S(n).
<p>S(n)=1<sup>3</sup>+2<sup>3</sup>  +3<sup>3</sup>  +……+n<sup>3</sup>  . </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each line will contain one integer N(1 &lt; n &lt; 1000000000). Process to end of file. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Each line will contain one integer N(1 &lt; n &lt; 1000000000). Process to end of file.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0001
0009</pre>
<p> <!-- problem end --></p>
<p>题目：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2114">http://acm.hdu.edu.cn/showproblem.php?pid=2114</a></p>
<p> </p>
<p>主要是计算前n项和的公式。</p>
<p>前n项和的立方公式为   ： s(n)=（n*(n+1)/2）^2;</p>
<p> </p>
<p>前n项和的平方公式为：s(n)=n*(n+1)(2*n+1)/6;</p>
<p> </p>
<p>转自百度搜索：</p>
<p><span class="headline-content">公式证明</span>　　<strong>迭代法： </strong></p>
<div class="spctrl"></div>
<p>　　　我们知道： </p>
<div class="spctrl"></div>
<p>　　0次方和的求和公式ΣN^0=N 即1^0+2^0+…+n^0=n </p>
<div class="spctrl"></div>
<p>　　1次方和的求和公式ΣN^1=N(N+1)/2 即1^1+2^1+…+n^1=n(n+1)/2 </p>
<div class="spctrl"></div>
<p>　　2次方和的求和公式ΣN^2=N(N+1)(2N+1)/6 即1^2+2^2+…+n^2=n(n+1)(2n+1)/6——<a href="http://baike.baidu.com/view/892600.htm" target="_blank">平方和公式</a>，此公式可由同种方法得出，取公式(x+1)^3-x^3=3x^2+3x+1，迭代即得。
</p>
<div class="spctrl"></div>
<p>　　取公式：(X+1)^4-X^4=4*X^3+6*X^2+4*X+1 </p>
<div class="spctrl"></div>
<p>　　系数可由杨辉三角形来确定 </p>
<div class="spctrl"></div>
<p>　　那么就得出： </p>
<div class="spctrl"></div>
<p>　　(N+1)^4-N^4=4N^3+6N^2+4N+1………………………………(1) </p>
<div class="spctrl"></div>
<p>　　N^4-(N-1)^4=4(N-1)^3+6(N-1)^2+4(N-1)+1…………………..(2) </p>
<div class="spctrl"></div>
<p>　　(N-1)^4-(N-2)^4=4(N-2)^3+6(N-2)^2+4(N-2)+1………………(3) </p>
<div class="spctrl"></div>
<p>　　………………. </p>
<div class="spctrl"></div>
<p>　　2^4-1^4=4×1^3+6×1^2+4×1+1……………………………..(n) </p>
<div class="spctrl"></div>
<p>　　. </p>
<div class="spctrl"></div>
<p>　　于是(1)+(2)+(3)+……..+(n)有 </p>
<div class="spctrl"></div>
<p>　　左边=(N+1)^4-1 </p>
<div class="spctrl"></div>
<p>　　右边=4(1^3+2^3+3^3+……+N^3)+6(1^2+2^2+3^2+……+N^2)+4(1+2+3+……+N)+N </p>
<div class="spctrl"></div>
<p>　　所以呢 </p>
<div class="spctrl"></div>
<p>　　把以上这已经证得的三个公式代入 </p>
<div class="spctrl"></div>
<p>　　4(1^3+2^3+3^3+……+N^3)+6(1^2+2^2+3^2+……+N^2)+4(1+2+3+……+N)+N=(N+1)^4-1
</p>
<div class="spctrl"></div>
<p>　　得4(1^3+2^3+3^3+……+N^3)+N(N+1)(2N+1)+2N(N+1)+N=N^4+4N^3+6N^2+4N </p>
<div class="spctrl"></div>
<p>　　移项后得 1^3+2^3+3^3+……+N^3=1/4 (N^4+4N^3+6N^2+4N-N-2N^2-2N-2N^3-3N^2-N) </p>
<div class="spctrl"></div>
<p>　　等号右侧合并同类项后得 1^3+2^3+3^3+……+N^3=1/4 (N^4+2N^3+N^2) </p>
<div class="spctrl"></div>
<p>　　即 </p>
<div class="spctrl"></div>
<p>　　1^3+2^3+3^3+……+N^3= 1/4 [N(N+1)]^2 </p>
<div class="spctrl"></div>
<p>　　大功告成！ </p>
<div class="spctrl"></div>
<p>　　立方和公式推导完毕 </p>
<div class="spctrl"></div>
<p>　　1^3+2^3+3^3+……+N^3= 1/4 [N(N+1)]^2</p>
<p> </p>
<p> </p>
<p>下面是AC代码:</p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
using namespace std;
int main()
{
	__int64 n;
	while(scanf("%dI64d",&amp;n)!=EOF)
	{
		__int64 ans=((n*(n+1)/2)%10000)*((n*(n+1)/2)%10000)%10000;
		printf("%04I64d\n",ans);


	}
	return 0;

}</pre>
<p>
 </p>
<p> </p>
<p>解题转自：http://blog.csdn.net/w00w12l/article/details/7007063</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-87121">
<article class="comment" id="comment-87121">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87121" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87120">
<article class="comment" id="comment-87120">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87120" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87119">
<article class="comment" id="comment-87119">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87119" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87118">
<article class="comment" id="comment-87118">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87118" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-87117">
<article class="comment" id="comment-87117">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87117" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-87116">
<article class="comment" id="comment-87116">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-87116" rel="nofollow"><time datetime="2017-04-13T06:42:35+00:00" pubdate="">2017年4月13日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这结局一点也不好?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19296">
<article class="comment" id="comment-19296">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19296" rel="nofollow"><time datetime="2015-07-01T21:16:17+00:00" pubdate="">2015年7月1日 at 下午9:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19293">
<article class="comment" id="comment-19293">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19293" rel="nofollow"><time datetime="2015-04-26T20:56:19+00:00" pubdate="">2015年4月26日 at 下午8:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>图像处理那题解题报告在哪儿呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56248">
<article class="comment" id="comment-56248">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-56248" rel="nofollow"><time datetime="2015-04-08T19:02:19+00:00" pubdate="">2015年4月8日 at 下午7:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19302">
<article class="comment" id="comment-19302">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">slowlight</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19302" rel="nofollow"><time datetime="2015-03-14T05:08:32+00:00" pubdate="">2015年3月14日 at 上午5:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>5.1处，反了；“上一个操作符的优先级比操作符ch的优先级大，或栈是空的就入栈。”如代码所述，应为“上一个操作符的优先级比操作符ch的优先级小，或栈是空的就入栈。”</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19295">
<article class="comment" id="comment-19295">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19295" rel="nofollow"><time datetime="2015-03-12T21:27:40+00:00" pubdate="">2015年3月12日 at 下午9:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>if(j){<br/>
                    int ans=a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
                    for(int x=j-1;x&gt;=0;x–){<br/>
                        if(!a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> ) break;<br/>
                        ans=min(ans,a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> );<br/>
                        sum+=ans;<br/>
                    }<br/>
                }<br/>
求解释，，dp的思路是什么呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19303">
<article class="comment" id="comment-19303">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19303" rel="nofollow"><time datetime="2015-02-16T05:48:38+00:00" pubdate="">2015年2月16日 at 上午5:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>涨姿势了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19301">
<article class="comment" id="comment-19301">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19301" rel="nofollow"><time datetime="2015-01-26T02:12:45+00:00" pubdate="">2015年1月26日 at 上午2:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>样例输出和程序输出不吻合，修改一下样例输出吧。我用的是VC编译器，会提示我的i和j变量重复定义</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19297">
<article class="comment" id="comment-19297">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19297" rel="nofollow"><time datetime="2015-01-14T10:51:58+00:00" pubdate="">2015年1月14日 at 上午10:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的很好~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19298">
<article class="comment" id="comment-19298">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19298" rel="nofollow"><time datetime="2015-01-05T04:10:16+00:00" pubdate="">2015年1月5日 at 上午4:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Excellent Web-site! I required to ask if I might webpages and use a component of the net web website and use a number of factors for just about any faculty process. Please notify me through email regardless of whether that would be excellent. Many thanks</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19305">
<article class="comment" id="comment-19305">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19305" rel="nofollow"><time datetime="2014-09-04T15:04:53+00:00" pubdate="">2014年9月4日 at 下午3:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>51行错了，改为：void Union(struct subset subsets[], int x, int y)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19299">
<article class="comment" id="comment-19299">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19299" rel="nofollow"><time datetime="2014-07-26T15:26:04+00:00" pubdate="">2014年7月26日 at 下午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>贴的有些代码的头文件不见了，这是为啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19300">
<article class="comment" id="comment-19300">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19300" rel="nofollow"><time datetime="2014-07-17T21:35:01+00:00" pubdate="">2014年7月17日 at 下午9:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这代码的输出格式不对阿，else语句的low=p移动一下位置，增加可读性</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19304">
<article class="comment" id="comment-19304">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19304" rel="nofollow"><time datetime="2014-04-10T22:18:37+00:00" pubdate="">2014年4月10日 at 下午10:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19294">
<article class="comment" id="comment-19294">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">calvert1991</a></span> on <a href="http://www.acmerblog.com/hdu-2114-calculate-sn-3259.html#comment-19294" rel="nofollow"><time datetime="2014-03-26T12:32:57+00:00" pubdate="">2014年3月26日 at 下午12:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>