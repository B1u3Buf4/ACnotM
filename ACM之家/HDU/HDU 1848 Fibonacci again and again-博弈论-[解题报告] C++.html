<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1848 Fibonacci again and again-博弈论-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/game" rel="category tag" title="查看博弈论中的全部文章">博弈论</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观853次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2828" href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comments" title="《HDU 1848 Fibonacci again and again-博弈论-[解题报告] C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Fibonacci again and again</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
任何一个大学生对菲波那契数列(Fibonacci numbers)应该都不会陌生，它是这样定义的：<br/>F(1)=1;<br/>F(2)=2;<br/>F(n)=F(n-1)+F(n-2)(n&gt;=3);<br/>所以，1,2,3,5,8,13……就是菲波那契数列。<br/>在HDOJ上有不少相关的题目，比如1005 Fibonacci again就是曾经的浙江省赛题。<br/>今天，又一个关于Fibonacci的题目出现了，它是一个小游戏，定义如下：<br/>1、  这是一个二人游戏;<br/>2、  一共有3堆石子，数量分别是m, n, p个；<br/>3、  两人轮流走;<br/>4、  每走一步可以选择任意一堆石子，然后取走f个；<br/>5、  f只能是菲波那契数列中的元素（即每次只能取1，2，3，5，8…等数量）；<br/>6、  最先取光所有石子的人为胜者；
<p>假设双方都使用最优策略，请判断先手的人会赢还是后手的人会赢。 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入数据包含多个测试用例，每个测试用例占一行，包含3个整数m,n,p（1&lt;=m,n,p&lt;=1000）。<br/>m=n=p=0则表示输入结束。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
如果先手的人能赢，请输出“Fibo”，否则请输出“Nacci”，每个实例的输出占一行。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 1 1
1 4 1
0 0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Fibo
Nacci</pre>
<p> <!-- problem end --></p>
<p>题目大意:输入3个整数m,n,p,分别表示3堆石头中的石头个数</p>
<p>
</p>
<p>解题思路:</p>
<p>1)斐波那契数列的第16个数fib[16] == 1597</p>
<p>2)(sg[m]^sg[n]^sg[p])   。一定要加括号，否则会WA</p>
<p>
</p>
<p>代码如下：</p>
<pre class="brush:cpp ">/*
 * 1848_1.cpp
 *
 *  Created on: 2013年9月1日
 *      Author: Administrator
 */

#include &lt;iostream&gt;


using namespace std;

const int maxn = 1001;
int sg[maxn];
int f[maxn];
int hash[maxn];

void getSG(int n){

	int i,j;
	memset(sg,0,sizeof(sg));
	for(i = 1 ; i&lt;= n ; ++i){
		memset(hash,0,sizeof(hash));
		for(j = 1 ; f[j] &lt;= i ; ++j ){
			hash[sg[i-f[j]]] = 1;
		}

		for(j = 0 ; j &lt;= n ; ++j){
			if(hash[j] == 0){
				sg[i] = j;
				break;
			}
		}
	}
}

int main(){
	int m,n,p;

	f[0] = 1;
	f[1] = 1;
	int i ;
	for(i = 2 ; i &lt;= 16 ; ++i){//这里之所以取16是因为fib[16] 已经是 1597,已经大于n的最大值
		f[i] = f[i - 1] + f[i - 2];
	}
	getSG(1000);
	while(scanf("%d%d%d",&amp;m,&amp;n,&amp;p)!=EOF,m||n||p){
		if((sg[m]^sg[n]^sg[p]) == 0){//sg[m]^sg[n]^sg[p]外面别忘了加括号(),否则会WA
			printf("Nacci\n");
		}else{
			printf("Fibo\n");
		}
	}
}</pre>
<p>
</p>
<p>
</p>
<p>解题报告转自：http://blog.csdn.net/hjd_love_zzt/article/details/10834915</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-17407">
<article class="comment" id="comment-17407">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17407" rel="nofollow"><time datetime="2015-07-01T02:26:56+00:00" pubdate="">2015年7月1日 at 上午2:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码是给出了，但是解析的也太不清晰了吧！如 13 abejkcfghid jkebfghicda<br/>
第一步拆分为 三部分 (bejk, cfghi, d) * C(13,3)，为什么要这样拆分，原则是什么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43033">
<article class="comment" id="comment-43033">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43033" rel="nofollow"><time datetime="2015-06-20T17:06:12+00:00" pubdate="">2015年6月20日 at 下午5:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17404">
<article class="comment" id="comment-17404">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17404" rel="nofollow"><time datetime="2015-06-13T00:46:26+00:00" pubdate="">2015年6月13日 at 上午12:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17406">
<article class="comment" id="comment-17406">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17406" rel="nofollow"><time datetime="2015-06-04T23:44:16+00:00" pubdate="">2015年6月4日 at 下午11:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55811">
<article class="comment" id="comment-55811">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-55811" rel="nofollow"><time datetime="2015-05-27T08:50:12+00:00" pubdate="">2015年5月27日 at 上午8:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17408">
<article class="comment" id="comment-17408">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17408" rel="nofollow"><time datetime="2015-02-11T18:09:46+00:00" pubdate="">2015年2月11日 at 下午6:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for using the time to examine this, I truly feel strongly about it and enjoy finding out far more on this subject matter. If achievable, as you achieve knowledge</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17405">
<article class="comment" id="comment-17405">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rocky</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17405" rel="nofollow"><time datetime="2014-12-30T09:16:04+00:00" pubdate="">2014年12月30日 at 上午9:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>必须试过啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43036">
<article class="comment" id="comment-43036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43036" rel="nofollow"><time datetime="2014-08-23T15:43:18+00:00" pubdate="">2014年8月23日 at 下午3:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43032">
<article class="comment" id="comment-43032">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43032" rel="nofollow"><time datetime="2014-07-08T01:30:42+00:00" pubdate="">2014年7月8日 at 上午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞！！~~大赞！！~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43034">
<article class="comment" id="comment-43034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43034" rel="nofollow"><time datetime="2014-05-26T13:13:48+00:00" pubdate="">2014年5月26日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43037">
<article class="comment" id="comment-43037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43037" rel="nofollow"><time datetime="2014-04-20T23:19:05+00:00" pubdate="">2014年4月20日 at 下午11:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43035">
<article class="comment" id="comment-43035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-43035" rel="nofollow"><time datetime="2014-03-27T08:13:10+00:00" pubdate="">2014年3月27日 at 上午8:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17403">
<article class="comment" id="comment-17403">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-1848-Fibonacci-again-and-again-2828.html#comment-17403" rel="nofollow"><time datetime="2014-02-19T00:22:39+00:00" pubdate="">2014年2月19日 at 上午12:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>