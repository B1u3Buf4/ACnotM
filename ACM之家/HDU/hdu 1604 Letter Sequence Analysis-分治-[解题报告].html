<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-12</div>
<div class="tit"><h1 class="entry-title">hdu 1604 Letter Sequence Analysis-分治-[解题报告]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观712次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2173" href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comments" title="《hdu 1604 Letter Sequence Analysis-分治-[解题报告]》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Letter Sequence Analysis</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Cryptographic analysis makes extensive use of the frequency with which letters and letter sequences occur in a language. If an encrypted text is known to be in english, for example, a great deal can be learned from the fact that the letters E, L, N, R, S, and T are the most common ones used in written english. Even more can be learned if common letter pairs, triplets, etc. are known. <br/>For this problem you are to write a program which accepts as input a text file of unspecified length and performs letter sequence analysis on the text. The program will report the five most frequent letter sequences for each set of sequences from one to five letters. That is it will report the individual characters which occur with the five highest frequencies, the pairs of characters which occur with the five highest frequencies, and so on up to the letter sequences of five characters which occur with the five highest frequencies. 
<p>The program should consider contiguous sequences of alphabetic characters only, and case should be ignored (e.g. an `a’ is the same as an `A’). A report should be produced using the format shown in the example at the end of this problem description. For each sequence length from one to five, the report should list the sequences in descending order of frequency. If there are several sequences with the same frequency then all sequences should be listed in alphabetical order as shown (list all sequences in upper case). Finally, if there are less than five distinct frequencies for a particular sequence length, simply report as many distinct frequency lists as possible. </p>
<p>Examples</p>
<p>When a text file containing simply the line “Peter Piper Picks Pickles!” is used as input, the output should appear as shown here: </p>
<p>Analysis for Letter Sequences of Length 1<br/>—————————————–<br/>Frequency = 5, Sequence(s) = (P)<br/>Frequency = 4, Sequence(s) = (E)<br/>Frequency = 3, Sequence(s) = (I)<br/>Frequency = 2, Sequence(s) = (C,K,R,S)<br/>Frequency = 1, Sequence(s) = (L,T)</p>
<p>Analysis for Letter Sequences of Length 2<br/>—————————————–<br/>Frequency = 3, Sequence(s) = (PI)<br/>Frequency = 2, Sequence(s) = (CK,ER,IC,PE)<br/>Frequency = 1, Sequence(s) = (ES,ET,IP,KL,KS,LE,TE)</p>
<p>Analysis for Letter Sequences of Length 3<br/>—————————————–<br/>Frequency = 2, Sequence(s) = (ICK,PIC)<br/>Frequency = 1, Sequence(s) = (CKL,CKS,ETE,IPE,KLE,LES,PER,PET,PIP,TER)</p>
<p>Analysis for Letter Sequences of Length 4<br/>—————————————–<br/>Frequency = 2, Sequence(s) = (PICK)<br/>Frequency = 1, Sequence(s) = (CKLE,ETER,ICKL,ICKS,IPER,KLES,PETE,PIPE)</p>
<p>Analysis for Letter Sequences of Length 5<br/>—————————————–<br/>Frequency = 1, Sequence(s) = (CKLES,ICKLE,PETER,PICKL,PICKS,PIPER)</p>
<p>When the first three paragraphs of this problem description are used as input, the output should appear as shown here: </p>
<p>Analysis for Letter Sequences of Length 1<br/>—————————————–<br/>Frequency = 201, Sequence(s) = (E)<br/>Frequency = 112, Sequence(s) = (T)<br/>Frequency = 96, Sequence(s) = (S)<br/>Frequency = 90, Sequence(s) = (R)<br/>Frequency = 84, Sequence(s) = (N)</p>
<p>Analysis for Letter Sequences of Length 2<br/>—————————————–<br/>Frequency = 37, Sequence(s) = (TH)<br/>Frequency = 33, Sequence(s) = (EN)<br/>Frequency = 27, Sequence(s) = (HE)<br/>Frequency = 24, Sequence(s) = (RE)<br/>Frequency = 23, Sequence(s) = (NC)</p>
<p>Analysis for Letter Sequences of Length 3<br/>—————————————–<br/>Frequency = 24, Sequence(s) = (THE)<br/>Frequency = 21, Sequence(s) = (ENC,EQU,QUE,UEN)<br/>Frequency = 12, Sequence(s) = (NCE,SEQ,TER)<br/>Frequency = 9, Sequence(s) = (CES,FRE,IVE,LET,REQ,TTE)<br/>Frequency = 8, Sequence(s) = (ETT,FIV)</p>
<p>Analysis for Letter Sequences of Length 4<br/>—————————————–<br/>Frequency = 21, Sequence(s) = (EQUE,QUEN)<br/>Frequency = 20, Sequence(s) = (UENC)<br/>Frequency = 12, Sequence(s) = (ENCE,SEQU)<br/>Frequency = 9, Sequence(s) = (FREQ,NCES,REQU)<br/>Frequency = 8, Sequence(s) = (ETTE,FIVE,LETT,TTER)</p>
<p>Analysis for Letter Sequences of Length 5<br/>—————————————–<br/>Frequency = 21, Sequence(s) = (EQUEN)<br/>Frequency = 20, Sequence(s) = (QUENC)<br/>Frequency = 12, Sequence(s) = (SEQUE,UENCE)<br/>Frequency = 9, Sequence(s) = (ENCES,FREQU,REQUE)<br/>Frequency = 8, Sequence(s) = (ETTER,LETTE) </p></div>
<p> <!-- problem end --></p>
<p>题目链接：http://acm.hit.edu.cn/hoj/problem/view?id=1604</p>
<p>本题继续练习二分。</p>
<p>这题太恶心了，精度卡的，足够把人烦死，WA了N次。</p>
<p>注意一个重要的地方就行了使用%.nlf的时候，其实是会四舍五入的。这时倒不如手工来算。</p>
<p>注意标注的两个要点：</p>
<p>上代码：</p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;algorithm&gt;
using namespace std;

long long array[10003];

int s = 10000;
int n,k;

bool cmp(long long a,long long b)
{
    return a&gt;b;
}
int calc(long long m)
{
    int p = 0;
    for(int i=0;i&lt;n;i++)
    {
        p += array[i]/m;
    }

    return p&gt;=k;
}
int main()
{
#ifndef ONLINE_JUDGE
    freopen("in.txt","r",stdin);
#endif


    int l,r;
    int ans;
    double a;
    while(scanf("%d %d",&amp;n,&amp;k) == 2)
    {
        ans = 0;
        for(int i=0;i&lt;n;i++)
        {
            scanf("%lf",&amp;a);
            array[i]  = (a+1e-8) * s;//要点一
        }
        sort(array,array+n,cmp);
        l = s/100;
        r = array[0];
        while(l&lt;=r)
        {
            long long m = (l + r)/2;
            if(calc(m)&gt;0)
            {
                l = m+1;
                ans = m;
            }
            else
            {
                r = m-1;
            }
        }
        //要点二
        int th = ans/10000;
        int hu = (ans - th * 10000)/1000;
        int te = (ans - th * 10000 - hu * 1000)/100;
        printf("%d.%d%d\n",th,hu,te);
    }
    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/niuox/article/details/8536029</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-61720">
<article class="comment" id="comment-61720">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-61720" rel="nofollow"><time datetime="2015-07-03T18:23:49+00:00" pubdate="">2015年7月3日 at 下午6:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41575">
<article class="comment" id="comment-41575">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41575" rel="nofollow"><time datetime="2015-05-03T20:41:52+00:00" pubdate="">2015年5月3日 at 下午8:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目的核心一句话是：取还是不取。<br/>
如果当前取，则index+1作为参数。如果当前不取，则任用index作为参数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41574">
<article class="comment" id="comment-41574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wawa</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41574" rel="nofollow"><time datetime="2015-03-13T03:06:34+00:00" pubdate="">2015年3月13日 at 上午3:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>打字员路过。。。。。。算法是啥。。。能干嘛。。。。。。。。能吃么。。哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41573">
<article class="comment" id="comment-41573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41573" rel="nofollow"><time datetime="2015-03-01T21:28:57+00:00" pubdate="">2015年3月1日 at 下午9:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41578">
<article class="comment" id="comment-41578">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xy7850151</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41578" rel="nofollow"><time datetime="2015-01-12T08:18:40+00:00" pubdate="">2015年1月12日 at 上午8:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55111">
<article class="comment" id="comment-55111">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-55111" rel="nofollow"><time datetime="2014-11-28T10:13:30+00:00" pubdate="">2014年11月28日 at 上午10:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>A猴子认识的所有猴子和B猴子认识的所有猴子都能认识，这句话用《爱屋及乌》描述比较容易理解……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41572">
<article class="comment" id="comment-41572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41572" rel="nofollow"><time datetime="2014-09-19T18:39:44+00:00" pubdate="">2014年9月19日 at 下午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41577">
<article class="comment" id="comment-41577">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41577" rel="nofollow"><time datetime="2014-09-13T18:08:17+00:00" pubdate="">2014年9月13日 at 下午6:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55110">
<article class="comment" id="comment-55110">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-55110" rel="nofollow"><time datetime="2014-07-16T21:23:37+00:00" pubdate="">2014年7月16日 at 下午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55109">
<article class="comment" id="comment-55109">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-55109" rel="nofollow"><time datetime="2014-04-15T19:37:47+00:00" pubdate="">2014年4月15日 at 下午7:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-41571">
<article class="comment" id="comment-41571">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41571" rel="nofollow"><time datetime="2014-03-22T09:50:49+00:00" pubdate="">2014年3月22日 at 上午9:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-41576">
<article class="comment" id="comment-41576">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-41576" rel="nofollow"><time datetime="2014-01-27T03:04:04+00:00" pubdate="">2014年1月27日 at 上午3:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55108">
<article class="comment" id="comment-55108">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xin</a></span> on <a href="http://www.acmerblog.com/hdu-1604-Letter-Sequence-Analysis-2173.html#comment-55108" rel="nofollow"><time datetime="2014-01-03T15:18:25+00:00" pubdate="">2014年1月3日 at 下午3:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>