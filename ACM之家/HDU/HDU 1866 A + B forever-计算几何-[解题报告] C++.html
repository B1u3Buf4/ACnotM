<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1866 A + B forever!-计算几何-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观798次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2858" href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comments" title="《HDU 1866 A + B forever!-计算几何-[解题报告] C++》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">A + B forever!</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
As always, A + B is the necessary problem of this warming-up contest. But the patterns and contents are different from the previous ones. Now I come up with a new “A + B” problem for you, the top coders of HDU.<br/>As we say, the addition defined between two rectangles is the sum of their area . And you just have to tell me the ultimate area if there are a few rectangles.<br/>Isn’t it a piece of cake for you? Come on! Capture the bright “accepted” for yourself. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There come a lot of cases. In each case, there is only a string in one line. There are four integers, such as “(x1,y1,x2,y2)”, describing the coordinates of the rectangle, with two brackets distinguishing other rectangle(s) from the string. There lies a plus symbol between every two rectangles. Blanks separating the integers and the interpunctions are added into the strings arbitrarily. The length of the string doesn’t exceed 500.<br/>0&lt;=x1,x2&lt;=1000,0&lt;=y1,y2&lt;=1000. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each case, you just need to print the area for this “A+B” problem. The results will not exceed the limit of the 32-signed integer.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
(1,1,2,2)+(3,3,4,4)
(1,1,3,3)+(2,2,4,4)+(5,5,6,6)</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
8</pre>
<p> <!-- problem end --></p>
<p>第一次做矩形面积的并，这题中借鉴别人的做法，使用标记法求面积的并。</p>
<pre class="brush:cpp ">/*
	Author: ACb0y
	Date: 2010-9-02
	Type: geometry (sum area of rectangle)
	ProblemId: hdu 1866
	Result: AC
*/
#include &lt;iostream&gt;
using namespace std;

int max(int a, int b)
{
	return a &gt; b ? a : b;
}

int min(int a, int b)
{
	return a &gt; b ? b : a;
}

int d[4];
int min_x, min_y, max_x, max_y;
char str[510];
int vis[1100][1100];

int main()
{
#ifndef ONLINE_JUDGE
	freopen("1866.txt", "r", stdin);
#endif
	int i, j, k;
	while (gets(str))
	{
		int c = 0;
		int cnt = 0;
		int len = strlen(str);
		memset(vis, 0, sizeof(vis));
		for (i = 0; i &lt; len; i++) 
		{
			if (isdigit(str[i])) 
			{
				int temp = 0;
				while (isdigit(str[i++]))
				{
					temp *= 10;
					temp += str[i - 1] - '0';
				}
				d[c++] = temp;
				i--;
			}
			if (c == 4) 
			{
				c = 0;
				min_x = min(d[0], d[2]);
				max_x = max(d[0], d[2]);
				min_y = min(d[1], d[3]);
				max_y = max(d[1], d[3]);
				for (j = min_x; j &lt; max_x; j++) 
				{
					for (k = min_y; k &lt; max_y; k++) 
					{
						if (!vis[j][k])
						{
							vis[j][k] = 1;
							cnt++;
						}
					}
				}
			}
		}
		cout &lt;&lt; cnt &lt;&lt; endl;
	}
	return 0;
}</pre>
<p>解题报告转自：http://blog.csdn.net/acb0y/article/details/5858264</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-17502">
<article class="comment" id="comment-17502">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-17502" rel="nofollow"><time datetime="2015-07-03T13:59:57+00:00" pubdate="">2015年7月3日 at 下午1:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17503">
<article class="comment" id="comment-17503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-17503" rel="nofollow"><time datetime="2015-06-13T17:25:13+00:00" pubdate="">2015年6月13日 at 下午5:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>继续加油哦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43110">
<article class="comment" id="comment-43110">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43110" rel="nofollow"><time datetime="2015-02-05T06:14:53+00:00" pubdate="">2015年2月5日 at 上午6:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>比较基础，找些自信</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43109">
<article class="comment" id="comment-43109">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangdilj</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43109" rel="nofollow"><time datetime="2014-12-30T10:03:03+00:00" pubdate="">2014年12月30日 at 上午10:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43106">
<article class="comment" id="comment-43106">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43106" rel="nofollow"><time datetime="2014-11-13T03:51:17+00:00" pubdate="">2014年11月13日 at 上午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大哥，你复制也看看是不是这题的答案才复制吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17504">
<article class="comment" id="comment-17504">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-17504" rel="nofollow"><time datetime="2014-09-14T00:54:23+00:00" pubdate="">2014年9月14日 at 上午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43107">
<article class="comment" id="comment-43107">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43107" rel="nofollow"><time datetime="2014-08-14T14:54:11+00:00" pubdate="">2014年8月14日 at 下午2:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个是python代码啊。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17505">
<article class="comment" id="comment-17505">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-17505" rel="nofollow"><time datetime="2014-08-11T16:57:54+00:00" pubdate="">2014年8月11日 at 下午4:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43108">
<article class="comment" id="comment-43108">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43108" rel="nofollow"><time datetime="2014-03-09T05:32:25+00:00" pubdate="">2014年3月9日 at 上午5:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个..  真没看出来</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43111">
<article class="comment" id="comment-43111">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-43111" rel="nofollow"><time datetime="2014-03-03T23:12:36+00:00" pubdate="">2014年3月3日 at 下午11:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能告诉我为什么对于每一个m，cnt的值不用更新吗?这儿我想不通啊，谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17506">
<article class="comment" id="comment-17506">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sheyty</a></span> on <a href="http://www.acmerblog.com/hdu-1866-A-%2B-B-forever%21-2858.html#comment-17506" rel="nofollow"><time datetime="2013-12-24T21:31:14+00:00" pubdate="">2013年12月24日 at 下午9:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>a是根先忽略掉，递归子树。剩下前缀bejkcfghid和后缀jkebfghicd，分拆的原则的是每个子树前缀和后缀的节点个数是一样的，根节点出现在前缀的第一个，后缀的最后一个。根节点b出现后缀的第四个位置，则第一部分为四个节点，前缀bejk，后缀jkeb，剩下的c出现在后缀的倒数第2个，就划分为cfghi和 fghic，第3部分就为c、c</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>