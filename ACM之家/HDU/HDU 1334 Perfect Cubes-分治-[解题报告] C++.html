<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-09</div>
<div class="tit"><h1 class="entry-title">HDU 1334 Perfect Cubes-分治-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观612次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1754" href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comments" title="《HDU 1334 Perfect Cubes-分治-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Perfect Cubes</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
For hundreds of years Fermat’s Last Theorem, which stated simply that for n &gt; 2 there exist no integers a, b, c &gt; 1 such that a^n = b^n + c^n, has remained elusively unproven. (A recent proof is believed to be correct, though it is still undergoing scrutiny.) It is possible, however, to find integers greater than 1 that satisfy the “perfect cube” equation a^3 = b^3 + c^3 + d^3 (e.g. a quick calculation will show that the equation 12^3 = 6^3 + 8^3 + 10^3 is indeed true). This problem requires that you write a program to find all sets of numbers {a, b, c, d} which satisfy this equation for a &lt;= 200.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output should be listed as shown below, one perfect cube per line, in non-decreasing order of a (i.e. the lines should be sorted by their a values). The values of b, c, and d should also be listed in non-decreasing order on the line itself. There do exist several values of a which can be produced from multiple distinct sets of b, c, and d triples. In these cases, the triples with the smaller b values should be listed first. 
<p>The first part of the output is shown here: </p>
<p>Cube = 6, Triple = (3,4,5)<br/>Cube = 12, Triple = (6,8,10)<br/>Cube = 18, Triple = (2,12,16)<br/>Cube = 18, Triple = (9,12,15)<br/>Cube = 19, Triple = (3,10,18)<br/>Cube = 20, Triple = (7,14,17)<br/>Cube = 24, Triple = (12,16,20)</p>
<p>Note: The programmer will need to be concerned with an efficient implementation. The official time limit for this problem is 2 minutes, and it is indeed possible to write a solution to this problem which executes in under 2 minutes on a 33 MHz 80386 machine. Due to the distributed nature of the contest in this region, judges have been instructed to make the official time limit at their site the greater of 2 minutes or twice the time taken by the judge’s solution on the machine being used to judge this problem.</p></div>
<p> <!-- problem end --></p>
<p>地址：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1334">http://acm.hdu.edu.cn/showproblem.php?pid=1334</a></p>
<p>题意：输出所有(1,200]区间上满足a^3==b^3+c^3+d^3的式子。</p>
<p>mark：水题，枚举a、b、c，在[c,a-1]区间上二分求d后验证。n次wa，二分写得挫。</p>
<p>代码：</p>
<pre class="brush:cpp "># include &lt;stdio.h&gt;
# include &lt;math.h&gt;


int sqrt3(int num,int l,int r)
{
    int mid = 210 ;
    if (l*l*l&gt;num) return 0 ;
    if (r*r*r&lt;num) return 210 ;
    while (r-l&gt;1){
        mid = (r+l)/2 ;
        if (mid*mid*mid &lt;= num) l = mid ;
        else r = mid ;
    }
    if (r*r*r==num) return r ;
    return l ;
}


int main ()
{
    int a, b, c, d ;
    for (a = 6 ; a &lt;= 200 ; a++)
        for (b = 2 ; b &lt; a ; b++)
            for (c = b ; b*b*b+c*c*c &lt; a*a*a ; c++)
            {
                d=sqrt3(a*a*a-b*b*b-c*c*c,c,a-1) ;
                if (d&lt;c) break ;
                if (d&gt;=a) continue ;
                if(a*a*a==b*b*b+c*c*c+d*d*d)
                printf ("Cube = %d, Triple = (%d,%d,%d)\n",
                    a,b,c,d) ;
            }
    return 0 ;
}</pre>
<p>解题报告转自：http://www.cnblogs.com/lzsz1212/archive/2012/02/16/2353628.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-61467">
<article class="comment" id="comment-61467">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-61467" rel="nofollow"><time datetime="2015-07-15T08:42:06+00:00" pubdate="">2015年7月15日 at 上午8:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>纠正一个错误，二分查找树的中序遍历获得元素的升序排列。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40656">
<article class="comment" id="comment-40656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">edward2414</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-40656" rel="nofollow"><time datetime="2015-07-08T11:08:17+00:00" pubdate="">2015年7月8日 at 上午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢提醒</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40658">
<article class="comment" id="comment-40658">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygwx</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-40658" rel="nofollow"><time datetime="2015-06-07T16:33:52+00:00" pubdate="">2015年6月7日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40659">
<article class="comment" id="comment-40659">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-40659" rel="nofollow"><time datetime="2015-05-16T16:21:53+00:00" pubdate="">2015年5月16日 at 下午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12584">
<article class="comment" id="comment-12584">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">michaelwen</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-12584" rel="nofollow"><time datetime="2015-04-03T23:08:25+00:00" pubdate="">2015年4月3日 at 下午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54607">
<article class="comment" id="comment-54607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-54607" rel="nofollow"><time datetime="2015-01-21T05:57:38+00:00" pubdate="">2015年1月21日 at 上午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54605">
<article class="comment" id="comment-54605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-54605" rel="nofollow"><time datetime="2014-11-12T22:59:43+00:00" pubdate="">2014年11月12日 at 下午10:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61466">
<article class="comment" id="comment-61466">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-61466" rel="nofollow"><time datetime="2014-07-25T00:25:23+00:00" pubdate="">2014年7月25日 at 上午12:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54608">
<article class="comment" id="comment-54608">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-54608" rel="nofollow"><time datetime="2014-07-22T17:46:50+00:00" pubdate="">2014年7月22日 at 下午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61465">
<article class="comment" id="comment-61465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-61465" rel="nofollow"><time datetime="2014-06-17T20:43:12+00:00" pubdate="">2014年6月17日 at 下午8:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很高兴你会喜欢这个网站。目前还没有一个开发团队，网站是我一个人在维护，都是用的开源系统，也没有太多需要开发的部分，主要是内容整理。非常感谢你的关注。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40660">
<article class="comment" id="comment-40660">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-40660" rel="nofollow"><time datetime="2014-06-12T19:18:58+00:00" pubdate="">2014年6月12日 at 下午7:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>18题的C也是错误的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12585">
<article class="comment" id="comment-12585">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Yaunxi</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-12585" rel="nofollow"><time datetime="2014-04-25T14:30:02+00:00" pubdate="">2014年4月25日 at 下午2:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40657">
<article class="comment" id="comment-40657">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">MCIT</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-40657" rel="nofollow"><time datetime="2014-02-25T06:40:43+00:00" pubdate="">2014年2月25日 at 上午6:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，感谢分享。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54606">
<article class="comment" id="comment-54606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-1334-Perfect-Cubes-1754.html#comment-54606" rel="nofollow"><time datetime="2013-12-21T05:22:57+00:00" pubdate="">2013年12月21日 at 上午5:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>