<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-14</div>
<div class="tit"><h1 class="entry-title">HDU 2792-HOJ-Tree Insertions-二叉树-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/data-struct/trees" rel="category tag" title="查看树形结构中的全部文章">树形结构</a></span><span class="i4">围观580次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4399" href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comments" title="《HDU 2792-HOJ-Tree Insertions-二叉树-[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Tree Insertions</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
All modern banks employ information systems to process their data. The amount of data is enormous. Imagine all the transactions, payments, e-banking, web services, etc. Therefore, advanced data structures must be used to store the data and allow to access them very quickly.
<p>A Binary Search Tree (BST) is one example of such a data structure It holds a collection of values with some comparison operation that provides linear ordering on these values.</p>
<p>BST consists of nodes, each of them contains one value and has at most two subnodes: left and right (BST is a binary tree). The left subtree always contains only values strictly less than the node value, the right subtree only values greater than or equal to the node value.</p>
<p>As a consequence, values may easily be looked up by traversing the tree recursively. We begin with the root node and compare its value with the value we are searching for. Depending on the result, we descend either into the left or into the right subtree, but we never need to walk through both.</p>
<p>If we want to insert values to an existing tree, the procedure is also simple. The first value (when the tree is empty) is always put as the root. If the tree already exists, we start with the root node and traverse the tree recursively, as in the case of searching. When the traversal leads us to a missing subnode, we create a new leaf node at that position and assign it the new value.</p>
<p>The figures below show the tree after subsequently adding the following sequence of numbers: 3, 4, 3, 5, 4, 1, and 2.</p>
<p></p><center><img src="http://www.acmerblog.com/img/1392716180431.jpg"/></center>
<p>You may notice that different permutations of the same numbers will often result in the same BST. For example, the tree from the fifth figure above may be constructed by three different input sequences:</p>
<p># 3, 4, 3, 5, 4<br/># 3, 4, 5, 4, 3<br/># 3, 4, 5, 3, 4</p>
<p>Interesting, isn’t it? Your task is to compute how many different permutations are there that will result into the same BST. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input will consist of several trees, each of them specified on two lines. The first line contains a single integer N (1 ≤ N ≤ 100), the number of values in the tree. The second line contains N values separated by a space. These values, if inserted in the given order, form a BST to be examined. All values will be between 0 and 1000.
<p>The last tree is followed by a line containing a single zero. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input will consist of several trees, each of them specified on two lines. The first line contains a single integer N (1 ≤ N ≤ 100), the number of values in the tree. The second line contains N values separated by a space. These values, if inserted in the given order, form a BST to be examined. All values will be between 0 and 1000.
<p>The last tree is followed by a line containing a single zero.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
3 4 3 5 4
7
3 4 3 5 4 1 2
31
16 8 24 4 12 20 28 2 6 10 14 18 22 26 30 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 31
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
45
74836825861835980800000</pre>
<p> <!-- problem end --><br/>
</p><p><font color="#000000">题意: 依次给出一些点， 插到一棵二叉平衡树（相同的插到右子树），把这些点其中一些打乱插入顺序构建的树不变,  问有多少种不同方案使这树不变.</font></p><br/>
<p><font color="#000000">做法:  有个简单易见的规律 凡是插入的结点如果不在同一个子树上，那么插入的顺序先后没影响. 如果在同一个子树上肯定会影响.  所以最终有</font></p><br/>
<p><font color="#000000">当前结点顺序方案=c(左子树+右子树，左子树) *左子树顺序方案*右子树顺序方案</font></p><br/>
<p><font color="#000000">代码:  直接把__int64换成大整数就OK鸟</font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">#include</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: #a31515">&lt;iostream&gt;</span></span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">#include</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: #a31515">&lt;queue&gt;</span></span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">#include</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: #a31515">&lt;stack&gt;</span></span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">#include</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: #a31515">&lt;cmath&gt;</span></span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: #a31515; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">using</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: blue">namespace</span> std;</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">const</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> <span style="COLOR: blue">int</span> N = 200 + 5;</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">int</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> root;</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">int</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> vN;</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">struct</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> Node</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> l;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> r;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> v;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> cn;<span style="mso-spacerun: yes">  </span><span style="COLOR: green">// </span></span><span style="FONT-FAMILY: 新宋体; COLOR: green; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">子结点数<span lang="EN-US"></span></span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}node[N];</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">void</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> init()</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>root = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>vN = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">void</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> creatTree(<span style="COLOR: blue">int</span> v)</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>node[root].v = v;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>node[root].l = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>node[root].r = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>node[root].cn = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">void</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> insert(<span style="COLOR: blue">int</span> pos, <span style="COLOR: blue">int</span> v)</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>node[pos].cn++;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">if</span> (v &lt; node[pos].v)</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span><span style="COLOR: blue">if</span> (node[pos].l != -1) insert(node[pos].l, v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span><span style="COLOR: blue">else</span></font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[pos].l = ++vN;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].v = v;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].l = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].r = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].cn = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">else</span></font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span><span style="COLOR: blue">if</span> (node[pos].r != -1) insert(node[pos].r, v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span><span style="COLOR: blue">else</span></font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[pos].r = ++vN;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].v = v;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].l = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].r = -1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>node[vN].cn = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">__int64</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> cnm(<span style="COLOR: blue">int</span> n, <span style="COLOR: blue">int</span> m)</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">__int64</span> ret;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>ret = 1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> i, j;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">if</span> (n – m &lt; m) m = n – m;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">for</span> (i = n, j = 1; j &lt;= m; i–, j++)</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>ret *= i;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>ret /= j;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">return</span> ret;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">__int64</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> f(<span style="COLOR: blue">int</span> pos)</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">__int64</span> t1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">__int64</span> t2;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>t1 = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>t2 = 0;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">if</span> (node[pos].l != -1) t1 = f(node[pos].l);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">else</span></font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>t1 = 1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">if</span> (node[pos].r != -1) t2 = f(node[pos].r);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">else</span></font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>t2 = 1;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> l = node[pos].l;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> r = node[pos].r;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">if</span> (l == -1 || r == -1) <span style="COLOR: blue">return</span> t1 * t2;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">return</span> cnm(node[l].cn + node[r].cn + 2, node[l].cn + 1) * t1 * t2;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"> </font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><font color="#000000"><span lang="EN-US" style="FONT-FAMILY: 新宋体; COLOR: blue; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes">int</span><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"> main ()</span></font></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">int</span> n, i, v;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span><span style="COLOR: blue">while</span> (scanf(<span style="COLOR: #a31515">“%d”</span>, &amp;n) != EOF &amp;&amp; n)</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>init();</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>scanf(<span style="COLOR: #a31515">“%d”</span>, &amp;v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>creatTree(v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span><span style="COLOR: blue">for</span> (i = 2; i &lt;= n; i++)</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>{</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>scanf(<span style="COLOR: #a31515">“%d”</span>, &amp;v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 3">              </span>insert(root, v);</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>}</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 2">         </span>cout &lt;&lt; f(root) &lt;&lt; endl;</font></span></p><br/>
<p align="left" style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000"><span style="mso-tab-count: 1">     </span>}</font></span></p><br/>
<p style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US" style="FONT-FAMILY: 新宋体; FONT-SIZE: 9pt; mso-hansi-font-family: 'Times New Roman'; mso-font-kerning: 0pt; mso-no-proof: yes"><font color="#000000">}</font></span></p><br/>
<p> </p>解题参考：http://akheyun.blog.163.com/blog/static/1382492762010419587811/
						                        
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-24461">
<article class="comment" id="comment-24461">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24461" rel="nofollow"><time datetime="2015-06-13T00:13:11+00:00" pubdate="">2015年6月13日 at 上午12:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来的主机不行，目前更换到了国内主机</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24463">
<article class="comment" id="comment-24463">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24463" rel="nofollow"><time datetime="2015-05-19T20:48:55+00:00" pubdate="">2015年5月19日 at 下午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>非常不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24459">
<article class="comment" id="comment-24459">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24459" rel="nofollow"><time datetime="2015-05-07T14:47:51+00:00" pubdate="">2015年5月7日 at 下午2:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 答案：http://www.acmerblog.com/interview-2-1549/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24455">
<article class="comment" id="comment-24455">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24455" rel="nofollow"><time datetime="2015-03-16T21:00:37+00:00" pubdate="">2015年3月16日 at 下午9:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24454">
<article class="comment" id="comment-24454">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24454" rel="nofollow"><time datetime="2015-03-09T23:48:54+00:00" pubdate="">2015年3月9日 at 下午11:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24456">
<article class="comment" id="comment-24456">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24456" rel="nofollow"><time datetime="2014-12-28T05:41:32+00:00" pubdate="">2014年12月28日 at 上午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很强大啊，佩服</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24464">
<article class="comment" id="comment-24464">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123456789_xd</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24464" rel="nofollow"><time datetime="2014-12-27T17:13:21+00:00" pubdate="">2014年12月27日 at 下午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我没看懂题目<br/>
2<br/>
5 6 -1 5 4 -7<br/>
7 0 6 -1 1 -6 7 -5<br/>
我觉得第一个应该是5 6 -1 5 4 输出是19 5 4<br/>
第二个是7 0 6 -1 1 -6 7输出是14 7 7<br/>
不知道题目例子是怎么得出来的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24453">
<article class="comment" id="comment-24453">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24453" rel="nofollow"><time datetime="2014-08-02T13:30:52+00:00" pubdate="">2014年8月2日 at 下午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24465">
<article class="comment" id="comment-24465">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zrw</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24465" rel="nofollow"><time datetime="2014-05-09T19:53:56+00:00" pubdate="">2014年5月9日 at 下午7:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24460">
<article class="comment" id="comment-24460">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24460" rel="nofollow"><time datetime="2014-05-07T12:37:26+00:00" pubdate="">2014年5月7日 at 下午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24466">
<article class="comment" id="comment-24466">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24466" rel="nofollow"><time datetime="2014-05-06T22:21:37+00:00" pubdate="">2014年5月6日 at 下午10:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24457">
<article class="comment" id="comment-24457">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24457" rel="nofollow"><time datetime="2014-04-24T07:51:42+00:00" pubdate="">2014年4月24日 at 上午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个才是我想要的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24458">
<article class="comment" id="comment-24458">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24458" rel="nofollow"><time datetime="2014-04-11T17:42:33+00:00" pubdate="">2014年4月11日 at 下午5:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>if(j){<br/>
                    int ans=a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
                    for(int x=j-1;x&gt;=0;x–){<br/>
                        if(!a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> ) break;<br/>
                        ans=min(ans,a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> );<br/>
                        sum+=ans;<br/>
                    }<br/>
                }<br/>
求解释，，dp的思路是什么呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24462">
<article class="comment" id="comment-24462">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-2792-tree-insertions-4399.html#comment-24462" rel="nofollow"><time datetime="2014-03-02T15:21:16+00:00" pubdate="">2014年3月2日 at 下午3:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主 为什么输入的形式都不对  题目是不是弄错了？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>