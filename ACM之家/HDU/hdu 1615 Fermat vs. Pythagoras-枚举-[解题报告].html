<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-16</div>
<div class="tit"><h1 class="entry-title">hdu 1615 Fermat vs. Pythagoras-枚举-[解题报告]</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观780次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2460" href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comments" title="《hdu 1615 Fermat vs. Pythagoras-枚举-[解题报告]》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Fermat vs. Pythagoras</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Computer generated and assisted proofs and verification occupy a small niche in the realm of Computer Science. The first proof of the four-color problem was completed with the assistance of a computer program and current efforts in verification have succeeded in verifying the translation of high-level code down to the chip level. 
<p>This problem deals with computing quantities relating to part of Fermat’s Last Theorem: that there are no integer solutions of <img src="http://acm.hdu.edu.cn/data/images/1615-1.gif"/> for n &gt; 2. </p>
<p>Given a positive integer N, you are to write a program that computes two quantities regarding the solution of <br/><img src="http://acm.hdu.edu.cn/data/images/1615-2.gif"/></p>
<p>where x, y, and z are constrained to be positive integers less than or equal to N. You are to compute the number of triples (x,y,z) such that x&lt;y&lt; z, and they are relatively prime, i.e., have no common divisor larger than 1. You are also to compute the number of values 0&lt;p≤n such that p is not part of any triple (not just relatively prime triples).  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of a sequence of positive integers, one per line. Each integer in the input file will be less than or equal to 1,000,000. Input is terminated by end-of-file. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each integer N in the input file print two integers separated by a space. The first integer is the number of relatively prime triples (such that each component of the triple is &lt;=N ). The second number is the number of positive integers &lt;=N that are not part of any triple whose components are all &lt;=N . There should be one output line for each input line.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
10
25
100</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 4
4 9
16 27</pre>
<p> <!-- problem end -->
</p><p><span style="font-family: 黑体; font-size: 16px;"><strong>UVA_106</strong></span></p>
<p><span style="font-family: 黑体; font-size: 16px;">    继续积累数学知识，这个题目需要用到勾股数的产生公式a=m^2-n^2，b=2*m*n，c=m^2+n^2，枚举m和n就可以求出所有&lt;=N的互质的勾股数，然后把他们的&lt;=N的倍数都删去，剩下的数就是不属于任何一组&lt;=N的勾股数的数字。</span></p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;math.h&gt;
#define MAXD 1000010
int N, f[MAXD];
int gcd(int a, int b)
{
    return b == 0 ? a : gcd(b, a % b);
}
void solve()
{
    int i, j, k, limit, num[2] = {0}, a, b, c;
    for(i = 0; i &lt;= N; i ++)
        f[i] = 1;
    limit = (int)sqrt(N + 1);
    for(i = 1; i &lt;= limit; i ++)
        for(j = i + 1; j &lt;= limit; j ++)
        {
            c = i * i + j * j;
            if(c &gt; N)
                break;
            a = j * j - i * i;
            b = 2 * i * j;
            if(gcd(gcd(a, b), c) == 1)
            {
                f[a] = f[b] = f[c] = 0;
                num[0] ++;
                for(k = 2; k * c &lt;= N; k ++)
                    f[a * k] = f[b * k] = f[c * k] = 0;
            }
        }
    for(i = 1; i &lt;= N; i ++)
        if(f[i])
            num[1] ++;
    printf("%d %d\n", num[0], num[1]);
}
int main()
{
    while(scanf("%d", &amp;N) == 1)
    {
        solve();
    }
    return 0;
}</pre>
<p><span style="font-family: 黑体; font-size: 16px;"><br/></span></p>
<p>解题转自：http://www.cnblogs.com/staginner/archive/2011/12/09/2282734.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-16085">
<article class="comment" id="comment-16085">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">melody12ab</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16085" rel="nofollow"><time datetime="2015-07-01T13:00:32+00:00" pubdate="">2015年7月1日 at 下午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3是不是应该为1/4  .因为截取的三段，无论是否能组成三角形， x， y-x ，1-y,都应大于0，所以  x&lt;y,基础应该是一个大三角形。小三角是大三角的 1/4.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16086">
<article class="comment" id="comment-16086">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Spike</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16086" rel="nofollow"><time datetime="2015-06-11T21:53:23+00:00" pubdate="">2015年6月11日 at 下午9:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55458">
<article class="comment" id="comment-55458">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-55458" rel="nofollow"><time datetime="2015-04-06T13:00:11+00:00" pubdate="">2015年4月6日 at 下午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16091">
<article class="comment" id="comment-16091">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16091" rel="nofollow"><time datetime="2015-02-16T06:03:27+00:00" pubdate="">2015年2月16日 at 上午6:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>The site You have write is very nicely prepared and quite insightful thanks for nice posta?|</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42367">
<article class="comment" id="comment-42367">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-42367" rel="nofollow"><time datetime="2014-09-27T03:26:06+00:00" pubdate="">2014年9月27日 at 上午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看似简单，还是不少坑的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16096">
<article class="comment" id="comment-16096">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">congve1</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16096" rel="nofollow"><time datetime="2014-09-25T18:05:51+00:00" pubdate="">2014年9月25日 at 下午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16087">
<article class="comment" id="comment-16087">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">cherry_odd</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16087" rel="nofollow"><time datetime="2014-06-30T22:06:16+00:00" pubdate="">2014年6月30日 at 下午10:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16088">
<article class="comment" id="comment-16088">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16088" rel="nofollow"><time datetime="2014-05-27T06:43:28+00:00" pubdate="">2014年5月27日 at 上午6:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于第一题，我的直觉告诉我换不换都一样，求指教</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16095">
<article class="comment" id="comment-16095">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16095" rel="nofollow"><time datetime="2014-05-14T12:08:22+00:00" pubdate="">2014年5月14日 at 下午12:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16089">
<article class="comment" id="comment-16089">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16089" rel="nofollow"><time datetime="2014-04-18T22:37:22+00:00" pubdate="">2014年4月18日 at 下午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16093">
<article class="comment" id="comment-16093">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16093" rel="nofollow"><time datetime="2014-03-30T23:39:36+00:00" pubdate="">2014年3月30日 at 下午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最长回文子串可以使用manacher算法，将时间复杂度降到O(n)。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16094">
<article class="comment" id="comment-16094">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16094" rel="nofollow"><time datetime="2014-03-04T04:41:07+00:00" pubdate="">2014年3月4日 at 上午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然是机试，还和13年重复。题目不难</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16090">
<article class="comment" id="comment-16090">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16090" rel="nofollow"><time datetime="2014-02-28T17:08:10+00:00" pubdate="">2014年2月28日 at 下午5:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16092">
<article class="comment" id="comment-16092">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jupiterhyun</a></span> on <a href="http://www.acmerblog.com/hdu-1615-Fermat-vs-Pythagoras-2460.html#comment-16092" rel="nofollow"><time datetime="2014-02-03T20:19:12+00:00" pubdate="">2014年2月3日 at 下午8:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>