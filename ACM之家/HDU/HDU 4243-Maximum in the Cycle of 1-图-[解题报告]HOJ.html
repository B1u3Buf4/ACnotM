<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>05-23</div>
<div class="tit"><h1 class="entry-title">HDU 4243-Maximum in the Cycle of 1-图-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a>, <a href="http://www.acmerblog.com/category/math/combination" rel="category tag" title="查看组合数学中的全部文章">组合数学</a></span><span class="i4">围观152次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7256" href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comments" title="《HDU 4243-Maximum in the Cycle of 1-图-[解题报告]HOJ》上的评论">19 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Maximum in the Cycle of 1</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
If P is a permutation of the integers 1, …, n, the maximum in the cycle of 1 is the maximum of the values P(1), P(P(1)), P(P(P(1))), etc. For example, if P is the permutation:<br/>    |1 2 3 4 5 6 7 8|<br/>    |3 2 5 4 1 7 8 6|<br/>we have:<br/>  P(1) = 3<br/>  P(P(1)) = P(3) = 5<br/>and<br/>  P(P(P(1))) = P(5) = 1<br/>so the maximum in the cycle of 1 is 5.
<p>For this problem, you will write a program which takes as input integers n, (n &gt; 0) and k(1 &lt;= k &lt;= n), and returns the number of permutations of the integers 1, …, n, for which the maximum in the cycle of 1 is k. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of input contains a single integer P, (1 &lt;= P &lt;= 1000), which is the number of data sets that follow. Each data set is a single line that contains the three space separated decimal integer values. The first value is the data set number, N. The second value is the size of the permutation, n where (1 &lt;= n &lt;= 20), and the third value is the desired maximum in the cycle of 1, k where (1 &lt;= k &lt;= n). </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line of input contains a single integer P, (1 &lt;= P &lt;= 1000), which is the number of data sets that follow. Each data set is a single line that contains the three space separated decimal integer values. The first value is the data set number, N. The second value is the size of the permutation, n where (1 &lt;= n &lt;= 20), and the third value is the desired maximum in the cycle of 1, k where (1 &lt;= k &lt;= n).</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
1 4 1
2 7 3
3 10 5
4 20 7</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 6
2 168
3 86400
4 11585247657984000</pre>
<p> <!-- problem end --></p>
<p>题意：1~n的排列，求满足下述循环节里k最大的排列有多少种。</p>
<p><img alt="Maximum in the Cycle of 1" src="http://cdn.acmerblog.com/img/1441005843183.png"/></p>
<p>分析：题目不难，其实排列组合的问题不就是用高中的知识嘛。这题的关键是对这个循环节的理解，画个图就容易理解多了：1—&gt;1；1—&gt;k—&gt;1；1—&gt;x—&gt;k—&gt;1……循环节中必须保证k最大，所以循环节中除了1和k的其他元素肯定是在1~k中选择，那么枚举其他元素的个数，然后在1~k中选择，然后排列，其余的元素再全排列即可。特殊情况是1—&gt;1，直接输出(n-1)！。排列组合的公式要记住，这是基本的。</p>
<p>代码：</p>
<pre class="brush:cpp" name="code">#include&lt;iostream&gt;
using namespace std;
long long t,n,cas,k;
long long ans;
long long tmp1,tmp2,tmp3;
long  long  f(long long a)
{
	if(a==1||a==0) return 1;
	else return f(a-1)*a;
}
int main()
{
	cin&gt;&gt;t;
	while(t--){
		cin&gt;&gt;cas&gt;&gt;n&gt;&gt;k;
		if(k==1) ans=f(n-1);
		else{
			ans=0;
			for(int i=1;i&lt;=k-1;i++){
				tmp1=f(k-2);
				tmp2=f(k-1-i);
				tmp3=f(n-i-1);
				ans+=tmp1/tmp2*i*tmp3;
			}			
		}
		cout&lt;&lt;cas&lt;&lt;" "&lt;&lt;ans&lt;&lt;endl;
	}
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/AC_0_summer/article/details/47127489</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-98975">
<article class="comment" id="comment-98975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98975" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98974">
<article class="comment" id="comment-98974">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98974" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98973">
<article class="comment" id="comment-98973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98973" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98972">
<article class="comment" id="comment-98972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98972" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98971">
<article class="comment" id="comment-98971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98971" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98970">
<article class="comment" id="comment-98970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98970" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98969">
<article class="comment" id="comment-98969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98969" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98968">
<article class="comment" id="comment-98968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98968" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98967">
<article class="comment" id="comment-98967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512529" rel="external nofollow">新用户906831</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-98967" rel="nofollow"><time datetime="2017-04-20T17:02:27+00:00" pubdate="">2017年4月20日 at 下午5:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嘀嘀嘀  嘀嘀嘀 嘀嘀嘀 嘀嘀嘀 会不会开车啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68819">
<article class="comment" id="comment-68819">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68819" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-68818">
<article class="comment" id="comment-68818">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68818" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68817">
<article class="comment" id="comment-68817">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68817" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-68816">
<article class="comment" id="comment-68816">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68816" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68815">
<article class="comment" id="comment-68815">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68815" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-68814">
<article class="comment" id="comment-68814">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68814" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68813">
<article class="comment" id="comment-68813">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68813" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-68812">
<article class="comment" id="comment-68812">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68812" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68811">
<article class="comment" id="comment-68811">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68811" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-68810">
<article class="comment" id="comment-68810">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514969" rel="external nofollow">新用户200816</a></span> on <a href="http://www.acmerblog.com/hdu-4243-maximum-in-the-cycle-of-1-7256.html#comment-68810" rel="nofollow"><time datetime="2017-04-11T10:16:02+00:00" pubdate="">2017年4月11日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>莫里亚蒂是高智商犯罪，这个应该是变态杀手，再发展就是连环杀手了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>