<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-13</div>
<div class="tit"><h1 class="entry-title">HDU 3866-Moonfang’s Birthday[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观204次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6868" href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comments" title="《HDU 3866-Moonfang’s Birthday[解题报告]HOJ》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Moonfang’s Birthday</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
It’s Moonfang’s birthday,and his friends decided to buy him a copy of XianJianQiXiaZhuan V.<br/>  <br/>Since some of friends have more money available than others, nobody has to pay more than he can afford. Every contribution will be a multiple of 1 cent,i.e.,nobody can pay fractions of a cent.<br/>  <br/>Everybody writes down the maxumum amount he is able to contribute. Taking into account these maximum amounts from everybody, your task is to share the cost of the present as fairly as possible. That means, you minimize the largest distance of the contributions to 1/n-th of the total cost.<br/>  <br/>In case of a tie, minimize the second largest distance, and so on. Since the smallest unit of contribution is 1 cent, there might be more than one possible division of the cost. In that case, persons with a higher maximum amount pay more. If there is still ambiguity, those who come first in the list pay more.<br/>  <br/>Since you bought the present, it is your task to figure out how much everybody has to pay. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
On the first line a positive integer: the number of test cases, at most 200. After that per test case:
<ul>
<li>One line with two integers p and n: the price of the present in cents (1 ≤ p ≤ 1 000 000) and the number of people (2 ≤ n ≤ 10000) who contribute to the present (including you).</li>
<p>
</p><li>One line with n integers ai (1 ≤ ai ≤ 1 000 000), where ai is the maximum amount, in cents, that the i-th person on the list is able to contribute.</li>
<p></p></ul>
</div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
On the first line a positive integer: the number of test cases, at most 200. After that per test case:
<ul>
<li>One line with two integers p and n: the price of the present in cents (1 ≤ p ≤ 1 000 000) and the number of people (2 ≤ n ≤ 10000) who contribute to the present (including you).</li>
<p>
</p><li>One line with n integers ai (1 ≤ ai ≤ 1 000 000), where ai is the maximum amount, in cents, that the i-th person on the list is able to contribute.</li>
<p></p></ul>
</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 
20 4 
10 10 4 4 
7 3 
1 1 4 
34 5 
9 8 9 9 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
6 6 4 4 
IMPOSSIBLE 
8 7 8 7 4 </pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;queue&gt;
#include&lt;vector&gt;
#include&lt;map&gt;
#include&lt;set&gt;
using namespace std;
#define ll long long

struct Person{
 int id;
 ll maxm,out;
 bool operator&lt;(const Person&amp; p)const{
 if(maxm == p.maxm) return id &lt; p.id;
 else return maxm &gt; p.maxm;
 }
}p[1000010];
int n;
ll sum,tsum,aver;

bool cmp(Person p1,Person p2)
{
 return p1.id &lt; p2.id;
}

int main()
{
 int test,i,j;
 scanf("%d",&amp;test);
 while(test--){
 scanf("%I64d%d",&amp;sum,&amp;n);
 for(tsum=0,i=0; i&lt;n; i++){
 scanf("%I64d",&amp;p[i].maxm);
 p[i].id=i;
 tsum += p[i].maxm;
 }
 //printf("tsum = %I64d\tsum = %I64d\n",tsum,sum);
 if(tsum &lt; sum) { puts("IMPOSSIBLE"); continue;}
 sort(p,p+n);
 for(i = n-1; i&gt;=0; i--){
 aver = sum / (i+1);
 if(aver &gt; p[i].maxm) aver = p[i].maxm;
 p[i].out = aver;
 sum -= aver;
 }
 sort(p,p+n,cmp);
 printf("%d",p[0].out);
 for(i=1; i&lt;n; i++) printf(" %d",p[i].out);
 puts("");
 }
 return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-72150">
<article class="comment" id="comment-72150">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72150" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72149">
<article class="comment" id="comment-72149">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72149" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72148">
<article class="comment" id="comment-72148">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72148" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72147">
<article class="comment" id="comment-72147">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72147" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72146">
<article class="comment" id="comment-72146">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72146" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72145">
<article class="comment" id="comment-72145">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72145" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72144">
<article class="comment" id="comment-72144">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72144" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72143">
<article class="comment" id="comment-72143">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919527726" rel="external nofollow">新用户208801</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-72143" rel="nofollow"><time datetime="2017-04-11T17:41:13+00:00" pubdate="">2017年4月11日 at 下午5:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么不弄个白话，也就是粤语地捏？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34381">
<article class="comment" id="comment-34381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34381" rel="nofollow"><time datetime="2015-07-07T09:26:57+00:00" pubdate="">2015年7月7日 at 上午9:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>理解错了。。。。。谢谢楼主~~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34376">
<article class="comment" id="comment-34376">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34376" rel="nofollow"><time datetime="2015-07-02T14:56:11+00:00" pubdate="">2015年7月2日 at 下午2:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法好！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34378">
<article class="comment" id="comment-34378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34378" rel="nofollow"><time datetime="2015-06-30T19:45:16+00:00" pubdate="">2015年6月30日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34383">
<article class="comment" id="comment-34383">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34383" rel="nofollow"><time datetime="2015-06-29T05:22:29+00:00" pubdate="">2015年6月29日 at 上午5:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34372">
<article class="comment" id="comment-34372">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34372" rel="nofollow"><time datetime="2015-06-17T17:38:34+00:00" pubdate="">2015年6月17日 at 下午5:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“再把所有不和该节点相邻的节点着相同的颜色”，程序中没有进行不和该节点相邻的其他节点是否相邻进行判断。再说求出来的也不一样是颜色数最少的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34382">
<article class="comment" id="comment-34382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34382" rel="nofollow"><time datetime="2015-06-17T12:22:56+00:00" pubdate="">2015年6月17日 at 下午12:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34377">
<article class="comment" id="comment-34377">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34377" rel="nofollow"><time datetime="2015-06-13T16:40:49+00:00" pubdate="">2015年6月13日 at 下午4:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34380">
<article class="comment" id="comment-34380">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34380" rel="nofollow"><time datetime="2015-06-11T13:40:49+00:00" pubdate="">2015年6月11日 at 下午1:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在练习，很有帮助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64075">
<article class="comment" id="comment-64075">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-64075" rel="nofollow"><time datetime="2015-06-11T03:19:46+00:00" pubdate="">2015年6月11日 at 上午3:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34379">
<article class="comment" id="comment-34379">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34379" rel="nofollow"><time datetime="2015-06-10T22:15:53+00:00" pubdate="">2015年6月10日 at 下午10:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34373">
<article class="comment" id="comment-34373">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34373" rel="nofollow"><time datetime="2015-06-05T12:12:37+00:00" pubdate="">2015年6月5日 at 下午12:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不太懂呀，乡亲们。原理知道代码不会</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34374">
<article class="comment" id="comment-34374">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">TimeFight</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34374" rel="nofollow"><time datetime="2015-06-04T06:42:49+00:00" pubdate="">2015年6月4日 at 上午6:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-34375">
<article class="comment" id="comment-34375">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34375" rel="nofollow"><time datetime="2015-05-31T09:59:20+00:00" pubdate="">2015年5月31日 at 上午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-34371">
<article class="comment" id="comment-34371">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/hdu-3866-moonfangs-birthday-6868.html#comment-34371" rel="nofollow"><time datetime="2015-05-07T02:09:01+00:00" pubdate="">2015年5月7日 at 上午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对于第一题，我的直觉告诉我换不换都一样，求指教</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>