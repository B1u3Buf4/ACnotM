<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-09</div>
<div class="tit"><h1 class="entry-title">HDU 3232-Crossing Rivers[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观398次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5100" href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comments" title="《HDU 3232-Crossing Rivers[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Crossing Rivers</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
You live in a village but work in another village. You decided to follow the straight path between your house (A) and the working place (B), but there are several rivers you need to cross. Assume B is to the right of A, and all the rivers lie between them.
<p>Fortunately, there is one "automatic" boat moving smoothly in each river. When you arrive the left bank of a river, just wait for the boat, then go with it. You’re so slim that carrying you does not change the speed of any boat.</p>
<p>Days and days after, you came up with the following question: assume each boat is independently placed at random at time 0, what is the <b>expected</b> time to reach B from A? Your walking speed is always 1.</p>
<p>To be more precise, for a river of length L, the distance of the boat (which could be regarded as a mathematical point) to the left bank at time 0 is <b>uniformly chosen</b> from interval [0, <i>L</i>], and the boat is equally like to be moving left or right, if it’s not precisely at the river bank. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There will be at most 10 test cases. Each case begins with two integers <i>n</i> and <i>D</i>, where <i>n</i> (0 &lt;= <i>n</i> &lt;= 10) is the number of rivers between A and B, <i>D</i> (1 &lt;= <i>D</i> &lt;= 1000) is the distance from A to B. Each of the following <i>n</i> lines describes a river with 3 integers: <i>p, L</i> and <i>v</i> (0 &lt;= <i>p</i> &lt; <i>D</i>, 0 &lt; <i>L</i> &lt;= <i>D</i>, 1 &lt;= <i>v</i> &lt;= 100). <i>p</i> is the distance from A to the left bank of this river, <i>L</i> is the length of this river, <i>v</i> is the speed of the boat on this river. It is guaranteed that rivers lie between A and B, and they don’t overlap. The last test case is followed by <i>n=D=0</i>, which should not be processed. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There will be at most 10 test cases. Each case begins with two integers <i>n</i> and <i>D</i>, where <i>n</i> (0 &lt;= <i>n</i> &lt;= 10) is the number of rivers between A and B, <i>D</i> (1 &lt;= <i>D</i> &lt;= 1000) is the distance from A to B. Each of the following <i>n</i> lines describes a river with 3 integers: <i>p, L</i> and <i>v</i> (0 &lt;= <i>p</i> &lt; <i>D</i>, 0 &lt; <i>L</i> &lt;= <i>D</i>, 1 &lt;= <i>v</i> &lt;= 100). <i>p</i> is the distance from A to the left bank of this river, <i>L</i> is the length of this river, <i>v</i> is the speed of the boat on this river. It is guaranteed that rivers lie between A and B, and they don’t overlap. The last test case is followed by <i>n=D=0</i>, which should not be processed.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 1
0 1 2
0 1
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 1.000

Case 2: 1.000</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;

using namespace std;
int n,d;
int main()
{
 int t=1;
 while(scanf("%d%d",&amp;n,&amp;d)&amp;&amp;d)
 {

 double sum = 0.0;
 if(n==0)
 {
 double ans = (double)d;
 printf("Case %d: %.3lf\n\n",t++,ans);
 }
 else
 {
 double ans=0.0;
 double br = 0.0;
 int p,L,v;
 while(n--)
 {
 scanf("%d%d%d",&amp;p,&amp;L,&amp;v);
 ans+=(double)L*2.0/(double)v;
 br+=(double)L;

 }
 ans+=(double)d-br;
 printf("Case %d: %.3lf\n\n",t++,ans);
 }
 }
 return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78321">
<article class="comment" id="comment-78321">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919529259" rel="external nofollow">新用户893348</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-78321" rel="nofollow"><time datetime="2017-04-12T10:53:30+00:00" pubdate="">2017年4月12日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然没有射完之后的软钟</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58164">
<article class="comment" id="comment-58164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58164" rel="nofollow"><time datetime="2015-06-03T02:18:03+00:00" pubdate="">2015年6月3日 at 上午2:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-28126">
<article class="comment" id="comment-28126">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28126" rel="nofollow"><time datetime="2015-05-23T16:19:05+00:00" pubdate="">2015年5月23日 at 下午4:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-28127">
<article class="comment" id="comment-28127">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">895350909</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28127" rel="nofollow"><time datetime="2015-04-11T14:43:50+00:00" pubdate="">2015年4月11日 at 下午2:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-28128">
<article class="comment" id="comment-28128">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28128" rel="nofollow"><time datetime="2015-03-08T12:53:25+00:00" pubdate="">2015年3月8日 at 下午12:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58160">
<article class="comment" id="comment-58160">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jlucky</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58160" rel="nofollow"><time datetime="2015-03-06T16:18:08+00:00" pubdate="">2015年3月6日 at 下午4:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我得邮箱cwqbupt@qq.com</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-28125">
<article class="comment" id="comment-28125">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28125" rel="nofollow"><time datetime="2015-03-04T06:16:17+00:00" pubdate="">2015年3月4日 at 上午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为nn</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58163">
<article class="comment" id="comment-58163">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58163" rel="nofollow"><time datetime="2015-01-03T03:13:24+00:00" pubdate="">2015年1月3日 at 上午3:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码可真够长的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58161">
<article class="comment" id="comment-58161">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yunyang088</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58161" rel="nofollow"><time datetime="2014-11-14T12:36:57+00:00" pubdate="">2014年11月14日 at 下午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>懂了，谢谢啦</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58162">
<article class="comment" id="comment-58162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58162" rel="nofollow"><time datetime="2014-11-12T19:35:53+00:00" pubdate="">2014年11月12日 at 下午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-28124">
<article class="comment" id="comment-28124">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28124" rel="nofollow"><time datetime="2014-10-02T19:15:20+00:00" pubdate="">2014年10月2日 at 下午7:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58165">
<article class="comment" id="comment-58165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-58165" rel="nofollow"><time datetime="2014-09-06T18:13:46+00:00" pubdate="">2014年9月6日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-48119">
<article class="comment" id="comment-48119">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-48119" rel="nofollow"><time datetime="2014-06-05T14:36:34+00:00" pubdate="">2014年6月5日 at 下午2:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-28129">
<article class="comment" id="comment-28129">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anthozoan77</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-28129" rel="nofollow"><time datetime="2014-05-02T07:27:28+00:00" pubdate="">2014年5月2日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错，支持一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63264">
<article class="comment" id="comment-63264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20122256</a></span> on <a href="http://www.acmerblog.com/hdu-3232-crossing-rivers-5100.html#comment-63264" rel="nofollow"><time datetime="2014-03-20T08:32:30+00:00" pubdate="">2014年3月20日 at 上午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>书上的解法更巧妙一些，在九度OJ实测的效率差不多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>