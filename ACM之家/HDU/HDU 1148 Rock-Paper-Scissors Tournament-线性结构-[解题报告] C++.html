<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-02</div>
<div class="tit"><h1 class="entry-title">HDU 1148 Rock-Paper-Scissors Tournament-线性结构-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a></span><span class="i4">围观1843次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1488" href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comments" title="《HDU 1148 Rock-Paper-Scissors Tournament-线性结构-[解题报告] C++》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Rock-Paper-Scissors Tournament</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Rock-Paper-Scissors is game for two players, A and B, who each choose, independently of the other, one of rock, paper, or scissors. A player chosing paper wins over a player chosing rock; a player chosing scissors wins over a player chosing paper; a player chosing rock wins over a player chosing scissors. A player chosing the same thing as the other player neither wins nor loses. <br/>A tournament has been organized in which each of n players plays k rock-scissors-paper games with each of the other players – k games in total. Your job is to compute the win average for each player, defined as w / (w + l) where w is the number of games won, and l is the number of games lost, by the player.  </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input consists of several test cases. The first line of input for each case contains 1 ≤ n ≤ 100 1 ≤ k ≤ 100 as defined above. For each game, a line follows containing p1, m1, p2, m2. 1 ≤ p1 ≤ n and 1 ≤ p2 ≤ n are distinct integers identifying two players; m1 and m2 are their respective moves ("rock", "scissors", or "paper"). A line containing 0 follows the last test case.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output one line each for player 1, player 2, and so on, through player n, giving the player’s win average rounded to three decimal places. If the win average is undefined, output "-". Output an empty line between cases. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2 4
1 rock 2 paper
1 scissors 2 paper
1 rock 2 rock
2 rock 1 scissors
2 1
1 rock 2 paper
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0.333
0.667

0.000
1.000</pre>
<p><!-- problem end --></p>
<p>还没提交。。。</p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;cstring&gt;
#include&lt;cstdio&gt;
#include&lt;queue&gt;
#include&lt;stack&gt;
#include&lt;algorithm&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;map&gt;
#include&lt;vector&gt;
#include&lt;fstream&gt;
#include&lt;sstream&gt;
#include&lt;iomanip&gt;
#include &lt;sstream&gt;
using namespace std;

const int N=105;

int player[N][2]; // player[i][0]: win , player[i][1]: lose. 

int n,k;
short judge(string a, string b)
{
	if(a == b)
	{
		return 0;
	}
	short result;
	if(a == "rock")
	{ 
		if(b == "scissors")
		{
			result = 1;
		}
		else if(b == "paper")
		{
			result = -1;
		}
	}
	else if(a == "scissors")
	{
		if(b == "rock")
		{
			result = -1;
		}
		else if(b == "paper")
		{
			result = 1;
		}
	}
	else
	{
		if(b == "scissors")
		{
			result = -1;
		}
		else if(b == "rock")
		{
			result = 1;
		}
	}
	return result;
}
int main()
{
	short ans;
	string sa,sb;
	int pa,pb;
	bool first = true;
	while(cin&gt;&gt;n &amp;&amp; n)
	{
		if(!first)putchar('\n');
		if(first)first=false;
		memset(player,0,sizeof(player));
		cin&gt;&gt;k;
		while(k--)
		{
			cin&gt;&gt;pa&gt;&gt;sa&gt;&gt;pb&gt;&gt;sb;
			ans = judge(sa,sb);
			if(ans)
			{
				if(ans==1)//win
				{
					player[pa][0]++;
					player[pb][1]++;
				}
				else//lose
				{
					player[pb][0]++;
					player[pa][1]++;
				}
			}
		}
		for(int i=1; i&lt;=n; i++)
		{
			int total = player[i][0]+player[i][1];
			if(total&gt;0)
			{
				printf("%.3f\n",((float)player[i][0])/total);
			}
			else
			{
				printf("-\n");
			}
		}
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-11277">
<article class="comment" id="comment-11277">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11277" rel="nofollow"><time datetime="2014-10-25T13:36:33+00:00" pubdate="">2014年10月25日 at 下午1:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请不要灌水，多谢！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40037">
<article class="comment" id="comment-40037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-40037" rel="nofollow"><time datetime="2014-09-27T15:34:18+00:00" pubdate="">2014年9月27日 at 下午3:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯   分析得很到位，确实用模板编程能让面试官对你的印象更好。在设置辅助栈的时候可以这样：push时，比较要push的elem和辅助栈的栈顶，elem&lt;=min.top()，则min.push(elem).否则只要push（elem）就好。在pop的时候，比较stack.top()与min.top(),if(stack.top()&lt;=min.top()),则{stack.pop();min.pop();}，否则{stack.pop();}.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11273">
<article class="comment" id="comment-11273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ailing</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11273" rel="nofollow"><time datetime="2014-09-11T09:45:35+00:00" pubdate="">2014年9月11日 at 上午9:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过  在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11272">
<article class="comment" id="comment-11272">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hehe_snail</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11272" rel="nofollow"><time datetime="2014-09-05T01:55:35+00:00" pubdate="">2014年9月5日 at 上午1:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11278">
<article class="comment" id="comment-11278">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11278" rel="nofollow"><time datetime="2014-08-26T01:49:05+00:00" pubdate="">2014年8月26日 at 上午1:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11279">
<article class="comment" id="comment-11279">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11279" rel="nofollow"><time datetime="2014-07-23T07:43:42+00:00" pubdate="">2014年7月23日 at 上午7:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>请问printAllCombination的时间复杂度怎么分析呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11275">
<article class="comment" id="comment-11275">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11275" rel="nofollow"><time datetime="2014-07-12T23:40:50+00:00" pubdate="">2014年7月12日 at 下午11:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 如果此题没有要求 相对位置不变，可以参考文章：http://www.acmerblog.com/interview-9-2427/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11280">
<article class="comment" id="comment-11280">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rosamondwu</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11280" rel="nofollow"><time datetime="2014-06-26T07:20:15+00:00" pubdate="">2014年6月26日 at 上午7:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>即为打印出的组合的个数C(n,r)，假设print函数复杂度为O(1)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40035">
<article class="comment" id="comment-40035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-40035" rel="nofollow"><time datetime="2014-03-26T14:17:37+00:00" pubdate="">2014年3月26日 at 下午2:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>面霸网。www.51mx.org</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11274">
<article class="comment" id="comment-11274">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gy910210</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11274" rel="nofollow"><time datetime="2014-02-05T19:39:24+00:00" pubdate="">2014年2月5日 at 下午7:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11276">
<article class="comment" id="comment-11276">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tangzhihua</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-11276" rel="nofollow"><time datetime="2014-01-23T13:10:40+00:00" pubdate="">2014年1月23日 at 下午1:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>map[nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .index][nodes <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> .index] == 0 就是判断不相邻的。这个是可以证明的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40036">
<article class="comment" id="comment-40036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao597896577</a></span> on <a href="http://www.acmerblog.com/hdu-1148-Rock-Paper-Scissors-Tournament-1488.html#comment-40036" rel="nofollow"><time datetime="2014-01-11T05:49:32+00:00" pubdate="">2014年1月11日 at 上午5:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个还不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>