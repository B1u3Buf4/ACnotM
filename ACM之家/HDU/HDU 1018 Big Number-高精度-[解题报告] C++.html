<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-26</div>
<div class="tit"><h1 class="entry-title">HDU 1018 Big Number-高精度-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/bignumber" rel="category tag" title="查看高精度计算中的全部文章">高精度计算</a></span><span class="i4">围观2216次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1271" href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comments" title="《HDU 1018 Big Number-高精度-[解题报告] C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Big Number</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">In many applications very large integers numbers are required. Some of these applications are using keys for secure transmission of data, encryption, etc. In this problem you are given a number, you have to determine the number of digits in the factorial of the number.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">Input consists of several lines of integer numbers. The first line contains an integer n, which is the number of cases to be tested, followed by n lines, one integer 1 ≤ n ≤ 10<sup>7</sup> on each line.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The output contains the number of digits in the factorial of the integers appearing in the input.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">2
10
20</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">7
19</pre>
<p><!-- problem end --></p>
<p><strong>分析：</strong></p>
<p>第一种方法：</p>
<p>N！=1*2*3….*n 要求位数我们很自然想到对一个数取对数，log10(n!)=log10(1)+ log10(2) +log10(3)…+log10(n）<br/>
第二种方法：<br/>
关于斯特林数，有斯特林公式：lnN!=NlnN-N+0.5*ln(2*N*pi；也很容易得出其位数。</p>
<p> </p>
<pre class="brush:cpp">#include&lt;stdio.h&gt;
#include&lt;math.h&gt;

int main()
{
    int n,i,m;
    double sum;
    scanf("%d",&amp;n);
    while(n--)
    {
       sum=0;
       scanf("%d",&amp;m);
       for(i=1;i&lt;=m;i++)
           sum+=log10((double)i);
       printf("%d\n",(int)sum+1);
    }
    return 0;
}</pre>
<p>第二种：</p>
<pre class="brush:cpp">#include&lt;stdio.h&gt;
#include&lt;math.h&gt;

#define e 2.7182818284590452354
#define pi acos(-1.00)

int main()
{
    int n,i,m,sum;
    scanf("%d",&amp;n);
    while(n--)
    {
       scanf("%d",&amp;m);
       sum=(int)(1.0/2.0*log10(2.0*pi*m)+1.0*m*log10(m/e)+1);
       printf("%d\n",sum);
    }
    return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-94736">
<article class="comment" id="comment-94736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94736" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94735">
<article class="comment" id="comment-94735">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94735" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94734">
<article class="comment" id="comment-94734">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94734" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94733">
<article class="comment" id="comment-94733">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94733" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94732">
<article class="comment" id="comment-94732">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94732" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94731">
<article class="comment" id="comment-94731">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94731" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94730">
<article class="comment" id="comment-94730">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94730" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94729">
<article class="comment" id="comment-94729">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457678" rel="external nofollow">新用户589911</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-94729" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>城主不行，他死了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10482">
<article class="comment" id="comment-10482">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10482" rel="nofollow"><time datetime="2015-07-13T00:41:10+00:00" pubdate="">2015年7月13日 at 上午12:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10479">
<article class="comment" id="comment-10479">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10479" rel="nofollow"><time datetime="2015-07-05T07:03:24+00:00" pubdate="">2015年7月5日 at 上午7:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10487">
<article class="comment" id="comment-10487">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10487" rel="nofollow"><time datetime="2015-06-01T00:15:10+00:00" pubdate="">2015年6月1日 at 上午12:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是O(m+n)，不小心打错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10485">
<article class="comment" id="comment-10485">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10485" rel="nofollow"><time datetime="2015-03-22T11:36:08+00:00" pubdate="">2015年3月22日 at 上午11:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10489">
<article class="comment" id="comment-10489">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10489" rel="nofollow"><time datetime="2015-03-07T07:35:59+00:00" pubdate="">2015年3月7日 at 上午7:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10490">
<article class="comment" id="comment-10490">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10490" rel="nofollow"><time datetime="2015-02-18T16:27:54+00:00" pubdate="">2015年2月18日 at 下午4:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10486">
<article class="comment" id="comment-10486">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10486" rel="nofollow"><time datetime="2015-02-04T10:10:12+00:00" pubdate="">2015年2月4日 at 上午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10488">
<article class="comment" id="comment-10488">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10488" rel="nofollow"><time datetime="2015-01-25T13:58:18+00:00" pubdate="">2015年1月25日 at 下午1:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有意思，可惜我很菜啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10480">
<article class="comment" id="comment-10480">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangduanjing</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10480" rel="nofollow"><time datetime="2014-09-26T07:48:40+00:00" pubdate="">2014年9月26日 at 上午7:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>网站做得很好看，内容也多，全。前段时间在博客园里看到有人说：网页的好坏看字体。觉得微软雅黑的字体很好看，然后现在这个网站也用的这个字体！nice!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10484">
<article class="comment" id="comment-10484">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10484" rel="nofollow"><time datetime="2014-06-14T07:04:11+00:00" pubdate="">2014年6月14日 at 上午7:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10478">
<article class="comment" id="comment-10478">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10478" rel="nofollow"><time datetime="2014-03-17T22:19:33+00:00" pubdate="">2014年3月17日 at 下午10:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归实现的代码部分<br/>
14句和18句的 wt[n - 1]是不是应该改为 wt[ n ] ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10483">
<article class="comment" id="comment-10483">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10483" rel="nofollow"><time datetime="2014-03-12T12:56:28+00:00" pubdate="">2014年3月12日 at 下午12:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10481">
<article class="comment" id="comment-10481">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10481" rel="nofollow"><time datetime="2013-12-21T07:07:41+00:00" pubdate="">2013年12月21日 at 上午7:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10491">
<article class="comment" id="comment-10491">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/hdu-1018-big-number-1271.html#comment-10491" rel="nofollow"><time datetime="2013-12-17T23:06:16+00:00" pubdate="">2013年12月17日 at 下午11:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3是不是应该为1/4  .因为截取的三段，无论是否能组成三角形， x， y-x ，1-y,都应大于0，所以  x&lt;y,基础应该是一个大三角形。小三角是大三角的 1/4.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>