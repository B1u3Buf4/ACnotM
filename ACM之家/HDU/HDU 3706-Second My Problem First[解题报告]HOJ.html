<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>02-21</div>
<div class="tit"><h1 class="entry-title">HDU 3706-Second My Problem First[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观227次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6686" href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comments" title="《HDU 3706-Second My Problem First[解题报告]HOJ》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Second My Problem First</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Give you three integers n, A and B. <br/>Then we define S<sub>i</sub> = A<sup>i</sup> mod B and T<sub>i</sub> = Min{ S<sub>k</sub> | i-A &lt;= k &lt;= i, k &gt;= 1}<br/>Your task is to calculate the product of T<sub>i</sub> (1 &lt;= i &lt;= n) mod B. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Each line will contain three integers n(1 &lt;= n &lt;= 10<sup>7</sup>),A and B(1 &lt;= A, B &lt;= 2<sup>31</sup>-1). <br/>Process to end of file. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Each line will contain three integers n(1 &lt;= n &lt;= 10<sup>7</sup>),A and B(1 &lt;= A, B &lt;= 2<sup>31</sup>-1). <br/>Process to end of file.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 2 3
2 3 4
3 4 5
4 5 6
5 6 7</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
3
4
5
6</pre>
<p> <!-- problem end --></p>
<p>http://acm.hdu.edu.cn/showproblem.php?pid=3706</p>
<h1>Second My Problem First</h1>
<p><span><strong>Time Limit: 12000/4000 MS (Java/Others)    Memory Limit: 65536/65536 K (Java/Others)<br/>Total Submission(s): 1330    Accepted Submission(s):<br/>
503<br/></strong></span></p>
<div align="left">Problem Description</div>
<div>Give you three integers n, A and B. <br/>Then we define<br/>
S<sub>i</sub> = A<sup>i</sup> mod B and T<sub>i</sub> = Min{ S<sub>k</sub> | i-A<br/>
&lt;= k &lt;= i, k &gt;= 1}<br/>Your task is to calculate the product of<br/>
T<sub>i</sub> (1 &lt;= i &lt;= n) mod B.</div>
<div> </div>
<p> </p>
<div align="left">Input</div>
<div>Each line will contain three integers n(1 &lt;= n &lt;=<br/>
10<sup>7</sup>),A and B(1 &lt;= A, B &lt;= 2<sup>31</sup>-1). <br/>Process to end<br/>
of file.</div>
<div> </div>
<p> </p>
<div align="left">Output</div>
<div>For each case, output the answer in a single<br/>
line.</div>
<div> </div>
<p> </p>
<div align="left">Sample Input</div>
<div>
<div>1 2 3</div>
<div>2 3 4</div>
<div>3 4 5
</div>
<div>4 5 6
</div>
<div>5 6 7</div>
</div>
<div> </div>
<p> </p>
<div align="left">Sample Output</div>
<div>
<div>2
</div>
<div>3</div>
<div>4
</div>
<div>5</div>
<div>6</div>
<div>
<pre class="brush:cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;queue&gt;
#include&lt;cmath&gt;
#define len 0x7fffffff
using namespace std;
struct node
{
   __int64 num;
   int p;
};
node q1[1000010];
//int p[1000010];
int main()
{
   __int64  a,b;
   int  n,i,t;
   while(~scanf("%d%I64d%I64d",&amp;n,&amp;a,&amp;b))
   {
       __int64 ti=1;
         __int64  s=1;

       int head=0,r=0;
    for(i=1;i&lt;=n;i++)
       {
           s=(s*a)%b;
            while(head&lt;r&amp;&amp;q1[r].num&gt;=s) r--;
            q1[++r].num=s;
             q1[r].p=i;
        while(q1[head+1].p&lt;i-a)
                  head++;
            ti=(ti*q1[head+1].num)%b;
         
        }
       printf("%I64d\n",ti);
   }
   return 0;
}</pre>
<p> </p>
</div>
</div>
<p>参考：http://www.cnblogs.com/cancangood/p/4448680.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73205">
<article class="comment" id="comment-73205">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73205" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73204">
<article class="comment" id="comment-73204">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73204" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73203">
<article class="comment" id="comment-73203">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73203" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73202">
<article class="comment" id="comment-73202">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73202" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73201">
<article class="comment" id="comment-73201">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73201" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73200">
<article class="comment" id="comment-73200">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517593" rel="external nofollow">新用户997883</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-73200" rel="nofollow"><time datetime="2017-04-11T22:05:32+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我爱罗比以前帅多了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50893">
<article class="comment" id="comment-50893">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50893" rel="nofollow"><time datetime="2015-05-31T19:02:13+00:00" pubdate="">2015年5月31日 at 下午7:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题本身没错，但是HDOJ放题目的时候，前面有个题目解释了什么是XXX定律。<br/>
这里直接放了这个题目，肯定没几个人明白是干啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50894">
<article class="comment" id="comment-50894">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50894" rel="nofollow"><time datetime="2015-05-19T01:20:22+00:00" pubdate="">2015年5月19日 at 上午1:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没敢用map，总怕stl用着会超时</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33176">
<article class="comment" id="comment-33176">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1832044043</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33176" rel="nofollow"><time datetime="2015-05-17T00:50:43+00:00" pubdate="">2015年5月17日 at 上午12:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33172">
<article class="comment" id="comment-33172">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33172" rel="nofollow"><time datetime="2015-05-11T15:27:25+00:00" pubdate="">2015年5月11日 at 下午3:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么输入两个0程序还没退出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33173">
<article class="comment" id="comment-33173">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33173" rel="nofollow"><time datetime="2015-05-07T23:58:52+00:00" pubdate="">2015年5月7日 at 下午11:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50892">
<article class="comment" id="comment-50892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Spike</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50892" rel="nofollow"><time datetime="2015-04-26T06:49:02+00:00" pubdate="">2015年4月26日 at 上午6:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50896">
<article class="comment" id="comment-50896">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AE</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50896" rel="nofollow"><time datetime="2015-04-17T08:49:02+00:00" pubdate="">2015年4月17日 at 上午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33170">
<article class="comment" id="comment-33170">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33170" rel="nofollow"><time datetime="2015-04-09T23:49:19+00:00" pubdate="">2015年4月9日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50897">
<article class="comment" id="comment-50897">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50897" rel="nofollow"><time datetime="2015-04-09T10:26:19+00:00" pubdate="">2015年4月9日 at 上午10:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33171">
<article class="comment" id="comment-33171">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33171" rel="nofollow"><time datetime="2015-04-01T01:02:22+00:00" pubdate="">2015年4月1日 at 上午1:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50895">
<article class="comment" id="comment-50895">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-50895" rel="nofollow"><time datetime="2015-03-21T12:10:06+00:00" pubdate="">2015年3月21日 at 下午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59526">
<article class="comment" id="comment-59526">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-59526" rel="nofollow"><time datetime="2015-03-21T06:01:11+00:00" pubdate="">2015年3月21日 at 上午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for using the time to examine this, I truly feel strongly about it and enjoy finding out far more on this subject matter. If achievable, as you achieve knowledge</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33175">
<article class="comment" id="comment-33175">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33175" rel="nofollow"><time datetime="2015-03-10T13:35:04+00:00" pubdate="">2015年3月10日 at 下午1:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33174">
<article class="comment" id="comment-33174">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-3706-second-my-problem-first-6686.html#comment-33174" rel="nofollow"><time datetime="2015-03-05T19:31:41+00:00" pubdate="">2015年3月5日 at 下午7:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>