<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-21</div>
<div class="tit"><h1 class="entry-title">HDU 1641 Stamps-DFS-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search" rel="category tag" title="查看搜索中的全部文章">搜索</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观1391次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2581" href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comments" title="《HDU 1641 Stamps-DFS-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Stamps</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The government of Nova Mareterrania requires that various legal documents have stamps attached to them so that the government can derive revenue from them. In terms of recent legislation, each class of document is limited in the number of stamps that may be attached to it. The government wishes to know how many different stamps, and of what values, they need to print to allow the widest choice of values to be made up under these conditions. Stamps are always valued in units of $1. 
<p>This has been analysed by government mathematicians who have derived a formula for n(h,k), where h is the number of stamps that may be attached to a document, k is the number of denominations of stamps available, and n is the largest attainable value in a continuous sequence starting from $1. For instance, if h=3, k=2 and the denominations are $1 and $4, we can make all the values from $1 to $6 (as well as $8, $9 and $12). However with the same values of h and k, but using $1 and $3 stamps we can make all the values from $1 to $7 (as well as $9). This is maximal, so n(3,2) = 7. </p>
<p>Unfortunately the formula relating n(h,k) to h, k and the values of the stamps has been lost–it was published in one of the government reports but no-one can remember which one, and of the three researchers who started to search for the formula, two died of boredom and the third took a job as a lighthouse keeper because it provided more social stimulation. </p>
<p>The task has now been passed on to you. You doubt the existence of a formula in the first place so you decide to write a program that, for given values of h and k, will determine an optimum set of stamps and the value of n(h,k).  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input will consist of several lines, each containing a value for h and k. The file will be terminated by two zeroes (0 0). For technical reasons the sum of h and k is limited to 9. (The President lost his little finger in a shooting accident and cannot count past 9).  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output will consist of a line for each value of h and k consisting of the k stamp values in ascending order right justified in fields 3 characters wide, followed by a space and an arrow (-&gt;) and the value of n(h,k) right justified in a field 3 characters wide. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 2
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
  1  3 -&gt;  7</pre>
<p> <!-- problem end --></p>
<h1 style="margin-bottom:0px; color:rgb(51,51,51); font-family:'times new roman'">
<center>
<table bgcolor="#0060F0">
<tbody>
<tr>
<td><strong><span style="font-size:24px; color:#C0FFFF"> <a name="SECTION0001000000000000000000" style="color:rgb(34,34,34)" target="_blank">Stamps</a></span> </strong></td>
</tr>
</tbody>
</table>
<p></p></center><br/>
</h1>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
The government of Nova Mareterrania requires that various legal documents have stamps attached to them so that the government can derive revenue from them. In terms of recent legislation, each class of document is limited in the number of stamps that may be<br/>
 attached to it. The government wishes to know how many different stamps, and of what values, they need to print to allow the widest choice of values to be made up under these conditions. Stamps are always valued in units of $1.</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
This has been analysed by government mathematicians who have derived a formula for <em>n</em>(<em>h</em>,<em>k</em>), where <em>h</em> is the number of stamps that may be attached to a document, <em>k</em> is the number of denominations of stamps available,<br/>
 and <em>n</em> is the largest attainable value in a continuous sequence starting from $1. For instance, if <em>h</em>=3, <em>k</em>=2 and the denominations are $1 and $4, we can make all the values from $1 to $6 (as well as $8, $9 and $12). However with the<br/>
 same values of <em>h</em> and <em>k</em>, but using $1 and $3 stamps we can make all the values from $1 to $7 (as well as $9). This is maximal, so <em>n</em>(3,2) = 7.</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
Unfortunately the formula relating <em>n</em>(<em>h</em>,<em>k</em>) to <em>h</em>, <em>k</em> and the values of the stamps has been lost–it was published in one of the government reports but no-one can remember which one, and of the three researchers who<br/>
 started to search for the formula, two died of boredom and the third took a job as a lighthouse keeper because it provided more social stimulation.</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
The task has now been passed on to you. You doubt the existence of a formula in the first place so you decide to write a program that, for given values of <em>h</em> and <em>k</em>, will determine an optimum set of stamps and the value of <em>n</em>(<em>h</em>,<em>k</em>).</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><h2 style="margin-bottom:0px; color:rgb(51,51,51); font-family:'times new roman'">
<span style="color:#0070E8"><a name="SECTION0001001000000000000000" style="color:rgb(34,34,34)" target="_blank">Input</a></span></h2>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
Input will consist of several lines, each containing a value for <em>h</em> and <em>k</em>. The file will be terminated by two zeroes (0 0). For technical reasons the sum of <em>h</em> and <em>k</em> is limited to 9. (The President lost his little finger in<br/>
 a shooting accident and cannot count past 9).</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><h2 style="margin-bottom:0px; color:rgb(51,51,51); font-family:'times new roman'">
<span style="color:#0070E8"><a name="SECTION0001002000000000000000" style="color:rgb(34,34,34)" target="_blank">Output</a></span></h2>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
Output will consist of a line for each value of <em>h</em> and <em>k</em> consisting of the <em>k</em> stamp values in ascending order right justified in fields 3 characters wide, followed by a space and an arrow (<code>-&gt;</code>) and the value of <em>n</em>(<em>h</em>,<em>k</em>)<br/>
 right justified in a field 3 characters wide.</p>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><h2 style="margin-bottom:0px; color:rgb(51,51,51); font-family:'times new roman'">
<span style="color:#0070E8"><a name="SECTION0001003000000000000000" style="color:rgb(34,34,34)" target="_blank">Sample input</a></span></h2>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><pre style="white-space:pre-wrap; word-wrap:break-word; color:rgb(51,51,51); font-size:17px">3 2
0 0</pre>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><h2 style="margin-bottom:0px; color:rgb(51,51,51); font-family:'times new roman'">
<span style="color:#0070E8"><a name="SECTION0001004000000000000000" style="color:rgb(34,34,34)" target="_blank">Sample output</a></span></h2>
<p style="margin-top:0px; margin-bottom:0.0001pt; color:rgb(51,51,51); font-family:'times new roman'; font-size:17px">
</p><pre style="white-space:pre-wrap; word-wrap:break-word; color:rgb(51,51,51); font-size:17px">  1  3 -&gt;  7</pre>
<p><span style="font-size:14px; color:#ff0000">题目大意：给出邮票数量h，和邮票面值种类k，要求你选出k种面值的邮票，通过这些1 ~ h张邮票所组成的面值数连续最大。</span></p>
<p><span style="font-size:14px; color:#ff0000">比如：选择1 和 2，（在h= 3时)可以组成的面值数有1、2、3、4、5、6，所以此时最大连续面额就为6</span></p>
<p><span style="font-size:14px; color:#ff0000">但如果选择1 和3 的话，可组成的面值数就有1、2、3、4、5、6、7、  9，注意，没有8，所以最大连续面额为7.</span></p>
<p><span style="font-size:14px; color:#ff0000">解题思路：将所有面额情况枚举出来比较就好了，但是这是后就碰到了面值枚举的上限问题，其实仔细想一下不难发现，当前第i个面值的最大值其实就是前面0 ~ i能组成最大面值再加1，再大的话就不能形成连续的也就不符合题意了。</span></p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#define N 200

int h, k, Max,maxvalue[N];
int nowvalue[N], recvalue[N];
bool vis[N];
void count(int n,int cur, int sum){
    vis[sum] = true;
    if (n &gt;= h)
	return ;
    for (int i = 0; i &lt;= cur; i++)
	count(n + 1, cur, sum + nowvalue[i]);
}

void find(int cur){
    if (cur &gt;= k){
	if (maxvalue[cur - 1] &gt; Max){
	    Max = maxvalue[cur - 1];
	    memcpy(recvalue, nowvalue, sizeof(nowvalue));
	}
	return;
    }
    for (int i = nowvalue[cur - 1]; i &lt;= maxvalue[cur - 1] + 1; i++){
	memset(vis, 0, sizeof(vis));
	nowvalue[cur] = i;
	count(0, cur, 0);

	int t = 1, num = 0;
	while(vis[t++])num++;

	maxvalue[cur] = num;
	find(cur + 1);	
    }
}

int main(){
    while (scanf("%d%d", &amp;h, &amp;k), h &amp;&amp; k){
	// Init.
	memset(vis, 0, sizeof(vis));
	memset(maxvalue, 0, sizeof(maxvalue));
	memset(nowvalue, 0, sizeof(nowvalue));
	memset(recvalue, 0, sizeof(recvalue));

	maxvalue[0] = h;
	nowvalue[0] = 1;
	Max = 0;
	find(1);

	for (int i = 0; i &lt; k; i++)
	    printf("%3d", recvalue[i]);
	printf(" -&gt;%3d\n", Max);
    }
    return 0;
}</pre>
<p>
</p>
<p>解题报告转自：http://blog.csdn.net/keshuai19940722/article/details/9751839</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-16331">
<article class="comment" id="comment-16331">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16331" rel="nofollow"><time datetime="2015-07-09T09:28:57+00:00" pubdate="">2015年7月9日 at 上午9:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉第二种方法其实也不是很好，不过的确要比第一种方法要好一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16334">
<article class="comment" id="comment-16334">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16334" rel="nofollow"><time datetime="2015-05-09T00:40:45+00:00" pubdate="">2015年5月9日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16328">
<article class="comment" id="comment-16328">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">water160</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16328" rel="nofollow"><time datetime="2015-04-06T00:32:32+00:00" pubdate="">2015年4月6日 at 上午12:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16327">
<article class="comment" id="comment-16327">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">123zxc</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16327" rel="nofollow"><time datetime="2015-03-09T07:33:13+00:00" pubdate="">2015年3月9日 at 上午7:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16325">
<article class="comment" id="comment-16325">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16325" rel="nofollow"><time datetime="2015-02-23T00:06:30+00:00" pubdate="">2015年2月23日 at 上午12:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16335">
<article class="comment" id="comment-16335">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16335" rel="nofollow"><time datetime="2015-02-07T01:37:36+00:00" pubdate="">2015年2月7日 at 上午1:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。第2题，TCP不支持多播，多播和广播仅应用于UDP。所以B选项是不对的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16333">
<article class="comment" id="comment-16333">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16333" rel="nofollow"><time datetime="2014-12-18T22:12:22+00:00" pubdate="">2014年12月18日 at 下午10:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16326">
<article class="comment" id="comment-16326">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16326" rel="nofollow"><time datetime="2014-10-13T09:23:56+00:00" pubdate="">2014年10月13日 at 上午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK),这样比较看，快排快</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16332">
<article class="comment" id="comment-16332">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16332" rel="nofollow"><time datetime="2014-09-29T13:54:24+00:00" pubdate="">2014年9月29日 at 下午1:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>此题答案确实应该是A。文中已修改，感谢一楼的提醒！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16336">
<article class="comment" id="comment-16336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16336" rel="nofollow"><time datetime="2014-08-14T08:01:56+00:00" pubdate="">2014年8月14日 at 上午8:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好吧~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16330">
<article class="comment" id="comment-16330">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">testnew</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16330" rel="nofollow"><time datetime="2014-06-26T23:55:05+00:00" pubdate="">2014年6月26日 at 下午11:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有两个重复的话结果是正确的，但解法不够严谨，后面重复的覆盖掉前面的，由于题目数据限制也比较严，所以能提交通过。已更新算法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16324">
<article class="comment" id="comment-16324">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16324" rel="nofollow"><time datetime="2014-05-22T06:21:40+00:00" pubdate="">2014年5月22日 at 上午6:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-16337">
<article class="comment" id="comment-16337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">spiderMan</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16337" rel="nofollow"><time datetime="2014-03-06T16:33:44+00:00" pubdate="">2014年3月6日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-16329">
<article class="comment" id="comment-16329">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/hdu-1641-Stamps-2581.html#comment-16329" rel="nofollow"><time datetime="2014-02-14T10:46:33+00:00" pubdate="">2014年2月14日 at 上午10:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>