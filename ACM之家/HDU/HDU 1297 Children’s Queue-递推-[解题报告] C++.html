<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1297 Children’s Queue-递推-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/data-struct/linear" rel="category tag" title="查看线性结构中的全部文章">线性结构</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观1310次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1667" href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comments" title="《HDU 1297 Children’s Queue-递推-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Children’s Queue</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
There are many students in PHT School. One day, the headmaster whose name is PigHeader wanted all students stand in a line. He prescribed that girl can not be in single. In other words, either no girl in the queue or more than one girl stands side by side. The case n=4 (n is the number of children) is like<br/>FFFF, FFFM, MFFF, FFMM, MFFM, MMFF, MMMM<br/>Here F stands for a girl and M stands for a boy. The total number of queue satisfied the headmaster’s needs is 7. Can you make a program to find the total number of queue with n children? </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are multiple cases in this problem and ended by the EOF. In each case, there is only one integer n means the number of children (1&lt;=n&lt;=1000) </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, there is only one integer means the number of queue satisfied the headmaster’s needs.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2
3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
2
4</pre>
<p><!-- problem end --></p>
<p><span style="font-size:14px">题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1297" target="_blank">hdu1297</a></span></p>
<p><span style="font-size:14px">一个长度n的队列可以看成一个n – 1的队列再追加的1个小孩，这个小孩只可能是：</span></p>
<p><span style="font-size:14px">a.男孩，任何n – 1的合法队列追加1个男孩必然是合法的，情况数为f[n - 1]；<br/>
b.女孩，在前n – 1的以女孩为末尾的队列后追加1位女孩也是合法的，我们可以转化为n – 2的队列中追加2位女孩；<br/>
<span style="white-space:pre"></span>       一种情况是在n – 2的合法队列中追加2位女孩，情况数为f[n - 2]；<br/>
</span></p>
<p><span style="font-size:14px"><span style="white-space:pre"></span>       但我们注意到本题的难点，可能前n – 2位以女孩为末尾的不合法队列（即单纯以1位女孩结尾），也可以追加2位女孩成为合法队列，而这种n – 2不合法队列必然是由n – 4合法队列+1男孩+1女孩的结构，即情况数为f[n - 4]。</span></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;cstdlib&gt;
#include &lt;cmath&gt;
using namespace std;
const int mod = 100000;
int a[1003][50];
int main()
{
    int n,i,j;
    a[1][1] = 1;
    a[2][1] = 2;
    a[3][1] = 4;
    a[4][1] = 7;
    for(i = 5; i &lt;= 1000; i ++)
    {
        for(j = 1; j &lt; 50; j ++)
        {
            a[i][j] += a[i-1][j] + a[i-2][j] + a[i-4][j];
            a[i][j+1] += a[i][j]/mod;
            a[i][j] %= mod;
        }
    }
    while(~scanf("%d",&amp;n))
    {
        j = 49;
        while(!a[n][j])
        j--;
        printf("%d",a[n][j]);
        for(--j; j &gt;=1; j--)
        printf("%05d",a[n][j]);
        printf("\n");
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-93551">
<article class="comment" id="comment-93551">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513927" rel="external nofollow">新用户098255</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-93551" rel="nofollow"><time datetime="2017-04-13T17:45:45+00:00" pubdate="">2017年4月13日 at 下午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>最喜欢九尾小时候了、好萌啊！  回头把这一集下载下来没事了就看看、这一集的调子也好好听啊！      力挺火影！！！！！！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12276">
<article class="comment" id="comment-12276">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12276" rel="nofollow"><time datetime="2015-05-02T23:48:33+00:00" pubdate="">2015年5月2日 at 下午11:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第36行，struct node **head_ref，怎么理解，那个函数感觉不是很懂啊！？？弱渣求助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40536">
<article class="comment" id="comment-40536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40536" rel="nofollow"><time datetime="2015-02-05T22:35:08+00:00" pubdate="">2015年2月5日 at 下午10:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40535">
<article class="comment" id="comment-40535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40535" rel="nofollow"><time datetime="2015-01-08T05:01:07+00:00" pubdate="">2015年1月8日 at 上午5:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12272">
<article class="comment" id="comment-12272">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12272" rel="nofollow"><time datetime="2014-10-03T12:10:09+00:00" pubdate="">2014年10月3日 at 下午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I like your publish. It is great to see you verbalize from the coronary heart and clarity on this essential subject matter can be easily noticed.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40532">
<article class="comment" id="comment-40532">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40532" rel="nofollow"><time datetime="2014-07-31T11:50:35+00:00" pubdate="">2014年7月31日 at 上午11:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12274">
<article class="comment" id="comment-12274">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12274" rel="nofollow"><time datetime="2014-07-23T16:44:32+00:00" pubdate="">2014年7月23日 at 下午4:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输出规范写错了哦~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12277">
<article class="comment" id="comment-12277">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12277" rel="nofollow"><time datetime="2014-06-15T08:30:21+00:00" pubdate="">2014年6月15日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40534">
<article class="comment" id="comment-40534">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40534" rel="nofollow"><time datetime="2014-06-11T01:18:04+00:00" pubdate="">2014年6月11日 at 上午1:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯   分析得很到位，确实用模板编程能让面试官对你的印象更好。在设置辅助栈的时候可以这样：push时，比较要push的elem和辅助栈的栈顶，elem&lt;=min.top()，则min.push(elem).否则只要push（elem）就好。在pop的时候，比较stack.top()与min.top(),if(stack.top()&lt;=min.top()),则{stack.pop();min.pop();}，否则{stack.pop();}.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12275">
<article class="comment" id="comment-12275">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12275" rel="nofollow"><time datetime="2014-03-24T09:15:57+00:00" pubdate="">2014年3月24日 at 上午9:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长好。我是一个准备创业的互联网小白,我们打算做一个有关国*际*游*学的平台。手上也有了一些境外资源。现阶段的团队现在没有cto.原意出让一些管理股寻找一个靠谱的技术专家做合伙人, 不知道是不是能得到您的帮助。发个帖子或者其他方式。期待您的回应。可以加我微信tianxielemon聊聊。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40533">
<article class="comment" id="comment-40533">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40533" rel="nofollow"><time datetime="2014-03-20T13:24:17+00:00" pubdate="">2014年3月20日 at 下午1:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12273">
<article class="comment" id="comment-12273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12273" rel="nofollow"><time datetime="2014-02-15T02:49:21+00:00" pubdate="">2014年2月15日 at 上午2:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40537">
<article class="comment" id="comment-40537">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-40537" rel="nofollow"><time datetime="2014-02-03T07:27:21+00:00" pubdate="">2014年2月3日 at 上午7:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12278">
<article class="comment" id="comment-12278">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/hdu-1297-childrens-queue-1667.html#comment-12278" rel="nofollow"><time datetime="2014-01-08T11:39:14+00:00" pubdate="">2014年1月8日 at 上午11:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这怎么用Catalan数啊？求解答！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>