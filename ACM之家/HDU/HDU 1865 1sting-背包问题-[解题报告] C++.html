<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1865 1sting-背包问题-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/dp2/package" rel="category tag" title="查看背包问题中的全部文章">背包问题</a></span><span class="i4">围观1842次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2856" href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comments" title="《HDU 1865 1sting-背包问题-[解题报告] C++》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">1sting</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
You will be given a string which only contains ‘1’; You can merge two adjacent ‘1’ to be ‘2’, or leave the ‘1’ there. Surly, you may get many different results. For example, given 1111 , you can get 1111, 121, 112,211,22. Now, your work is to find the total number of result you can get. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line is a number n refers to the number of test cases. Then n lines follows, each line has a string made up of  ‘1’ . The maximum length of the sequence is 200. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The output contain n lines, each line output the number of result you can get .</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1
11
11111</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
2
8</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
int dp[10000005];
bool mark[35];
int n,i,j,m,pp,tmp,total;
double tt,p;
char c;
struct P
{
    int p[3],all;
}price[35];
int max(int a,int b)
{
    return a&gt;b?a:b;
}
void init()
{
    int i;
    memset(mark,0,sizeof(mark));
    total=tt*100.0;
    for (i=0;i&lt;=total;++i) dp[i]=0;
    for (i=1;i&lt;=n;++i)
    {
        memset(price[i].p,0,sizeof(price[n].p));
        price[i].all=0;
    }
}
int main()
{
    while (scanf("%lf%d",&amp;tt,&amp;n))
    {
        if (n==0) break;
        init();
        for (i=1;i&lt;=n;++i)
        {
            scanf("%d",&amp;m);
            for (j=1;j&lt;=m;++j)
            {
                scanf(" %c:%lf",&amp;c,&amp;p);
                pp=p*100.0;
                if (c=='A' || c=='B' ||c=='C')
                {
                    price[i].p[c-'A']+=pp;
                    if (price[i].p[c-'A']&gt;60000) mark[i]=1;
                }
                else mark[i]=1;
            }
            price[i].all=price[i].p[0]+price[i].p[1]+price[i].p[2];
            if (price[i].all&gt;100000) mark[i]=1;
        }
        for (i=1;i&lt;=n;++i)
        {
            if (!mark[i])
            {
                for (j=total;j&gt;=price[i].all;--j)
                {
                    dp[j]=max(dp[j],dp[j-price[i].all]+price[i].all);
                }
            }
        }
        printf("%.2lf/n",double(dp[total])/100);
    }
    return 0;
}</pre>
<p>解题报告转自：http://blog.csdn.net/acm_davidcn/article/details/5976777</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-88835">
<article class="comment" id="comment-88835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516168" rel="external nofollow">新用户404224</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-88835" rel="nofollow"><time datetime="2017-04-13T09:02:19+00:00" pubdate="">2017年4月13日 at 上午9:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没看到一个刷的  </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17496">
<article class="comment" id="comment-17496">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17496" rel="nofollow"><time datetime="2015-06-01T06:29:31+00:00" pubdate="">2015年6月1日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17500">
<article class="comment" id="comment-17500">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17500" rel="nofollow"><time datetime="2015-05-10T21:26:08+00:00" pubdate="">2015年5月10日 at 下午9:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17495">
<article class="comment" id="comment-17495">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17495" rel="nofollow"><time datetime="2015-04-26T21:36:59+00:00" pubdate="">2015年4月26日 at 下午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17493">
<article class="comment" id="comment-17493">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">digiworm</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17493" rel="nofollow"><time datetime="2015-03-17T01:00:22+00:00" pubdate="">2015年3月17日 at 上午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43105">
<article class="comment" id="comment-43105">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-43105" rel="nofollow"><time datetime="2015-02-28T16:13:37+00:00" pubdate="">2015年2月28日 at 下午4:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17497">
<article class="comment" id="comment-17497">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17497" rel="nofollow"><time datetime="2015-02-08T02:04:59+00:00" pubdate="">2015年2月8日 at 上午2:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>printf这个函数在计算的时候是从右到左，打印是从左到右。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17501">
<article class="comment" id="comment-17501">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17501" rel="nofollow"><time datetime="2015-01-12T01:16:54+00:00" pubdate="">2015年1月12日 at 上午1:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有用，收藏了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55844">
<article class="comment" id="comment-55844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-55844" rel="nofollow"><time datetime="2014-09-06T18:40:49+00:00" pubdate="">2014年9月6日 at 下午6:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55843">
<article class="comment" id="comment-55843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sgx_go</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-55843" rel="nofollow"><time datetime="2014-04-22T03:08:27+00:00" pubdate="">2014年4月22日 at 上午3:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序只能输出一个子序列</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17498">
<article class="comment" id="comment-17498">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Xun_Brooklyn</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17498" rel="nofollow"><time datetime="2014-04-18T07:19:29+00:00" pubdate="">2014年4月18日 at 上午7:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17499">
<article class="comment" id="comment-17499">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17499" rel="nofollow"><time datetime="2014-02-21T01:36:40+00:00" pubdate="">2014年2月21日 at 上午1:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>必须试过啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43104">
<article class="comment" id="comment-43104">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">radish</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-43104" rel="nofollow"><time datetime="2014-02-16T18:51:11+00:00" pubdate="">2014年2月16日 at 下午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55845">
<article class="comment" id="comment-55845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-55845" rel="nofollow"><time datetime="2014-02-13T18:48:09+00:00" pubdate="">2014年2月13日 at 下午6:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17494">
<article class="comment" id="comment-17494">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mcitdkj</a></span> on <a href="http://www.acmerblog.com/hdu-1865-1sting-2856.html#comment-17494" rel="nofollow"><time datetime="2014-01-02T22:14:46+00:00" pubdate="">2014年1月2日 at 下午10:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>跟书上的解法不一样，不知道哪个效率要高些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>