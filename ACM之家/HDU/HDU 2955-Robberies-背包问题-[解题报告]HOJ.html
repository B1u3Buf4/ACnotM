<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-24</div>
<div class="tit"><h1 class="entry-title">HDU 2955-Robberies-背包问题-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/dp2/package" rel="category tag" title="查看背包问题中的全部文章">背包问题</a></span><span class="i4">围观483次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4680" href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comments" title="《HDU 2955-Robberies-背包问题-[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Robberies</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The aspiring Roy the Robber has seen a lot of American movies, and knows that the bad guys usually gets caught in the end, often because they become too greedy. He has decided to work in the lucrative business of bank robbery only for a short while, before retiring to a comfortable job at a university.
<p></p><center><img src="http://www.acmerblog.com/img/1393505772462.jpg"/></center> <br/>For a few months now, Roy has been assessing the security of various banks and the amount of cash they hold. He wants to make a calculated risk, and grab as much money as possible.
<p>His mother, Ola, has decided upon a tolerable probability of getting caught. She feels that he is safe enough if the banks he robs together give a probability less than this. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line of input gives T, the number of cases. For each scenario, the first line of input gives a floating point number P, the probability Roy needs to be below, and an integer N, the number of banks he has plans for. Then follow N lines, where line j gives an integer Mj and a floating point number Pj . <br/>Bank j contains Mj millions, and the probability of getting caught from robbing it is Pj . </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line of input gives T, the number of cases. For each scenario, the first line of input gives a floating point number P, the probability Roy needs to be below, and an integer N, the number of banks he has plans for. Then follow N lines, where line j gives an integer Mj and a floating point number Pj . <br/>Bank j contains Mj millions, and the probability of getting caught from robbing it is Pj .</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
0.04 3
1 0.02
2 0.03
3 0.05
0.06 3
2 0.03
2 0.03
3 0.05
0.10 3
1 0.03
2 0.02
3 0.05</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
4
6</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;cstring&gt;
#include &lt;string&gt;
#include &lt;cstdio&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;

using namespace std;
double dp[10005];
double w[105];
int v[105];
int main()
{
    int n,t;
    double p;
    cin&gt;&gt;t;
    while(t--)
    {
        memset(dp,0,sizeof(dp));
        int sum=0;
        cin&gt;&gt;p&gt;&gt;n;
         p=1.0-p;
        for(int i=0;i&lt;n;i++)
        {
            cin&gt;&gt;v[i]&gt;&gt;w[i];
            w[i]=1.0-w[i];
            sum+=v[i];
        }
        dp[0]=1.0;
        for(int i=0;i&lt;n;i++)
        for(int j=sum;j&gt;=v[i];j--)
        dp[j]=max(dp[j],dp[j-v[i]]*w[i]);

        for(int i=sum;i&gt;=0;i--)
        if(dp[i]&gt;p)
        {
            cout&lt;&lt;i&lt;&lt;endl;
            break;
        }
    }
    return 0;
}</pre>
<p>解题参考：http://blog.csdn.net/weyuli/article/details/9255695</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-80938">
<article class="comment" id="comment-80938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80938" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80937">
<article class="comment" id="comment-80937">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80937" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80936">
<article class="comment" id="comment-80936">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80936" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80935">
<article class="comment" id="comment-80935">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80935" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80934">
<article class="comment" id="comment-80934">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80934" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-80933">
<article class="comment" id="comment-80933">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80933" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-80932">
<article class="comment" id="comment-80932">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919457681" rel="external nofollow">新用户998513</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-80932" rel="nofollow"><time datetime="2017-04-12T16:41:18+00:00" pubdate="">2017年4月12日 at 下午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么到后面攻打黑暗城堡，击杀了小BOSS就卡死了，</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57667">
<article class="comment" id="comment-57667">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-57667" rel="nofollow"><time datetime="2015-07-05T16:54:40+00:00" pubdate="">2015年7月5日 at 下午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57666">
<article class="comment" id="comment-57666">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-57666" rel="nofollow"><time datetime="2015-01-28T22:27:28+00:00" pubdate="">2015年1月28日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码是给出了，但是解析的也太不清晰了吧！如 13 abejkcfghid jkebfghicda<br/>
第一步拆分为 三部分 (bejk, cfghi, d) * C(13,3)，为什么要这样拆分，原则是什么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26043">
<article class="comment" id="comment-26043">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-26043" rel="nofollow"><time datetime="2015-01-16T17:20:49+00:00" pubdate="">2015年1月16日 at 下午5:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47129">
<article class="comment" id="comment-47129">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-47129" rel="nofollow"><time datetime="2014-09-04T23:22:32+00:00" pubdate="">2014年9月4日 at 下午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63024">
<article class="comment" id="comment-63024">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lint</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-63024" rel="nofollow"><time datetime="2014-07-26T18:51:14+00:00" pubdate="">2014年7月26日 at 下午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有意思，有难度</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57665">
<article class="comment" id="comment-57665">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Rosamondwu</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-57665" rel="nofollow"><time datetime="2014-07-11T01:36:54+00:00" pubdate="">2014年7月11日 at 上午1:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-26042">
<article class="comment" id="comment-26042">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-26042" rel="nofollow"><time datetime="2014-05-02T07:05:44+00:00" pubdate="">2014年5月2日 at 上午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法，他认识我，我不认识他，后来有人告诉我你写的这段代码就是XXX算法。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57664">
<article class="comment" id="comment-57664">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/hdu-2955-robberies-4680.html#comment-57664" rel="nofollow"><time datetime="2014-04-25T12:09:11+00:00" pubdate="">2014年4月25日 at 下午12:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>