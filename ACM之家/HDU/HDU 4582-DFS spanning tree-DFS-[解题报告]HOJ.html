<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4582-DFS spanning tree-DFS-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/sort" rel="category tag" title="查看排序中的全部文章">排序</a></span><span class="i4">围观85次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7626" href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comments" title="《HDU 4582-DFS spanning tree-DFS-[解题报告]HOJ》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">DFS spanning tree</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Consider a Depth-First-Search(DFS) spanning tree T of a undirected connected graph G, we define a T-Simple Circle as a path v<sub>1</sub>, v<sub>2</sub>, …, v<sub>k</sub> (v<sub>1</sub> = v<sub>k</sub>) in G that contains at most one edge which not belongs to the DFS spanning tree T.<br/>Given a graph G, we process DFS on G starting from vertex 1 and get a DFS spanning tree T, then you should choose some edges of G so that all T-Simple Circles contains at least one edge that you choose.<br/>Please minimize the number of edges you choose. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are at most 100 test cases.<br/>For each case, the first line contains two integers n and m denoting the number of vertices and edges. The vertexes are numbered from 1 to n.<br/>The following m lines describe the graph. Each line contains two integers x<sub>i</sub> and y<sub>i</sub>, denoting an edge between vertex  x<sub>i</sub> and y<sub>i</sub>(x<sub>i</sub> ≠ y<sub>i</sub>).<br/>Note that the first n-1 edges of input construct a DFS spanning tree T which is generated by DFS from vertex 1.<br/>Input ends with n = 0 and m = 0<br/>(1 &lt;= n &lt;= 2000, 1 &lt;= m &lt;= 20000, 1 &lt;= x<sub>i</sub>, y<sub>i</sub> &lt;= n) </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are at most 100 test cases.<br/>For each case, the first line contains two integers n and m denoting the number of vertices and edges. The vertexes are numbered from 1 to n.<br/>The following m lines describe the graph. Each line contains two integers x<sub>i</sub> and y<sub>i</sub>, denoting an edge between vertex  x<sub>i</sub> and y<sub>i</sub>(x<sub>i</sub> ≠ y<sub>i</sub>).<br/>Note that the first n-1 edges of input construct a DFS spanning tree T which is generated by DFS from vertex 1.<br/>Input ends with n = 0 and m = 0<br/>(1 &lt;= n &lt;= 2000, 1 &lt;= m &lt;= 20000, 1 &lt;= x<sub>i</sub>, y<sub>i</sub> &lt;= n)</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 5
1 2
4 2
3 2
1 3
4 1
10 14
1 2
2 9
1 3
3 4
4 10
3 5
5 7
5 8
3 6
9 1
1 10
1 6
7 3
8 3
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3
<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
Here is the graph G in the first test case: 
<center><img alt="Microblog Subscription" src="http://cdn.acmerblog.com/img/1447822428807.jpg"/></center> 
The solid lines denote the edge which belongs to the DFS spanning tree, and the dotted lines denote the others.
For first case, we can choose one edge (1, 2)
For second case, we can choose three edges (1, 2), (1, 3), (3, 5)
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p>给定一个无向图，求出它的DFS生成树。</p>
<p>非树边与树边会构成环，现在选择树上的最少的边数，使得每一个环都至少有一条边被选中。</p>
<p>
</p>
<p>一个环对应的就是树上的一条路径，因为DFS树的性质这条路径只可能是从一个节点出发连向它的儿子。</p>
<p>所以问题就转化成了给定树上的一些简单链，给树上的边染黑白两色，使得每条给定的链上都至少有一条黑边，求最小黑边数量。</p>
<p>
</p>
<p>假如树是一条长链，则每一个链对应的就是一段区间，就成了经典的贪心问题，只需以右端点为关键字排序然后对于每一个未满足要求的区间尽量往右染即可。</p>
<p>在一般的树上也可以这样贪心，只需按链的父节点的深度为关键字进行排序，尽可能往“高”染色，</p>
<p>
</p>
<pre class="brush:cpp" name="code">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;cstdlib&gt;
#include &lt;cmath&gt;
#include &lt;cctype&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;
#include &lt;utility&gt;
#include &lt;set&gt;
#define pb push_back
#define mp make_pair
#define fi first
#define se second
using namespace std;
typedef long long LL;
typedef unsigned long long ULL;
#define N 2005
int n , m , pre[N] , mcnt , f[N] , dep[N];
struct edge
{
  int x , f , next;
}e[40005];
pair&lt;int , int&gt; a[20005];
bool vis[N];
void dfs(int x , int fa)
{
  f[x] = fa , dep[x] = dep[fa] + 1 , vis[x] = 1;
  for (int i = pre[x] ; ~i ;i = e[i].next)
    if (!vis[e[i].x])
      e[i].f = e[i ^ 1].f = 1 , dfs(e[i].x , x);
}

bool cmp(pair&lt;int , int&gt; x, pair&lt;int , int&gt; y)
{
  if (dep[x.se] == dep[y.se])
    return dep[x.fi] &gt; dep[y.fi];
  return dep[x.se] &gt; dep[y.se];
}

void work()
{
  int i , j , x , y , ans = 0;

  memset(pre , -1 , sizeof(pre));
  mcnt = 0;
  for (i = 1 ; i &lt;= m ; ++ i)
  {
    scanf("%d%d",&amp;x,&amp;y);
    a[i] = make_pair(x , y);
  }
  for (i = m ; i &gt; 0 ; -- i)
  {
    x = a[i].fi , y = a[i].se;
    e[mcnt] = (edge) {y , 0 , pre[x]} , pre[x] = mcnt ++;
    e[mcnt] = (edge) {x , 0 , pre[y]} , pre[y] = mcnt ++;
  }
  memset(vis , 0 , sizeof(vis));
  dfs(1 , 0);
  m = 0;
  for (x = 1 ; x &lt;= n ; ++ x)
    for (i = pre[x] ; ~i ; i = e[i].next)
      if ((i &amp; 1) &amp;&amp; !e[i].f)
      {
        y = e[i].x;
        a[++ m] = make_pair(x , y);
        if (dep[a[m].fi] &lt; dep[a[m].se])
          swap(a[m].fi , a[m].se);
      }
  sort(a + 1 , a + m + 1 , cmp);
  memset(vis , 0 , sizeof(vis));
  for (i = 1 ; i &lt;= m ; ++ i)
  {
    x = a[i].fi , y = a[i].se;
    //cout &lt;&lt; x &lt;&lt;' '&lt;&lt; y &lt;&lt; endl;
    while (f[x] != y)
      if (vis[x])
        break;
      else x = f[x];
    if (!vis[x])
      vis[x] = 1 , ++ ans;
  }
  printf("%d\n" , ans);
}

int main()
{
  while (scanf("%d%d",&amp;n,&amp;m) , n || m)
    work();
  return 0;
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/sd_invol/article/details/9963741</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97550">
<article class="comment" id="comment-97550">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919465835" rel="external nofollow">新用户539058</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-97550" rel="nofollow"><time datetime="2017-04-20T05:15:17+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Title…[...]very handful of sites that happen to be detailed beneath, from our point of view are undoubtedly very well really </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66831">
<article class="comment" id="comment-66831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66831" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66830">
<article class="comment" id="comment-66830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66830" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66829">
<article class="comment" id="comment-66829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66829" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66828">
<article class="comment" id="comment-66828">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66828" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66827">
<article class="comment" id="comment-66827">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66827" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66826">
<article class="comment" id="comment-66826">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66826" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66823">
<article class="comment" id="comment-66823">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66823" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66822">
<article class="comment" id="comment-66822">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66822" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66821">
<article class="comment" id="comment-66821">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513870" rel="external nofollow">新用户233524</a></span> on <a href="http://www.acmerblog.com/hdu-4582-dfs-spanning-tree-7626.html#comment-66821" rel="nofollow"><time datetime="2017-04-10T22:27:50+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>键盘喷子水准太低。建议自己多学习学习在来喷把。要喷就喷点技术含量的~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>