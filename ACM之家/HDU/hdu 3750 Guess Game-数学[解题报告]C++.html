<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>02-22</div>
<div class="tit"><h1 class="entry-title">hdu 3750 Guess Game-数学[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观593次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6731" href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comments" title="《hdu 3750 Guess Game-数学[解题报告]C++》上的评论">17 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Guess Game</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">Bob plays the “guess the number right” with Alice recently,the game’s rule is that Alice give Bob a upper limit number N ,then he write any of a number on paper which Bob can’t know what it is and the number must be between 1 and N.Bob has many chances to guess the number and every time when Bob guesses Alice will tell him if his is bigger than the correct number or small than the correct number until he is right.<br/>
Now the Bob wanted to use binary search method to guess the right number, because he knows this method is quite fast to find the right number.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">We test the problem in many cases.Each case begin with one integers N( 1&lt;= N &lt;= 100000 ).</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">We test the problem in many cases.Each case begin with one integers N( 1&lt;= N &lt;= 100000 ).</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">2
3</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">1.50
1.67</pre>
<p><!-- problem end --><br/>
菜鸟杯上的一道题</p>
<p>我当时直接按照期望的定义来做的 递归的代码<br/>
比赛的时候一直错<br/>
很无语 而且浪费了很多时间</p>
<p>现在终于法相当时错的原因了 有点想砍人的冲动……</p>
<p>不过因为这个我学到了一个技巧。</p>
<p>首先说明：<br/>
在做要求保留精度的题时 原则是能先整数运算尽量整数运算 最后再四舍五入保留小数。</p>
<p>下面是技巧<br/>
比如这题</p>
<p>经过我对此题深入的一番研究<br/>
发现：<br/>
当输入数据时40时<br/>
正确答案是4.57500000 保留2位小数是4.58<br/>
我的答案是4.57499999 保留2位小数是4.57</p>
<p>你说能不让人想砍人吗？</p>
<p>这题我是这样AC的<br/>
4.5749999先乘以100000–&gt;457499.99再+0.5–&gt;457500.49取整–&gt;457500再除以100000–&gt;4.57500保留2位小数输出–&gt;4.58</p>
<p>这个技巧我觉得还是重要<br/>
以后遇到怀疑自己答案精度问题的题时（特别是中途四舍五入了很多次而答案又很像的题） 可以考虑这个技巧<br/>
先乘–&gt;四舍五入–&gt;再除回来–&gt;四舍五入输出<br/>
当然具体乘多少看题目了<br/>
我这次乘的100000 也就是先多保留了5位小数 我试过*10但还是错</p>
<p>总之就是+一个很小的数</p>
<p>我的代码(递归中损失了不少精度 不过排名居然还更高):</p>
<pre class="brush:cpp">#include&lt;stdio.h&gt;  
#define eps 1e-6  
double sum;  
void expect(int now,int n,double s)  
{  
    int d=n/2;  
    if(n==0) return;  
    sum+=s*now/n;  
    s=s*(1-1.0/n);  
    if(n%2)  
        expect(now+1,d,s);  
    else  
    {  
        expect(now+1,d,s*d/(n-1));  
        expect(now+1,d-1,s*(d-1)/(n-1));  
    }  
}  
int main()  
{  
    int n,s;  

    while(~scanf("%d",&amp;n))  
    {  
        sum=0.0;  
        expect(1,n,1.0);  
        printf("%.2lf\n",sum+eps);  
    }  
    return 0;  
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73019">
<article class="comment" id="comment-73019">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919521371" rel="external nofollow">新用户760262</a></span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-73019" rel="nofollow"><time datetime="2017-04-11T19:58:26+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>下载10M/秒上哪说理去</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3613">
<article class="comment" id="comment-3613">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">瑶冰魄</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3613" rel="nofollow"><time datetime="2015-07-02T16:15:52+00:00" pubdate="">2015年7月2日 at 下午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3612">
<article class="comment" id="comment-3612">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">天朝城管帝</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3612" rel="nofollow"><time datetime="2015-07-01T22:56:25+00:00" pubdate="">2015年7月1日 at 下午10:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3611">
<article class="comment" id="comment-3611">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">益生菌子权限狗</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3611" rel="nofollow"><time datetime="2015-07-01T20:42:50+00:00" pubdate="">2015年7月1日 at 下午8:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3610">
<article class="comment" id="comment-3610">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">呆呆悦悦love</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3610" rel="nofollow"><time datetime="2015-07-01T18:19:19+00:00" pubdate="">2015年7月1日 at 下午6:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3609">
<article class="comment" id="comment-3609">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">你不行换人</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3609" rel="nofollow"><time datetime="2015-07-01T16:51:07+00:00" pubdate="">2015年7月1日 at 下午4:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3608">
<article class="comment" id="comment-3608">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">看叶帝逍遥</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3608" rel="nofollow"><time datetime="2015-07-01T16:51:07+00:00" pubdate="">2015年7月1日 at 下午4:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3607">
<article class="comment" id="comment-3607">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">爷傲然于世</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3607" rel="nofollow"><time datetime="2015-07-01T15:51:31+00:00" pubdate="">2015年7月1日 at 下午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3606">
<article class="comment" id="comment-3606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">怕热的冰块儿</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3606" rel="nofollow"><time datetime="2015-07-01T14:19:51+00:00" pubdate="">2015年7月1日 at 下午2:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3605">
<article class="comment" id="comment-3605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">在不能不</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3605" rel="nofollow"><time datetime="2015-07-01T14:09:55+00:00" pubdate="">2015年7月1日 at 下午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3604">
<article class="comment" id="comment-3604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">你装淑女装低调</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3604" rel="nofollow"><time datetime="2015-07-01T14:01:40+00:00" pubdate="">2015年7月1日 at 下午2:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3603">
<article class="comment" id="comment-3603">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">倾翎碧水心</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3603" rel="nofollow"><time datetime="2015-07-01T13:56:22+00:00" pubdate="">2015年7月1日 at 下午1:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3602">
<article class="comment" id="comment-3602">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">遗落_笑声</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3602" rel="nofollow"><time datetime="2015-07-01T12:58:34+00:00" pubdate="">2015年7月1日 at 下午12:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3601">
<article class="comment" id="comment-3601">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">北山脚下</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3601" rel="nofollow"><time datetime="2015-07-01T12:14:35+00:00" pubdate="">2015年7月1日 at 下午12:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3600">
<article class="comment" id="comment-3600">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">天哈哈哈涯</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3600" rel="nofollow"><time datetime="2015-07-01T07:01:44+00:00" pubdate="">2015年7月1日 at 上午7:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3599">
<article class="comment" id="comment-3599">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">寻水的鱼76</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3599" rel="nofollow"><time datetime="2015-07-01T05:56:10+00:00" pubdate="">2015年7月1日 at 上午5:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-3598">
<article class="comment" id="comment-3598">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">迷恋美好</span> on <a href="http://www.acmerblog.com/hdu-3750-guess-game-6731.html#comment-3598" rel="nofollow"><time datetime="2015-07-01T01:57:26+00:00" pubdate="">2015年7月1日 at 上午1:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>