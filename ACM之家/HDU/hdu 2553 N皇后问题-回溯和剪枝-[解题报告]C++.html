<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-10</div>
<div class="tit"><h1 class="entry-title">hdu 2553 N皇后问题-回溯和剪枝-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search/backtracking" rel="category tag" title="查看回溯和剪枝中的全部文章">回溯和剪枝</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观813次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4104" href="http://www.acmerblog.com/hdu-2553-n-4104.html#comments" title="《hdu 2553 N皇后问题-回溯和剪枝-[解题报告]C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">N皇后问题</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
在N*N的方格棋盘放置了N个皇后，使得它们不相互攻击（即任意2个皇后不允许处在同一排，同一列，也不允许处在与棋盘边框成45角的斜线上。<br/>你的任务是，对于给定的N，求出有多少种合法的放置方法。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
共有若干行，每行一个正整数N≤10，表示棋盘和皇后的数量；如果N=0，表示结束。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
共有若干行，每行一个正整数N≤10，表示棋盘和皇后的数量；如果N=0，表示结束。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
8
5
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
92
10</pre>
<p> <!-- problem end --></p>
<p><span style="font-size:24px">此题是经典的N皇后问题，描述：在一个N*N的棋盘上要摆放N个皇后，要求任意两个皇后不能在同一行，同一列或者同一条与棋盘的边成45度角的斜线上，即与对角线平行的斜线上，求对于不同的N，各有多少种摆法使任意两个皇后不能相互攻击。</span></p>
<p><span style="font-size:24px"><br/>
</span></p>
<p><span style="font-size:24px">用回溯法就可以解决，设皇后的编号依次为1，2，……，n，则可以认为第i个皇后必须摆放在第i行，然后枚举第一个皇后的位置进行回溯，若某一次发现某个皇后无法找到摆放位置则直接返回，如果所有皇后都可以找到摆放位置，则说明存在一种摆法满足要求，统计有多少种摆法即可。</span></p>
<p><span style="font-size:24px"><br/>
</span></p>
<p><span style="font-size:24px">此题n&lt;=10，测试数据中会有大量重复数据，因此要保存答案，遇到曾经计算过的n直接输出即可，否则可能会超时。</span></p>
<p><span style="font-size:24px"><br/>
</span></p>
<p><span style="font-size:24px"></span></p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
using namespace std;
int n;
int x[100];
int ans[11];
bool Place(int k)
{
	int i = 1;
	while (i&lt;k)
	{
		if (x[i]==x[k] || abs(x[i]-x[k])==abs(i-k))	return false;
		i++;
	}
	return true;
}
int main()
{
	int k, cnt;
	memset(ans, 0, sizeof(ans));
	while (scanf("%d", &amp;n)!=EOF &amp;&amp; n!=0)
	{
		if (ans[n]&gt;0) 
		{
			printf("%d\n", ans[n]);
			continue;
		}
		x[1] = 0;
		k = 1, cnt = 0;
		while (k&gt;0)
		{
			x[k]++;
			while (x[k]&lt;=n &amp;&amp; !Place(k))
			{
				x[k]++;
			}
			if (x[k]&lt;=n)
			{
				if (k==n)
				{
					cnt++;
				}
				else 
				{
					k++;
					x[k] = 0;
				}
			}
			else k--;
		}
		ans[n] = cnt;
		printf("%d\n", cnt);
	}
	return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/alongela/article/details/6755770</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83834">
<article class="comment" id="comment-83834">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83834" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83833">
<article class="comment" id="comment-83833">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83833" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83832">
<article class="comment" id="comment-83832">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83832" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83831">
<article class="comment" id="comment-83831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83831" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83830">
<article class="comment" id="comment-83830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83830" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83829">
<article class="comment" id="comment-83829">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83829" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83828">
<article class="comment" id="comment-83828">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83828" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83827">
<article class="comment" id="comment-83827">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83827" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83826">
<article class="comment" id="comment-83826">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919456163" rel="external nofollow">新用户636199</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-83826" rel="nofollow"><time datetime="2017-04-12T23:52:06+00:00" pubdate="">2017年4月12日 at 下午11:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"></div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22990">
<article class="comment" id="comment-22990">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22990" rel="nofollow"><time datetime="2015-06-26T20:57:46+00:00" pubdate="">2015年6月26日 at 下午8:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目重复了，删掉一个吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45715">
<article class="comment" id="comment-45715">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-45715" rel="nofollow"><time datetime="2015-05-07T03:08:10+00:00" pubdate="">2015年5月7日 at 上午3:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>您没有考虑 树的根节点是负数的情况， 若树的根节点是个很大的负数，那么就要考虑过不过另外一边子树了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22992">
<article class="comment" id="comment-22992">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">2013283119</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22992" rel="nofollow"><time datetime="2015-03-07T14:04:59+00:00" pubdate="">2015年3月7日 at 下午2:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m^n % k 的算法写错了，没有人发现吗？？？正确的返回值应该是return b*m % k;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45716">
<article class="comment" id="comment-45716">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-45716" rel="nofollow"><time datetime="2015-02-11T10:37:51+00:00" pubdate="">2015年2月11日 at 上午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62703">
<article class="comment" id="comment-62703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">3136869079</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-62703" rel="nofollow"><time datetime="2015-01-23T17:13:22+00:00" pubdate="">2015年1月23日 at 下午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45713">
<article class="comment" id="comment-45713">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-45713" rel="nofollow"><time datetime="2014-12-23T21:23:51+00:00" pubdate="">2014年12月23日 at 下午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>方法4中使用hash表，只要用出现次数作为Value，就可以解决重复元素的问题了。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22995">
<article class="comment" id="comment-22995">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuyuedeyu</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22995" rel="nofollow"><time datetime="2014-12-08T16:38:16+00:00" pubdate="">2014年12月8日 at 下午4:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正解，已改正。应该都是protected</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22989">
<article class="comment" id="comment-22989">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">PriceKiller</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22989" rel="nofollow"><time datetime="2014-11-21T19:29:22+00:00" pubdate="">2014年11月21日 at 下午7:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22993">
<article class="comment" id="comment-22993">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jue</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22993" rel="nofollow"><time datetime="2014-10-26T14:16:11+00:00" pubdate="">2014年10月26日 at 下午2:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-22994">
<article class="comment" id="comment-22994">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22994" rel="nofollow"><time datetime="2014-08-12T21:23:37+00:00" pubdate="">2014年8月12日 at 下午9:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很不错！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-22991">
<article class="comment" id="comment-22991">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-22991" rel="nofollow"><time datetime="2014-06-20T15:28:38+00:00" pubdate="">2014年6月20日 at 下午3:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一句可以忽略不计了吧。从第二句开始分析，说明这个花色下的所有牌都会在其它里面出现，那么还剩下♠️和♦️。第三句，可以排除2和7，因为在两种花色里有。现在是第四句，因为♠️还剩下多个，只有是♦️B才能知道答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45714">
<article class="comment" id="comment-45714">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">stamwoo</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-45714" rel="nofollow"><time datetime="2014-05-13T23:30:10+00:00" pubdate="">2014年5月13日 at 下午11:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修正</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45717">
<article class="comment" id="comment-45717">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lin</a></span> on <a href="http://www.acmerblog.com/hdu-2553-n-4104.html#comment-45717" rel="nofollow"><time datetime="2014-04-20T04:41:45+00:00" pubdate="">2014年4月20日 at 上午4:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题本身没错，但是HDOJ放题目的时候，前面有个题目解释了什么是XXX定律。<br/>
这里直接放了这个题目，肯定没几个人明白是干啥</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>