<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2310 Analyzing Login/Logout Records-枚举[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观824次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3539" href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comments" title="《hdu 2310 Analyzing Login/Logout Records-枚举[解题报告]C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Analyzing Login/Logout Records</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">You have a computer literacy course in your university. In the computer system, the login/logout records of all PCs in a day are stored in a file. Although students may use two or more PCs at a time, no one can log in to a PC which has been logged in by someone who has not logged out of that PC yet.You are asked to write a program that calculates the total time of a student that he/she used at least one PC in a given time period (probably in a laboratory class) based on the records in the file.
<p>The following are example login/logout records.</p>
<p>* The student 1 logged in to the PC 1 at 12:55<br/>
* The student 2 logged in to the PC 4 at 13:00<br/>
* The student 1 logged in to the PC 2 at 13:10<br/>
* The student 1 logged out of the PC 2 at 13:20<br/>
* The student 1 logged in to the PC 3 at 13:30<br/>
* The student 1 logged out of the PC 1 at 13:40<br/>
* The student 1 logged out of the PC 3 at 13:45<br/>
* The student 1 logged in to the PC 1 at 14:20<br/>
* The student 2 logged out of the PC 4 at 14:30<br/>
* The student 1 logged out of the PC 1 at 14:40</p>
<p>For a query such as “Give usage of the student 1 between 13:00 and 14:30″, your program should answer “55 minutes”, that is, the sum of 45 minutes from 13:00 to 13:45 and 10 minutes from 14:20 to 14:30, as depicted in the following figure.<br/>
<img alt="" src="http://cdn.acmerblog.com/img/1388997016782.png"/></p>
</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The input is a sequence of a number of datasets. The end of the input is indicated by a line containing two zeros separated by a space. The number of datasets never exceeds 10.Each dataset is formatted as follows.
<p>N M<br/>
r<br/>
record1<br/>
…<br/>
recordr<br/>
q<br/>
query1<br/>
…<br/>
queryq<br/>
The numbers N and M in the first line are the numbers of PCs and the students, respectively. r is the number of records. q is the number of queries. These four are integers satisfying the following.</p>
<p>1 ≤ N ≤ 1000, 1 ≤ M ≤ 10000, 2 ≤ r ≤ 1000, 1 ≤ q ≤ 50</p>
<p>Each record consists of four integers, delimited by a space, as follows.</p>
<p>t n m s</p>
<p>s is 0 or 1. If s is 1, this line means that the student m logged in to the PC n at time t . If s is 0, it means that the student m logged out of the PC n at time t . The time is expressed as elapsed minutes from 0:00 of the day. t , n and m satisfy the following.</p>
<p>540 ≤ t ≤ 1260, 1 ≤ n ≤ N , 1 ≤ m ≤ M</p>
<p>You may assume the following about the records.<br/>
# Records are stored in ascending order of time t.<br/>
# No two records for the same PC has the same time t.<br/>
# No PCs are being logged in before the time of the first record nor after that of the last record in the file.<br/>
# Login and logout records for one PC appear alternatingly, and each of the login-logout record pairs is for the same student.</p>
<p>Each query consists of three integers delimited by a space, as follows.</p>
<p>ts te m</p>
<p>It represents “Usage of the student m between ts and te “. ts , te and m satisfy the following.</p>
<p>540 ≤ ts &lt; te ≤ 1260, 1 ≤ m ≤ M</p>
</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The input is a sequence of a number of datasets. The end of the input is indicated by a line containing two zeros separated by a space. The number of datasets never exceeds 10.Each dataset is formatted as follows.
<p>N M<br/>
r<br/>
record1<br/>
…<br/>
recordr<br/>
q<br/>
query1<br/>
…<br/>
queryq<br/>
The numbers N and M in the first line are the numbers of PCs and the students, respectively. r is the number of records. q is the number of queries. These four are integers satisfying the following.</p>
<p>1 ≤ N ≤ 1000, 1 ≤ M ≤ 10000, 2 ≤ r ≤ 1000, 1 ≤ q ≤ 50</p>
<p>Each record consists of four integers, delimited by a space, as follows.</p>
<p>t n m s</p>
<p>s is 0 or 1. If s is 1, this line means that the student m logged in to the PC n at time t . If s is 0, it means that the student m logged out of the PC n at time t . The time is expressed as elapsed minutes from 0:00 of the day. t , n and m satisfy the following.</p>
<p>540 ≤ t ≤ 1260, 1 ≤ n ≤ N , 1 ≤ m ≤ M</p>
<p>You may assume the following about the records.<br/>
# Records are stored in ascending order of time t.<br/>
# No two records for the same PC has the same time t.<br/>
# No PCs are being logged in before the time of the first record nor after that of the last record in the file.<br/>
# Login and logout records for one PC appear alternatingly, and each of the login-logout record pairs is for the same student.</p>
<p>Each query consists of three integers delimited by a space, as follows.</p>
<p>ts te m</p>
<p>It represents “Usage of the student m between ts and te “. ts , te and m satisfy the following.</p>
<p>540 ≤ ts &lt; te ≤ 1260, 1 ≤ m ≤ M</p>
</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">4 2
10
775 1 1 1
780 4 2 1
790 2 1 1
800 2 1 0
810 3 1 1
820 1 1 0
825 3 1 0
860 1 1 1
870 4 2 0
880 1 1 0
1
780 870 1
13 15
12
540 12 13 1
600 12 13 0
650 13 15 1
660 12 15 1
665 11 13 1
670 13 15 0
675 11 13 0
680 12 15 0
1000 11 14 1
1060 12 14 1
1060 11 14 0
1080 12 14 0
3
540 700 13
600 1000 15
1000 1200 11
1 1
2
600 1 1 1
700 1 1 0
5
540 600 1
550 650 1
610 620 1
650 750 1
700 800 1
0 0</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">55
70
30
0
0
50
10
50
0</pre>
<p><!-- problem end --><br/>
题意：给出每个人在某台电脑的登录时间与下线时间，求在某个时间段某个人的上线时间。</p>
<p>题解：大模拟~可以先记录每个人的上下线时间点，看做一个区间的左右界限，然后记录区间深度，如果到某个时间点时，区间深度大于0，就说明这个人在线，否则，就不在。</p>
<pre class="brush:cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;vector&gt;
using namespace std;
struct data
{
    int p,t;
    bool lg;
    data(){}
    data(int _p,int _t,bool _lg){p=_p;t=_t;lg=_lg;}
};
vector&lt;data&gt; po[10005];
int main()
{
    int n,m;
    //freopen("data.txt","r",stdin);
    while(scanf("%d%d",&amp;n,&amp;m),n||m)
    {
        for(int i=1;i&lt;=m;i++)
            po[i].clear();
        int r,q,t,nn,mm,s;
        scanf("%d",&amp;r);
        for(int i=0;i&lt;r;i++)
        {
            scanf("%d%d%d%d",&amp;t,&amp;nn,&amp;mm,&amp;s);
            po[mm].push_back(data(nn,t,s));
        }
        scanf("%d",&amp;q);
        for(int i=0;i&lt;q;i++)
        {
            int x,y,len,ans=0,lx;
            scanf("%d%d%d",&amp;x,&amp;y,&amp;mm);
            lx=x;
            len=po[mm].size();
            int cnt=0;
            for(int j=0;j&lt;len;j++)
            {
                if(po[mm][j].t&gt;y)
                {
                    if(cnt&gt;0)
                        ans+=y-lx;
                    break;
                }
                else if(po[mm][j].t&gt;=x)
                {
                    if(cnt&gt;0)
                        ans+=po[mm][j].t-lx;
                    lx=po[mm][j].t;
                }
                if(po[mm][j].lg)
                    cnt++;
                else
                    cnt--;
            }
            printf("%d\n",ans);
        }
    }
    return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-20859">
<article class="comment" id="comment-20859">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20859" rel="nofollow"><time datetime="2015-06-13T02:32:00+00:00" pubdate="">2015年6月13日 at 上午2:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实国内大部分公司对算法都不够重视。特别是中小型公司老板根本都不懂技术，也不懂什么是算法，从而也不要求程序员懂什么算法，做程序从来不考虑性能问题，只要页面能显示出来就是好程序，这是国内的现状，很无奈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62447">
<article class="comment" id="comment-62447">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-62447" rel="nofollow"><time datetime="2015-05-19T00:20:34+00:00" pubdate="">2015年5月19日 at 上午12:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44702">
<article class="comment" id="comment-44702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">silianbo</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-44702" rel="nofollow"><time datetime="2015-02-12T02:11:25+00:00" pubdate="">2015年2月12日 at 上午2:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目重复了，删掉一个吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44701">
<article class="comment" id="comment-44701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-44701" rel="nofollow"><time datetime="2015-01-23T00:10:54+00:00" pubdate="">2015年1月23日 at 上午12:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法很不错啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44700">
<article class="comment" id="comment-44700">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmer29</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-44700" rel="nofollow"><time datetime="2015-01-07T11:22:29+00:00" pubdate="">2015年1月7日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序员会算法，等于一个古惑仔带了zhi抢啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20855">
<article class="comment" id="comment-20855">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20855" rel="nofollow"><time datetime="2014-11-25T01:46:36+00:00" pubdate="">2014年11月25日 at 上午1:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20861">
<article class="comment" id="comment-20861">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20861" rel="nofollow"><time datetime="2014-11-17T00:31:53+00:00" pubdate="">2014年11月17日 at 上午12:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过  在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20860">
<article class="comment" id="comment-20860">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20860" rel="nofollow"><time datetime="2014-11-09T18:18:56+00:00" pubdate="">2014年11月9日 at 下午6:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for using the time to examine this, I truly feel strongly about it and enjoy finding out far more on this subject matter. If achievable, as you achieve knowledge</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20854">
<article class="comment" id="comment-20854">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">actlea</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20854" rel="nofollow"><time datetime="2014-10-03T13:32:22+00:00" pubdate="">2014年10月3日 at 下午1:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20857">
<article class="comment" id="comment-20857">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">raymanshf</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20857" rel="nofollow"><time datetime="2014-09-17T12:04:28+00:00" pubdate="">2014年9月17日 at 下午12:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>神奇的网站</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20862">
<article class="comment" id="comment-20862">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yesMan</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20862" rel="nofollow"><time datetime="2014-05-12T09:26:21+00:00" pubdate="">2014年5月12日 at 上午9:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>DFS方法的原理还是不太清楚啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20856">
<article class="comment" id="comment-20856">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20856" rel="nofollow"><time datetime="2014-03-12T23:42:13+00:00" pubdate="">2014年3月12日 at 下午11:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20858">
<article class="comment" id="comment-20858">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/hdu-2310-analyzing-loginlogout-records-3539.html#comment-20858" rel="nofollow"><time datetime="2014-02-27T03:41:49+00:00" pubdate="">2014年2月27日 at 上午3:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顶一个 赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>