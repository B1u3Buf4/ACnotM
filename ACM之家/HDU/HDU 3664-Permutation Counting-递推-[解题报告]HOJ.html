<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-30</div>
<div class="tit"><h1 class="entry-title">HDU 3664-Permutation Counting-递推-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/basis/recurrence" rel="category tag" title="查看递推中的全部文章">递推</a></span><span class="i4">围观653次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6625" href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comments" title="《HDU 3664-Permutation Counting-递推-[解题报告]HOJ》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Permutation Counting</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a permutation a1, a2, … aN of {1, 2, …, N}, we define its E-value as the amount of elements where ai &gt; i. For example, the E-value of permutation {1, 3, 2, 4} is 1, while the E-value of {4, 3, 2, 1} is 2. You are requested to find how many permutations of {1, 2, …, N} whose E-value is exactly k. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases, and one line for each case, which contains two integers, N and k. (1 &lt;= N &lt;= 1000, 0 &lt;= k &lt;= N).  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test cases, and one line for each case, which contains two integers, N and k. (1 &lt;= N &lt;= 1000, 0 &lt;= k &lt;= N). </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 0
3 1</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
4

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>There is only one permutation with E-value 0: {1,2,3}, and there are four permutations with E-value 1: {1,3,2}, {2,1,3}, {3,1,2}, {3,2,1}</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p>/*<br/>
分析：<br/>
    递推。<br/>
<span style="white-space:pre"></span>f[i][j]=①(f[i-1][j])+②(j*f[i-1][j])+③(f[i-1][j-1]*(i-j))，<br/>
特别的:f[i][0]=1,f[i][i]=0。</p>
<p>
                                                     2012-05-10<br/>
*/</p>
<p></p>
<pre class="brush:cpp" name="code">#include"stdio.h"
__int64 f[1011][1011];
int main()
{
	int i,l;
	int n,k;
	f[1][0]=1;
	f[1][1]=0;
	for(i=2;i&lt;=1000;i++)
	{
		f[i][0]=1;
		f[i][i]=0;
		for(l=1;l&lt;i;l++)
		{
			f[i][l]=f[i-1][l]+l*f[i-1][l]+f[i-1][l-1]*(i-l);
			f[i][l]%=1000000007;
		}
	}


	while(scanf("%d%d",&amp;n,&amp;k)!=-1)	printf("%d\n",f[n][k]);
	
	return 0;
}</pre>
<p>参考：http://blog.csdn.net/ice_crazy/article/details/7554933</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73496">
<article class="comment" id="comment-73496">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514361" rel="external nofollow">新用户575439</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-73496" rel="nofollow"><time datetime="2017-04-11T22:05:34+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>越南版也挺赞的嘛</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73495">
<article class="comment" id="comment-73495">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514361" rel="external nofollow">新用户575439</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-73495" rel="nofollow"><time datetime="2017-04-11T22:05:34+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>越南版也挺赞的嘛</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-73494">
<article class="comment" id="comment-73494">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514361" rel="external nofollow">新用户575439</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-73494" rel="nofollow"><time datetime="2017-04-11T22:05:34+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>越南版也挺赞的嘛</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73493">
<article class="comment" id="comment-73493">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514361" rel="external nofollow">新用户575439</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-73493" rel="nofollow"><time datetime="2017-04-11T22:05:34+00:00" pubdate="">2017年4月11日 at 下午10:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>越南版也挺赞的嘛</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50706">
<article class="comment" id="comment-50706">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jdliyao</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50706" rel="nofollow"><time datetime="2015-07-12T20:27:11+00:00" pubdate="">2015年7月12日 at 下午8:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-64540">
<article class="comment" id="comment-64540">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn">沉酣芍药</span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-64540" rel="nofollow"><time datetime="2015-07-09T11:49:49+00:00" pubdate="">2015年7月9日 at 上午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞赞赞！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50708">
<article class="comment" id="comment-50708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jamoeba</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50708" rel="nofollow"><time datetime="2015-06-30T18:01:22+00:00" pubdate="">2015年6月30日 at 下午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，解决了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59453">
<article class="comment" id="comment-59453">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-59453" rel="nofollow"><time datetime="2015-06-28T01:51:11+00:00" pubdate="">2015年6月28日 at 上午1:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>a是根先忽略掉，递归子树。剩下前缀bejkcfghid和后缀jkebfghicd，分拆的原则的是每个子树前缀和后缀的节点个数是一样的，根节点出现在前缀的第一个，后缀的最后一个。根节点b出现后缀的第四个位置，则第一部分为四个节点，前缀bejk，后缀jkeb，剩下的c出现在后缀的倒数第2个，就划分为cfghi和 fghic，第3部分就为c、c</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59450">
<article class="comment" id="comment-59450">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-59450" rel="nofollow"><time datetime="2015-05-26T08:46:08+00:00" pubdate="">2015年5月26日 at 上午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63938">
<article class="comment" id="comment-63938">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-63938" rel="nofollow"><time datetime="2015-05-23T07:06:47+00:00" pubdate="">2015年5月23日 at 上午7:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50705">
<article class="comment" id="comment-50705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50705" rel="nofollow"><time datetime="2015-04-28T20:34:08+00:00" pubdate="">2015年4月28日 at 下午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50707">
<article class="comment" id="comment-50707">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50707" rel="nofollow"><time datetime="2015-03-07T20:17:03+00:00" pubdate="">2015年3月7日 at 下午8:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50704">
<article class="comment" id="comment-50704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50704" rel="nofollow"><time datetime="2015-03-04T06:29:27+00:00" pubdate="">2015年3月4日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在练习，很有帮助</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63939">
<article class="comment" id="comment-63939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-63939" rel="nofollow"><time datetime="2015-02-10T13:45:11+00:00" pubdate="">2015年2月10日 at 下午1:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59452">
<article class="comment" id="comment-59452">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yelawolf</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-59452" rel="nofollow"><time datetime="2015-01-12T14:13:42+00:00" pubdate="">2015年1月12日 at 下午2:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以用公式。主要为了说明动态规划，如果要打表的话，这种方法也是较简单和高效的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63940">
<article class="comment" id="comment-63940">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ycaxgjd</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-63940" rel="nofollow"><time datetime="2014-12-29T20:27:42+00:00" pubdate="">2014年12月29日 at 下午8:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50703">
<article class="comment" id="comment-50703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-50703" rel="nofollow"><time datetime="2014-12-21T02:07:50+00:00" pubdate="">2014年12月21日 at 上午2:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>漏了一个"不"，已修正:)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59451">
<article class="comment" id="comment-59451">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-3664-permutation-counting-6625.html#comment-59451" rel="nofollow"><time datetime="2014-12-13T08:25:48+00:00" pubdate="">2014年12月13日 at 上午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>输入样例作为一个整体输入，带回车</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>