<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2281 Square Number-数论应用-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a>, <a href="http://www.acmerblog.com/category/math/number-theory" rel="category tag" title="查看数论应用中的全部文章">数论应用</a></span><span class="i4">围观796次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3511" href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comments" title="《hdu 2281 Square Number-数论应用-[解题报告]C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Square Number</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Find the biggest integer n (1 &lt;= n &lt;= N) and an integer x to make them satisfy<br/><img src="http://www.acmerblog.com/img/1388995513456.jpg"/> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of several test cases. Each test case contains a integer N, 1&lt;=N&lt;=10^18.The input ends with N = 0. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of several test cases. Each test case contains a integer N, 1&lt;=N&lt;=10^18.The input ends with N = 0.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1
2
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1 1
1 1</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2281" target="_blank">http://acm.hdu.edu.cn/showproblem.php?pid=2281</a></p>
<p>
</p>
<p>思路：</p>
<p>原式化为：m^2-48x^2=1，(m=4n+3)</p>
<p>立即得到最小正整数解：m1=7，x1=1</p>
<p>后面就和<a href="http://blog.csdn.net/synapse7/article/details/9800519" target="_blank"><span style="color:#3366ff">uva 138</span></a>一样了。</p>
<p>注意：得到mk后还要判断(mk-3)%4==0才能加到n中，详见代码。
</p>
<p>
</p>
<p>完整代码：</p>
<pre class="brush:cpp ">/*31ms,276KB*/

#include&lt;cstdio&gt;
#include&lt;vector&gt;
using namespace std;
typedef __int64 ll;
const ll maxn = 1e18;

ll n[20], x[20];
vector&lt;ll&gt; nn, xx;

int main()
{
	int i;
	long long N;
	n[0] = 7LL, x[0] = 1LL;
	nn.push_back(1LL), xx.push_back(1LL);
	for (i = 1;; ++i)
	{
		n[i] = 7LL * n[i - 1] + 48LL * x[i - 1];
		x[i] = n[i - 1] + 7LL * x[i - 1];
		if (n[i] &lt; 0) break;
		if ((n[i] - 3) % 4 == 0) nn.push_back((n[i] - 3) / 4), xx.push_back(x[i]);
	}
	nn.push_back(maxn + 5);
	while (scanf("%I64d", &amp;N), N)
	{
		for (i = 0; i &lt; nn.size(); ++i)
		{
			if (N &lt; nn[i])
			{
				printf("%I64d %I64d\n", nn[i - 1], xx[i - 1]);
				break;
			}
		}
	}
	return 0;
}</pre>
<p></p>
<p>解题转自：http://blog.csdn.net/synapse7/article/details/16994157</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-86062">
<article class="comment" id="comment-86062">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86062" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86061">
<article class="comment" id="comment-86061">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86061" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86060">
<article class="comment" id="comment-86060">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86060" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86059">
<article class="comment" id="comment-86059">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86059" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86058">
<article class="comment" id="comment-86058">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86058" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86057">
<article class="comment" id="comment-86057">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86057" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86056">
<article class="comment" id="comment-86056">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86056" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86055">
<article class="comment" id="comment-86055">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919516040" rel="external nofollow">新用户113993</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-86055" rel="nofollow"><time datetime="2017-04-13T04:24:33+00:00" pubdate="">2017年4月13日 at 上午4:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大家都别吵吵，我来深刻解读一下：1、如果从电量0开始这么干，到100%要1500分钟，即25小时。2、谁能告诉我0电量，哪个手机能玩游戏？还是常亮。。。所以手机里肯定得有电。3、谁能告诉我，充电宝是多少毫安时的？哪个牌子的？稳定充电吗？4、玩游戏如此耗电</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20621">
<article class="comment" id="comment-20621">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20621" rel="nofollow"><time datetime="2015-05-08T22:22:52+00:00" pubdate="">2015年5月8日 at 下午10:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>原来欧几里德定理应用这么多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20613">
<article class="comment" id="comment-20613">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20613" rel="nofollow"><time datetime="2015-05-05T14:03:22+00:00" pubdate="">2015年5月5日 at 下午2:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>什么破题，题意好难懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20616">
<article class="comment" id="comment-20616">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20616" rel="nofollow"><time datetime="2015-04-10T11:08:28+00:00" pubdate="">2015年4月10日 at 上午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great work！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44616">
<article class="comment" id="comment-44616">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-44616" rel="nofollow"><time datetime="2015-03-14T11:22:00+00:00" pubdate="">2015年3月14日 at 上午11:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56516">
<article class="comment" id="comment-56516">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-56516" rel="nofollow"><time datetime="2014-12-26T05:45:19+00:00" pubdate="">2014年12月26日 at 上午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20611">
<article class="comment" id="comment-20611">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jxfactor</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20611" rel="nofollow"><time datetime="2014-12-04T11:29:04+00:00" pubdate="">2014年12月4日 at 上午11:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯，尽量吧。题目太多了，很多解题报告是用程序自动发布的，所以就只有代码了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20618">
<article class="comment" id="comment-20618">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20618" rel="nofollow"><time datetime="2014-09-02T23:49:08+00:00" pubdate="">2014年9月2日 at 下午11:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码可真够长的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20612">
<article class="comment" id="comment-20612">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20612" rel="nofollow"><time datetime="2014-08-28T18:53:44+00:00" pubdate="">2014年8月28日 at 下午6:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有意思，可惜我很菜啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20610">
<article class="comment" id="comment-20610">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20610" rel="nofollow"><time datetime="2014-08-10T12:02:08+00:00" pubdate="">2014年8月10日 at 下午12:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>“再把所有不和该节点相邻的节点着相同的颜色”，程序中没有进行不和该节点相邻的其他节点是否相邻进行判断。再说求出来的也不一样是颜色数最少的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20615">
<article class="comment" id="comment-20615">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20615" rel="nofollow"><time datetime="2014-08-05T07:21:28+00:00" pubdate="">2014年8月5日 at 上午7:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20614">
<article class="comment" id="comment-20614">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20614" rel="nofollow"><time datetime="2014-07-10T12:36:22+00:00" pubdate="">2014年7月10日 at 下午12:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20620">
<article class="comment" id="comment-20620">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20620" rel="nofollow"><time datetime="2014-05-19T04:08:34+00:00" pubdate="">2014年5月19日 at 上午4:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-20619">
<article class="comment" id="comment-20619">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20619" rel="nofollow"><time datetime="2014-04-24T17:57:01+00:00" pubdate="">2014年4月24日 at 下午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-20617">
<article class="comment" id="comment-20617">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/hdu-2281-square-number-3511.html#comment-20617" rel="nofollow"><time datetime="2014-01-13T07:49:21+00:00" pubdate="">2014年1月13日 at 上午7:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>