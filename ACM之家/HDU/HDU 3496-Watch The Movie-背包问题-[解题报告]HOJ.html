<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>04-09</div>
<div class="tit"><h1 class="entry-title">HDU 3496-Watch The Movie-背包问题-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/dp2/package" rel="category tag" title="查看背包问题中的全部文章">背包问题</a></span><span class="i4">围观321次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5696" href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comments" title="《HDU 3496-Watch The Movie-背包问题-[解题报告]HOJ》上的评论">12 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Watch The Movie</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">New semester is coming, and DuoDuo has to go to school tomorrow. She decides to have fun tonight and will be very busy after tonight. She like watch cartoon very much. So she wants her uncle to buy some movies and watch with her tonight. Her grandfather gave them L minutes to watch the cartoon. After that they have to go to sleep.<br/>
DuoDuo list N piece of movies from 1 to N. All of them are her favorite, and she wants her uncle buy for her. She give a value Vi (Vi &gt; 0) of the N piece of movies. The higher value a movie gets shows that DuoDuo likes it more. Each movie has a time Ti to play over. If a movie DuoDuo choice to watch she won’t stop until it goes to end.<br/>
But there is a strange problem, the shop just sell M piece of movies (not less or more then), It is difficult for her uncle to make the decision. How to select M piece of movies from N piece of DVDs that DuoDuo want to get the highest value and the time they cost not more then L.<br/>
How clever you are! Please help DuoDuo’s uncle.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The first line of the input file contains a single integer t (1 ≤ t ≤ 10), the number of test cases, followed by input data for each test case:<br/>
The first line is: N(N &lt;= 100),M(M&lt;=N),L(L &lt;= 1000)<br/>
N: the number of DVD that DuoDuo want buy.<br/>
M: the number of DVD that the shop can sale.<br/>
L: the longest time that her grandfather allowed to watch.<br/>
The second line to N+1 line, each line contain two numbers. The first number is the time of the ith DVD, and the second number is the value of ith DVD that DuoDuo rated.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The first line of the input file contains a single integer t (1 ≤ t ≤ 10), the number of test cases, followed by input data for each test case:<br/>
The first line is: N(N &lt;= 100),M(M&lt;=N),L(L &lt;= 1000)<br/>
N: the number of DVD that DuoDuo want buy.<br/>
M: the number of DVD that the shop can sale.<br/>
L: the longest time that her grandfather allowed to watch.<br/>
The second line to N+1 line, each line contain two numbers. The first number is the time of the ith DVD, and the second number is the value of ith DVD that DuoDuo rated.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">1
3 2 10
11 100
1 2
9 1</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">3</pre>
<p><!-- problem end --><br/>
注意一下初始化，它的价值有可能是负值。<br/>
代码:</p>
<pre class="brush:cpp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#define inf 999999
int dp[102][1002],t[102],v[102];
int max(int a,int b)
{
    return a&gt;b?a:b;
}
int main()
{
    int n,m,i,j,k,L,T;
    scanf("%d",&amp;T);
    while(T--)
    {
        scanf("%d%d%d",&amp;n,&amp;m,&amp;L);
        for(i=0;i&lt;n;i++)
            scanf("%d%d",&amp;t[i],&amp;v[i]);
        for(i=0;i&lt;=m;i++)
            for(j=0;j&lt;=L;j++)
            {
                if(i==0)
                    dp[i][j]=0;
                else
                    dp[i][j]=-inf; //注意初始化为负无穷，价值可能是负值
            }
        for(i=0;i&lt;n;i++)
            for(j=m;j&gt;=1;j--)
                for(k=L;k&gt;=t[i];k--)
                    dp[j][k]=max(dp[j][k],dp[j-1][k-t[i]]+v[i]);
        if(dp[m][L]&lt;0)
            dp[m][L]=0;
        printf("%d\n",dp[m][L]);
    }
    return 0;
}
</pre>
<p> </p>
<p>参考：<a href="#respond">http://blog.csdn.net/lyhvoyage/article/details/8776464</a></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75989">
<article class="comment" id="comment-75989">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520666" rel="external nofollow">新用户473187</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-75989" rel="nofollow"><time datetime="2017-04-12T05:46:05+00:00" pubdate="">2017年4月12日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>他人笑我太疯癫，我笑他人看不穿。星爷顶起</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30136">
<article class="comment" id="comment-30136">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30136" rel="nofollow"><time datetime="2015-04-12T03:09:45+00:00" pubdate="">2015年4月12日 at 上午3:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30132">
<article class="comment" id="comment-30132">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Amber</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30132" rel="nofollow"><time datetime="2015-03-03T14:16:43+00:00" pubdate="">2015年3月3日 at 下午2:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和编译器有关吧，我用的g++正常。头文件可能还需要一个&lt;string.h&gt;</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30140">
<article class="comment" id="comment-30140">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">anshansh</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30140" rel="nofollow"><time datetime="2015-02-09T10:18:35+00:00" pubdate="">2015年2月9日 at 上午10:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30134">
<article class="comment" id="comment-30134">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30134" rel="nofollow"><time datetime="2015-01-30T23:00:06+00:00" pubdate="">2015年1月30日 at 下午11:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>约瑟夫也用说这么长……很成熟的一个问题了，分治的方法解起来o(n)就可以了，有兴趣可以看看具体数学的第一章，关于约瑟夫问题推导出了一系列的结论，很漂亮</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30133">
<article class="comment" id="comment-30133">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30133" rel="nofollow"><time datetime="2015-01-21T04:21:44+00:00" pubdate="">2015年1月21日 at 上午4:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30138">
<article class="comment" id="comment-30138">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bai</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30138" rel="nofollow"><time datetime="2014-12-22T04:39:38+00:00" pubdate="">2014年12月22日 at 上午4:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30137">
<article class="comment" id="comment-30137">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1173954900</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30137" rel="nofollow"><time datetime="2014-08-31T16:00:53+00:00" pubdate="">2014年8月31日 at 下午4:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 备用</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30131">
<article class="comment" id="comment-30131">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30131" rel="nofollow"><time datetime="2014-08-28T15:04:53+00:00" pubdate="">2014年8月28日 at 下午3:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感谢分享 学习了`(*∩_∩*)′</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30139">
<article class="comment" id="comment-30139">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30139" rel="nofollow"><time datetime="2014-08-10T06:29:00+00:00" pubdate="">2014年8月10日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-58729">
<article class="comment" id="comment-58729">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-58729" rel="nofollow"><time datetime="2014-08-05T01:20:21+00:00" pubdate="">2014年8月5日 at 上午1:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于AC了！next数组还是不好理解啊，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30135">
<article class="comment" id="comment-30135">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/hdu-3496-watch-the-movie-5696.html#comment-30135" rel="nofollow"><time datetime="2014-06-15T14:36:09+00:00" pubdate="">2014年6月15日 at 下午2:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目重复了，删掉一个吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>