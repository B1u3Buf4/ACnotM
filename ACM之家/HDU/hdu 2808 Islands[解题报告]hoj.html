<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-17</div>
<div class="tit"><h1 class="entry-title">hdu 2808 Islands[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观332次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4443" href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comments" title="《hdu 2808 Islands[解题报告]hoj》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Islands</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">There are so many islands in the sea. Some islands are enclosed by other ones. So, we can classify all the islands to several levels. An island has a level of 0 if it is contains no other islands. An island has a level of K+1 if it contains one or more islands and the highest level of the contained island(s) is K. Now, the map of the sea is given. Your task is to calculate the areas of islands in each level.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The input contains several test cases. Each test case starts with a line contains two numbers N and M(1&lt;=N&lt;=100,1&lt;=M&lt;=100) which indicate the size of the map. The next N lines will contain M characters each to represent the map. Each character is either ‘x’ or ‘.’. A sea is defined as a maximal connected group of ‘.’ cells, where two ‘.’ cells are connected if they are vertically or horizontally adjacent. An island is defined as a maximal connected group of ‘x’ cells, where two ‘x’ cells are connected if they are vertically, horizontally, or diagonally adjacent. An island A contains island B if A and B are different and if you start sailing from any point of island B, you won’t be able to sail out of island A.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The input contains several test cases. Each test case starts with a line contains two numbers N and M(1&lt;=N&lt;=100,1&lt;=M&lt;=100) which indicate the size of the map. The next N lines will contain M characters each to represent the map. Each character is either ‘x’ or ‘.’. A sea is defined as a maximal connected group of ‘.’ cells, where two ‘.’ cells are connected if they are vertically or horizontally adjacent. An island is defined as a maximal connected group of ‘x’ cells, where two ‘x’ cells are connected if they are vertically, horizontally, or diagonally adjacent. An island A contains island B if A and B are different and if you start sailing from any point of island B, you won’t be able to sail out of island A.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">1 1
x
5 7
.xxxxx.
x.....x
x.x.x.x
x.....x
.xxxxx.</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">1
2 16</pre>
<p><!-- problem end --></p>
<p> </p>
<p>http://acm.hit.edu.cn/hoj/problem/view?id=2808</p>
<p><img align="middle" alt="" height="260" src="http://cdn.acmerblog.com/img/1393477027580.png" width="400"/></p>
<p>首先w&gt;=2r →r&lt;=w/2</p>
<p>分情况讨论</p>
<p>①  :以w为高 以h-2r为周长</p>
<p>h-2r&gt;=2*pi*r → r&lt;=h/(2*pi+2)</p>
<p>r1=min(h/(2*pi+2),w/2)</p>
<p>v1=r1^2*pi*w</p>
<p>②  ：以h-2r为高以w为周长</p>
<p>w&gt;=2*pi*r → r&lt;=w/2*pi</p>
<p>r2=w/2*pi</p>
<p>v2=w^2 * (h-(w/pi))/(4*pi)</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

double min(double a, double b);

int main()
{
    const double pi = acos(-1);
    double h, w, r1, v1, v2;

    while (scanf("%lf %lf", &amp;w, &amp;h) != EOF)
    {
        if ( (h == 0) &amp;&amp; (w == 0) )
            break;

        r1 = min(0.5 * h / (pi + 1), w / 2);
        v1 = r1 * r1 * w * pi;

        v2 = w * w * (h - (w / pi) ) / (4 * pi);

        if (v1 &lt;= v2)
            printf("%.3lf\n",v2);
        else
            printf("%.3lf\n",v1);
    }

    return 0;
}

double min(double a, double b)
{
    if(a &lt;= b)
        return a;
    else
        return b;
}</pre>
<p>解题参考：http://blog.csdn.net/epk_lee/article/details/8203060</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81876">
<article class="comment" id="comment-81876">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81876" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81875">
<article class="comment" id="comment-81875">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81875" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81874">
<article class="comment" id="comment-81874">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81874" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81873">
<article class="comment" id="comment-81873">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81873" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81872">
<article class="comment" id="comment-81872">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81872" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81871">
<article class="comment" id="comment-81871">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81871" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81870">
<article class="comment" id="comment-81870">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81870" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81869">
<article class="comment" id="comment-81869">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81869" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81868">
<article class="comment" id="comment-81868">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81868" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81866">
<article class="comment" id="comment-81866">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526717" rel="external nofollow">新用户772912</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-81866" rel="nofollow"><time datetime="2017-04-12T19:45:07+00:00" pubdate="">2017年4月12日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>法克，原来这游戏的码农是个基佬。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46605">
<article class="comment" id="comment-46605">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">daisyleedq</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46605" rel="nofollow"><time datetime="2015-06-24T13:09:13+00:00" pubdate="">2015年6月24日 at 下午1:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>问题3中，GetRightPosition()和GetLeftPosition()与STL中的upper_bound()和lower_boune()的代码实现一样吗？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46602">
<article class="comment" id="comment-46602">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46602" rel="nofollow"><time datetime="2015-06-18T23:17:33+00:00" pubdate="">2015年6月18日 at 下午11:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>C语言版本的代码好像有点问题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24842">
<article class="comment" id="comment-24842">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-24842" rel="nofollow"><time datetime="2015-06-13T00:26:17+00:00" pubdate="">2015年6月13日 at 上午12:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>神奇的网站</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46604">
<article class="comment" id="comment-46604">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46604" rel="nofollow"><time datetime="2015-05-19T12:58:14+00:00" pubdate="">2015年5月19日 at 下午12:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了，你试过了吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-24841">
<article class="comment" id="comment-24841">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">g29tony</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-24841" rel="nofollow"><time datetime="2015-03-04T07:05:28+00:00" pubdate="">2015年3月4日 at 上午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我表示楼主不要乱抄题，你写的另一个题吧，直接扒了代码没跑吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46603">
<article class="comment" id="comment-46603">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qq1005873807</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46603" rel="nofollow"><time datetime="2015-02-04T05:59:18+00:00" pubdate="">2015年2月4日 at 上午5:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46600">
<article class="comment" id="comment-46600">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46600" rel="nofollow"><time datetime="2015-01-06T13:47:19+00:00" pubdate="">2015年1月6日 at 下午1:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给你一组数据吧：29 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 1000。此时的数据量还是很小的，耗时却不短。这种方法确实可以，当然或许还有其他的优化方案，但是优化只能针对某些数据，不太可能在所有情况下都能在可接受的时间内求解出答案。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24839">
<article class="comment" id="comment-24839">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-24839" rel="nofollow"><time datetime="2014-12-30T23:13:11+00:00" pubdate="">2014年12月30日 at 下午11:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>遍历了所有的情况(2^n)，tmp数组就是由当前遍历的状态s推算出的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46601">
<article class="comment" id="comment-46601">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotong2055</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46601" rel="nofollow"><time datetime="2014-11-12T08:55:54+00:00" pubdate="">2014年11月12日 at 上午8:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-24840">
<article class="comment" id="comment-24840">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-24840" rel="nofollow"><time datetime="2014-05-15T14:42:16+00:00" pubdate="">2014年5月15日 at 下午2:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已经挂掉了，给个参考呗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46606">
<article class="comment" id="comment-46606">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Yaunxi</a></span> on <a href="http://www.acmerblog.com/hdu-2808-islands-4443.html#comment-46606" rel="nofollow"><time datetime="2014-03-09T10:16:18+00:00" pubdate="">2014年3月9日 at 上午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这怎么用Catalan数啊？求解答！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>