<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-10</div>
<div class="tit"><h1 class="entry-title">HDU 3775-Chain Code-计算几何-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a>, <a href="http://www.acmerblog.com/category/geometry" rel="category tag" title="查看计算几何中的全部文章">计算几何</a></span><span class="i4">围观451次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6770" href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comments" title="《HDU 3775-Chain Code-计算几何-[解题报告]HOJ》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Chain Code</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">In a black and white (bi-level) image, collections of connected black pixels can be defined as foreground or objects, while white can be thought of as background. Each set of connected black pixels can be completely described by listing the positions of the pixels on its boundary in counterclockwise order, starting at some arbitrary point on the boundary. This list of pixels can, in turn, be represented simply as the direction to the next one in the list. This list of directions is called the chain code of the object, and describes the shape of the object precisely while being position independent.<br/>
There are 8 possible directions from one pixel to an adjacent pixel, and while assigning these numbers is arbitrary, <b>figure 1</b> shows the standard convention. The direction 0 means “to the right of”, 2 “means immediately above”, and 1 is at 45 degrees, bisecting 0 and 2, and so on.<br/>
figure1:<br/>
<img alt="Ropes" src="http://cdn.acmerblog.com/img/1435835405287.jpg"/><br/>
Two black pixels are considered to be adjacent if the square of the distance between them is less than or equal to 2. This is based on a standard graphics coordinate system having a pixel at each integer coordinate. Two pixels are connected if a contiguous path of adjacent pixels can be traced between them. A connected region is a set of black pixels in which all members are connected to each other. A boundary pixel of a connected region (from now on just a region) is a pixel within the region that has at least one neighbor (in the four compass directions) that is not black. For this problem, you may assume that there are no “holes” in the region, so that there is only one boundary of the region.The chain code of a region can start at any pixel on the boundary. It proceeds by finding the next adjacent pixel on the boundary in a counter-clockwise direction, saving the direction (0-7) in an output buffer, and then continuing the process from the new pixel. When we arrive at the starting pixel again, the chain code is complete. The output buffer contains a set of direction values which comprise the chain code itself, and from which the original set of pixels can be recreated starting at any pixel position in an image.
<p>As an example, a chain code for the region in <b>figure 2</b> is 446567001232. The chain code describes the shape of the region unambiguously, although its position is completely unknown. Shape related measures such as perimeter and area (number of pixels in the region) can be determined directly from the chain code description alone. You are to write a program that calculates the area of a connected region given only the chain code.<br/>
figure 2<br/>
<img alt="Ropes" src="http://cdn.acmerblog.com/img/1435835405373.jpg"/></p>
</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The input will be a collection of chain code strings, one per line. Each chain code contains at most 1000000 characters. You may assume that each chain code describes a valid region, and does not describe a boundary that intersects itself.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The input will be a collection of chain code strings, one per line. Each chain code contains at most 1000000 characters. You may assume that each chain code describes a valid region, and does not describe a boundary that intersects itself.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">446567001232
6024</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">19
4</pre>
<p><!-- problem end --></p>
<p> </p>
<div>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">Pick<span style="font-family: 宋体;">定理，昨天的比赛居然也需要用到，还好以前学了点计算几何，不然昨天就雪上加霜了……</span><br/>
<span style="font-family: Times New Roman;">orz</span><br/>
<span style="font-family: 宋体;">……</span><br/>
</span></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">进入正题，<span style="font-family: Times New Roman;">Pick</span><br/>
<span style="font-family: 宋体;">定理是这样的，</span><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">S=a+ b/2 - 1</span><br/>
<span style="font-size: 10.5pt; font-family: '宋体';">，其中</span><br/>
<span style="font-size: 10.5pt; font-family: '宋体';">S<span style="font-family: 宋体;">是图形面积，</span><br/>
<span style="font-family: Times New Roman;">a</span><br/>
<span style="font-family: 宋体;">是图形内部格点数，</span><br/>
<span style="font-family: Times New Roman;">b</span><br/>
<span style="font-family: 宋体;">是边经过的格点数，适用范围是：顶点坐标均是整点，或者说顶点在格点上的简单多边形。</span><br/>
</span></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">面积怎么求？三角形的叉乘。</span></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><img alt="Chain Code" src="http://cdn.acmerblog.com/img/1435835459159.gif"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">这题很让人郁闷的是，图中的顶点并不是用</span><br/>
<span style="font-size: 10.5pt; font-family: '宋体';">pick<span style="font-family: 宋体;">定理求出的顶点，而还要再加上外面那一圈，也就是还要加上</span><br/>
<span style="font-family: Times New Roman;">b</span><br/>
</span></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><img alt="Chain Code" src="http://cdn.acmerblog.com/img/1435835459306.gif"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">图中橙色的图形表示的是用<span style="font-family: Times New Roman;">pick</span><br/>
<span style="font-family: 宋体;">定理求出的面积，所以还要再加上外面这一圈才是答案。</span><br/>
</span></p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><span style="font-family: 宋体;">代码如下：</span><br/>
</span></p>
<pre class="brush:cpp">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
char str[1000005];
int drow[8]={0,-1,-1,-1,0,1,1,1};
int dcol[8]={1,1,0,-1,-1,-1,0,1};
int main()
{
	__int64 r1,c1,val,r,c,i,j,n;
	__int64 s,ans;
	while(scanf("%s",str)!=EOF)
	{
		n=strlen(str);
		r=c=s=0;
		for (i=0;i&lt;n;i++)
		{
			val=str[i]-'0';
			r1=r+drow[val];
			c1=c+dcol[val];
			s=s+r*c1-c*r1;
			r=r1;
			c=c1;
		}
		if (s&lt;0) s=-s;
		printf("%I64d/n",(n+s)/2+1);
	}
	return 0;
}</pre>
<p>参考：http://blog.csdn.net/magicnumber/article/details/6192242</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div>
<!-- .entry-content -->
<br/>
<!-- .entry-utility -->
</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-72942">
<article class="comment" id="comment-72942">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531276" rel="external nofollow">新用户750425</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-72942" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个短片，我也看了几边，忍受着移动3G的爆卡看完的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72941">
<article class="comment" id="comment-72941">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531276" rel="external nofollow">新用户750425</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-72941" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个短片，我也看了几边，忍受着移动3G的爆卡看完的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72940">
<article class="comment" id="comment-72940">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531276" rel="external nofollow">新用户750425</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-72940" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个短片，我也看了几边，忍受着移动3G的爆卡看完的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72939">
<article class="comment" id="comment-72939">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531276" rel="external nofollow">新用户750425</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-72939" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个短片，我也看了几边，忍受着移动3G的爆卡看完的。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33703">
<article class="comment" id="comment-33703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33703" rel="nofollow"><time datetime="2015-06-30T14:26:54+00:00" pubdate="">2015年6月30日 at 下午2:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks i enjoy your write-up about Why We Keep track of | J Squared Consulting</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33705">
<article class="comment" id="comment-33705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33705" rel="nofollow"><time datetime="2015-06-27T06:47:43+00:00" pubdate="">2015年6月27日 at 上午6:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没有对题目进行一番分析，真是美中不足啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-64014">
<article class="comment" id="comment-64014">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">renke</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-64014" rel="nofollow"><time datetime="2015-06-23T09:33:30+00:00" pubdate="">2015年6月23日 at 上午9:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么编译器啊，不通过</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33707">
<article class="comment" id="comment-33707">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33707" rel="nofollow"><time datetime="2015-06-17T02:35:53+00:00" pubdate="">2015年6月17日 at 上午2:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33699">
<article class="comment" id="comment-33699">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33699" rel="nofollow"><time datetime="2015-06-12T02:30:46+00:00" pubdate="">2015年6月12日 at 上午2:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33701">
<article class="comment" id="comment-33701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaobei</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33701" rel="nofollow"><time datetime="2015-06-08T14:13:08+00:00" pubdate="">2015年6月8日 at 下午2:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33708">
<article class="comment" id="comment-33708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33708" rel="nofollow"><time datetime="2015-05-19T23:03:45+00:00" pubdate="">2015年5月19日 at 下午11:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没错的，再乘以m的就多余了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33700">
<article class="comment" id="comment-33700">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33700" rel="nofollow"><time datetime="2015-05-18T06:22:51+00:00" pubdate="">2015年5月18日 at 上午6:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个解法好像不对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33704">
<article class="comment" id="comment-33704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33704" rel="nofollow"><time datetime="2015-05-16T15:01:14+00:00" pubdate="">2015年5月16日 at 下午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个也是算法导论的习题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33710">
<article class="comment" id="comment-33710">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33710" rel="nofollow"><time datetime="2015-05-12T13:12:12+00:00" pubdate="">2015年5月12日 at 下午1:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个系列很不错</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33706">
<article class="comment" id="comment-33706">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33706" rel="nofollow"><time datetime="2015-04-29T01:00:38+00:00" pubdate="">2015年4月29日 at 上午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的代码！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33702">
<article class="comment" id="comment-33702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hsp_77_abc</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33702" rel="nofollow"><time datetime="2015-04-26T12:34:39+00:00" pubdate="">2015年4月26日 at 下午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，值得借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33709">
<article class="comment" id="comment-33709">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33709" rel="nofollow"><time datetime="2015-04-24T05:17:32+00:00" pubdate="">2015年4月24日 at 上午5:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>I go through some of your put up and I uncovered a good deal of expertise from it. Many thanks for posting this sort of exciting posts</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33698">
<article class="comment" id="comment-33698">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-3775-chain-code-6770.html#comment-33698" rel="nofollow"><time datetime="2015-04-17T08:40:40+00:00" pubdate="">2015年4月17日 at 上午8:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>