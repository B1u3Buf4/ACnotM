<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-17</div>
<div class="tit"><h1 class="entry-title">HDU 2894-DeBruijin-栈-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search" rel="category tag" title="查看搜索中的全部文章">搜索</a></span><span class="i4">围观922次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4537" href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comments" title="《HDU 2894-DeBruijin-栈-[解题报告]HOJ》上的评论">19 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">DeBruijin</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
旋转鼓的表面分成m块扇形,如图所示(m=8)。图中阴影区表示用导电材料制成,空白区用绝缘材料制成,终端a、b和c是3（k=3）处接地或不是接地分别用二进制信号0或1表示。因此,鼓的位置可用二进制信号表示。试问应如何选取这8个扇形的材料使每转过一个扇形都得到一个不同的二进制信号,即每转一周,能得到000到111的8个数。
<p></p><center><img src="http://www.acmerblog.com/img/1392912743602.jpg"/></center> <br/>那我们现在把旋转鼓的表面分成m块扇形，每一份记为0或1，使得任何相继的k个数的有序组（按同一方向）都不同，对固定的k，m最大可达到多少，并任意输出符合条件的一个这样的有序组。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
每个case输入一个数k （2&lt;=k&lt;=11）,表示图中所示的abc这样的接地线的数量。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
每个case输入一个数k （2&lt;=k&lt;=11）,表示图中所示的abc这样的接地线的数量。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
8 00010111</pre>
<p> <!-- problem end --></p>
<p>这个题暴搜10分钟写出来了，也AC了。但听XLK和LYD神牛讲的欧拉回路的方法，真心跪了！</p>
<p>XLK题解（有改动）：</p>
<p class="p0">很显然，第一问的答案就是<span style="font-family: 'Times New Roman';">2^n</span><span style="font-family: 宋体;">。</span></p>
<p class="p0">第二问，构造一个有<span style="font-family: 'Times New Roman';">2^(n-1)</span><span style="font-family: 宋体;">个节点的图，对应</span><span style="font-family: 'Times New Roman';">2^(n-1)</span><span style="font-family: 宋体;">个</span><span style="font-family: 'Times New Roman';">n-1</span><span style="font-family: 宋体;">位二进制数。从代表数</span><span style="font-family: 'Times New Roman';">k</span><span style="font-family: 宋体;">的节点</span><span style="font-family: 'Times New Roman';">(0&lt;=k&lt;2^(n-1))</span><span style="font-family: 宋体;">向代表数</span><span style="font-family: 'Times New Roman';">(k&lt;&lt;1)&amp;(1&lt;&lt;n-1)</span><span style="font-family: 宋体;">的节点，和代表数</span><span style="font-family: 'Times New Roman';">(k&lt;&lt;1)&amp;(1&lt;&lt;n-1)+1</span><span style="font-family: 宋体;">的节点分别连一条边。可以发现这样的图中，所有点的入度和出度都是</span><span style="font-family: 'Times New Roman';">2</span><span style="font-family: 宋体;">，因此这是一个欧拉图。因此我们从</span><span style="font-family: 'Times New Roman';">0</span><span style="font-family: 宋体;">号点开始</span><span style="font-family: 'Times New Roman';">dfs</span><span style="font-family: 宋体;">寻找一个欧拉回路，回溯的时候记录到栈中，最后倒序输出即可。因为要求字典序最小，</span><span style="font-family: 'Times New Roman';">dfs</span><span style="font-family: 宋体;">的时候要注意搜索顺序，先走</span><span style="font-family: 'Times New Roman';">0</span><span style="font-family: 宋体;">边，再走</span><span style="font-family: 'Times New Roman';">1</span><span style="font-family: 宋体;">边。这个算法寻找欧拉回路，每个点、每条边只访问一次，是</span><span style="font-family: 'Times New Roman';">O(V+E)</span><span style="font-family: 宋体;">级别的。</span></p>
<p class="p0">时间复杂度<span style="font-family: 'Times New Roman';">O(2^n)</span><span style="font-family: 宋体;">，预计得分</span><span style="font-family: 'Times New Roman';">100</span><span style="font-family: 宋体;">分。</span></p>
<p class="p0"><span style="font-family: 宋体;"> </span></p>
<p class="p0"><span style="font-family: 宋体;">暴搜代码：</span></p>
<p class="p0"> </p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
 #include &lt;cstdlib&gt;
 #include &lt;iostream&gt;
 #include &lt;cstring&gt;
 using namespace std;
 bool fg,d[1&lt;&lt;15],vis[1&lt;&lt;15];
 int tot,k;
 void read()
 {
     memset(vis,0,sizeof vis);
     fg=false;
     tot=1&lt;&lt;k;
 }
 bool check()
 {
     int i=1,j=tot+1;
     for(;i&lt;=k-1;i++,j++)
     {
         if(d[i]!=d[j]) return false;
     }
     fg=true;
     for(i=1;i&lt;=tot;i++) printf("%d",d[i]);
 }
 void dfs(int step,int num)
 {
     if(fg) return;
     if(step==tot)
     {
         check();
         return;
     }
     for(int i=0;i&lt;tot;i++)
     {
         if(!vis[i])
         {
             int sk;
             if((num&gt;&gt;(k-1))==1) sk=num-(1&lt;&lt;(k-1));
             else sk=num;
             if(sk==(i&gt;&gt;1))
             {
                 d[step+k]=i&amp;1;
                 vis[i]=true;
                 dfs(step+1,i);
                 vis[i]=false;
             }
         }
     }
 }
 void go()
 {
     printf("%d ",tot);
     for(int i=1;i&lt;=k;i++) d[i]=0;
     vis[0]=true;
     dfs(1,0);
     printf("\n");
 }
 int main()
 {
     while(scanf("%d",&amp;k)!=EOF)
     {
         read();
         go();
     }
     return 0;
 }</pre>
<p class="p0"> </p>
<p> </p>
<p>欧拉回路代码：</p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
 #include &lt;cstdlib&gt;
 #include &lt;cstring&gt;
 using namespace std;
 int p,d[1&lt;&lt;15],n;
 bool vis[1&lt;&lt;15];
 void prev()
 {
     memset(vis,0,sizeof vis);
     p=0;
 }
 void dfs(int u)
 {
     int to1=(u&lt;&lt;1)&amp;((1&lt;&lt;n)-1);
     int to2=to1+1;
     if(!vis[to1])
     {
         vis[to1]=true;
         dfs(to1);
         d[++p]=0;
     }
     if(!vis[to2])
     {
         vis[to2]=true;
         dfs(to2);
         d[++p]=1;
     }
 }
 void go()
 {
     dfs(0);
     printf("%d ",1&lt;&lt;n);
     for(int i=1;i&lt;n;i++) printf("0");
     for(int i=p;i&gt;=n;i--) printf("%d",d[i]);
     printf("\n");
 }
 int main()
 {
     while(scanf("%d",&amp;n)!=EOF)
     {
         prev();
         go();
     }
     return 0;
 }</pre>
<p> </p>
<p> </p>
<p>后记：</p>
<p>由于紧张备战NOIP考试，所以，难题和新算法就都暂时不学了，把基础巩固好，发现基础太弱了，难题也不会。。</p>
<p class="p0"><span style="font-family: 宋体;"> </span></p>
<p>解题参考：http://www.cnblogs.com/proverbs/archive/2012/08/21/2649984.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-81504">
<article class="comment" id="comment-81504">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531032" rel="external nofollow">新用户824894</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-81504" rel="nofollow"><time datetime="2017-04-12T18:13:50+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>高压锅怎么会爆呢？有那么多排气口和安全阀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81503">
<article class="comment" id="comment-81503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531032" rel="external nofollow">新用户824894</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-81503" rel="nofollow"><time datetime="2017-04-12T18:13:50+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>高压锅怎么会爆呢？有那么多排气口和安全阀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81502">
<article class="comment" id="comment-81502">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531032" rel="external nofollow">新用户824894</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-81502" rel="nofollow"><time datetime="2017-04-12T18:13:50+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>高压锅怎么会爆呢？有那么多排气口和安全阀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-81501">
<article class="comment" id="comment-81501">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531032" rel="external nofollow">新用户824894</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-81501" rel="nofollow"><time datetime="2017-04-12T18:13:50+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>高压锅怎么会爆呢？有那么多排气口和安全阀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-81500">
<article class="comment" id="comment-81500">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531032" rel="external nofollow">新用户824894</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-81500" rel="nofollow"><time datetime="2017-04-12T18:13:50+00:00" pubdate="">2017年4月12日 at 下午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>高压锅怎么会爆呢？有那么多排气口和安全阀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62970">
<article class="comment" id="comment-62970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">linyanjin</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62970" rel="nofollow"><time datetime="2015-06-05T21:36:55+00:00" pubdate="">2015年6月5日 at 下午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62972">
<article class="comment" id="comment-62972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zzzzzz</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62972" rel="nofollow"><time datetime="2015-04-26T06:33:04+00:00" pubdate="">2015年4月26日 at 上午6:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正在学习搜索，很好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-57589">
<article class="comment" id="comment-57589">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-57589" rel="nofollow"><time datetime="2015-04-04T08:49:56+00:00" pubdate="">2015年4月4日 at 上午8:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还有个解释：没说桌子有多大，可以假设桌子和硬币一样大，肯定是先手胜</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25482">
<article class="comment" id="comment-25482">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-25482" rel="nofollow"><time datetime="2015-03-29T02:59:00+00:00" pubdate="">2015年3月29日 at 上午2:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>都是一些基础题啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62969">
<article class="comment" id="comment-62969">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62969" rel="nofollow"><time datetime="2015-03-07T01:31:18+00:00" pubdate="">2015年3月7日 at 上午1:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>位运算真赞</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46913">
<article class="comment" id="comment-46913">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">abguorui0928</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-46913" rel="nofollow"><time datetime="2015-01-29T20:52:58+00:00" pubdate="">2015年1月29日 at 下午8:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62967">
<article class="comment" id="comment-62967">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62967" rel="nofollow"><time datetime="2015-01-04T00:30:21+00:00" pubdate="">2015年1月4日 at 上午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-25484">
<article class="comment" id="comment-25484">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-25484" rel="nofollow"><time datetime="2014-11-28T20:21:13+00:00" pubdate="">2014年11月28日 at 下午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>能告诉我为什么对于每一个m，cnt的值不用更新吗?这儿我想不通啊，谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62971">
<article class="comment" id="comment-62971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">binqi_ren</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62971" rel="nofollow"><time datetime="2014-10-18T02:44:22+00:00" pubdate="">2014年10月18日 at 上午2:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>simple, however efficient. A lot of instances it is difficult to get that a??perfect balancea?? among usability and appearance. I must say that youa??ve done a exceptional task with this. Also, the blog masses quite fast for me on Web explore.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62968">
<article class="comment" id="comment-62968">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-62968" rel="nofollow"><time datetime="2014-10-08T16:33:47+00:00" pubdate="">2014年10月8日 at 下午4:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>This write-up presents the gentle in which we can notice the fact. this is extremely wonderful one and gives in depth info.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25483">
<article class="comment" id="comment-25483">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-25483" rel="nofollow"><time datetime="2014-10-07T07:20:36+00:00" pubdate="">2014年10月7日 at 上午7:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>感觉我好像很多都不会做。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46911">
<article class="comment" id="comment-46911">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-46911" rel="nofollow"><time datetime="2014-10-02T23:59:48+00:00" pubdate="">2014年10月2日 at 下午11:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个数表示数列的个数，5表示之后有5个数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-25481">
<article class="comment" id="comment-25481">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-25481" rel="nofollow"><time datetime="2014-06-08T08:46:18+00:00" pubdate="">2014年6月8日 at 上午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>yeah, This is very tricky. If you use Cpp,you need more code</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46912">
<article class="comment" id="comment-46912">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/hdu-2894-debruijin-4537.html#comment-46912" rel="nofollow"><time datetime="2014-03-16T22:22:30+00:00" pubdate="">2014年3月16日 at 下午10:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正确性是关键，冲突是都会有的，主要是那种算法冲突的概率低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>