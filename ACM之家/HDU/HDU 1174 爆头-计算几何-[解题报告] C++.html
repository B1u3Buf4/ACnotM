<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-03</div>
<div class="tit"><h1 class="entry-title">HDU 1174 爆头-计算几何-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观723次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1512" href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comments" title="《HDU 1174 爆头-计算几何-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">爆头</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
gameboy是一个CS高手，他最喜欢的就是扮演警察，手持M4爆土匪的头。也许这里有人没玩过CS，有必要介绍一下“爆头”这个术语：所谓爆头，就是子弹直接命中对方的头部，以秒杀敌人。
<p>现在用一个三维的直角坐标系来描述游戏中的三维空间（水平面为xoy平面，z轴正方向是上方）。假设游戏中角色的头是一个标准的球。告诉你土匪的身高，头部半径，所站位置的坐标；gameboy所控警察的身高，头部半径，所站位置的坐标，以及枪头所指方向的单位向量。gameboy所控警察所握的是M4，抢瞄准时枪膛中的子弹跟视线基本同线，我们忽略它们的距离，就当成同线。由于土匪手持AK47,所以他是很嚣张地正立着。而警察手持M4，正在瞄准，由于瞄准时身体微弯，视线从头心出发，他头部的实际高度比正立时低10%。</p>
<p>你的任务就是，计算gameboy在这一刻扣下扳机，能否爆土匪的头。注意：这里忽略子弹的直径和重力作用，也就是说子弹是无限小的，弹道是一条笔直的射线，警察与土匪间没有障碍物。并且只要子弹擦到头部，哪怕是边缘，也算爆头。 </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
测试数据的第一行有一个正整数T，表示有T组测试数据。每组数据的第一行有五个实数，h1,r1,x1,y1,z1，分别表示土匪的身高，头部半径以及所站的位置。第二行有八个实数，h2,r2,x2,y2,z2,x3,y3,z3，分别表示警察的身高，头部半径，所站位置，以及枪头所指方向的方向向量。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
每一组输入数据对应一行输出。如果能爆土匪的头，输出"YES",否则输出"NO"。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
1.62 0.1 10.0 10.0 10.0
1.80 0.09 0.0 0.0 0.0 1.0 1.0 1.0
1.62 0.1 0.0 0.0 0.0
1.80 0.09 10.0 10.0 10.0 -1.0 -1.0 -1.0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
YES
YES</pre>
<p><!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1174" target="_blank">点击打开链接</a></p>
<p><span style="color:rgb(144,144,144); font-family:simsun; font-size:14px; line-height:21px; background-color:rgb(1,1,1)"></span></p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
给你站在三维空间的警察和土匪的身高，头部半径，坐标。还有警察枪的方向向量</p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
判断是否可以爆头</p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
补充知识：</p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
<span style="word-wrap:normal; word-break:normal; line-height:21px; word-spacing:0px; font:normal normal normal 14px/21px simsun; text-transform:none; color:rgb(50,62,50); text-indent:0px; white-space:normal; letter-spacing:normal; background-color:rgb(30,31,71); text-align:left; orphans:2; widows:2"><span style="color:#000000; word-wrap:normal; word-break:normal; line-height:21px; background-color:rgb(255,255,255)">差乘</span></span></p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
<span style="word-wrap:normal; word-break:normal; line-height:21px; word-spacing:0px; font:normal normal normal 14px/21px simsun; text-transform:none; color:rgb(50,62,50); text-indent:0px; white-space:normal; letter-spacing:normal; background-color:rgb(30,31,71); text-align:left; orphans:2; widows:2"><span style="color:#000000; word-wrap:normal; word-break:normal; line-height:21px; background-color:rgb(255,255,255)">向量a=(x1,y1,z1) <wbr> b=(x2,y2,z2)</wbr></span></span></p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
<span style="word-wrap:normal; word-break:normal; line-height:21px; word-spacing:0px; font:normal normal normal 14px/21px simsun; text-transform:none; color:rgb(50,62,50); text-indent:0px; white-space:normal; letter-spacing:normal; background-color:rgb(30,31,71); text-align:left; orphans:2; widows:2"><span style="color:#000000; word-wrap:normal; word-break:normal; line-height:21px; background-color:rgb(255,255,255)">a<br/>
 x(差乘) b=( y1z2 – z1y2 , z1x2 – x1z2 , x1y2-y1x2)</span></span></p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
<span style="word-wrap:normal; word-break:normal; line-height:21px; word-spacing:0px; font:normal normal normal 14px/21px simsun; text-transform:none; color:rgb(50,62,50); text-indent:0px; white-space:normal; letter-spacing:normal; background-color:rgb(30,31,71); text-align:left; orphans:2; widows:2"><span style="color:#000000; word-wrap:normal; word-break:normal; line-height:21px; background-color:rgb(255,255,255)">点到直线的距离可以用等面积做</span></span></p>
<p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; list-style-type:none; list-style-position:initial; word-wrap:normal; word-break:normal; line-height:21px">
<span style="word-wrap:normal; word-break:normal; line-height:21px; word-spacing:0px; font:normal normal normal 14px/21px simsun; text-transform:none; color:rgb(50,62,50); text-indent:0px; white-space:normal; letter-spacing:normal; background-color:rgb(30,31,71); text-align:left; orphans:2; widows:2"><span style="color:#000000; word-wrap:normal; word-break:normal; line-height:21px; background-color:rgb(255,255,255)">B到直线AC的距离可以用<br/>
 |AB差乘AC|/|AC|</span></span></p>
<pre class="brush:cpp ">#include"stdio.h"
#include"math.h"
int main()
{
    int t;
    double h1,r1,x1,y1,z1;
    double h2,r2,x2,y2,z2;
    double x3,y3,z3;
    double x,y,z;
    double dis,a,b,c;
    scanf("%d",&amp;t);
    while(t--)
    {
        scanf("%lf%lf%lf%lf%lf",&amp;h1,&amp;r1,&amp;x1,&amp;y1,&amp;z1);
        scanf("%lf%lf%lf%lf%lf",&amp;h2,&amp;r2,&amp;x2,&amp;y2,&amp;z2);
        scanf("%lf%lf%lf",&amp;x3,&amp;y3,&amp;z3);
        z1=z1+h1-r1;//土匪头部Z轴坐标
        z2=z2+h2*0.9-r2;//警察头部Z轴坐标
        x=x1-x2;//土匪头部与警察头部连线向量
        y=y1-y2;
        z=z1-z2;
        a=y*z3-z*y3;//手枪的方向向量与警察与土匪连线的差乘
        b=z*x3-x*z3;
        c=x*y3-y*x3;
        dis=sqrt((a*a+b*b+c*c)/(x3*x3+y3*y3+z3*z3));
        if(dis&lt;=r1&amp;&amp;(x*x3+y*y3*z*z3&gt;0)) r1处也可以写成r2，红色部分是判断土匪在警察面前而不是身后。。
            printf("YES\n");
        else
            printf("NO\n");
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-54363">
<article class="comment" id="comment-54363">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-54363" rel="nofollow"><time datetime="2015-06-24T12:02:45+00:00" pubdate="">2015年6月24日 at 下午12:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种想法，我想来好久，为啥需要一个newhead，发现是把最后一个节点一直返回到嘴上面这层函数。厉害，这道题之前没样子想过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61325">
<article class="comment" id="comment-61325">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-61325" rel="nofollow"><time datetime="2015-06-23T19:38:05+00:00" pubdate="">2015年6月23日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>通不过。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11416">
<article class="comment" id="comment-11416">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">usx13123</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11416" rel="nofollow"><time datetime="2015-03-23T08:30:34+00:00" pubdate="">2015年3月23日 at 上午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;</p>
<p>int main() {<br/>
	//answer must be odd<br/>
    int n, u, d;<br/>
    while(scanf("%d%d%d",&amp;n,&amp;u,&amp;d)==3 &amp;&amp; n&gt;0) {<br/>
        if(n&lt;=u) { puts("1"); continue; }<br/>
        n-=u; u-=d; n+=u-1; n/=u;<br/>
        n&lt;&lt;=1, ++n;<br/>
        printf("%dn",n);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40127">
<article class="comment" id="comment-40127">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">TimeFight</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-40127" rel="nofollow"><time datetime="2015-03-14T13:30:27+00:00" pubdate="">2015年3月14日 at 下午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11415">
<article class="comment" id="comment-11415">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aifan</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11415" rel="nofollow"><time datetime="2015-03-07T21:59:28+00:00" pubdate="">2015年3月7日 at 下午9:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这怎么用Catalan数啊？求解答！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11409">
<article class="comment" id="comment-11409">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Watson</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11409" rel="nofollow"><time datetime="2015-01-17T09:08:27+00:00" pubdate="">2015年1月17日 at 上午9:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61324">
<article class="comment" id="comment-61324">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-61324" rel="nofollow"><time datetime="2014-09-06T05:18:21+00:00" pubdate="">2014年9月6日 at 上午5:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11412">
<article class="comment" id="comment-11412">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11412" rel="nofollow"><time datetime="2014-08-20T22:42:09+00:00" pubdate="">2014年8月20日 at 下午10:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11414">
<article class="comment" id="comment-11414">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang2</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11414" rel="nofollow"><time datetime="2014-08-13T18:38:49+00:00" pubdate="">2014年8月13日 at 下午6:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题还是比较考验智商~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54362">
<article class="comment" id="comment-54362">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">YangXiaoZhong</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-54362" rel="nofollow"><time datetime="2014-06-08T14:33:50+00:00" pubdate="">2014年6月8日 at 下午2:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>处凡愚而不减，在圣贤而不增；<br/>住烦恼而不乱，居禅定而不寂。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-11413">
<article class="comment" id="comment-11413">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11413" rel="nofollow"><time datetime="2014-05-25T11:34:55+00:00" pubdate="">2014年5月25日 at 上午11:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>This write-up presents the gentle in which we can notice the fact. this is extremely wonderful one and gives in depth info.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11410">
<article class="comment" id="comment-11410">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xuelanghu</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11410" rel="nofollow"><time datetime="2014-03-22T23:54:55+00:00" pubdate="">2014年3月22日 at 下午11:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，解决了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54361">
<article class="comment" id="comment-54361">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-54361" rel="nofollow"><time datetime="2014-02-10T11:06:20+00:00" pubdate="">2014年2月10日 at 上午11:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Java真是解决大数的利器</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-11411">
<article class="comment" id="comment-11411">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">windy</a></span> on <a href="http://www.acmerblog.com/hdu-1174-%E7%88%86%E5%A4%B4-1512.html#comment-11411" rel="nofollow"><time datetime="2014-01-17T20:30:34+00:00" pubdate="">2014年1月17日 at 下午8:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>