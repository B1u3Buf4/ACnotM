<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1903 Exchange Rates-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观672次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2906" href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comments" title="《HDU 1903 Exchange Rates-动态规划-[解题报告] C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Exchange Rates</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Now that the Loonie is hovering about par with the Greenback, you have decided to use your $1000 entrance scholarship to engage in currency speculation. So you gaze into a crystal ball which predicts the closing exchange rate between Canadian and U.S. dollars for each of the next several days. On any given day, you can switch all of your money from Canadian to U.S. dollars, or vice versa, at the prevailing exchange rate, less a 3% commission, less any fraction of a cent. <br/>Assuming your crystal ball is correct, what’s the maximum amount of money you can have, in Canadian dollars, when you’re done?  </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains a number of test cases, followed by a line containing 0. Each test case begins with 0 &lt;d &amp;#8804; 365, the number of days that your crystal ball can predict. d lines follow, giving the price of a U.S. dollar in Canadian dollars, as a real number.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, output a line giving the maximum amount of money, in Canadian dollars and cents, that it is possible to have at the end of the last prediction, assuming you may exchange money on any subset of the predicted days, in order. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1.0500
0.9300
0.9900
2
1.0500
1.1000
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1001.60
1000.00</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
 #include &lt;cstring&gt;
 #include &lt;cstring&gt;
 #include &lt;cmath&gt;
 using namespace std;
 
 double dp[500][2];
 
 inline double Max( double x, double y )
 {
     if( x - y &gt; 1e-6 )
         return x;
     return y;
 }
 
 inline double to( double m, double xx )
 {
     return floor( m * xx * 0.97 * 100 ) / 100;
 }
 
 int main()
 {
     int N;
     while( scanf( "%d", &amp;N ), N )
     {
         double xx;
         memset( dp, 0, sizeof( dp ) );
         dp[0][1] = 1000.0;  // 0号存储美元值，1号存储加元值
         for( int i = 1; i &lt;= N; ++i )
         {
             scanf( "%lf", &amp;xx );
             dp[i][0] = Max( dp[i-1][0], to( dp[i-1][1], 1.0 / xx ) );
             dp[i][1] = Max( dp[i-1][1], to( dp[i-1][0], xx ) );
         }
         printf( "%.2lf\n", dp[N][1] );
     }
     return 0;
 }</pre>
<p>解题报告转自：http://www.cnblogs.com/Lyush/archive/2011/09/02/2163969.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-17760">
<article class="comment" id="comment-17760">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-17760" rel="nofollow"><time datetime="2015-05-15T02:24:56+00:00" pubdate="">2015年5月15日 at 上午2:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43237">
<article class="comment" id="comment-43237">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43237" rel="nofollow"><time datetime="2015-03-18T14:30:50+00:00" pubdate="">2015年3月18日 at 下午2:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>补充：此算法求出的不一定是最优解，之前理解错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62120">
<article class="comment" id="comment-62120">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-62120" rel="nofollow"><time datetime="2015-01-25T12:37:32+00:00" pubdate="">2015年1月25日 at 下午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62122">
<article class="comment" id="comment-62122">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mnmlist</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-62122" rel="nofollow"><time datetime="2014-12-06T01:38:35+00:00" pubdate="">2014年12月6日 at 上午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env  python<br/>
def cou(n):<br/>
        arr =  <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/82/one_org.gif"/><br/>
        i = 1<br/>
        while(i&lt;n):<br/>
                arr.append(arr[i-1]+selfcount(i))<br/>
                i+=1<br/>
        return arr[n-1]</p>
<p>def selfcount(n):<br/>
        count = 0<br/>
        while(n):<br/>
                if n%10 == 1:<br/>
                        count += 1<br/>
                n /= 10<br/>
        return count</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43239">
<article class="comment" id="comment-43239">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qq1005873807</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43239" rel="nofollow"><time datetime="2014-11-07T06:01:19+00:00" pubdate="">2014年11月7日 at 上午6:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43236">
<article class="comment" id="comment-43236">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43236" rel="nofollow"><time datetime="2014-10-29T06:29:32+00:00" pubdate="">2014年10月29日 at 上午6:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>nice!!!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43240">
<article class="comment" id="comment-43240">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43240" rel="nofollow"><time datetime="2014-10-19T08:25:04+00:00" pubdate="">2014年10月19日 at 上午8:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 如果此题没有要求 相对位置不变，可以参考文章：http://www.acmerblog.com/interview-9-2427/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62121">
<article class="comment" id="comment-62121">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ygxqqx</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-62121" rel="nofollow"><time datetime="2014-06-13T23:45:51+00:00" pubdate="">2014年6月13日 at 下午11:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你好，这题给出的代码好像弄错了，这个是pow那道题目的解法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43242">
<article class="comment" id="comment-43242">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CHEATBEATER</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43242" rel="nofollow"><time datetime="2014-06-07T05:26:58+00:00" pubdate="">2014年6月7日 at 上午5:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17761">
<article class="comment" id="comment-17761">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-17761" rel="nofollow"><time datetime="2014-06-04T00:59:21+00:00" pubdate="">2014年6月4日 at 上午12:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>必须试过啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43241">
<article class="comment" id="comment-43241">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fermi</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43241" rel="nofollow"><time datetime="2014-04-22T19:38:20+00:00" pubdate="">2014年4月22日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>处凡愚而不减，在圣贤而不增；<br/>住烦恼而不乱，居禅定而不寂。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43238">
<article class="comment" id="comment-43238">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-43238" rel="nofollow"><time datetime="2014-01-28T23:47:46+00:00" pubdate="">2014年1月28日 at 下午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这道题目的核心一句话是：取还是不取。<br/>
如果当前取，则index+1作为参数。如果当前不取，则任用index作为参数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17762">
<article class="comment" id="comment-17762">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/hdu-1903-Exchange-Rates-2906.html#comment-17762" rel="nofollow"><time datetime="2014-01-14T22:23:03+00:00" pubdate="">2014年1月14日 at 下午10:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>