<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-27</div>
<div class="tit"><h1 class="entry-title">HDU 3610-Support Sichuan II[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观292次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6574" href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comments" title="《HDU 3610-Support Sichuan II[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Support Sichuan II</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Xiao Ming heard transported to the front to Dairy Milk. ABC would like, all meat not work. people in disaster areas also need to eat vegetables, so ABC has developed a super plant that can be used to eat. This plant from seed to germinate only 1 day time, and xth from the first day of germination, to yth days(including the yth day), every day they are breeding out of a seed, each plant will be the zth days in the germination of the harvest was sent to disaster. <br/>0th day ABC only has a seed , ABC would like to know how many vegetables (not including seeds and which was send to disaster),in the nth day. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Multiple sets of data. Each test data row contains only four positive integers x, y, z, n, separated by spaces.<br/>Where 0 &lt;x &lt;= y &lt;z &lt;= 20,0 &lt;n &lt;= 1000000000. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Multiple sets of data. Each test data row contains only four positive integers x, y, z, n, separated by spaces.<br/>Where 0 &lt;x &lt;= y &lt;z &lt;= 20,0 &lt;n &lt;= 1000000000.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
1 2 3 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
5</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;stdio.h&gt;
#define N 25 
#define md 1000000007
struct Matrix
{
	__int64 m[N][N];
}init;
int n,x,y,z;
Matrix Mult(Matrix m1,Matrix m2)
{
	Matrix ans;
	for(int i=1;i&lt;=z;i++)
		for(int j=1;j&lt;=z;j++)
		{
			ans.m[i][j]=0;
			for(int k=1;k&lt;=z;k++)
				ans.m[i][j]=(ans.m[i][j]+m1.m[i][k]*m2.m[k][j])%md;
		}
	return ans;
}
Matrix Pow(Matrix m1,int b)
{
	Matrix ans;
	for(int i=1;i&lt;=z;i++)
		for(int j=1;j&lt;=z;j++)
			ans.m[i][j]=(i==j);
	while(b)
	{
		if(b&amp;1)
		ans=Mult(ans,m1);
		m1=Mult(m1,m1);
		b&gt;&gt;=1;
	}
	return ans;
}
int main()
{
	int i,j;
	__int64 ans;
	while(scanf("%d%d%d%d",&amp;x,&amp;y,&amp;z,&amp;n)!=-1)
	{
		for(i=1;i&lt;=z;i++)
		{
			for(j=1;j&lt;=z;j++)
			init.m[i][j]=0;
		}
		for(i=x;i&lt;=y;i++)
		{
			init.m[1][i]=1;
		}
		for(i=1;i&lt;z;i++)
		{
			init.m[i+1][i]=1;
		}
		init=Pow(init,n-1);
		ans=0;
		for(i=1;i&lt;z;i++)
			ans=(ans+init.m[i][1])%md;
		printf("%I64d\n",ans);
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-73587">
<article class="comment" id="comment-73587">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519182" rel="external nofollow">新用户078345</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-73587" rel="nofollow"><time datetime="2017-04-12T00:07:34+00:00" pubdate="">2017年4月12日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>和某个国家多么类似，领导让大家种植食用，自己不吃。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59339">
<article class="comment" id="comment-59339">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf88888888</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59339" rel="nofollow"><time datetime="2015-07-14T23:15:29+00:00" pubdate="">2015年7月14日 at 下午11:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-32572">
<article class="comment" id="comment-32572">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-32572" rel="nofollow"><time datetime="2015-06-23T18:55:44+00:00" pubdate="">2015年6月23日 at 下午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。" rel="nofollow">http://www.realoj.com/problem/7如果楼主不介意，以可以在这个oj上做下，按照你的代码是错的。。。直接复制粘贴你的也是错。。不懂错在哪。</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59340">
<article class="comment" id="comment-59340">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59340" rel="nofollow"><time datetime="2015-06-07T20:21:33+00:00" pubdate="">2015年6月7日 at 下午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59341">
<article class="comment" id="comment-59341">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr-zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59341" rel="nofollow"><time datetime="2015-04-18T17:50:54+00:00" pubdate="">2015年4月18日 at 下午5:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32573">
<article class="comment" id="comment-32573">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">warriorbrant</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-32573" rel="nofollow"><time datetime="2015-04-14T12:23:54+00:00" pubdate="">2015年4月14日 at 下午12:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59342">
<article class="comment" id="comment-59342">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59342" rel="nofollow"><time datetime="2015-04-12T21:13:58+00:00" pubdate="">2015年4月12日 at 下午9:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可以参考算法导论中的时间戳。就是结束访问时间，最后结束的顶点肯定是入度为0的顶点，因为DFS要回溯</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-59336">
<article class="comment" id="comment-59336">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ssjssh</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59336" rel="nofollow"><time datetime="2015-04-10T13:44:29+00:00" pubdate="">2015年4月10日 at 下午1:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你指的哪个问题？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59338">
<article class="comment" id="comment-59338">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59338" rel="nofollow"><time datetime="2015-02-09T09:22:47+00:00" pubdate="">2015年2月9日 at 上午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>抱歉，确实是弄错了，原来的代码是错误的，删掉了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50502">
<article class="comment" id="comment-50502">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-50502" rel="nofollow"><time datetime="2015-01-20T12:05:46+00:00" pubdate="">2015年1月20日 at 下午12:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50504">
<article class="comment" id="comment-50504">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-50504" rel="nofollow"><time datetime="2015-01-19T10:45:40+00:00" pubdate="">2015年1月19日 at 上午10:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数组</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-50503">
<article class="comment" id="comment-50503">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-50503" rel="nofollow"><time datetime="2015-01-14T03:07:27+00:00" pubdate="">2015年1月14日 at 上午3:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>神奇的网站</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-59337">
<article class="comment" id="comment-59337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-59337" rel="nofollow"><time datetime="2014-12-18T14:13:48+00:00" pubdate="">2014年12月18日 at 下午2:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32574">
<article class="comment" id="comment-32574">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-32574" rel="nofollow"><time datetime="2014-12-11T22:00:42+00:00" pubdate="">2014年12月11日 at 下午10:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-50505">
<article class="comment" id="comment-50505">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mechine</a></span> on <a href="http://www.acmerblog.com/hdu-3610-support-sichuan-ii-6574.html#comment-50505" rel="nofollow"><time datetime="2014-12-07T04:15:29+00:00" pubdate="">2014年12月7日 at 上午4:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>