<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-06</div>
<div class="tit"><h1 class="entry-title">hdu 3190 Marriage Match待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观306次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5024" href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comments" title="《hdu 3190 Marriage Match待解决[解题报告]C++》上的评论">20 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Marriage Match</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
You may know the funny problem “The Stable Marriage Problem”. Now let’s find a new match algorithm. <br/>Firstly the women and men stand in a line separately and each woman will choose the man she likes.<br/>Then it’s your task to make a match for these people. You should choose m women and m men from the initial queues. Let them stand in a line separately by initial order.  If the woman stands in the ith place do not like the man stands in the ith place, the match is unacceptable. To increase the possibility of the match, the women can accept the men their friends like. Please find out the maximal m. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases.<br/>Each test case starts with two integer p and q in a line means the number of women and the number of men.(0 &lt; p , q &lt;= 100000)<br/>Then a line with p numbers follows means the queue of women. (The id ranges from 1 to p)<br/>Then a line with q numbers follows means the queue of men. (The id ranges from 1 to q)<br/>Then a line with p numbers which means the man the ith woman likes.<br/>Then a line with an integer t, means the number of friendships between women.(0 &lt; t &lt; 100000)<br/>Then t lines follow. Each line contains two numbers a and b means a and b are friends.(a!=b, 1 &lt;= a, b &lt;= p)<br/>You may support the friendship can transmit. If a and b are friends and c and b are friends, then a and c are friends. Notice every woman will have no more than five friends. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test cases.<br/>Each test case starts with two integer p and q in a line means the number of women and the number of men.(0 &lt; p , q &lt;= 100000)<br/>Then a line with p numbers follows means the queue of women. (The id ranges from 1 to p)<br/>Then a line with q numbers follows means the queue of men. (The id ranges from 1 to q)<br/>Then a line with p numbers which means the man the ith woman likes.<br/>Then a line with an integer t, means the number of friendships between women.(0 &lt; t &lt; 100000)<br/>Then t lines follow. Each line contains two numbers a and b means a and b are friends.(a!=b, 1 &lt;= a, b &lt;= p)<br/>You may support the friendship can transmit. If a and b are friends and c and b are friends, then a and c are friends. Notice every woman will have no more than five friends.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 4
1 3 2 4
1 4 2 3
2 3 1 2
2
1 2
3 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78539">
<article class="comment" id="comment-78539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78539" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78538">
<article class="comment" id="comment-78538">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78538" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-78537">
<article class="comment" id="comment-78537">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78537" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78536">
<article class="comment" id="comment-78536">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78536" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-78535">
<article class="comment" id="comment-78535">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78535" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-78534">
<article class="comment" id="comment-78534">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511924" rel="external nofollow">新用户913591</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-78534" rel="nofollow"><time datetime="2017-04-12T12:30:18+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个更刺j激，准备好手纸哦 A 片。。 <a href="http://uVU.cc/ih8a" rel="nofollow">http://uVU.cc/ih8a</a> </p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27845">
<article class="comment" id="comment-27845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sam_justin</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27845" rel="nofollow"><time datetime="2015-06-23T22:48:44+00:00" pubdate="">2015年6月23日 at 下午10:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很赞的解答</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47981">
<article class="comment" id="comment-47981">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xun.gong</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-47981" rel="nofollow"><time datetime="2015-05-10T17:54:39+00:00" pubdate="">2015年5月10日 at 下午5:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数组</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47980">
<article class="comment" id="comment-47980">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-47980" rel="nofollow"><time datetime="2015-02-12T20:47:39+00:00" pubdate="">2015年2月12日 at 下午8:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27847">
<article class="comment" id="comment-27847">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">piaoyi</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27847" rel="nofollow"><time datetime="2014-12-13T03:01:34+00:00" pubdate="">2014年12月13日 at 上午3:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>示例程序中的代码不够稳健，没有考虑到输入了非法字符或者不合理输入的情况。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27851">
<article class="comment" id="comment-27851">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jiakcstudio</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27851" rel="nofollow"><time datetime="2014-12-06T03:49:34+00:00" pubdate="">2014年12月6日 at 上午3:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过  在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47979">
<article class="comment" id="comment-47979">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dick</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-47979" rel="nofollow"><time datetime="2014-11-06T06:33:05+00:00" pubdate="">2014年11月6日 at 上午6:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我想整理一下leetcode的题解，站长能不能给权限</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27852">
<article class="comment" id="comment-27852">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">1193658339</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27852" rel="nofollow"><time datetime="2014-09-22T03:34:45+00:00" pubdate="">2014年9月22日 at 上午3:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个方法是错的，不信你试试：<br/>
20 5<br/>
1 A:9<br/>
1 A:9<br/>
1 A:9<br/>
1 A:6<br/>
1 A:4<br/>
正确答案应该是19，这个答案是18</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27846">
<article class="comment" id="comment-27846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jinxiang23</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27846" rel="nofollow"><time datetime="2014-09-10T07:24:21+00:00" pubdate="">2014年9月10日 at 上午7:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
这模板神了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27849">
<article class="comment" id="comment-27849">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">haojunyu</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27849" rel="nofollow"><time datetime="2014-08-02T14:01:29+00:00" pubdate="">2014年8月2日 at 下午2:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有没有C++语言的代码？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27850">
<article class="comment" id="comment-27850">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27850" rel="nofollow"><time datetime="2014-08-02T09:46:55+00:00" pubdate="">2014年8月2日 at 上午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好。代码比书上的简练！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47982">
<article class="comment" id="comment-47982">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-47982" rel="nofollow"><time datetime="2014-06-10T21:42:38+00:00" pubdate="">2014年6月10日 at 下午9:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27843">
<article class="comment" id="comment-27843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiaoliubuer</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27843" rel="nofollow"><time datetime="2014-05-24T02:09:14+00:00" pubdate="">2014年5月24日 at 上午2:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如果两个序列的最后字符不匹配（即X [M-1]！= Y [N-1]）<br/>
L（X [0 .. M-1]，Y [0 .. N-1]）= MAX（L（X [0 .. M-2]，Y [0 .. N-1]），L（X [0 .. M-1]，Y [0 .. N-1]）<br/>
这里写错了吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27848">
<article class="comment" id="comment-27848">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">woweizhineng</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27848" rel="nofollow"><time datetime="2014-04-12T01:42:43+00:00" pubdate="">2014年4月12日 at 上午1:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><a href="https://coding.net/moon/miracle" rel="nofollow">https://coding.net/moon/miracle</a></p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27844">
<article class="comment" id="comment-27844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">radish</a></span> on <a href="http://www.acmerblog.com/hdu-3190-marriage-match-5024.html#comment-27844" rel="nofollow"><time datetime="2014-03-29T10:23:26+00:00" pubdate="">2014年3月29日 at 上午10:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>