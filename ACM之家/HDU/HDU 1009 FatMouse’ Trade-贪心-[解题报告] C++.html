<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-26</div>
<div class="tit"><h1 class="entry-title">HDU 1009 FatMouse’ Trade-贪心-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/tanxin" rel="category tag" title="查看贪心中的全部文章">贪心</a></span><span class="i4">围观1672次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1264" href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comments" title="《HDU 1009 FatMouse’ Trade-贪心-[解题报告] C++》上的评论">22 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">FatMouse’ Trade</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">FatMouse prepared M pounds of cat food, ready to trade with the cats guarding the warehouse containing his favorite food, JavaBean.<br/>
The warehouse has N rooms. The i-th room contains J[i] pounds of JavaBeans and requires F[i] pounds of cat food. FatMouse does not have to trade for all the JavaBeans in the room, instead, he may get J[i]* a% pounds of JavaBeans if he pays F[i]* a% pounds of cat food. Here a is a real number. Now he is assigning this homework to you: tell him the maximum amount of JavaBeans he can obtain.</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The input consists of multiple test cases. Each test case begins with a line containing two non-negative integers M and N. Then N lines follow, each contains two non-negative integers J[i] and F[i] respectively. The last test case is followed by two -1′s. All integers are not greater than 1000.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">For each test case, print in a single line a real number accurate up to 3 decimal places, which is the maximum amount of JavaBeans that FatMouse can obtain.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">5 3
7 2
4 3
5 2
20 3
25 18
24 15
15 10
-1 -1</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">13.333
31.500</pre>
<p><!-- problem end --></p>
<p>解题报告：</p>
<p>大意：一只老鼠有M磅的猫粮，另外有一只猫控制了老鼠的N个房间，这些房间里面放了老鼠爱吃的绿豆，给出每个房间的绿豆数量，和这个房间的绿豆所需要的猫粮数，现在要求老鼠用这M磅的猫粮最多能换到多少它爱吃的绿豆？</p>
<p>贪心题，由于所有的绿豆都是一样的，所以如果老鼠想要换到最多的绿豆，便可以换猫控制的房间里面最便宜的绿豆，也就是说先换取单位数量的绿豆所需要最少的猫粮的房间里的绿豆，这样就可以保证换到的绿豆是最多的。具体实现可以用一个结构体，里面保存每个房间里面有的绿豆的数量和换取这个房间的绿豆时所需要的猫粮的数量和换取这个房间的 单位重量的绿豆所需要的猫粮数（以下简称单价），然后再按照单价升序给这些结构体排一次序，这时就可以从最便宜的绿豆开始换了。</p>
<pre class="brush:cpp "> #include&lt;stdio.h&gt;
  #include&lt;algorithm&gt;
  struct node {
      double j,f,velu;
  }java[1000+5];
  double M;
  int N;
  bool cmp(node a,node b) {
      return a.velu&gt;b.velu;
 }
 int main() {
     while(scanf("%lf%d",&amp;M,&amp;N)&amp;&amp;!(M==-1||N==-1)) {
         double sum=0;
         for(int i=1;i&lt;=N;++i) {
             scanf("%lf%lf",&amp;java[i].j,&amp;java[i].f);
             java[i].velu=1.0*java[i].j/java[i].f;
         }
         if(N&gt;1)
         std::sort(java+1,java+N+1,cmp);
         for(int i=1;;++i) {
             if(N==0)
             break;
             if(M&gt;=java[i].f) {
                 M-=java[i].f;
                 sum+=java[i].j;
             }
             else{
                 sum+=1.0*M*java[i].j/java[i].f;
                 break;
             }
         }
         printf("%.3lf\n",sum);
     }
     return 0;
 }</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-94784">
<article class="comment" id="comment-94784">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94784" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94783">
<article class="comment" id="comment-94783">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94783" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94782">
<article class="comment" id="comment-94782">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94782" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94781">
<article class="comment" id="comment-94781">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94781" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94780">
<article class="comment" id="comment-94780">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94780" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94779">
<article class="comment" id="comment-94779">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94779" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-94778">
<article class="comment" id="comment-94778">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94778" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-94777">
<article class="comment" id="comment-94777">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531802" rel="external nofollow">新用户611432</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-94777" rel="nofollow"><time datetime="2017-04-13T19:46:49+00:00" pubdate="">2017年4月13日 at 下午7:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修复版是什么意思？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54048">
<article class="comment" id="comment-54048">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54048" rel="nofollow"><time datetime="2015-07-08T03:36:31+00:00" pubdate="">2015年7月8日 at 上午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10435">
<article class="comment" id="comment-10435">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hanyi</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-10435" rel="nofollow"><time datetime="2015-06-14T21:21:12+00:00" pubdate="">2015年6月14日 at 下午9:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54046">
<article class="comment" id="comment-54046">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCCat</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54046" rel="nofollow"><time datetime="2015-04-07T05:57:20+00:00" pubdate="">2015年4月7日 at 上午5:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10434">
<article class="comment" id="comment-10434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">missliuxin</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-10434" rel="nofollow"><time datetime="2015-03-30T20:21:55+00:00" pubdate="">2015年3月30日 at 下午8:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54051">
<article class="comment" id="comment-54051">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mclown</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54051" rel="nofollow"><time datetime="2015-02-01T20:57:25+00:00" pubdate="">2015年2月1日 at 下午8:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61184">
<article class="comment" id="comment-61184">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">qingcongke</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-61184" rel="nofollow"><time datetime="2014-08-07T20:55:48+00:00" pubdate="">2014年8月7日 at 下午8:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;algorithm&gt;</p>
<p>struct LWPair{<br/>
    int l,w;<br/>
};</p>
<p>int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    const int MAXSIZE=5000, MAXVAL=10000;<br/>
    LWPair sticks[MAXSIZE];<br/>
    int store[MAXSIZE];<br/>
    int ncase, nstick, length,width, tmp, time, i,j;<br/>
    if(scanf("%d",&amp;ncase)!=1) return -1;<br/>
    while(ncase– &amp;&amp; scanf("%d",&amp;nstick)==1) {<br/>
        for(i=0;i&lt;nstick;++i) scanf("%d%d",&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .l,&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w);<br/>
        std::sort(sticks,sticks+nstick,[](const LWPair &amp;lhs, const LWPair &amp;rhs) { return lhs.l&gt;rhs.l || lhs.l==rhs.l &amp;&amp; lhs.w&gt;rhs.w; });<br/>
        for(time=-1,i=0;i&lt;nstick;++i) {<br/>
            tmp=sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w;<br/>
            for(j=time;j&gt;=0 &amp;&amp; store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> &gt;=tmp;–j) ; // search from right to left<br/>
            if(j==time) { store[++time]=tmp; }<br/>
            else { store[j+1]=tmp; }<br/>
        }<br/>
        printf("%dn",time+1);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54049">
<article class="comment" id="comment-54049">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54049" rel="nofollow"><time datetime="2014-07-23T03:00:31+00:00" pubdate="">2014年7月23日 at 上午3:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>0000</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54052">
<article class="comment" id="comment-54052">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54052" rel="nofollow"><time datetime="2014-05-11T02:40:55+00:00" pubdate="">2014年5月11日 at 上午2:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>站长，你好！<br/>
         你创办的的网站非常好，为我们学习算法练习编程提供了一个很好的平台，我想给你提个小建议，就是要能把每道题目的难度标出来就好了，这样我们学习起来会有一个循序渐进的过程！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61183">
<article class="comment" id="comment-61183">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhuliyan</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-61183" rel="nofollow"><time datetime="2014-04-15T23:41:28+00:00" pubdate="">2014年4月15日 at 下午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一个真的要比较两次吗，换成else if 不可以吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54045">
<article class="comment" id="comment-54045">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhiqiang</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54045" rel="nofollow"><time datetime="2014-04-05T19:05:20+00:00" pubdate="">2014年4月5日 at 下午7:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>C语言版本的代码好像有点问题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61181">
<article class="comment" id="comment-61181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-61181" rel="nofollow"><time datetime="2014-03-06T07:51:22+00:00" pubdate="">2014年3月6日 at 上午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>swap写成内联函数会不会好一些</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54047">
<article class="comment" id="comment-54047">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xiao1108</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54047" rel="nofollow"><time datetime="2014-02-05T07:49:31+00:00" pubdate="">2014年2月5日 at 上午7:49</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>good !</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-61182">
<article class="comment" id="comment-61182">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-61182" rel="nofollow"><time datetime="2014-01-08T13:51:28+00:00" pubdate="">2014年1月8日 at 下午1:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54050">
<article class="comment" id="comment-54050">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-1009-fatmouse-trade-1264.html#comment-54050" rel="nofollow"><time datetime="2013-12-19T19:00:33+00:00" pubdate="">2013年12月19日 at 下午7:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>全是智力分析的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>