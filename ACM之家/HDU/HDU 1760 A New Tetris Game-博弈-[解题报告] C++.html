<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1760 A New Tetris Game-博弈-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/game" rel="category tag" title="查看博弈论中的全部文章">博弈论</a></span><span class="i4">围观751次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2737" href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comments" title="《HDU 1760 A New Tetris Game-博弈-[解题报告] C++》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">A New Tetris Game</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
曾经，Lele和他姐姐最喜欢，玩得最久的游戏就是俄罗斯方块(Tetris)了。<br/>渐渐得，Lele发觉，玩这个游戏只需要手快而已，几乎不用经过大脑思考。<br/>所以，Lele想出一个新的玩法。
<p>Lele和姐姐先拿出一块长方形的棋盘，这个棋盘有些格子是不可用的，剩下的都是可用的。Lele和姐姐拿出俄罗斯方块里的正方形方块(大小为2*2的正方形方块)轮流往棋盘里放，要注意的是，放进去的正方形方块不能叠在棋盘不可用的格子上，也不能叠在已经放了的正方形方块上。<br/>到最后，谁不能再放正方形方块，谁就输了。</p>
<p>现在，假设每次Lele和姐姐都很聪明，都能按最优策略放正方形，并且每次都是Lele先放正方形，你能告诉他他是否一定能赢姐姐吗？ </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
本题目包含多组测试，请处理到文件结束。<br/>每组测试第一行包含两个正整数N和M(0&lt;N*M&lt;50)分别代表棋盘的行数和列数。<br/>接下来有N行，每行M个0或1的数字代表整个棋盘。<br/>其中0是代表棋盘该位置可用，1是代表棋盘该位置不可用
<p>你可以假定，每个棋盘中，0的个数不会超过40个。 </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
对于每一组测试，如果Lele有把握获胜的话，在一行里面输出"Yes"，否则输出"No"。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4 4
0000
0000
0000
0000
4 4
0000
0010
0100
0000</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Yes
No</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1760">http://acm.hdu.edu.cn/showproblem.php?pid=1760</a></p>
<p>题意：出处<a href="http://blog.csdn.net/qiqijianglu/article/details/7952261">http://blog.csdn.net/qiqijianglu/article/details/7952261</a></p>
<div class="panel_bottom">题意：给你一个n*m的矩形，0表示空着的，1反之，现在两个人轮流放2*2的矩形，谁不能放了，谁就输了。</div>
<div class="panel_bottom">找sg值，可以选择暴力，也可以利用sg值的特点简化。</div>
<div class="panel_bottom">暴力就跟取石子一样，没什么差别，DFS搞定。把矩阵看成一个字符串，字符串就是一个状态。</div>
<div class="panel_bottom">其实我们也可以不暴力求sg值，因为只要当前状态能到达一个sg值为0的点，当前状态就是必胜点。</div>
<div class="panel_bottom">若当前点到达的所有状态都是必胜的，那么当前点就是必败点。所以当我们到达必胜点时，就必须转换当前状态继续递归找sg值。</div>
<div class="panel_bottom">法一、暴力找sg值：</div>
<div class="panel_bottom"> </div>
<div class="panel_bottom"><a href="http://hi.baidu.com/isaacpei/item/9bd8202e6aa236f950fd87ef">http://hi.baidu.com/isaacpei/item/9bd8202e6aa236f950fd87ef</a></div>
<div class="panel_bottom">表示还在理解中。。。。n</div>
<p> </p>
<pre class="brush:cpp ">// I'm lanjiangzhou
//C
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;
#include &lt;math.h&gt;
#include &lt;time.h&gt;
//C++
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cmath&gt;
#include &lt;cstring&gt;
#include &lt;cctype&gt;
#include &lt;stack&gt;
#include &lt;string&gt;
#include &lt;list&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;set&gt;
using namespace std;

//*************************OUTPUT*************************
#ifdef WIN32
#define INT64 "%I64d"
#define UINT64 "%I64u"
#else
#define INT64 "%lld"
#define UINT64 "%llu"
#endif

//**************************CONSTANT***********************
#define INF 0x3f3f3f3f

// aply for the memory of the stack
//#pragma comment (linker, "/STACK:1024000000,1024000000")
//end

int n,m;
const int maxn =110;
char s[maxn][maxn];
int a[maxn][maxn];
int mm[maxn][maxn];

int findset(int mm[maxn][maxn]){
    for(int i=0;i&lt;n-1;i++){
        for(int j=0;j&lt;m-1;j++){
            if(mm[i][j]+mm[i+1][j]+mm[i][j+1]+mm[i+1][j+1]==0){
                int tt[maxn][maxn];
                for(int x=0;x&lt;n;x++){
                    for(int y=0;y&lt;m;y++){
                        tt[x][y]=mm[x][y];
                    }
                }
                tt[i][j]=tt[i+1][j]=tt[i][j+1]=tt[i+1][j+1]=1;
                if(findset(tt)==0) return 1;
            }
        }
    }
    return 0;
}

int main(){
    while(scanf("%d%d",&amp;n,&amp;m)!=EOF){
        //getchar();
        for(int i=0;i&lt;n;i++){
            scanf("%s",s[i]);
            for(int j=0;j&lt;m;j++)
                a[i][j]=s[i][j]-'0';
        }
        if(findset(a)) printf("Yes\n");
        else printf("No\n");
    }
    return 0;
}</pre>
<p> </p>
<p>解题报告转自：http://www.cnblogs.com/lanjiangzhou/archive/2013/04/14/3021130.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-89305">
<article class="comment" id="comment-89305">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519942" rel="external nofollow">新用户222863</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-89305" rel="nofollow"><time datetime="2017-04-13T10:13:22+00:00" pubdate="">2017年4月13日 at 上午10:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>看起来瘦瘦的，摸起来肉肉的，叨叨，我是不是很不要脸啊！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62010">
<article class="comment" id="comment-62010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">WalkCoder</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-62010" rel="nofollow"><time datetime="2015-05-03T07:30:22+00:00" pubdate="">2015年5月3日 at 上午7:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17027">
<article class="comment" id="comment-17027">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17027" rel="nofollow"><time datetime="2015-04-15T08:32:06+00:00" pubdate="">2015年4月15日 at 上午8:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二种解法如果数组有重复元素 就不正确</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17029">
<article class="comment" id="comment-17029">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17029" rel="nofollow"><time datetime="2015-03-09T06:56:48+00:00" pubdate="">2015年3月9日 at 上午6:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前排支持</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55716">
<article class="comment" id="comment-55716">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-55716" rel="nofollow"><time datetime="2015-03-07T18:37:58+00:00" pubdate="">2015年3月7日 at 下午6:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个..  真没看出来</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17026">
<article class="comment" id="comment-17026">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17026" rel="nofollow"><time datetime="2015-02-23T02:27:34+00:00" pubdate="">2015年2月23日 at 上午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;algorithm&gt;</p>
<p>struct LWPair{<br/>
    int l,w;<br/>
};</p>
<p>int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    const int MAXSIZE=5000, MAXVAL=10000;<br/>
    LWPair sticks[MAXSIZE];<br/>
    int store[MAXSIZE];<br/>
    int ncase, nstick, length,width, tmp, time, i,j;<br/>
    if(scanf("%d",&amp;ncase)!=1) return -1;<br/>
    while(ncase– &amp;&amp; scanf("%d",&amp;nstick)==1) {<br/>
        for(i=0;i&lt;nstick;++i) scanf("%d%d",&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .l,&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w);<br/>
        std::sort(sticks,sticks+nstick,[](const LWPair &amp;lhs, const LWPair &amp;rhs) { return lhs.l&gt;rhs.l || lhs.l==rhs.l &amp;&amp; lhs.w&gt;rhs.w; });<br/>
        for(time=-1,i=0;i&lt;nstick;++i) {<br/>
            tmp=sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w;<br/>
            for(j=time;j&gt;=0 &amp;&amp; store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> &gt;=tmp;–j) ; // search from right to left<br/>
            if(j==time) { store[++time]=tmp; }<br/>
            else { store[j+1]=tmp; }<br/>
        }<br/>
        printf("%dn",time+1);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42809">
<article class="comment" id="comment-42809">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-42809" rel="nofollow"><time datetime="2014-12-15T18:53:12+00:00" pubdate="">2014年12月15日 at 下午6:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第23行：<br/>
hash <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = -1是否应该改成hash[s <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ] = -1</p>
<p>因为是要把从字符串s的start位到当前位在hash中重置</p>
<p>修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17030">
<article class="comment" id="comment-17030">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">modstart</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17030" rel="nofollow"><time datetime="2014-11-18T16:50:59+00:00" pubdate="">2014年11月18日 at 下午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17025">
<article class="comment" id="comment-17025">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17025" rel="nofollow"><time datetime="2014-09-07T06:59:16+00:00" pubdate="">2014年9月7日 at 上午6:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这种题解就相当于直接贴代码了，，想看的是思路</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17028">
<article class="comment" id="comment-17028">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sum_tsai</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17028" rel="nofollow"><time datetime="2014-08-29T13:56:37+00:00" pubdate="">2014年8月29日 at 下午1:56</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>给力，赞一个</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-42808">
<article class="comment" id="comment-42808">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-42808" rel="nofollow"><time datetime="2014-06-21T13:11:54+00:00" pubdate="">2014年6月21日 at 下午1:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>隐藏最深的bug是(start+end)/2有可能上溢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17031">
<article class="comment" id="comment-17031">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-17031" rel="nofollow"><time datetime="2014-04-25T09:36:03+00:00" pubdate="">2014年4月25日 at 上午9:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rh</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55715">
<article class="comment" id="comment-55715">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-1760-a-new-tetris-game-2737.html#comment-55715" rel="nofollow"><time datetime="2014-04-18T08:46:09+00:00" pubdate="">2014年4月18日 at 上午8:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题应该是有一般性的解决方法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>