<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>04-13</div>
<div class="tit"><h1 class="entry-title">HDU 3802-Ipad,IPhone-最小生成树-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/graph/mst" rel="category tag" title="查看最小生成树中的全部文章">最小生成树</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观297次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6802" href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comments" title="《HDU 3802-Ipad,IPhone-最小生成树-[解题报告]HOJ》上的评论">25 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Ipad,IPhone</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In ACM_DIY, there is one master called “Lost”. As we know he is a “-2Dai”, which means he has a lot of money.<br/>  <center><img src="http://www.acmerblog.com/img/1436097857431.png"/></center><br/>Well, Lost use Ipad and IPhone to reward the ones who solve the following problem.<br/>    <center><img src="http://www.acmerblog.com/img/1436097857570.png"/></center><br/>In this problem, we define F( n ) as :<br/>  <center><img src="http://www.acmerblog.com/img/1436097857712.png"/></center><br/>Then Lost denote a function G(a,b,n,p) as <br/><center><img src="http://www.acmerblog.com/img/1436097857797.png"/></center><br/>Here a, b, n, p are all positive integer!<br/>If you could tell Lost the value of G(a,b,n,p) , then you will get one Ipad and one IPhone! </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line is one integer T indicates the number of the test cases. (T &lt;= 100)<br/>Then for every case, only one line containing 4 positive integers a, b, n and p.<br/>(1 ≤a, b, n, p≤2*10<sup>9</sup> , p is an odd prime number and a,b &lt; p.) </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line is one integer T indicates the number of the test cases. (T &lt;= 100)<br/>Then for every case, only one line containing 4 positive integers a, b, n and p.<br/>(1 ≤a, b, n, p≤2*10<sup>9</sup> , p is an odd prime number and a,b &lt; p.)</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
2 3 1 10007
2 3 2 10007
2 3 3 10007
2 3 4 10007</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
40
392
3880
9941</pre>
<p> <!-- problem end --></p>
<p>&lt;  [if gte mso 9]&gt;<xml><w:worddocument><w:browserlevel>MicrosoftInternetExplorer4</w:browserlevel><w:displayhorizontaldrawinggridevery>0</w:displayhorizontaldrawinggridevery><w:displayverticaldrawinggridevery>2</w:displayverticaldrawinggridevery><w:documentkind>DocumentNotSpecified</w:documentkind><w:drawinggridverticalspacing>7.8</w:drawinggridverticalspacing><w:view>Normal</w:view><w:compatibility></w:compatibility><w:zoom>0</w:zoom></w:worddocument></xml></p>
<div>
<p style="margin-bottom: 7.05pt; margin-top: 7.05pt;"><span style="color: #1a5cc8; font-weight: bold; font-size: 21pt; font-family: 'Times New Roman';">Ipad,IPhone</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="color: #008000; font-weight: bold; font-size: 9pt; font-family: 'Arial';">Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)</span><br/>
<span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="color: #008000; font-weight: bold; font-size: 9pt; font-family: 'Arial';">Total Submission(s): 0    Accepted Submission(s): 0</span><br/>
<span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Problem Description</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">In ACM_DIY, there is one master called “Lost”. As we know he is a “-2Dai”, which means he has a lot of money.</span>
</p>
<p><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097890201.png"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: center;"> </p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">Well, Lost use Ipad and IPhone to reward the ones who solve the following problem.</span>
</p>
<p><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097890347.png"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: center;"> </p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">In this problem, we define F( n ) as :</span>
</p>
<p><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097890513.png"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: center;"> </p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">Then Lost denote a function G(a,b,n,p) as</span>
</p>
<p><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097890615.png"/></p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: center;"> </p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">Here a, b, n, p are all positive integer!</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">If you could tell Lost the value of G(a,b,n,p) , then you will get one Ipad and one IPhone!</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Input</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">The first line is one integer T indicates the number of the test cases. (T &lt;= 100)</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">Then for every case, only one line containing 4 positive integers a, b, n and p.</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';"><br/>
</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';">(1 ≤a, b, n, p≤2*10</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman'; vertical-align: super;">9</span><br/>
<span style="font-size: 10.5pt; font-family: 'Times New Roman';"> , p is an odd prime number and a,b &lt; p.)</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Output</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Output one line,the value of the G(a,b,n,p) .</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Sample Input</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">4 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">2 3 1 10007 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">2 3 2 10007 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">2 3 3 10007 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">2 3 4 10007</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Sample Output</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">40 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">392 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">3880 </span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Courier New';">9941</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Author</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">AekdyCoin</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Source</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><a><span style="color: #0000ff; font-size: 10.5pt; font-family: 'Times New Roman'; text-decoration: underline;">ACM-DIY Group Contest 2011 Spring</span><br/>
</a></p>
<p style="margin-bottom: 0pt; margin-top: 0pt; text-align: left;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">Recommend</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman';">notonlysuccess</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">先膜拜下<span style="font-family: Times New Roman;">AC</span><br/>
<span style="font-family: 宋体;">的</span><br/>
<span style="font-family: Times New Roman;">1004</span><br/>
<span style="font-family: 宋体;">……</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">这题错了好多次……<span style="font-family: Times New Roman;">orz</span><br/>
<span style="font-family: 宋体;">，没有注意到负数的取余，表示遗憾。</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">首先应该知道这么个公式</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097891256.gif"/><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><span style="color: #ff0000;">感谢zsasuke提出的错误，后来查了一下，这个公式的使用是有前提条件的：“c&gt;phi(p)”，所以需要加个判断，如果c&lt;=phi(p)，说明c次方在O(logc)的范围内可以得出结果，因此可以直接暴力求解，大于的话才使用这个公式，对于这个公式的正确性我这几天试着证明下，是在别人的解题报告里看的这个公式，做FOJ1759的时候记下来的，并没有证明……</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><span style="color: #ff0000;">还有p是质数（题目给定的，没发现，感谢bstw111提出）所以phi(p)=p-1。</span><br/>
<br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"> </p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">所以<span style="font-family: Times New Roman;">Fib(n)</span><br/>
<span style="font-family: 宋体;">次方就可以处理了。</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><span style="font-family: 宋体;">对于后面那坨……<br/>
</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';"><span style="font-family: 宋体;"><img alt="Ipad,IPhone" src="http://cdn.acmerblog.com/img/1436097891475.gif"/><br/>
<br/>
</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">注意对于<span style="font-family: Times New Roman;">zn</span><br/>
<span style="font-family: 宋体;">的矩阵可能系数为负的，不能直接取模……</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">代码如下，表示写的很丑<span style="font-family: Times New Roman;">- -|||</span><br/>
</span>
</p>
<p style="margin-bottom: 0pt; margin-top: 0pt;"><span style="font-size: 10.5pt; font-family: '宋体';">
<pre class="brush:cpp" name="code">#include &lt;stdio.h&gt;<br/>
#include &lt;math.h&gt;<br/>
#include &lt;string.h&gt;<br/>
typedef struct<br/>
{<br/>
    __int64 m[2][2];<br/>
}Matrix;<br/>
bool check[200005];<br/>
__int64 prime[100000];<br/>
__int64 up;<br/>
__int64 a,b,n,p,ok;<br/>
__int64 Fumod(__int64 t,__int64 mod)<br/>
{<br/>
    while(t&lt;0)<br/>
    {<br/>
        t=t+mod*1000000;<br/>
    }<br/>
    t=t%mod;<br/>
    return t;<br/>
}<br/>
Matrix Mul(Matrix x,Matrix y,__int64 mod)<br/>
{<br/>
    __int64 i,j,k;<br/>
    Matrix ret;<br/>
    for (i=0;i&lt;2;i++)<br/>
    {<br/>
        for (j=0;j&lt;2;j++)<br/>
        {<br/>
            ret.m[i][j]=0;<br/>
            for (k=0;k&lt;2;k++)<br/>
            {<br/>
                ret.m[i][j]=(ret.m[i][j]+x.m[i][k]*y.m[k][j]);<br/>
				if (ret.m[i][j]&gt;=mod) ok=1;<br/>
            }<br/>
            if (ret.m[i][j]&gt;=0) ret.m[i][j]%=mod;<br/>
            else<br/>
            {<br/>
                ret.m[i][j]=Fumod(ret.m[i][j],mod);<br/>
            }<br/>
        }<br/>
    }<br/>
    return ret;<br/>
}<br/>
__int64 Fib(__int64 t,__int64 mod)<br/>
{<br/>
    Matrix x,ans;<br/>
    x.m[0][0]=x.m[0][1]=x.m[1][0]=1;<br/>
    x.m[1][1]=0;<br/>
    ans.m[0][0]=1;<br/>
    ans.m[0][1]=ans.m[1][0]=ans.m[1][1]=0;<br/>
    while(t!=0)<br/>
    {<br/>
        if (t &amp; 1)<br/>
        {<br/>
            ans=Mul(x,ans,mod);<br/>
        }<br/>
        t&gt;&gt;=1;<br/>
        x=Mul(x,x,mod);<br/>
    }<br/>
    return ans.m[0][0];<br/>
}<br/>
void Pri()<br/>
{<br/>
    __int64 i,k,j;<br/>
    up=0;<br/>
    memset(check,true,sizeof(check));<br/>
    for (i=2;i&lt;=200000;i++)<br/>
    {<br/>
        if (check[i]==false) continue;<br/>
        for (j=i;i*j&lt;=200000;j++)<br/>
        {<br/>
            check[i*j]=false;<br/>
        }<br/>
        prime[up++]=i;<br/>
    }<br/>
}<br/>
__int64 CountZ(__int64 t,__int64 mod)<br/>
{<br/>
    Matrix x,ans;<br/>
    x.m[0][0]=2*(a+b)%mod;<br/>
    x.m[0][1]=Fumod(-(a-b)*(a-b),mod);<br/>
    x.m[1][0]=1;<br/>
    x.m[1][1]=0;<br/>
    ans.m[0][0]=2*(a+b)%mod;<br/>
    ans.m[1][0]=2;<br/>
    ans.m[0][1]=ans.m[1][1]=0;<br/>
    while(t!=0)<br/>
    {<br/>
        if (t &amp; 1)<br/>
        {<br/>
            ans=Mul(x,ans,mod);<br/>
        }<br/>
        t&gt;&gt;=1;<br/>
        x=Mul(x,x,mod);<br/>
    }<br/>
    return ans.m[0][0];<br/>
}<br/>
__int64 FMul(__int64 x,__int64 t,__int64 mod)<br/>
{<br/>
    __int64 ans=1;<br/>
    while(t!=0)<br/>
    {<br/>
        if (t &amp; 1)<br/>
        {<br/>
            ans=ans*x%mod;<br/>
        }<br/>
        t&gt;&gt;=1;<br/>
        x=(x*x)%mod;<br/>
    }<br/>
    return ans;<br/>
}<br/>
int main()<br/>
{<br/>
    __int64 i,j,T,f,z,amul,bmul,php;<br/>
    scanf("%I64d",&amp;T);<br/>
    Pri();<br/>
    while(T--)<br/>
    {<br/>
        scanf("%I64d%I64d%I64d%I64d",&amp;a,&amp;b,&amp;n,&amp;p);<br/>
	ok=0;<br/>
	php=p-1;<br/>
	f=Fib(n,php);<br/>
	if (ok==1) f+=php;<br/>
        z=CountZ(f-1,p);<br/>
        amul=(FMul(a,(p-1)/2,p)+1);<br/>
        bmul=(FMul(b,(p-1)/2,p)+1);<br/>
        printf("%I64d/n",(amul*bmul%p)*z%p);<br/>
    }<br/>
    return 0;<br/>
}
<pre>
 <br/>
 </pre></pre></span>
</p>
</div>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/magicnumber/article/details/6280257</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-72703">
<article class="comment" id="comment-72703">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72703" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72702">
<article class="comment" id="comment-72702">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72702" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72701">
<article class="comment" id="comment-72701">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72701" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72700">
<article class="comment" id="comment-72700">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72700" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72699">
<article class="comment" id="comment-72699">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72699" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72698">
<article class="comment" id="comment-72698">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72698" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72697">
<article class="comment" id="comment-72697">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72697" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72696">
<article class="comment" id="comment-72696">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72696" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72695">
<article class="comment" id="comment-72695">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72695" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72705">
<article class="comment" id="comment-72705">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72705" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-72704">
<article class="comment" id="comment-72704">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919514295" rel="external nofollow">新用户198850</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-72704" rel="nofollow"><time datetime="2017-04-11T19:58:25+00:00" pubdate="">2017年4月11日 at 下午7:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹纸好像没毛哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-51167">
<article class="comment" id="comment-51167">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-51167" rel="nofollow"><time datetime="2015-07-02T20:16:07+00:00" pubdate="">2015年7月2日 at 下午8:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33885">
<article class="comment" id="comment-33885">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zwj0571</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33885" rel="nofollow"><time datetime="2015-06-29T09:20:44+00:00" pubdate="">2015年6月29日 at 上午9:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33887">
<article class="comment" id="comment-33887">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY243956</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33887" rel="nofollow"><time datetime="2015-06-27T02:57:52+00:00" pubdate="">2015年6月27日 at 上午2:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>厉害啊，我遇见数学问题就头疼！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33883">
<article class="comment" id="comment-33883">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">chengleisheng</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33883" rel="nofollow"><time datetime="2015-06-20T04:52:24+00:00" pubdate="">2015年6月20日 at 上午4:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法还停留在大学的知识中</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33882">
<article class="comment" id="comment-33882">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33882" rel="nofollow"><time datetime="2015-06-14T13:03:40+00:00" pubdate="">2015年6月14日 at 下午1:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有谁知道直接遍历的方法中第8行是什么意思嘛？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33880">
<article class="comment" id="comment-33880">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang2</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33880" rel="nofollow"><time datetime="2015-05-27T06:19:28+00:00" pubdate="">2015年5月27日 at 上午6:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33886">
<article class="comment" id="comment-33886">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">H.Watson</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33886" rel="nofollow"><time datetime="2015-05-17T01:54:13+00:00" pubdate="">2015年5月17日 at 上午1:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>递归还真是一门学问，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33881">
<article class="comment" id="comment-33881">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33881" rel="nofollow"><time datetime="2015-05-13T22:08:31+00:00" pubdate="">2015年5月13日 at 下午10:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个后缀数组不是常用的那个.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33890">
<article class="comment" id="comment-33890">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33890" rel="nofollow"><time datetime="2015-05-05T05:03:37+00:00" pubdate="">2015年5月5日 at 上午5:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>helpful！！ mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33889">
<article class="comment" id="comment-33889">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33889" rel="nofollow"><time datetime="2015-05-02T20:34:12+00:00" pubdate="">2015年5月2日 at 下午8:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我没看懂题目<br/>
2<br/>
5 6 -1 5 4 -7<br/>
7 0 6 -1 1 -6 7 -5<br/>
我觉得第一个应该是5 6 -1 5 4 输出是19 5 4<br/>
第二个是7 0 6 -1 1 -6 7输出是14 7 7<br/>
不知道题目例子是怎么得出来的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33888">
<article class="comment" id="comment-33888">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33888" rel="nofollow"><time datetime="2015-04-29T03:05:36+00:00" pubdate="">2015年4月29日 at 上午3:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-51166">
<article class="comment" id="comment-51166">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-51166" rel="nofollow"><time datetime="2015-04-27T13:11:46+00:00" pubdate="">2015年4月27日 at 下午1:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;algorithm&gt;</p>
<p>struct LWPair{<br/>
    int l,w;<br/>
};</p>
<p>int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    const int MAXSIZE=5000, MAXVAL=10000;<br/>
    LWPair sticks[MAXSIZE];<br/>
    int store[MAXSIZE];<br/>
    int ncase, nstick, length,width, tmp, time, i,j;<br/>
    if(scanf("%d",&amp;ncase)!=1) return -1;<br/>
    while(ncase– &amp;&amp; scanf("%d",&amp;nstick)==1) {<br/>
        for(i=0;i&lt;nstick;++i) scanf("%d%d",&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .l,&amp;sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w);<br/>
        std::sort(sticks,sticks+nstick,[](const LWPair &amp;lhs, const LWPair &amp;rhs) { return lhs.l&gt;rhs.l || lhs.l==rhs.l &amp;&amp; lhs.w&gt;rhs.w; });<br/>
        for(time=-1,i=0;i&lt;nstick;++i) {<br/>
            tmp=sticks <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> .w;<br/>
            for(j=time;j&gt;=0 &amp;&amp; store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> &gt;=tmp;–j) ; // search from right to left<br/>
            if(j==time) { store[++time]=tmp; }<br/>
            else { store[j+1]=tmp; }<br/>
        }<br/>
        printf("%dn",time+1);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-33879">
<article class="comment" id="comment-33879">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">changjf</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33879" rel="nofollow"><time datetime="2015-04-24T19:38:31+00:00" pubdate="">2015年4月24日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great work！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-33884">
<article class="comment" id="comment-33884">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yueyanglou</a></span> on <a href="http://www.acmerblog.com/hdu-3802-ipadiphone-6802.html#comment-33884" rel="nofollow"><time datetime="2015-04-17T05:13:52+00:00" pubdate="">2015年4月17日 at 上午5:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#include &lt;cstdio&gt;<br/>
#include &lt;cstring&gt;</p>
<p>const int MAXSIZE=256;<br/>
//char store[MAXSIZE];<br/>
char str1[MAXSIZE];<br/>
/*<br/>
void init(char *store) {<br/>
    int i;<br/>
    store['A']=’V', store['B']=’W',store['C']=’X',store['D']=’Y',store['E']=’Z';<br/>
    for(i=’F';i&lt;=’Z';++i) store <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =i-5;<br/>
}<br/>
*/<br/>
int main() {<br/>
    //freopen("input.txt","r",stdin);<br/>
    //init(store);<br/>
    char *p;<br/>
    while(fgets(str1,MAXSIZE,stdin) &amp;&amp; strcmp(str1,"STARTn")==0) {<br/>
        if(p=fgets(str1,MAXSIZE,stdin)) {<br/>
            for(;*p;++p) {<br/>
				//*p=store[*p]<br/>
                if(*p&lt;’A’ || *p&gt;’Z') continue;<br/>
                if(*p&gt;’E') *p=*p-5;<br/>
                else *p=*p+21;<br/>
            }<br/>
            printf("%s",str1);<br/>
        }<br/>
        fgets(str1,MAXSIZE,stdin);<br/>
    }<br/>
    return 0;<br/>
}</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>