<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">Hdu 1296 Polynomial Problem-模拟-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/simulate" rel="category tag" title="查看模拟法中的全部文章">模拟法</a></span><span class="i4">围观1856次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1666" href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comments" title="《Hdu 1296 Polynomial Problem-模拟-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Polynomial Problem</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">We have learned how to obtain the value of a polynomial when we were a middle school student. If f(x) is a polynomial of degree n, we can let<br/>
<center><img alt="" src="http://acm.hdu.edu.cn/data/images/C23-1007-1.gif"/></center><br/>
If we have x, we can get f(x) easily. But a computer can not understand the expression like above. So we had better make a program to obtain f(x).</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">There are multiple cases in this problem and ended by the EOF. In each case, there are two lines. One is an integer means x (0&lt;=x&lt;=10000), the other is an expression means f(x). All coefficients ai(0&lt;=i&lt;=n,1&lt;=n&lt;=10,-10000&lt;=ai&lt;=10000) are integers. A correct expression maybe likes<br/>
1003X^5+234X^4-12X^3-2X^2+987X-1000</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">For each test case, there is only one integer means the value of f(x).</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">3
1003X^5+234X^4-12X^3-2X^2+987X-1000</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">264302

Notice that the writing habit of polynomial f(x) is usual such as
X^6+2X^5+3X^4+4X^3+5X^2+6X+7
-X^7-5X^6+3X^5-5X^4+20X^3+2X^2+3X+9
X+1
X^3+1
X^3
-X+1 etc. Any results of middle process are in the range from -1000000000 to 1000000000.</pre>
<p><!-- problem end --></p>
<div><strong>思路：一个数学的算术表达式，比较简单的，主要是注意处理头尾的，接着就是耐心打代码了。</strong></div>
<div></div>
<div><strong>代码如下：</strong></div>
<pre class="brush:cpp">#include 
#include 
#include 
using namespace std;

char str[100005],temp;
__int64 top,flag,i,len,sum,s1,s2;

__int64 fun(__int64 x,__int64 y)
{
	int k;
	__int64 sum1=1;
	for(k=1;k&amp;lt;=y;k++)
		sum1*=x;
	return sum1;
}

int main()
{
	__int64 x;
	while(scanf("%I64d%s",&amp;amp;x,str)!=EOF)
	{
		s1=s2=0;
		len=strlen(str);
		top=-1;
		sum=0;
		temp='+';
		i=0;
		while(i&amp;lt;=len)
		{
			if(str[i]=='+' || str[i]=='-' || str[i]=='/0')
			{
				if(temp=='+')
					sum+=s1*fun(x,s2);
				else
					sum-=s1*fun(x,s2);
				s1=s2=0;
				flag=0;
				temp=str[i];
				i++;
			}
			else if(str[i]=='X') 
			{
				if(s1==0)
					s1=1;
				i++;
				if(str[i]!='^')
					s2=1;
			}
			else if(str[i]=='^')
			{
				i++;
				while(1)
				{
					if(str[i]=='+' ||str[i]=='-' || str[i]=='/0')
						break;
					else
						s2=s2*10+str[i]-'0';
					i++;
				}
			}
			else
			{
				s1=s1*10+str[i]-'0';
				i++;
			}
		}
		printf("%I64d/n",sum);
	}
	return 0;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-93554">
<article class="comment" id="comment-93554">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517398" rel="external nofollow">新用户803169</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-93554" rel="nofollow"><time datetime="2017-04-13T17:45:45+00:00" pubdate="">2017年4月13日 at 下午5:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实没有那么丑吧，还好啦，，，，还是喜欢九九</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54539">
<article class="comment" id="comment-54539">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">userwawa</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-54539" rel="nofollow"><time datetime="2015-06-19T23:31:03+00:00" pubdate="">2015年6月19日 at 下午11:31</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已经挂掉了，给个参考呗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12264">
<article class="comment" id="comment-12264">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">21435048</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12264" rel="nofollow"><time datetime="2015-05-22T19:11:36+00:00" pubdate="">2015年5月22日 at 下午7:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61426">
<article class="comment" id="comment-61426">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mayboy</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-61426" rel="nofollow"><time datetime="2015-01-30T12:30:00+00:00" pubdate="">2015年1月30日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12269">
<article class="comment" id="comment-12269">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Silence.L</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12269" rel="nofollow"><time datetime="2014-11-19T09:33:13+00:00" pubdate="">2014年11月19日 at 上午9:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12267">
<article class="comment" id="comment-12267">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12267" rel="nofollow"><time datetime="2014-09-19T10:40:44+00:00" pubdate="">2014年9月19日 at 上午10:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>2的64次方是多少？ 这到底是在考什么啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40531">
<article class="comment" id="comment-40531">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-40531" rel="nofollow"><time datetime="2014-09-17T01:00:32+00:00" pubdate="">2014年9月17日 at 上午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>写的好·····  Pollard Rho快速因数分解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12266">
<article class="comment" id="comment-12266">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zclzcllove</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12266" rel="nofollow"><time datetime="2014-07-28T14:16:09+00:00" pubdate="">2014年7月28日 at 下午2:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>顺利测试通过了，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12268">
<article class="comment" id="comment-12268">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12268" rel="nofollow"><time datetime="2014-06-18T13:51:08+00:00" pubdate="">2014年6月18日 at 下午1:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第23行：<br/>
hash <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/>  = -1是否应该改成hash[s <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ] = -1</p>
<p>因为是要把从字符串s的start位到当前位在hash中重置</p>
<p>修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61427">
<article class="comment" id="comment-61427">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-61427" rel="nofollow"><time datetime="2014-04-30T02:25:13+00:00" pubdate="">2014年4月30日 at 上午2:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12270">
<article class="comment" id="comment-12270">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">we</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12270" rel="nofollow"><time datetime="2014-04-15T20:11:54+00:00" pubdate="">2014年4月15日 at 下午8:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了。找到这题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12271">
<article class="comment" id="comment-12271">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12271" rel="nofollow"><time datetime="2014-04-06T18:16:49+00:00" pubdate="">2014年4月6日 at 下午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>因为是要把从字符串s的start位到当前位在hash中重置，修改提交后能accept，但是不修改居然也能accept</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12265">
<article class="comment" id="comment-12265">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Dwayne</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-12265" rel="nofollow"><time datetime="2014-02-06T04:54:49+00:00" pubdate="">2014年2月6日 at 上午4:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-61428">
<article class="comment" id="comment-61428">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dongxi</a></span> on <a href="http://www.acmerblog.com/hdu-1296-polynomial-problem-1666.html#comment-61428" rel="nofollow"><time datetime="2014-01-11T13:34:50+00:00" pubdate="">2014年1月11日 at 下午1:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>