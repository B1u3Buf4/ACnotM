<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-03</div>
<div class="tit"><h1 class="entry-title">HDU 3138-Coconuts-数学相关-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math" rel="category tag" title="查看数学相关中的全部文章">数学相关</a></span><span class="i4">围观320次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4955" href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comments" title="《HDU 3138-Coconuts-数学相关-[解题报告]HOJ》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Coconuts</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
A group of <b>n</b> castle guards are voting to determine whether African swallows can carry coconuts. While each guard has his own personal opinion on the matter, a guard will often vote contrary to his beliefs in order to avoid disagreeing with the votes of his friends. 
<p>You are given a list of guards who either do or do not believe in the coconut-carrying capacity of African swallows, and a list of all pairs of guards who are friends. Your task is to determine how each guard must vote in order to minimize the sum of the total number of disagreements between friends and the total number of guards who must vote against their own beliefs. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input to this problem will contain multiple test cases. Each test case begins with a single line containing an integer <b>n</b> (where 2 &lt;= <b>n</b> &lt;= 300), the number of guards, and an integer <b>m</b> (where 1 &lt;= <b>m</b> &lt;= <b>n</b>(<b>n</b>-1)/2), the number of pairs of guards who are friends. The second line of the test case contains <b>n</b> integers, where the <b>i</b><sup>th</sup>  integer is 1 if the <b>i</b><sup>th</sup> guard believes in the ability of African swallows to carry coconuts, and 0 otherwise. Finally, the next <b>m</b> lines of the test case each contain two distinct integers <b>i</b> and <b>j</b> (where 1 &lt;= <b>i</b>, <b>j</b> &lt;= <b>n</b>), indicating that guards <b>i</b> and <b>j</b> are friends. Guards within each pair of friends may be listed in any order, but no pair of guards will be repeated. The input is terminated by an invalid test case with <b>n</b> = <b>m</b> = 0, which should not be processed. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input to this problem will contain multiple test cases. Each test case begins with a single line containing an integer <b>n</b> (where 2 &lt;= <b>n</b> &lt;= 300), the number of guards, and an integer <b>m</b> (where 1 &lt;= <b>m</b> &lt;= <b>n</b>(<b>n</b>-1)/2), the number of pairs of guards who are friends. The second line of the test case contains <b>n</b> integers, where the <b>i</b><sup>th</sup>  integer is 1 if the <b>i</b><sup>th</sup> guard believes in the ability of African swallows to carry coconuts, and 0 otherwise. Finally, the next <b>m</b> lines of the test case each contain two distinct integers <b>i</b> and <b>j</b> (where 1 &lt;= <b>i</b>, <b>j</b> &lt;= <b>n</b>), indicating that guards <b>i</b> and <b>j</b> are friends. Guards within each pair of friends may be listed in any order, but no pair of guards will be repeated. The input is terminated by an invalid test case with <b>n</b> = <b>m</b> = 0, which should not be processed.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 3
1 0 0
1 2
1 3
3 2
6 6
1 1 1 0 0 0
1 2
2 3
4 2
3 5
4 5
5 6
0 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
2

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div><b>Notes:</b>

In the first test case, the best result is achieved when all guards vote that African swallows cannot carry coconuts. 
Here, there is only a penalty of 1 for the first guard voting against his beliefs.

In the second test case, the best result is achieved when each guard votes for his beliefs. 
The penalty of 2 arises from the disagreements between guards 2 and 4, and guards 3 and 5.
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;iostream&gt;
#include &lt;algorithm&gt;

using namespace std;

typedef long long ll;

const int X = 1005;

ll a[X],b[X];
ll ans;
int n;

int main(){
	freopen("ain.txt","r",stdin);
	int ncase;
	cin&gt;&gt;ncase;
	while(ncase--){
		cin &gt;&gt; n;
		ans = 0;
		ll x = 0,y = 0;
		for(int i=1;i&lt;=n;i++){
			scanf("%lld",&amp;a[i]);
			x += a[i]*a[i];
		}
		for(int i=1;i&lt;=n;i++){
			scanf("%lld",&amp;b[i]);
			y += b[i]*b[i];
			ans -= a[i]*b[i];
		}
		cout&lt;&lt;-ans*ans+x*y&lt;&lt;endl;
	}
	return 0;
}</pre>
<p>参考：http://www.cnblogs.com/yejinru/archive/2013/01/16/2862983.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78758">
<article class="comment" id="comment-78758">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919512679" rel="external nofollow">新用户508678</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-78758" rel="nofollow"><time datetime="2017-04-12T12:30:20+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>唉…又七夕了呀</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27393">
<article class="comment" id="comment-27393">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-27393" rel="nofollow"><time datetime="2015-07-14T18:59:28+00:00" pubdate="">2015年7月14日 at 下午6:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>int L[m+1][n+1];这样定义出错，这个在gcc上可以编译通过 在VS上不行 应该改为new 或者vector</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27394">
<article class="comment" id="comment-27394">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">becool456</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-27394" rel="nofollow"><time datetime="2015-06-25T09:44:03+00:00" pubdate="">2015年6月25日 at 上午9:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27391">
<article class="comment" id="comment-27391">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">howhaw</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-27391" rel="nofollow"><time datetime="2015-05-02T00:45:17+00:00" pubdate="">2015年5月2日 at 上午12:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47837">
<article class="comment" id="comment-47837">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Lanifer</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-47837" rel="nofollow"><time datetime="2015-03-06T13:13:10+00:00" pubdate="">2015年3月6日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>算法是程序的灵魂，算法分简单和复杂，如果不搞大数据类，程序员了解一下简单点的算法也是可以的，但是会算法的一定要会编程才行，程序员不一定要会算法，利于自己项目需要的可以简单了解。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-47836">
<article class="comment" id="comment-47836">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-47836" rel="nofollow"><time datetime="2014-10-31T11:54:00+00:00" pubdate="">2014年10月31日 at 上午11:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>在第 18行的，while(scanf("%d %dn", &amp;n, &amp;c), n)，这句有错吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63187">
<article class="comment" id="comment-63187">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zjd1988</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-63187" rel="nofollow"><time datetime="2014-09-23T07:23:10+00:00" pubdate="">2014年9月23日 at 上午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>从数学角度确实是C(n,r)，能给个递推关系式吗，从分治的角度不好理解</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27395">
<article class="comment" id="comment-27395">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-27395" rel="nofollow"><time datetime="2014-09-11T01:00:47+00:00" pubdate="">2014年9月11日 at 上午1:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>是穷举，但是代码有优化（v数组），并不是2^n。测试数据应该没问题，之前有超时的代码。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47835">
<article class="comment" id="comment-47835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">siaswj</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-47835" rel="nofollow"><time datetime="2014-05-05T19:45:22+00:00" pubdate="">2014年5月5日 at 下午7:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>失误失误，转载错了。已经改正，抱歉。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27392">
<article class="comment" id="comment-27392">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Christmas</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-27392" rel="nofollow"><time datetime="2014-04-30T18:19:19+00:00" pubdate="">2014年4月30日 at 下午6:19</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>还是有些难度的！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-47838">
<article class="comment" id="comment-47838">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/hdu-3138-coconuts-4955.html#comment-47838" rel="nofollow"><time datetime="2014-03-22T01:58:07+00:00" pubdate="">2014年3月22日 at 上午1:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>打字员路过。。。。。。算法是啥。。。能干嘛。。。。。。。。能吃么。。哎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>