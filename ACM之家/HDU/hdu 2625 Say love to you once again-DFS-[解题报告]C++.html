<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-12</div>
<div class="tit"><h1 class="entry-title">hdu 2625 Say love to you once again-DFS-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/dfs" rel="category tag" title="查看DFS搜索中的全部文章">DFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search/backtracking" rel="category tag" title="查看回溯和剪枝中的全部文章">回溯和剪枝</a></span><span class="i4">围观746次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4212" href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comments" title="《hdu 2625 Say love to you once again-DFS-[解题报告]C++》上的评论">21 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Say love to you once again</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Say love to you once again——I remember that day, you’re sitting in front of me. Obviously your wishes, waiting for my performance. I said some other day, when I have sufficient time <br/>, I would certainly give you a perfect declaration of love. I would like to seize every moment, I am afraid that the story is yesterday. I came to realize that neglect is the largest defect of me, but it was to late. I really want to say love to you once again. I am willing to give up everything only in exchange for you. If time can turn the clock back for you. I will hold your hands once again, say, I love you!
<p>It is an old legend.<br/>If you can solve this problem, god will give you a chance to say love to your darling once again, so, yifenfei, seize the chance.<br/>There are N plane in the sky, and every one can attack each other. Now, we assigned each has a number i (1 &lt;= i &lt;= N), plane i and plane j can produce Aij points of hurt. Your task is to divide N planes into two groups. Each group in itself don’t produce any point of hurt, but plane between two groups will produces hurt.<br/>Please maximize sum of all the hurt. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
For each case, first input a N(2 &lt;= N &lt;= 25), represent the number of planes in the sky, then a matrix A, (Aij = Aji, Aii = 0 for all i,j&lt;= N), Aij represents the hurt between plane i and plane j. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each case, first input a N(2 &lt;= N &lt;= 25), represent the number of planes in the sky, then a matrix A, (Aij = Aji, Aii = 0 for all i,j&lt;= N), Aij represents the hurt between plane i and plane j.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
0 150 20
150 0 140
20 140 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
290.</pre>
<p> <!-- problem end --></p>
<p> </p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2625">http://acm.hdu.edu.cn/showproblem.php?pid=2625</a></p>
<p>随便写出一个dfs然后猥琐随机化法剪枝，第一次AC的战绩是1/18，还跑了700+ms，随机50w次成功率还这么低。。。最近rp真是太烂了有木有。。。</p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
#include &lt;ctime&gt;
using namespace std ;
int map[30][30] ;
int n ;
int ans ;
int vis[30] ;
void dfs(int d)
{
    if(d==n)
    {
        int temp=0 ;
        for(int i=0;i&lt;n;i++)
            if(vis[i])
                for(int j=0;j&lt;n;j++)
                    if(!vis[j])
                        temp+=map[i][j] ;
        if(ans&lt;temp)
            ans=temp ;
        return ;
    }
    vis[d]=1 ;
    dfs(d+1) ;
    vis[d]=0 ;
    dfs(d+1) ;
}
int main()
{
    while(~scanf("%d",&amp;n))
    {
        for(int i=0;i&lt;n;i++)
            for(int j=0;j&lt;n;j++)
                scanf("%d",&amp;map[i][j]) ;
        memset(vis,0,sizeof(vis)) ;
        ans=0 ;
        if(n&lt;20)
            dfs(0) ;
        else
        {
            int times=500000 ;
            srand(time(0)) ;
            while(times--)
            {
                vis[rand()%n]^=1 ;
                int temp=0 ;
                for(int i=0;i&lt;n;i++)
                    if(vis[i])
                        for(int j=0;j&lt;n;j++)
                            if(!vis[j])
                            temp+=map[i][j] ;
                if(ans&lt;temp)
                    ans=temp ;
            }
        }
        printf("%d.\n",ans) ;
    }
    return 0 ;
}</pre>
<p> </p>
<p>解题转自：http://www.cnblogs.com/xiaohongmao/archive/2012/06/07/2539860.html</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-83666">
<article class="comment" id="comment-83666">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83666" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83665">
<article class="comment" id="comment-83665">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83665" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83664">
<article class="comment" id="comment-83664">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83664" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83663">
<article class="comment" id="comment-83663">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83663" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83662">
<article class="comment" id="comment-83662">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83662" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-83661">
<article class="comment" id="comment-83661">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83661" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-83660">
<article class="comment" id="comment-83660">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919520012" rel="external nofollow">新用户197175</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-83660" rel="nofollow"><time datetime="2017-04-12T22:38:35+00:00" pubdate="">2017年4月12日 at 下午10:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我喜欢强势的凰北月。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45975">
<article class="comment" id="comment-45975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Snarl_jsb</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45975" rel="nofollow"><time datetime="2015-06-14T12:00:18+00:00" pubdate="">2015年6月14日 at 下午12:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，找的就是这一题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45978">
<article class="comment" id="comment-45978">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">303589828</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45978" rel="nofollow"><time datetime="2015-04-18T12:38:03+00:00" pubdate="">2015年4月18日 at 下午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62769">
<article class="comment" id="comment-62769">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-62769" rel="nofollow"><time datetime="2015-02-07T15:38:02+00:00" pubdate="">2015年2月7日 at 下午3:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-57164">
<article class="comment" id="comment-57164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-57164" rel="nofollow"><time datetime="2015-01-07T01:08:24+00:00" pubdate="">2015年1月7日 at 上午1:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真考人啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45973">
<article class="comment" id="comment-45973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">crazymage</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45973" rel="nofollow"><time datetime="2015-01-05T07:40:05+00:00" pubdate="">2015年1月5日 at 上午7:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>多谢支持！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62766">
<article class="comment" id="comment-62766">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-62766" rel="nofollow"><time datetime="2014-12-05T09:06:44+00:00" pubdate="">2014年12月5日 at 上午9:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62767">
<article class="comment" id="comment-62767">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zcmu_sls</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-62767" rel="nofollow"><time datetime="2014-11-23T22:22:33+00:00" pubdate="">2014年11月23日 at 下午10:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么暴力求解方法循环到sqrt(n) 就可以了呢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45977">
<article class="comment" id="comment-45977">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45977" rel="nofollow"><time datetime="2014-10-25T16:59:19+00:00" pubdate="">2014年10月25日 at 下午4:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发的在线笔试题吗?发现很多C啊，阿里不是JAVA多么？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45974">
<article class="comment" id="comment-45974">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaoriqiang2</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45974" rel="nofollow"><time datetime="2014-09-26T00:38:23+00:00" pubdate="">2014年9月26日 at 上午12:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>good !</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45976">
<article class="comment" id="comment-45976">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">20134055016</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45976" rel="nofollow"><time datetime="2014-09-11T11:14:54+00:00" pubdate="">2014年9月11日 at 上午11:14</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>思路二可以用一个长度为k的队列来实现，入队后判断下队尾元素的next指针是否为空，若为空，则出队指针即为所求。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45971">
<article class="comment" id="comment-45971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gyouxu</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45971" rel="nofollow"><time datetime="2014-07-03T14:18:17+00:00" pubdate="">2014年7月3日 at 下午2:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>分析的很专业！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62768">
<article class="comment" id="comment-62768">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-62768" rel="nofollow"><time datetime="2014-05-12T05:12:58+00:00" pubdate="">2014年5月12日 at 上午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>使用ListNodeWrapper很蹩脚的感觉，没有更好的解决办法？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-45972">
<article class="comment" id="comment-45972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">GordonTJ</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45972" rel="nofollow"><time datetime="2014-05-02T21:41:14+00:00" pubdate="">2014年5月2日 at 下午9:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-45979">
<article class="comment" id="comment-45979">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">biantiao</a></span> on <a href="http://www.acmerblog.com/hdu-2625-say-love-to-you-once-again-4212.html#comment-45979" rel="nofollow"><time datetime="2014-03-20T03:00:12+00:00" pubdate="">2014年3月20日 at 上午3:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>