<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4632-Palindrome subsequence[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观92次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7677" href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comments" title="《HDU 4632-Palindrome subsequence[解题报告]HOJ》上的评论">16 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Palindrome subsequence</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
In mathematics, a subsequence is a sequence that can be derived from another sequence by deleting some elements without changing the order of the remaining elements. For example, the sequence &lt;A, B, D&gt; is a subsequence of &lt;A, B, C, D, E, F&gt;.<br/>(http://en.wikipedia.org/wiki/Subsequence)
<p>Given a string S, your task is to find out how many different subsequence of S is palindrome. Note that for any two subsequence X = &lt;S<sub>x1</sub>, S<sub>x2</sub>, …, S<sub>xk</sub>&gt; and Y = &lt;S<sub>y1</sub>, S<sub>y2</sub>, …, S<sub>yk</sub>&gt; , if there exist an integer i (1&lt;=i&lt;=k) such that xi != yi, the subsequence X and Y should be consider different even if S<sub>xi</sub> = S<sub>yi</sub>. Also two subsequences with different length should be considered different. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains only one integer T (T&lt;=50), which is the number of test cases. Each test case contains a string S, the length of S is not greater than 1000 and only contains lowercase letters. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line contains only one integer T (T&lt;=50), which is the number of test cases. Each test case contains a string S, the length of S is not greater than 1000 and only contains lowercase letters.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
a
aaaaa
goodafternooneveryone
welcometoooxxourproblems</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Case 1: 1
Case 2: 31
Case 3: 421
Case 4: 960</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;algorithm&gt;
using namespace std;
const int maxn = 1005;
int dp[maxn][maxn];
char s[maxn];
int main(){
	int t;
	int ca = 1;
	scanf("%d",&amp;t);
	while(t --){
		scanf("%s",s);
		int len = strlen(s);
		for(int l = 0;l &lt; len;l ++){
			for(int i = 0;i + l &lt; len;i ++){
				if(l == 0)dp[i][i] = 1;
				else if(l == 1){
					if(s[i] == s[i + 1])dp[i][i + 1] = 3;
					else dp[i][i + 1] = 2;
				}
				else {
					dp[i][i + l] = dp[i + 1][i + l] + dp[i][i + l - 1] - dp[i + 1][i + l - 1];
					if(s[i] == s[i + l])dp[i][i + l] += dp[i + 1][i + l - 1] + 1;
					dp[i][i + l] = (dp[i][i + l] + 10007) % 10007;
				}
				//printf("i = %d j = %d dp = %d\n",i,i + l,dp[i][i + l]);
			}
		}
		printf("Case %d: %d\n",ca ++,dp[0][len - 1]);
	}
	return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97274">
<article class="comment" id="comment-97274">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97274" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97273">
<article class="comment" id="comment-97273">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97273" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97272">
<article class="comment" id="comment-97272">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97272" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97271">
<article class="comment" id="comment-97271">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97271" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97270">
<article class="comment" id="comment-97270">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97270" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97269">
<article class="comment" id="comment-97269">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97269" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97268">
<article class="comment" id="comment-97268">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97268" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97267">
<article class="comment" id="comment-97267">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530645" rel="external nofollow">新用户783630</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-97267" rel="nofollow"><time datetime="2017-04-20T05:15:14+00:00" pubdate="">2017年4月20日 at 上午5:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冥币厂失火，附近村民纷纷争先恐后自杀。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66388">
<article class="comment" id="comment-66388">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66388" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66387">
<article class="comment" id="comment-66387">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66387" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66386">
<article class="comment" id="comment-66386">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66386" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66385">
<article class="comment" id="comment-66385">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66385" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66384">
<article class="comment" id="comment-66384">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66384" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66383">
<article class="comment" id="comment-66383">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66383" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-66382">
<article class="comment" id="comment-66382">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66382" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-66381">
<article class="comment" id="comment-66381">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518373" rel="external nofollow">新用户801442</a></span> on <a href="http://www.acmerblog.com/hdu-4632-palindrome-subsequence-7677.html#comment-66381" rel="nofollow"><time datetime="2017-04-10T22:27:49+00:00" pubdate="">2017年4月10日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>年轻人，你以为真有那么多女蛋友吗？其实那些都是我的马甲，不信我换个号来回复你</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>