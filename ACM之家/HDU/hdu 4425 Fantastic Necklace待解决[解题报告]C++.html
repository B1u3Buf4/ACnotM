<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>07-16</div>
<div class="tit"><h1 class="entry-title">hdu 4425 Fantastic Necklace待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观116次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7438" href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comments" title="《hdu 4425 Fantastic Necklace待解决[解题报告]C++》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Fantastic Necklace</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Alice is one of the most famous necklace designers. She is designing a fantastic necklace of new styles. Like other necklaces, this necklace consists of n beads and n strings connecting the bead together. The most significant difference is that the beads are not connected one by one but has many branches. The branches connecting to the same bead can be arranged arbitrarily. The shaking of the branches makes the necklace more glaring. Another difference is that the beads are not connected with ordinary strings. The two ends of each string differ, which makes the necklace more unique.<br/>         She has finished the structure of the new necklace. However, she is hesitating what color of bead should be used for each position. As a famous designer, she has beads of m colors and each type has infinite number of beads. She wants to make a necklace that any pair of adjacent beads has different colors. Now can you tell her how many different necklaces can she make with the colorful beads? Two necklaces are counted as one if each bead coincides after rotating the necklace or rearranging the braches. But because of the special strings, two necklaces with mirroring arrangements are not considered the same. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of about 50 test cases. The first line of each test case contains two integers, n and m, the number of beads of the necklace and the number of colors of beads Alice has (2 &lt; n ≤ 100000, 1 ≤ m ≤ 100000). The second line contains n integers, the i-th of which, named pi, means that there is a string from the i-th bead to the pi-th bead (1 ≤ p<sub>i</sub> ≤ n and p<sub>i</sub> does not equal to i). The necklace is always valid and there is no duplicated string connecting the same pair of beads. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input consists of about 50 test cases. The first line of each test case contains two integers, n and m, the number of beads of the necklace and the number of colors of beads Alice has (2 &lt; n ≤ 100000, 1 ≤ m ≤ 100000). The second line contains n integers, the i-th of which, named pi, means that there is a string from the i-th bead to the pi-th bead (1 ≤ p<sub>i</sub> ≤ n and p<sub>i</sub> does not equal to i). The necklace is always valid and there is no duplicated string connecting the same pair of beads.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 3
2 3 1
3 2
2 3 1
6 3
2 3 1 1 2 3
6 2
2 3 4 1 1 3
6 3
2 3 1 1 4 4</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
2
0
16
2
36</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-98037">
<article class="comment" id="comment-98037">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98037" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98036">
<article class="comment" id="comment-98036">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98036" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98035">
<article class="comment" id="comment-98035">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98035" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98034">
<article class="comment" id="comment-98034">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98034" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98033">
<article class="comment" id="comment-98033">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98033" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-98032">
<article class="comment" id="comment-98032">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98032" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-98031">
<article class="comment" id="comment-98031">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919518091" rel="external nofollow">新用户055303</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-98031" rel="nofollow"><time datetime="2017-04-20T11:47:07+00:00" pubdate="">2017年4月20日 at 上午11:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>前缀ajsq</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67980">
<article class="comment" id="comment-67980">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67980" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67979">
<article class="comment" id="comment-67979">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67979" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67978">
<article class="comment" id="comment-67978">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67978" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67977">
<article class="comment" id="comment-67977">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67977" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67976">
<article class="comment" id="comment-67976">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67976" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67975">
<article class="comment" id="comment-67975">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67975" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67974">
<article class="comment" id="comment-67974">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67974" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67973">
<article class="comment" id="comment-67973">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67973" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67972">
<article class="comment" id="comment-67972">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67972" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67971">
<article class="comment" id="comment-67971">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67971" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67970">
<article class="comment" id="comment-67970">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919531860" rel="external nofollow">新用户560865</a></span> on <a href="http://www.acmerblog.com/hdu-4425-fantastic-necklace-7438.html#comment-67970" rel="nofollow"><time datetime="2017-04-11T03:57:02+00:00" pubdate="">2017年4月11日 at 上午3:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得关注其盈利模式更重要，很多web2.0概念的网站就是烧钱，对投资人很不负责</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>