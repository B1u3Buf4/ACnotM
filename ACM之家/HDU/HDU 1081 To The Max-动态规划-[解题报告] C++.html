<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>11-27</div>
<div class="tit"><h1 class="entry-title">HDU 1081 To The Max-动态规划-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a></span><span class="i4">围观736次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1352" href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comments" title="《HDU 1081 To The Max-动态规划-[解题报告] C++》上的评论">11 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">To The Max</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Given a two-dimensional array of positive and negative integers, a sub-rectangle is any contiguous sub-array of size 1 x 1 or greater located within the whole array. The sum of a rectangle is the sum of all the elements in that rectangle. In this problem the sub-rectangle with the largest sum is referred to as the maximal sub-rectangle.
<p>As an example, the maximal sub-rectangle of the array:</p>
<p>0 -2 -7 0<br/>9 2 -6 2<br/>-4 1 -4 1<br/>-1 8 0 -2</p>
<p>is in the lower left corner:</p>
<p>9 2<br/>-4 1<br/>-1 8</p>
<p>and has a sum of 15. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input consists of an N x N array of integers. The input begins with a single positive integer N on a line by itself, indicating the size of the square two-dimensional array. This is followed by N 2 integers separated by whitespace (spaces and newlines). These are the N 2 integers of the array, presented in row-major order. That is, all numbers in the first row, left to right, then all numbers in the second row, left to right, etc. N may be as large as 100. The numbers in the array will be in the range [-127,127]. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Output the sum of the maximal sub-rectangle.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
0 -2 -7 0 9 2 -6 2
-4 1 -4 1 -1
8 0 -2</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
15</pre>
<p><!-- problem end --></p>
<p>HDU-1081 <a href="http://acm.hdu.edu.cn/showproblem.php?pid=1081">http://acm.hdu.edu.cn/showproblem.php?pid=1081</a></p>
<p>　　一道简单的求子矩阵的最大和问题，由于数据给的比较下，n只有100，可以使用常规的O(N^3)的时间复杂度的算法解，枚举每一行以及改行下面的所有的行的和，时间复杂度为O(N^2)，然后对压缩后的每一行进行dp，时间复杂度为线性的O(N)，最后总的时间复杂度为O(N^3)</p>
<p>　　dp的状态转移方程：dp[i] = MAX(dp[i-1] + tmp[i], dp[i])</p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;
 #include &lt;string.h&gt;
 #define MAX(x, y) ((x) &gt; (y) ? (x) : (y))
 int main(void)
 {
     int map[101][101];
     int dp[101], tmp[101];
     int max;
     int i, j, t;
     int n;
 
     while(scanf("%d", &amp;n) != EOF)
     {
     for(i = 0; i &lt; n; i++)
         for(j = 0; j &lt; n; j++)
         scanf("%d", &amp;map[i][j]);
     max = -10000000;
     for(i = 0; i &lt; n; i++)
     {
         memset(tmp, 0, sizeof(tmp));
         for(t = i; t &lt; n; t++)
         {
         for(j = 0; j &lt; n; j++)
             tmp[j] += map[t][j];
 
         dp[0] = tmp[0];
         for(j = 1; j &lt; n; j++)
         {
             /*dp[j] = MAX(dp[j-1] + tmp[j], tmp[j]);
             max = MAX(dp[j], max);*/
             if(dp[j-1] &gt; 0)
             dp[j] = dp[j-1] + tmp[j];
             else
             dp[j] = tmp[j];
             if(dp[j] &gt; max)
             max = dp[j];
         }
         }
     }
     printf("%d\n", max);
     }
     return 0;
 }</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-54165">
<article class="comment" id="comment-54165">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lsdtc1225</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54165" rel="nofollow"><time datetime="2015-07-17T04:00:37+00:00" pubdate="">2015年7月17日 at 上午4:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>程序是对的。有些地方用了C++的写法</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54164">
<article class="comment" id="comment-54164">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bcys</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54164" rel="nofollow"><time datetime="2015-04-14T02:28:41+00:00" pubdate="">2015年4月14日 at 上午2:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>可是看了很多算法书什么的都是说的(start-end)/2哎。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54168">
<article class="comment" id="comment-54168">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54168" rel="nofollow"><time datetime="2015-01-28T11:57:00+00:00" pubdate="">2015年1月28日 at 上午11:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>gcc环境</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54167">
<article class="comment" id="comment-54167">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54167" rel="nofollow"><time datetime="2014-12-13T00:37:20+00:00" pubdate="">2014年12月13日 at 上午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-39789">
<article class="comment" id="comment-39789">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">CCat</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-39789" rel="nofollow"><time datetime="2014-12-10T18:28:37+00:00" pubdate="">2014年12月10日 at 下午6:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没敢用map，总怕stl用着会超时</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-10856">
<article class="comment" id="comment-10856">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Trenson</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-10856" rel="nofollow"><time datetime="2014-11-26T02:50:08+00:00" pubdate="">2014年11月26日 at 上午2:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thanks for using the time to examine this, I truly feel strongly about it and enjoy finding out far more on this subject matter. If achievable, as you achieve knowledge</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-10855">
<article class="comment" id="comment-10855">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">beizhiwu</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-10855" rel="nofollow"><time datetime="2014-10-02T06:51:16+00:00" pubdate="">2014年10月2日 at 上午6:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54166">
<article class="comment" id="comment-54166">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HDC</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54166" rel="nofollow"><time datetime="2014-09-04T12:45:19+00:00" pubdate="">2014年9月4日 at 下午12:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54162">
<article class="comment" id="comment-54162">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54162" rel="nofollow"><time datetime="2014-05-26T15:26:33+00:00" pubdate="">2014年5月26日 at 下午3:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>确实有点难度，搞了好久。int溢出要注意</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-54169">
<article class="comment" id="comment-54169">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gaotong2055</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54169" rel="nofollow"><time datetime="2014-03-19T02:43:15+00:00" pubdate="">2014年3月19日 at 上午2:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-54163">
<article class="comment" id="comment-54163">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litaotao</a></span> on <a href="http://www.acmerblog.com/hdu-1081-To-The-Max-1352.html#comment-54163" rel="nofollow"><time datetime="2014-01-09T12:29:04+00:00" pubdate="">2014年1月9日 at 下午12:29</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>