<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>05-23</div>
<div class="tit"><h1 class="entry-title">HDU 4260-The End of The World-动态规划-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/dp2/line-dp" rel="category tag" title="查看线性DP中的全部文章">线性DP</a>, <a href="http://www.acmerblog.com/category/basis/recursion" rel="category tag" title="查看递归和分治中的全部文章">递归和分治</a></span><span class="i4">围观169次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7273" href="http://www.acmerblog.com/hdu-4260-the-end-of-the-world-7273.html#comments" title="《HDU 4260-The End of The World-动态规划-[解题报告]HOJ》上的评论">2 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">The End of The World</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Legend says that there is a group of monks who are solving a large Towers of Hanoi puzzle. The Towers of Hanoi is a well-known puzzle, consisting of three pegs, with a stack of disks, each a different size. At the start, all of the disks are stacked on one of the pegs, and ordered from largest (on the bottom) to smallest (on the top). The object is to move this stack of disks to another peg, subject to two rules: 1) you can only move one disk at a time, and 2) you cannot move a disk onto a peg if that peg already has a smaller disk on it.<br/>The monks believe that when they finish, the world will end. Suppose you know how far they’ve gotten. Assuming that the monks are pursuing the most efficient solution, how much time does the world have left? </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There will be several test cases in the input. Each test case will consist of a string of length 1 to 63, on a single line. This string will contain only (capital) <strong>A</strong>s, <strong>B</strong>s and <strong>C</strong>s. The length of the string indicates the number of disks, and each character indicates the position of one disk. The first character tells the position of the smallest disk, the second character tells the position of the second smallest disk, and so on, until the last character, which tells the position of the largest disk. The character will be <strong>A</strong>, <strong>B</strong> or <strong>C</strong>, indicating which peg the disk is currently on. You may assume that the monks’ overall goal is to move the disks from peg <strong>A</strong> to peg <strong>B</strong>, and that the input represents a legitimate position in the optimal solution. The input will end with a line with a single capital <strong>X</strong>. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There will be several test cases in the input. Each test case will consist of a string of length 1 to 63, on a single line. This string will contain only (capital) <strong>A</strong>s, <strong>B</strong>s and <strong>C</strong>s. The length of the string indicates the number of disks, and each character indicates the position of one disk. The first character tells the position of the smallest disk, the second character tells the position of the second smallest disk, and so on, until the last character, which tells the position of the largest disk. The character will be <strong>A</strong>, <strong>B</strong> or <strong>C</strong>, indicating which peg the disk is currently on. You may assume that the monks’ overall goal is to move the disks from peg <strong>A</strong> to peg <strong>B</strong>, and that the input represents a legitimate position in the optimal solution. The input will end with a line with a single capital <strong>X</strong>.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
AAA
BBB
X</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
7
0</pre>
<p> <!-- problem end --></p>
<p>题目大意：</p>
<p>hanoi塔问题的变形，给你3根柱子A，B，C。以及每根柱子上的盘子数（保证是最优状态）。现在把所有盘子移动到B柱上，还最少需要多少步。输入格式：一个字符串s，长度代表盘子数，第i个字母代表第i个大的盘子在哪个盘子上。字符串仅由A，B，C组成。</p>
<p>题解：</p>
<p>考察递归的好题，相当不错.</p>
<p>按照hanoi最优移动规则，假设我现在要把n号盘子移动到B柱子上，那么我先要把前n-1个盘子先移动到辅助柱子上（这步用递归解决），然后n号盘子移动到目标柱子上（步数+1），再把n-1个盘子移动到目标柱子上（2^(n-1)-1）。</p>
<pre class="brush:cpp" name="code">#include&lt;iostream&gt;
#include&lt;string&gt;
using namespace std;
string s;
long long cal(long long x,char goal)
{
    for(long long i=x;i&gt;=0;i--)
    if(s[i]!=goal) return cal(i-1,'A'^'B'^'C'^goal^s[i])+(1LL&lt;&lt;i);
    return 0;
}
int main()
{
    while(cin&gt;&gt;s,s!="X")
    {
        long long ans=cal(s.length()-1,'B');
        cout&lt;&lt;ans&lt;&lt;endl;
    }
    return 0;
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/hyogahyoga/article/details/7908627</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-98949">
<article class="comment" id="comment-98949">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519511" rel="external nofollow">新用户255066</a></span> on <a href="http://www.acmerblog.com/hdu-4260-the-end-of-the-world-7273.html#comment-98949" rel="nofollow"><time datetime="2017-04-20T14:27:54+00:00" pubdate="">2017年4月20日 at 下午2:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好吧，我忘了在日本之前还有个埃及，抱歉+-+</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-68669">
<article class="comment" id="comment-68669">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919519249" rel="external nofollow">新用户887274</a></span> on <a href="http://www.acmerblog.com/hdu-4260-the-end-of-the-world-7273.html#comment-68669" rel="nofollow"><time datetime="2017-04-11T07:10:19+00:00" pubdate="">2017年4月11日 at 上午7:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>冒泡，原博博主这么说我就这么转了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>