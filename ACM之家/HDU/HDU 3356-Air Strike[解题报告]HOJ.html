<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-16</div>
<div class="tit"><h1 class="entry-title">HDU 3356-Air Strike[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观362次</span><span class="i3"><a class="ds-thread-count" data-thread-key="5288" href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comments" title="《HDU 3356-Air Strike[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Air Strike</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
General Gee is the commander of a military base. He has just received alarming news from one of his spies: the enemy’s preparing an air missile strike. The base contains two magnetic towers. When activated and given sufficient power, each of the magnetic towers creates a powerful horizontal magnetic disk. If any missile passes through this disk it deflects away from the base.<br/>Although those towers seem to be an excellent air defense method, there is a problem: The area of the disk generated by a tower is proportional to the amount of energy it receives. The base has enough power plants to generate a certain amount of energy, which has to be divided among those two towers. That means that the total area of the two disks generated from the towers should not exceed the total energy generated by the power plants. Fortunately, the spy was able to know the exact target co-ordinates of the incoming missiles and he reported them to General Gee. The General needs your help in distributing the energy on the two magnetic towers to minimize the number of missiles that will not get deflected by the magnetic towers and therefore will hit the base. You may assume the following:<br/>   1. The towers have different heights and therefore there are no problems associated with the magnetic disks interfering with each other.<br/>   2.  A missile will deflect if it passes through the magnetic disk of a tower or even if it just touches its boundary.<br/>   3.  A missile hitting a tower (landing exactly on its location) will deflect, even if the tower is not given any energy.<br/>   4.  All incoming missiles will go down simultaneously at the exact instant; therefore, there will not be any time available to redistribute the energy amongst the two towers during the strike.<br/><center><img alt="Hop ― Don’t Walk!" src="/img/1395299651453.jpg"/></center> </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
Input consists of several test cases. Each test case is specified on N+2 lines. The first line contains an integer (1 &lt;= N &lt;= 1, 000) representing the number of missiles. The second line contains 5 real numbers X<sub>1</sub>, Y<sub>1</sub>, X<sub>2</sub>, Y<sub>2</sub> and T: (X<sub>1</sub>, Y<sub>1</sub>) is the coordinates of the first tower, (X<sub>2</sub>, Y<sub>2</sub>) is the coordinates of the second tower and (0 &lt;= T) is the total amount of energy generated from the power plants (the total area of the two magnetic disks). Each line of the remaining N lines contains two real numbers representing the landing coordinates of a missile.<br/>The absolute value of all the given real numbers is less than or equal to 100 and may include a decimal point followed by up to 3 digits. Any two consecutive numbers on the same line are separated by one or more white-space characters. Zero or more blank lines may appear between test cases.<br/>The last line of the input file is made of a single zero. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
Input consists of several test cases. Each test case is specified on N+2 lines. The first line contains an integer (1 &lt;= N &lt;= 1, 000) representing the number of missiles. The second line contains 5 real numbers X<sub>1</sub>, Y<sub>1</sub>, X<sub>2</sub>, Y<sub>2</sub> and T: (X<sub>1</sub>, Y<sub>1</sub>) is the coordinates of the first tower, (X<sub>2</sub>, Y<sub>2</sub>) is the coordinates of the second tower and (0 &lt;= T) is the total amount of energy generated from the power plants (the total area of the two magnetic disks). Each line of the remaining N lines contains two real numbers representing the landing coordinates of a missile.<br/>The absolute value of all the given real numbers is less than or equal to 100 and may include a decimal point followed by up to 3 digits. Any two consecutive numbers on the same line are separated by one or more white-space characters. Zero or more blank lines may appear between test cases.<br/>The last line of the input file is made of a single zero.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
6
-3 0 3 0 40.833
-1 4
-2 2.5
1 2
5 2
-4 0
-3 -1
2
0 0 1 1 0
0 0
1 1
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1. 2
2. 0</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include&lt;cstdio&gt;
#include&lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;
using namespace std;

const double PI = 3.141;
const double eps = 1e-8;

int sgn(double x) {
 return (x &gt; eps) - (x &lt; -eps);
}

struct Point {
 double x, y;
 bool operator &lt; (const Point _p) const {
 return x &lt; _p.x;
 }
} p[1005], c1, c2;

double T;

int main()
{
 int n;
 int kase = 1;
 while(scanf("%d", &amp;n) == 1) {
 if(n == 0) break;
 scanf("%lf%lf%lf%lf%lf", &amp;c1.x, &amp;c1.y, &amp;c2.x, &amp;c2.y, &amp;T);
 T /= PI;

 double x, y;
 for(int i=1; i&lt;=n; i++) {
 scanf("%lf%lf", &amp;x, &amp;y);
 p[i].x = (x-c1.x)*(x-c1.x)+(y-c1.y)*(y-c1.y);
 p[i].y = (x-c2.x)*(x-c2.x)+(y-c2.y)*(y-c2.y);
 }
 sort(p+1, p+n+1);

 int cur, ans = 0;
 p[0].x = 0;
 for(int i=0; i&lt;=n; i++) {
 x = p[i].x;
 y = T - x;
 if(sgn(y) &lt; 0) break;

 cur = i;
 for(int j=i+1; j&lt;=n; j++) {
 if(sgn(y - p[j].y) &gt;= 0) cur ++;
 //printf("##%lf %lf %d\n", y, p[j].y, sgn(y - p[j].y));
 }
 if(cur &gt; ans) {
 ans = cur;
 }
 }

 printf("%d. %d\n", kase++, n - ans);
 }
 return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-77597">
<article class="comment" id="comment-77597">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517690" rel="external nofollow">新用户410366</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-77597" rel="nofollow"><time datetime="2017-04-12T09:15:01+00:00" pubdate="">2017年4月12日 at 上午9:15</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妹妹请保护我</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-29040">
<article class="comment" id="comment-29040">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">JcZ</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29040" rel="nofollow"><time datetime="2015-06-11T18:43:31+00:00" pubdate="">2015年6月11日 at 下午6:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>注释很详细，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29049">
<article class="comment" id="comment-29049">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29049" rel="nofollow"><time datetime="2015-05-25T07:28:50+00:00" pubdate="">2015年5月25日 at 上午7:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>如何解决overload的问题呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-29050">
<article class="comment" id="comment-29050">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hong0220</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29050" rel="nofollow"><time datetime="2015-05-15T22:08:04+00:00" pubdate="">2015年5月15日 at 下午10:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29041">
<article class="comment" id="comment-29041">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29041" rel="nofollow"><time datetime="2015-03-22T18:04:25+00:00" pubdate="">2015年3月22日 at 下午6:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题是不是可以这样想，生了n孩子的家庭等价于n个家庭各生了一个1个孩子，这样最后男女的比例还是1:1</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-58386">
<article class="comment" id="comment-58386">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-58386" rel="nofollow"><time datetime="2015-03-20T22:16:50+00:00" pubdate="">2015年3月20日 at 下午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个问题别太纠结了，不同的编译器结果不一</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29048">
<article class="comment" id="comment-29048">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">abguorui0928</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29048" rel="nofollow"><time datetime="2015-03-20T21:33:36+00:00" pubdate="">2015年3月20日 at 下午9:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-29047">
<article class="comment" id="comment-29047">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">0xc0de</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29047" rel="nofollow"><time datetime="2015-03-02T04:42:27+00:00" pubdate="">2015年3月2日 at 上午4:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29044">
<article class="comment" id="comment-29044">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29044" rel="nofollow"><time datetime="2014-12-26T21:52:44+00:00" pubdate="">2014年12月26日 at 下午9:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第15行代码，/n/n，应该改为\n\n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-29043">
<article class="comment" id="comment-29043">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29043" rel="nofollow"><time datetime="2014-09-27T17:12:13+00:00" pubdate="">2014年9月27日 at 下午5:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29045">
<article class="comment" id="comment-29045">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rick</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29045" rel="nofollow"><time datetime="2014-09-23T20:10:39+00:00" pubdate="">2014年9月23日 at 下午8:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，现在就缺少新的资料</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-29046">
<article class="comment" id="comment-29046">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">everos</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29046" rel="nofollow"><time datetime="2014-08-14T16:36:32+00:00" pubdate="">2014年8月14日 at 下午4:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学算法中的数据结构学到一定程度会乐此不疲的，比如其中的2－3树，类似的红黑树，我甚至可以自己写个逻辑文件系统结构来。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29042">
<article class="comment" id="comment-29042">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fastislow</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29042" rel="nofollow"><time datetime="2014-07-06T02:17:31+00:00" pubdate="">2014年7月6日 at 上午2:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，就是把这32位当成一个长度为32的数</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-48564">
<article class="comment" id="comment-48564">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">youpushipop</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-48564" rel="nofollow"><time datetime="2014-06-16T20:06:04+00:00" pubdate="">2014年6月16日 at 下午8:06</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个解法好像不对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-29039">
<article class="comment" id="comment-29039">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dreams</a></span> on <a href="http://www.acmerblog.com/hdu-3356-air-strike-5288.html#comment-29039" rel="nofollow"><time datetime="2014-05-11T04:48:35+00:00" pubdate="">2014年5月11日 at 上午4:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>