<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>11-05</div>
<div class="tit"><h1 class="entry-title">HDU 3516-Tree Construction[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观204次</span><span class="i3"><a class="ds-thread-count" data-thread-key="6477" href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comments" title="《HDU 3516-Tree Construction[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Tree Construction</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Consider a two-dimensional space with a set of points (xi, yi) that satisfy xi &lt; xj and yi &gt; yj for all i &lt; j. We want to have them all connected by a directed tree whose edges go toward either right (x positive) or upward (y positive). The figure below shows an example tree.
<p></p><center><img alt="How high is the Building" src="http://www.acmerblog.com/img/1418315176044.jpg"/></center><br/>Write a program that finds a tree connecting all given points with the shortest total length of edges. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input begins with a line that contains an integer n (1 &lt;= n &lt;= 1000), the number of points. Then n lines follow. The i-th line contains two integers xi and yi (0 &lt;= xi, yi &lt;= 10000), which give the coordinates of the i-th point. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input begins with a line that contains an integer n (1 &lt;= n &lt;= 1000), the number of points. Then n lines follow. The i-th line contains two integers xi and yi (0 &lt;= xi, yi &lt;= 10000), which give the coordinates of the i-th point.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
5
1 5
2 4
3 3
4 2
5 1
1
10000 0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
12
0</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

using namespace std;
const int M=1100;

const int INF=1000000000;

int dp[M][M];
int K[M][M];

int x[M];
int y[M];


int get_w(int i,int j,int k)
{
 return x[k+1]-y[j]+y[k]-x[i];
}


int main()
{
 int n;
 while(scanf("%d",&amp;n)==1)
 {
 for(int i=1;i&lt;=n;i++)
 scanf("%d%d",&amp;x[i],&amp;y[i]);
 for(int i=1;i&lt;=n;i++)
 for(int j=i;j&lt;=n;j++)
 dp[i][j]=INF;
 for(int i=1;i&lt;=n;i++)
 dp[i][i]=0;
 memset(K,-1,sizeof(K));
 for(int j=1;j&lt;=n;j++)
 for(int i=j-1;i&gt;=1;i--)
 {

 int low=K[i][j-1];
 int high=K[i+1][j];
 if(low==-1)
 low=i;
 if(high==-1)
 high=j-1;
 for(int k=low;k&lt;=high;k++)
 {
 int w=get_w(i,j,k);
 //cout&lt;&lt;w&lt;&lt;endl;
 if(dp[i][j]&gt;dp[i][k]+dp[k+1][j]+w)
 {
 dp[i][j]=dp[i][k]+dp[k+1][j]+w;
 K[i][j]=k;
 }

 }

 }
 /*for(int i=1;i&lt;=n;i++)
 {
 for(int j=1;j&lt;=n;j++)
 {
 cout&lt;&lt;K[i][j]&lt;&lt;" ";

 }
 cout&lt;&lt;endl;
 }*/
 printf("%d\n",dp[1][n]);
 //cout&lt;&lt;dp[1][n]&lt;&lt;endl;

 }
 return 0;

}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-75064">
<article class="comment" id="comment-75064">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517842" rel="external nofollow">新用户773522</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-75064" rel="nofollow"><time datetime="2017-04-12T03:53:51+00:00" pubdate="">2017年4月12日 at 上午3:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>奥丁居然没回来，这什么破结局呀！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30832">
<article class="comment" id="comment-30832">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Tree</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30832" rel="nofollow"><time datetime="2015-07-03T13:20:32+00:00" pubdate="">2015年7月3日 at 下午1:20</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主放题时候没注意下？xxx定律见：<br/>
hdoj3782：http://acm.hdu.edu.cn/showproblem.php?pid=3782</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63666">
<article class="comment" id="comment-63666">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-63666" rel="nofollow"><time datetime="2015-06-18T03:38:54+00:00" pubdate="">2015年6月18日 at 上午3:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个Dijkstra模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63664">
<article class="comment" id="comment-63664">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">fiftyonejiao</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-63664" rel="nofollow"><time datetime="2015-06-04T17:46:08+00:00" pubdate="">2015年6月4日 at 下午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Thank you very much</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30830">
<article class="comment" id="comment-30830">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Sacomplex</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30830" rel="nofollow"><time datetime="2015-06-03T09:52:47+00:00" pubdate="">2015年6月3日 at 上午9:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>,,,,,,,,,,,,,,,</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49630">
<article class="comment" id="comment-49630">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-49630" rel="nofollow"><time datetime="2015-05-26T16:43:35+00:00" pubdate="">2015年5月26日 at 下午4:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已修改。一些字符在编辑的时候转义了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-49629">
<article class="comment" id="comment-49629">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">huangdilj</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-49629" rel="nofollow"><time datetime="2015-05-19T13:38:35+00:00" pubdate="">2015年5月19日 at 下午1:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第二个方法挺不错。NewHead代表新的头节点，通过递归找到最后一个节点之后，就把这个节点赋给NewHead，然后一直返回返回，中途这个值是没有变化的，一边返回一边把相应的指针方向颠倒，最后结束时返回新的头节点到主函数。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-49628">
<article class="comment" id="comment-49628">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mr_zhang2011</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-49628" rel="nofollow"><time datetime="2015-05-19T12:13:24+00:00" pubdate="">2015年5月19日 at 下午12:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-63665">
<article class="comment" id="comment-63665">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">soasipray</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-63665" rel="nofollow"><time datetime="2015-04-29T09:22:04+00:00" pubdate="">2015年4月29日 at 上午9:22</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错，再多来的CF上面的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30831">
<article class="comment" id="comment-30831">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">211206421</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30831" rel="nofollow"><time datetime="2015-04-27T00:33:50+00:00" pubdate="">2015年4月27日 at 上午12:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30837">
<article class="comment" id="comment-30837">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30837" rel="nofollow"><time datetime="2015-03-12T17:33:47+00:00" pubdate="">2015年3月12日 at 下午5:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>scanner改用StreamTokenizer就不超时了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30834">
<article class="comment" id="comment-30834">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30834" rel="nofollow"><time datetime="2015-03-03T18:05:20+00:00" pubdate="">2015年3月3日 at 下午6:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我觉得是D哎……</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30833">
<article class="comment" id="comment-30833">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">vintion</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30833" rel="nofollow"><time datetime="2015-01-09T03:47:37+00:00" pubdate="">2015年1月9日 at 上午3:47</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-30836">
<article class="comment" id="comment-30836">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jintianya</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30836" rel="nofollow"><time datetime="2014-12-21T22:16:22+00:00" pubdate="">2014年12月21日 at 下午10:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为避免精度问题，PI值请使用arccos(-1)。应该是acos</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-30835">
<article class="comment" id="comment-30835">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/hdu-3516-tree-construction-6477.html#comment-30835" rel="nofollow"><time datetime="2014-12-18T05:42:56+00:00" pubdate="">2014年12月18日 at 上午5:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不对吧 你算的an是前面说有的项的和</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>