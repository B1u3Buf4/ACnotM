<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>07-16</div>
<div class="tit"><h1 class="entry-title">HDU 4462-Scaring the Birds-状态压缩-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观86次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7475" href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comments" title="《HDU 4462-Scaring the Birds-状态压缩-[解题报告]HOJ》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Scaring the Birds</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
It’s harvest season now! <br/>Farmer John plants a lot of corn. There are many birds living around his corn field. These birds keep stealing his corn all the time. John can’t stand with that any more. He decides to put some scarecrows in the field to drive the birds away. <br/>John’s field can be considered as an N×N grid which has N×N intersections. John plants his corn on every intersection at first. But as time goes by, some corn were destroyed by rats or birds so some vacant intersections were left. Now John wants to put scarecrows on those vacant intersections and he can put at most one scarecrow on one intersection. Because of the landform and the different height of corn, every vacant intersections has a scaring range R meaning that if John put a scarecrow on it, the scarecrow can only scare the birds inside the range of manhattan distance R from the intersection.
<p></p><center><img alt="The Power of Xiangqi" src="http://www.acmerblog.com/img/1445705075453.jpg"/></center>
<p>The figure above shows a 7×7 field. Assuming that the scaring range of vacant intersection (4,2) is 2, then the corn on the marked intersections can be protected by a scarecrow put on intersection (4,2). <br/>Now John wants to figure out at least how many scarecrows he must buy to protect all his corn. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
There are several test cases. <br/>For each test case: <br/>The first line is an integer N ( 2 &lt;= N &lt;= 50 ) meaning that John’s field is an N×N grid. <br/>The second line is an integer K ( 0&lt;= K &lt;= 10) meaning that there are K vacant intersections on which John can put a scarecrow.<br/>The third line describes the position of K vacant intersections, in the format of r<sub>1</sub>,c<sub>1</sub>,r<sub>2</sub>,c<sub>2</sub> …. r<sub>K</sub>,c<sub>k</sub> . (r<sub>i</sub>,c<sub>i</sub>) is the position of the i-th intersection and 1 &lt;= r<sub>1</sub>,c<sub>1</sub>,r<sub>2</sub>,c<sub>2</sub> …. r<sub>K</sub>,c<sub>k</sub> &lt;= N. <br/>The forth line gives the scaring range of all vacant intersections, in the format of R<sub>1</sub>,R<sub>2</sub>…R<sub>K</sub> and 0 &lt;= R<sub>1</sub>,R<sub>2</sub>…R<sub>K</sub> &lt;= 2 × N. <br/>The input ends with N = 0. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
There are several test cases. <br/>For each test case: <br/>The first line is an integer N ( 2 &lt;= N &lt;= 50 ) meaning that John’s field is an N×N grid. <br/>The second line is an integer K ( 0&lt;= K &lt;= 10) meaning that there are K vacant intersections on which John can put a scarecrow.<br/>The third line describes the position of K vacant intersections, in the format of r<sub>1</sub>,c<sub>1</sub>,r<sub>2</sub>,c<sub>2</sub> …. r<sub>K</sub>,c<sub>k</sub> . (r<sub>i</sub>,c<sub>i</sub>) is the position of the i-th intersection and 1 &lt;= r<sub>1</sub>,c<sub>1</sub>,r<sub>2</sub>,c<sub>2</sub> …. r<sub>K</sub>,c<sub>k</sub> &lt;= N. <br/>The forth line gives the scaring range of all vacant intersections, in the format of R<sub>1</sub>,R<sub>2</sub>…R<sub>K</sub> and 0 &lt;= R<sub>1</sub>,R<sub>2</sub>…R<sub>K</sub> &lt;= 2 × N. <br/>The input ends with N = 0.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
4
2
2 2 3 3
1 3
4
2
2 2 3 3
1 4
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
-1
1</pre>
<p> <!-- problem end --></p>
<p><span style="white-space:pre"></span>题意：一个n*n的区域，有m个位置是可以放稻草人的，其余都是玉米。对于每个位置(x,y)所放稻草人都有个作用范围ri，即abs(x-i)+abs(y-j)&lt;=r，(i,j)为作用范围内。问至少要在几个位置上放稻草人，才能覆盖所有的玉米，若不可能则输出-1。</p>
<p><span style="white-space:pre"></span>题解：可放稻草人位置个数m&lt;=10，所以可以状态压缩(就是枚举0~(1&lt;&lt;m)-1。对于枚举的每个数，表示成m位二进制，从右开始，第几位是1表示放稻草人，否则不放。这样就可以用2^10时间，枚举所有状况，称为状态压缩)，枚举所有情况，对于每种情况，遍历所有有玉米的点判断是否可以被覆盖即可。为什么是枚举所有有玉米点而不是广搜，这就是复杂度的问题了，详细在注意事项内。</p>
<p><span style="white-space:pre"></span>注意：</p>
<p>1.对于每种情况，如果用光搜，由于没有结束判断，所以要遍历所有的作用范围内的点。以最坏情况记，每种情况都要遍历n^2*k(k为情况中要放稻草人的位置数)次。这种复杂度有点高，至于会不会爆，就没试过了。。而枚举所有玉米点，就只用n^2时间了。</p>
<p>2.还有注意的是，放稻草人的位置不用覆盖。。一开始没发现，wa了3次。。</p>
<p>
</p>
<p>
</p>
<p>耗时：0MS</p>
<pre class="brush:cpp" name="code">#include &lt;cstdio&gt;
#include &lt;cmath&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
using namespace std;
typedef __int64 LL;
const int INF=1e9;
const int maxn=3000;
struct node{
    int x,y,r;
 }e[11],f[11];
int ans,map[55][55];
int get_sum(int a)
{
    int s=0;
    while(a)
    {
        if(a&amp;1)s++;
        a=a&gt;&gt;1;
    }
    return s;
}
void find(int x,int n)
{

    int i=0,j,k,t=0,tt;
    tt=get_sum(x);
    if(tt&gt;=ans)return;
    while(x)
    {
        if(x&amp;1)
        {
            f[t++]=e[i];
        }
        x=x&gt;&gt;1;
        i++;
    }
    //cout&lt;&lt;t&lt;&lt;endl;
    for(i=1;i&lt;=n;i++)
    {
        for(j=1;j&lt;=n;j++)
        {
            if(map[i][j])continue;
            for(k=0;k&lt;t;k++)
            {
                if(abs(f[k].x-i)+abs(f[k].y-j)&lt;=f[k].r)break;
            }
            if(k&gt;=t)return;
        }
    }
    ans=tt;
}
int main()
{
    int n;
    while(scanf("%d",&amp;n)!=EOF)
    {
        if(n==0)break;
        int i,j,k,m,t,p,q;
        memset(map,0,sizeof(map));
        ans=INF;
        scanf("%d",&amp;m);
        for(i=0;i&lt;m;i++)
        {
            scanf("%d%d",&amp;e[i].x,&amp;e[i].y);
            map[e[i].x][e[i].y]=1;
        }
        for(i=0;i&lt;m;i++)
        scanf("%d",&amp;e[i].r);
        find((1&lt;&lt;m)-1,n);
        //cout&lt;&lt;n&lt;&lt;endl;
        if(ans==INF){printf("-1\n");continue;}
        for(i=0;i&lt;(1&lt;&lt;m);i++)
            find(i,n);
        printf("%d\n",ans);
    }
    return 0;
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/a601025382s/article/details/12277067</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97900">
<article class="comment" id="comment-97900">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919458315" rel="external nofollow">新用户647480</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-97900" rel="nofollow"><time datetime="2017-04-20T08:48:53+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>等等，这是个男的？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67658">
<article class="comment" id="comment-67658">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67658" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67657">
<article class="comment" id="comment-67657">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67657" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67656">
<article class="comment" id="comment-67656">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67656" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67655">
<article class="comment" id="comment-67655">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67655" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67654">
<article class="comment" id="comment-67654">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67654" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67653">
<article class="comment" id="comment-67653">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67653" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67652">
<article class="comment" id="comment-67652">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67652" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67651">
<article class="comment" id="comment-67651">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67651" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67650">
<article class="comment" id="comment-67650">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67650" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67649">
<article class="comment" id="comment-67649">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67649" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67648">
<article class="comment" id="comment-67648">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67648" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67647">
<article class="comment" id="comment-67647">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67647" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67646">
<article class="comment" id="comment-67646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919526826" rel="external nofollow">新用户187596</a></span> on <a href="http://www.acmerblog.com/hdu-4462-scaring-the-birds-7475.html#comment-67646" rel="nofollow"><time datetime="2017-04-11T00:40:28+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>挺好看啊，为什么不更了，555</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>