<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-26</div>
<div class="tit"><h1 class="entry-title">hdu 2014 青年歌手大奖赛_评委会打分-高精度-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/bignumber" rel="category tag" title="查看高精度计算中的全部文章">高精度计算</a></span><span class="i4">围观2075次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3099" href="http://www.acmerblog.com/hdu-2014-3099.html#comments" title="《hdu 2014 青年歌手大奖赛_评委会打分-高精度-[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">青年歌手大奖赛_评委会打分</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
青年歌手大奖赛中，评委会给参赛选手打分。选手得分规则为去掉一个最高分和一个最低分，然后计算平均得分，请编程输出某选手的得分。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入数据有多组，每组占一行，每行的第一个数是n(2&lt;n&lt;=100)，表示评委的人数，然后是n个评委的打分。 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输入数据有多组，每组占一行，每行的第一个数是n(2&lt;n&lt;=100)，表示评委的人数，然后是n个评委的打分。</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 99 98 97
4 100 99 98 97</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
98.00
98.50</pre>
<p> <!-- problem end --></p>
<p><span style="font-size:18px">题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2014" target="_blank">http://acm.hdu.edu.cn/showproblem.php?pid=2014</a></span></p>
<p><span style="font-size:18px">要实现的算法是:求整个数组的和、在数组中找最值。<br/>
找最值，可以先把第一个元素赋给max、min变量，做一次遍历，一一比较，把最大值存入max，最小值存入min。<br/>
也可以直接对数组进行排序，然后从第二个加到倒数第二个，这样就可以了，省去减两个最值。</span><span style="font-size:12px">  </span>
</p>
<p><span style="font-size:12px"></span></p>
<h1 align="center" style="color:#1a5cc8">编码建议</h1>
<table align="center" border="1" cellspacing="0" frame="box" rules="all" width="98%">
<caption align="left" valign="top">
<div align="left" class="panel_title">Programing</div>
</caption>
<tbody>
<tr bgcolor="#d7ebff">
<th width="5"> </th>
<td align="left"><span style="font-size:12px">我的代码采用的是第一种方法。因为对于本题来说，它的效率是O(N)。<br/>
算法不难，可以直接看代码</span>
<p>这里稍微讨论一下第二种方法。<br/>
对于排序，我们可以直接调用库函数qsort();</p>
<p>语法: </p>
<p>#include &lt;stdlib.h&gt;<br/>
void qsort( void *buf, size_t num, size_t size, int (*compare)(const void *, const void *) );</p>
<p>功能： 对buf 指向的数据(包含num 项,每项的大小为size)进行快速排序。如果函数compare 的第一个参数小于第二个参数，返回负值；如果等于返回零值；如果大于返回正值。函数对buf 指向的数据按升序排序。</p>
<blockquote><p><span style="font-size:14px"><tt></tt></span></p>
<pre>#include &lt;stdio h=""&gt;#include &lt;stdlib h=""&gt;int cmp(const double *a, const double *b){return *a &amp;gt; *b ? 1 : *a &amp;lt; *b ? -1 : 0;}int main(void){int n, i;double x, y[100];while (scanf(&amp;quot;%d&amp;quot;, &amp;n) != EOF){for (i = 0 ; i &amp;lt; n ; i++)scanf(&amp;quot;%lf&amp;quot;, y + i);qsort(y, n, sizeof(double), cmp);for (x = 0, i = 1 ; i &amp;lt; n - 1 ; i++)x += y[i];printf(&amp;quot;%.2f\n&amp;quot;, x / (n - 2));}return 0;}&lt;/stdlib&gt;&lt;/stdio&gt;</pre>
</blockquote>
<p>你可能有疑问，为什么cmp函数不直接用return *a – *b;<br/>
这也就是我不打算用这种方法的原因了(虽然上面的代码可以Accpted)，这就是这段代码的不稳定因素。<br/>
我们来做个实验：</p>
<blockquote><p><span style="font-size:14px"><tt></tt></span></p>
<pre>#include &lt;math h=""&gt;#include &lt;stdio h=""&gt;int main(void){int i;double x;x = 0.123456;printf(&amp;quot;%lf\n&amp;quot;, x);for (i = 0 ; x - floor(x); i++)x *= 10;printf(&amp;quot;%d\n&amp;quot;, i);return 0;}&lt;/stdio&gt;&lt;/math&gt;</pre>
</blockquote>
<p>上面的代码的作用就是确定X小数点后有几位。<br/>
我相信所有人都知道它有6位小数。但它的运行结果却是17(因编译器而异)。<br/>
你可以自己复制代码去验证一下。<br/>
我们在循环体里插入printf("%lf\n", floor(x));看看它的变化是怎样的。</p>
<p>运行结果:<br/>
1.000000<br/>
12.000000<br/>
123.000000<br/>
1234.000000<br/>
12345.000000<br/>
123455.000000<br/>
1234559.000000<br/>
12345599.000000<br/>
123455999.000000<br/>
1234559999.000000<br/>
12345599999.000000<br/>
123455999999.000000<br/>
1234559999999.000000<br/>
12345599999999.000000<br/>
123455999999999.000000<br/>
1234559999999999.000000<br/>
12345599999999998.000000</p>
<p><span style="font-size:12px">这就是double型数据的精度问题。这是我们无法人为地控制的。所以建议尽量避免double的高精度运算。  </span></p>
</td>
</tr>
</tbody>
</table>
<p></p>
<p><span style="font-size:12px"></span></p>
<pre class="brush:cpp ">#include &lt;stdio.h&gt;

int main(void)
{
    int n, i;
    double min, max;
    double x, y;
    
    while (scanf("%d", &amp;n) != EOF)
    {
        scanf("%lf", &amp;x);
        min = max = x;
        for (i = 1 ; i &lt; n ; i++)
        {
            scanf("%lf", &amp;y);
            x += y;
            if (y &gt; max) max = y;
            if (y &lt; min) min = y;
        }
        printf("%.2lf\n", (x - min - max) / (n - 2));
    }

    return 0;
}</pre>
<p>解题转自：http://blog.csdn.net/basementman/article/details/16920477</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-87686">
<article class="comment" id="comment-87686">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919459805" rel="external nofollow">新用户748414</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-87686" rel="nofollow"><time datetime="2017-04-13T07:51:11+00:00" pubdate="">2017年4月13日 at 上午7:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我给你寄毒药！！！！！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43654">
<article class="comment" id="comment-43654">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">geoksz</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-43654" rel="nofollow"><time datetime="2015-05-27T15:36:14+00:00" pubdate="">2015年5月27日 at 下午3:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一段代码中：<br/>
 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/>  = next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
明显不对吧，应该是 next <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> =j;才对</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18435">
<article class="comment" id="comment-18435">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Klaus</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18435" rel="nofollow"><time datetime="2015-04-25T16:57:10+00:00" pubdate="">2015年4月25日 at 下午4:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18436">
<article class="comment" id="comment-18436">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Miracle-cc</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18436" rel="nofollow"><time datetime="2015-04-08T16:37:42+00:00" pubdate="">2015年4月8日 at 下午4:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>刚开始学习，为啥会报错了，你试过了吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18429">
<article class="comment" id="comment-18429">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">985836927</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18429" rel="nofollow"><time datetime="2015-01-27T00:37:46+00:00" pubdate="">2015年1月27日 at 上午12:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#pragma pack(2) 这个用法太坑爹</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18428">
<article class="comment" id="comment-18428">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Happiness</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18428" rel="nofollow"><time datetime="2015-01-04T22:33:23+00:00" pubdate="">2015年1月4日 at 下午10:33</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不同的编译器，printf(),执行的顺序不同，所以结果也就不同，建议不要那么写</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43653">
<article class="comment" id="comment-43653">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-43653" rel="nofollow"><time datetime="2014-12-29T07:50:20+00:00" pubdate="">2014年12月29日 at 上午7:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是研发类的题还是算法类？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18433">
<article class="comment" id="comment-18433">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ForgetVay</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18433" rel="nofollow"><time datetime="2014-11-20T19:38:41+00:00" pubdate="">2014年11月20日 at 下午7:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第一题选错了，答案是A</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43655">
<article class="comment" id="comment-43655">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Aliens</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-43655" rel="nofollow"><time datetime="2014-08-12T23:43:20+00:00" pubdate="">2014年8月12日 at 下午11:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
牛逼牛逼</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18432">
<article class="comment" id="comment-18432">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18432" rel="nofollow"><time datetime="2014-07-16T10:25:17+00:00" pubdate="">2014年7月16日 at 上午10:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>一开始就规定不相邻节点颜色相同，可能得不到最优解。我想个类似的算法，也不确定是否总能得到最优解：先着一个点，随机挑一个相邻点，着第二色，继续随机选一个点，但必须至少有一个边和已着点相邻，着上不同色，当然尽量不增加新色，直到完成。我还找不到反例验证他的错误。。希望LZ也帮想想, 有想法欢迎来邮件。谢谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18437">
<article class="comment" id="comment-18437">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">943965021</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18437" rel="nofollow"><time datetime="2014-05-19T11:32:01+00:00" pubdate="">2014年5月19日 at 上午11:32</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18430">
<article class="comment" id="comment-18430">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18430" rel="nofollow"><time datetime="2014-03-24T15:09:38+00:00" pubdate="">2014年3月24日 at 下午3:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>总结的很全面，学习了！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-18431">
<article class="comment" id="comment-18431">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Monkey_Sun</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18431" rel="nofollow"><time datetime="2014-03-05T15:00:58+00:00" pubdate="">2014年3月5日 at 下午3:00</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>真心不错，力顶作者</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-18434">
<article class="comment" id="comment-18434">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-2014-3099.html#comment-18434" rel="nofollow"><time datetime="2014-01-07T14:11:43+00:00" pubdate="">2014年1月7日 at 下午2:11</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>