<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>07-17</div>
<div class="tit"><h1 class="entry-title">HDU 4527-小明系列故事――玩转十滴水-BFS-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/search/bfs" rel="category tag" title="查看BFS搜索中的全部文章">BFS搜索</a>, <a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/search" rel="category tag" title="查看搜索中的全部文章">搜索</a></span><span class="i4">围观91次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7540" href="http://www.acmerblog.com/hdu-4527-7540.html#comments" title="《HDU 4527-小明系列故事――玩转十滴水-BFS-[解题报告]HOJ》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">小明系列故事――玩转十滴水</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
　　小明最近喜欢上了一个名为十滴水的游戏。
<p></p><center><img alt="威威猫系列故事――拼车记" src="http://www.acmerblog.com/img/1445746898713.jpg"/></center> <br/>　　游戏是在一个6*6的方格内进行的，每个格子上有一滴水或者没有水滴。水滴分为四个等级1~4。初始时你有十滴水，通过把水加入格子内的水滴，会让水滴升1级。你也可以把水放到空格子内，这样会在这个格子里面产生一个1级的水滴。当水滴等级大于4时则会爆裂为四个小水滴，并向四个方向飞溅。每个飞溅的小水滴碰到其他水滴后会融入其中，使其升一级或者爆裂，以此类推。飞溅的小水滴互不干扰，运动速度相等(1秒可以移动一个格子的距离)。水滴爆裂后就消失掉了。 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
题目包含多组测试用例；<br/>对于每组数据，首先是6行，每行有6个整数数字，每个数字的范围为0~4；当数字为0时，表示空格子，当数字为1~4时，表示1~4级的水滴；<br/>然后第七行是一个整数m，表示有m个操作；接下来是m行，每行有两个整数x, y ，表示在(x,y)放入一滴水。<br/>特别说明：每次都是在全部的水滴静止后才进行下一次操作，也就是说只有在方格内没有任何飞溅的小水滴时才能放入一滴水。
<p><b>[Technical Specification]</b><br/>1 &lt;= m &lt;= 10<br/>1 &lt;= x, y &lt;= 6 </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
题目包含多组测试用例；<br/>对于每组数据，首先是6行，每行有6个整数数字，每个数字的范围为0~4；当数字为0时，表示空格子，当数字为1~4时，表示1~4级的水滴；<br/>然后第七行是一个整数m，表示有m个操作；接下来是m行，每行有两个整数x, y ，表示在(x,y)放入一滴水。<br/>特别说明：每次都是在全部的水滴静止后才进行下一次操作，也就是说只有在方格内没有任何飞溅的小水滴时才能放入一滴水。
<p><b>[Technical Specification]</b><br/>1 &lt;= m &lt;= 10<br/>1 &lt;= x, y &lt;= 6</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
0 0 0 4 0 4
0 0 0 0 0 0
1 0 0 4 0 4
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 1 0 0
1
1 6
0 0 0 4 0 4
0 2 0 4 0 4
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
1
1 6
2 2 0 2 0 3
3 3 0 1 3 1
2 2 2 4 0 4
2 4 4 2 2 3
3 3 2 4 0 1
1 3 4 3 0 1
6
5 3
5 3
3 3
3 2
2 1
6 3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0 0 0 0 0 0
0 0 0 0 0 0
2 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 2 0 0

0 0 0 0 0 0
0 3 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0
0 0 0 0 0 0

0 4 0 2 0 3
0 0 0 4 3 2
0 0 0 0 0 0
0 0 0 0 4 4
0 0 0 0 0 4
4 0 0 0 0 3

<div style="font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px"><div style="font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed"><i>Hint</i></div>
第一组数据：
(1,6)爆裂，然后在第二秒(1,4)(2,6)爆裂，在第四秒，两滴水同时到达(3,4), (3,4)变成了6，爆裂，然后在第七秒(3,1)(6,4)变成了2。
</div><i style="font-size:1px"> </i></pre>
<p> <!-- problem end --></p>
<p><strong>bfs</strong></p>
<p>
</p>
<pre class="brush:cpp" name="code">#include&lt;cstdio&gt;
#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;queue&gt;
using namespace std;
int a[10][10];
int dir[4][2]={0,1,0,-1,1,0,-1,0};
struct Node
{
    int x,y;
    int flag;
    int d;
    Node(int _x=0,int _y=0,int _flag=0,int _d=0)
    {
        x=_x;
        y=_y;
        flag=_flag;
        d=_d;
    }
};
void print()
{
    for(int i=1;i&lt;=6;i++)
    {
        printf("%d",a[i][1]);
        for(int j=2;j&lt;=6;j++)
                printf(" %d",a[i][j]);
        printf("\n");
    }
    printf("\n");
}
bool judge(int x,int y,int d)
{
    while(x&gt;=1&amp;&amp;x&lt;=6&amp;&amp;y&gt;=1&amp;&amp;y&lt;=6)
    {
        x+=dir[d][0];
        y+=dir[d][1];
        if(a[x][y])
            return 1;
    }
    return 0;
}
void bfs(int x,int y)
{
    queue&lt;Node&gt; q;
    Node t(x,y,1,0);
    q.push(t);
    while(!q.empty())
    {
        Node tmp=q.front();
        q.pop();
        if(tmp.flag)
        {    
            if(a[tmp.x][tmp.y]&gt;4)
            {
                a[tmp.x][tmp.y]=0;
                for(int i=0;i&lt;4;i++)
                {
                    int tx=tmp.x+dir[i][0];
                    int ty=tmp.y+dir[i][1];
                    if(tx&lt;=6&amp;&amp;tx&gt;=1&amp;&amp;ty&lt;=6&amp;&amp;ty&gt;=1)
                        if(a[tx][ty])
                        {
                            a[tx][ty]++;
                            if(a[tx][ty]==5)
                            {
                                Node t(tx,ty,1,0);
                                q.push(t);
                            }    
                        }
                        else
                        { 
                            if(judge(tx,ty,i))
                            {
                                Node t(tx,ty,0,i);
                                q.push(t);
                            }
                                
                        }
                }
            }
        }
        else
        {
            int tx=tmp.x+dir[tmp.d][0];
            int ty=tmp.y+dir[tmp.d][1];
            if(tx&lt;=6&amp;&amp;tx&gt;=1&amp;&amp;ty&lt;=6&amp;&amp;ty&gt;=1)
                if(a[tx][ty])
                {
                    a[tx][ty]++;
                    if(a[tx][ty]==5)
                    {
                        Node t(tx,ty,1,0);
                        q.push(t);
                    }    
                }
                else
                {
                    Node t(tx,ty,0,tmp.d);
                    q.push(t);                                 
                }
        }
    }
}
int main()
{
     while(~scanf("%d", &amp;a[1][1]))
	 {     
        for(int i=1; i&lt;=6; ++i) 
            for(int j=(i==1?2:1); j&lt;=6; ++j) 
                scanf("%d", &amp;a[i][j]);  

        int m;
        cin&gt;&gt;m;
        while(m--)
        {    
            int x,y;
            scanf("%d%d",&amp;x,&amp;y);
            a[x][y]++;
            if(a[x][y]&gt;4)
                bfs(x,y);
        }
        print();
    }
    return 0;
}</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/softshell/article/details/12121701</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97714">
<article class="comment" id="comment-97714">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97714" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97713">
<article class="comment" id="comment-97713">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97713" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97712">
<article class="comment" id="comment-97712">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97712" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97711">
<article class="comment" id="comment-97711">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97711" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97710">
<article class="comment" id="comment-97710">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97710" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97709">
<article class="comment" id="comment-97709">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97709" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-97708">
<article class="comment" id="comment-97708">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97708" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-97707">
<article class="comment" id="comment-97707">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919517227" rel="external nofollow">新用户866034</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-97707" rel="nofollow"><time datetime="2017-04-20T08:48:49+00:00" pubdate="">2017年4月20日 at 上午8:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我YY直播。没有软件。直接录音了。哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-67239">
<article class="comment" id="comment-67239">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513823" rel="external nofollow">新用户941894</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-67239" rel="nofollow"><time datetime="2017-04-11T00:40:26+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>万戈大牛，今天晚上在WP.org.cn里看到你的插件说是被添加一句话，然后我是5月10号下载并且启用你的插件的，我是从我朋友哪里了解到你的插件，看到今天晚上的帖我自己果断的拿菜刀实验了下结果。。。你知道的，我不知道是不是有人陷害，但是做这样缺德的事情会让</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67238">
<article class="comment" id="comment-67238">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919513823" rel="external nofollow">新用户941894</a></span> on <a href="http://www.acmerblog.com/hdu-4527-7540.html#comment-67238" rel="nofollow"><time datetime="2017-04-11T00:40:26+00:00" pubdate="">2017年4月11日 at 上午12:40</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>万戈大牛，今天晚上在WP.org.cn里看到你的插件说是被添加一句话，然后我是5月10号下载并且启用你的插件的，我是从我朋友哪里了解到你的插件，看到今天晚上的帖我自己果断的拿菜刀实验了下结果。。。你知道的，我不知道是不是有人陷害，但是做这样缺德的事情会让</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>