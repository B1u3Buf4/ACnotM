<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">hdu 4743 Sparrow待解决[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观80次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7788" href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comments" title="《hdu 4743 Sparrow待解决[解题报告]C++》上的评论">10 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Sparrow</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Sparrow is a kind of game. Four players (1,2,3,4) sits around a table. They take turns to act. Player i+1 is next to player i(i = 1,2,3) and player 1 is next to player 4 
<p>There are two categories of tiles in this game:<br/>1) Simple tiles:<br/>Simple tiles have 27 kinds: A1,A2…A9, B1,B2…B9 and C1,C2…C9. Each kind have 4 copies.</p>
<p>2) Honor tiles:<br/>Honor tiles have seven kinds: E, S, W, N, Z, F, 0(zero) . Each of them also have 4 copies.</p>
<p>Several tiles can form a good set. There are 4 kinds of good set:</p>
<p>1) Pong is a set of three identical tiles.<br/>2) Kong is a set of four identical tiles.<br/>3) Chow is a set of three continuous SIMPLE tiles which have the same leading letter, such as  A2,A3 and A4, or C7,C8 and C9.  A1,B2 and A3 don’t form a Chow because their leading letters are not the same.<br/>4) Eye is a set of two identical tiles.</p>
<p>A tile can’t belong to more than one good set.</p>
<p>A tile can be in one of three state:<br/>1)  On the wall.<br/>2)  Belongs to one player and faces down.<br/>3)  Belongs to one player and faces up.</p>
<p>At the beginning of the game, some tiles are on the wall, some tiles belong to players and face down.  Then they play round by round. They draw tiles from the wall, discard some tiles, make some tiles face up, until a player declares that he/she holds a winning hand, or there is no tiles on the wall.</p>
<p>One player holds a winning hand, if and only if he can split his face-down tiles into zero, one or several sets of Pong/Chow, plus one set of Eye. A winning hand could be:<br/>  {E, E, E, N, N, N, 0, 0}, or {C1, C2, C3, B5, B5}<br/>The one who declares a winning hand wins the game. </p>
<p>In each round, mostly , the round owner draw a tile from the wall and put it face-down. If the round owner finds out that the he/she has a winning hand, he/she will declare it and win the game. If no so, the round owner choose one (we call it T)of his face-down tiles to discard. Then comes the "declare phase". The other 3 players looks into their FACE-DOWN tiles, and may do 3 kinds of declarations below:<br/>  <br/>1) D0: declare a winning hand</p>
<p>If T can form a winning hand after one player owns it, this player can own T and declare a winning hand.</p>
<p>2) D1: declare a Pong.</p>
<p>If T forms a Pong set after one player owns it, then that player owns T, declares this Pong set,  and changes the 3 tiles of the declared Pong set into face-up.</p>
<p>3)D2: declare a Kong.<br/>Similar to D1, that player owns T , declare this Kong set, , and changes the 4 tiles of the declared Kong set into face-up.</p>
<p>In "declare phase", first they will ask each other whether someone want to declare a D0. If everyone give up, go on asking for D1. If no one declare a D1, go on asking D2.</p>
<p>If multiple declares happen at the same time, the player with the smallest id get T.</p>
<p>A declare will end a round. If one player declares, he gets T and becomes the owner of the next round. However, after D1 the new round owner does not draw a tile from the wall, he/she just discards a tile . After D2, the new round owner draws a tile then discards a tile. </p>
<p>If no one declare in the "declare phase", the player next to the round owner becomes the new round owner and draw a tile from the wall.</p>
<p>At any time, if someone gets a winning hand, the game ends. If one needs to draw a tile from the wall, but the wall has no more tiles, then the game ends with no winner.</p>
<p>One day, Alice and Bob suddenly want to play sparrow. But sparrow needs four players, and they could not find anyone in a moment. So they decide to play a two-man sparrow, that is, Alice will act as player 1 and player 3, and Bob will act as player 2 and player 4. Both of them control two roles at the same time.</p>
<p>Alice and Bob are very very clever children. And they both have a super gift: perspective. They can see any tile, even if it’s face-down on the wall, or face-down owned by the other player!</p>
<p>(Now, you know why they can find no one playing sparrow with them ^o^ )</p>
<p>The game goes very exciting!(oh it makes nonsense, since they know what tiles the other holds, and they are both clever enough to find the other’s strategy) And finally, it comes to such a situation that: after player 4 discards a tile, no one declare and player 1 (controled by Alice) becomes the round owner. Alice is ready to draw a tile. </p>
<p>There are only N tiles on the wall. All four players each have ten face-down tiles.</p>
<p>Decide whether Alice or Bob could win the game, if both of them act the optimal way. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
First line is an integer Q: the number of input data set.<br/>Then comes Q input set, each with 5 lines. The first 4 lines each describe ten tiles of player 1..4.
<p>The fifth line of each dataset describes the tiles on the wall. First the integer N, then comes N tiles in order.</p>
<p>There may be extra blank lines and spaces in the input file. Q&lt;=20, and N&lt;=4. </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
First line is an integer Q: the number of input data set.<br/>Then comes Q input set, each with 5 lines. The first 4 lines each describe ten tiles of player 1..4.
<p>The fifth line of each dataset describes the tiles on the wall. First the integer N, then comes N tiles in order.</p>
<p>There may be extra blank lines and spaces in the input file. Q&lt;=20, and N&lt;=4.</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
A1 A1 A1 A2 A2 A2 A3 A3 A3 A8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
2  A5 B4
A1 A1 A1 A2 A2 A2 A3 A3 A3 B8
B1 B1 B1 B2 B2 B2 B3 B3 B3 B4
B4 B5 B5 B5 B6 B6 B6 B8 B8 B8
Z  Z  Z  F  F  F  S  S  S  N
1  Z</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
Bob win
Alice win
tie</pre>
<p> <!-- problem end --></p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-96850">
<article class="comment" id="comment-96850">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96850" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96849">
<article class="comment" id="comment-96849">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96849" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96848">
<article class="comment" id="comment-96848">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96848" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96847">
<article class="comment" id="comment-96847">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96847" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96846">
<article class="comment" id="comment-96846">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96846" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96845">
<article class="comment" id="comment-96845">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96845" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96844">
<article class="comment" id="comment-96844">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96844" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96843">
<article class="comment" id="comment-96843">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96843" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-96842">
<article class="comment" id="comment-96842">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96842" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-96841">
<article class="comment" id="comment-96841">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919461757" rel="external nofollow">新用户024445</a></span> on <a href="http://www.acmerblog.com/hdu-4743-sparrow-7788.html#comment-96841" rel="nofollow"><time datetime="2017-04-20T00:52:28+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>xx给你事实之外的文字。。。抱歉</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>