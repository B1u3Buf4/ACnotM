<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>02-14</div>
<div class="tit"><h1 class="entry-title">hdu 2788 Stock Exchange[解题报告]hoj</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观300次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4395" href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comments" title="《hdu 2788 Stock Exchange[解题报告]hoj》上的评论">13 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Stock Exchange</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
All stock exchanges in the world have been hit very hardly by the crisis. To keep their profit, they now try to cut down all expenses. Prague Stock Exchange would like to employ new computer software to run their operations.
<p>Will you help them to develop such a system? Your task is to detect all pairs of buyers and sellers that are able to make a deal together. </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains a description of several issuers. Each of them begins with a line containing an integer N, one space, and a code of the stock issuer. After the first one, there are N other lines, each representing one bid. A bid consists of an agent name, one space character, a word specifying the bid type in lowercase letters (either "buy" or "sell") another space character, and a price given as a decimal number with exactly three digits after the decimal point. All buy bids always specify the maximal price, sell bids list the minimal price for which the agent wants to sell the stocks.
<p>Every issuer code consist of 1-10 uppercase letters ("A" – "Z"). Agent names have at least 1 and at most 20 characters and may be composed of both lowercase and uppercase letters. For one issuer, all agent names are always unique, but the same agents may post bids for several issuers. The number of bids ( N ) will never exceed 1000. No price will be higher than 10000.</p>
<p>The last line of the input contains the string "0 END". </p></div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input contains a description of several issuers. Each of them begins with a line containing an integer N, one space, and a code of the stock issuer. After the first one, there are N other lines, each representing one bid. A bid consists of an agent name, one space character, a word specifying the bid type in lowercase letters (either "buy" or "sell") another space character, and a price given as a decimal number with exactly three digits after the decimal point. All buy bids always specify the maximal price, sell bids list the minimal price for which the agent wants to sell the stocks.
<p>Every issuer code consist of 1-10 uppercase letters ("A" – "Z"). Agent names have at least 1 and at most 20 characters and may be composed of both lowercase and uppercase letters. For one issuer, all agent names are always unique, but the same agents may post bids for several issuers. The number of bids ( N ) will never exceed 1000. No price will be higher than 10000.</p>
<p>The last line of the input contains the string "0 END".</p></div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3 IBM
OneBuyer buy 10.600
TooExpensive sell 12.000
ThisWillWork sell 10.600
4 ACM
one sell 129.999
two buy 130.000
three buy 131.000
four sell 129.888
4 CVUT
seller sell 121.110
toopoor buy 121.109
sellertwo sell 121.111
iamok buy 121.112
0 END</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
IBM
OneBuyer: ThisWillWork
TooExpensive: NO-ONE
ThisWillWork: OneBuyer
ACM
one: two three
two: one four
three: one four
four: two three
CVUT
seller: iamok
toopoor: NO-ONE
sellertwo: iamok
iamok: seller sellertwo</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
using namespace std;

int a[100005];
int main(){
    int n, len, i, x;
    while(~scanf("%d",&amp;n)){
        if(n==0){
            puts("0");
            continue;
        }
        scanf("%d", &amp;a[1]);
        len = 1;
        for(i=2;i&lt;=n;++i){
            scanf("%d",&amp;x);
            int now = lower_bound(a+1,a+len+1, x) - a;
            if(now == len+1){
                a[++len] = x;
            }
            else{
                a[now] = x;
            }
        }
        printf("%d\n", len);
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-46390">
<article class="comment" id="comment-46390">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mysteriousAngel_love</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46390" rel="nofollow"><time datetime="2015-07-10T12:35:14+00:00" pubdate="">2015年7月10日 at 下午12:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>great!</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62854">
<article class="comment" id="comment-62854">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">a997930294</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-62854" rel="nofollow"><time datetime="2015-05-29T21:37:09+00:00" pubdate="">2015年5月29日 at 下午9:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>上面的评论很起劲，为什么我看不懂啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46391">
<article class="comment" id="comment-46391">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">jade1827</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46391" rel="nofollow"><time datetime="2015-05-04T20:51:54+00:00" pubdate="">2015年5月4日 at 下午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46397">
<article class="comment" id="comment-46397">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">skyand</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46397" rel="nofollow"><time datetime="2015-04-12T01:08:01+00:00" pubdate="">2015年4月12日 at 上午1:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这一题的代码这样提交时错误的~少考虑了很多情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46396">
<article class="comment" id="comment-46396">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">yipwinghong</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46396" rel="nofollow"><time datetime="2015-02-12T22:39:09+00:00" pubdate="">2015年2月12日 at 下午10:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>赞一个！权限已更新:）</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46399">
<article class="comment" id="comment-46399">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46399" rel="nofollow"><time datetime="2015-02-09T11:08:28+00:00" pubdate="">2015年2月9日 at 上午11:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>较好的写法是 start+(end-start)/2</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46389">
<article class="comment" id="comment-46389">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NiKaWaLi</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46389" rel="nofollow"><time datetime="2015-02-01T06:39:29+00:00" pubdate="">2015年2月1日 at 上午6:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>if(j){<br/>
                    int ans=a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif"/> ;<br/>
                    for(int x=j-1;x&gt;=0;x–){<br/>
                        if(!a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> ) break;<br/>
                        ans=min(ans,a <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif"/> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d7/newx_org.gif"/> );<br/>
                        sum+=ans;<br/>
                    }<br/>
                }<br/>
求解释，，dp的思路是什么呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46393">
<article class="comment" id="comment-46393">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">489365227</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46393" rel="nofollow"><time datetime="2014-10-15T13:13:42+00:00" pubdate="">2014年10月15日 at 下午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实不需要用LCA，用DFS+vector更简单</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46398">
<article class="comment" id="comment-46398">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46398" rel="nofollow"><time datetime="2014-09-19T23:41:54+00:00" pubdate="">2014年9月19日 at 下午11:41</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>太变态了。我用hash居然超时了。这样break掉居然都行啊。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46400">
<article class="comment" id="comment-46400">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">blogpick</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46400" rel="nofollow"><time datetime="2014-08-22T22:10:08+00:00" pubdate="">2014年8月22日 at 下午10:10</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>根本过不了。。。。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46395">
<article class="comment" id="comment-46395">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">samjustin</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46395" rel="nofollow"><time datetime="2014-07-10T01:48:22+00:00" pubdate="">2014年7月10日 at 上午1:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>#!/usr/bin/env python def cou(n): arr =  [1]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-46394">
<article class="comment" id="comment-46394">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">NextLife</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46394" rel="nofollow"><time datetime="2014-05-23T22:37:08+00:00" pubdate="">2014年5月23日 at 下午10:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>大致看了下，算法的时间复杂度没有很本性的提升，算不上高效。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-46392">
<article class="comment" id="comment-46392">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nsoi_onion</a></span> on <a href="http://www.acmerblog.com/hdu-2788-stock-exchange-4395.html#comment-46392" rel="nofollow"><time datetime="2014-04-06T19:50:47+00:00" pubdate="">2014年4月6日 at 下午7:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>&amp;amp;这是C语言？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>