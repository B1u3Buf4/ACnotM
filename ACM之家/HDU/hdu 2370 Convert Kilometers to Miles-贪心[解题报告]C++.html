<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>01-05</div>
<div class="tit"><h1 class="entry-title">hdu 2370 Convert Kilometers to Miles-贪心[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/tanxin" rel="category tag" title="查看贪心中的全部文章">贪心</a></span><span class="i4">围观1116次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3586" href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comments" title="《hdu 2370 Convert Kilometers to Miles-贪心[解题报告]C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Convert Kilometers to Miles</h1>
</div>
<div>
<p class="mytitle">问题描述 :</p>
</div>
<div class="mypanel">This year, Bruce Force spends his vacation in Flagstaff, Arizona, where he wants to practice for his next half marathon (a race over 21 km). At his first training he runs to his friend Greedy Gonzales’ home which is 21 miles away from Flagstaff.Arriving there, he is very tired and realizes that 21 miles are much more than 21 km. Greedy Gonzales tells him that 21 km equals 13 miles. 21, 13? Bruce realizes immediately that there must be a deeper relation! Both, 13 and 21 are Fibonacci numbers!
<p>Fibonacci numbers can be defined as follows:</p>
<p>F<sub>1</sub> = 1<br/>
F<sub>2</sub> = 2<br/>
F<sub>n+1</sub> = F<sub>n</sub>+F<sub>n-1</sub> for n&gt;1.</p>
<p>Bruce has just learned about the Fibonacci number system at his university. Each positive integer x can be written as the sum of different Fibonacci numbers, so this means that there exists numbers k and b<sub>1</sub>, b<sub>2</sub>, …, b<sub>k</sub> such that x = ∑<sub>i=1..k</sub> b<sub>i</sub> * F<sub>i</sub>, where b<sub>k</sub> = 1 and b<sub>i</sub> (1 ≤ i &lt; k) is either 0 or 1. In short, we can write the representation as: b(x) = (b<sub>k</sub>, b<sub>k-1</sub>, …, b<sub>1</sub>). To make the representation unique, we require that b<sub>i</sub> * b<sub>i-1</sub> = 0 for all i &gt; 1.</p>
<p>For example 21 can be represented as (1,0,0,0,0,0,0) and 13 as (1,0,0,0,0,0) in the Fibonacci system. Bruce notices that one can convert a distance x in kilometers into a corresponding distance y to miles as follows: First, write down x in its Fibonacci system representation b(x). Second, shift the bits of b(x) one position to the right (the last bit is deleted) and get b(y). Third, calculate y from b(y) by evaluating the sum given above.</p>
<p>For example, the number 42 written in the Fibonacci system is (1,0,0,1,0,0,0,0). In step two we would shift the bits one position to the right and get (1,0,0,1,0,0,0). In the third step, we would calculate 0*1 + 0*2 + 0*3 + 1*5 + 0*8 + 0*13 + 1*21 = 26.</p>
<p>Now it’s your turn to write a program for Bruce that converts kilometers into miles according to Bruce’s algorithm.</p>
</div>
<div>
<p class="mytitle">输入:</p>
</div>
<div class="mypanel">The first line of the input contains t, the number of distances Bruce wants to convert from kilometers to miles (0&lt;t&lt;25000). Each of the next t lines contains an integer distance x (2 &lt; x &lt; 25000) in kilometers.</div>
<div>
<p class="mytitle">输出:</p>
</div>
<div class="mypanel">The first line of the input contains t, the number of distances Bruce wants to convert from kilometers to miles (0&lt;t&lt;25000). Each of the next t lines contains an integer distance x (2 &lt; x &lt; 25000) in kilometers.</div>
<div>
<p class="mytitle">样例输入:</p>
</div>
<pre class="mypanel iopanel">5
42
100
180
300
360</pre>
<div>
<p class="mytitle">样例输出:</p>
</div>
<pre class="mypanel iopanel">26
62
111
185
222</pre>
<p><!-- problem end --><br/>
题意：一个数字可以表示成若干个fibonacci数的和。求表示成fib后“右移”1位的数字。</p>
<p>mark：打表前30个fib数，然后用贪心法可算出任何数字的fib数表示形式，再累加。</p>
<p>代码：</p>
<pre class="brush:cpp"># include &lt;stdio.h&gt;
# include &lt;string.h&gt;


int fib[35] = {1,1} ;
int tab[35] ;


void init()
{
    int i ;
    for (i = 2 ; i &lt;= 30 ; i++)
        fib[i] = fib[i-1]+fib[i-2] ;
}


void set (int x)
{
    int i ;
    for (i = 25 ; i&gt;= 1 ; i--)
        if (fib[i] &lt;= x) tab[i] = 1, x -= fib[i] ;
}


int main ()
{
    int n, x, sum, i ;
    init() ;
    scanf ("%d", &amp;n) ;
    while (n--)
    {
        scanf ("%d", &amp;x) ;
        memset (tab, 0, sizeof(tab)) ;
        set(x) ;
        for (i = 2, sum = 0 ; i &lt;= 30 ; i++)
            if (tab[i]) sum += fib[i-1] ;
        printf ("%d\n", sum) ;
    }
    
    return 0 ;
}</pre>
<p> </p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-21190">
<article class="comment" id="comment-21190">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">sharp</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-21190" rel="nofollow"><time datetime="2015-06-30T18:17:41+00:00" pubdate="">2015年6月30日 at 下午6:17</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯   分析得很到位，确实用模板编程能让面试官对你的印象更好。在设置辅助栈的时候可以这样：push时，比较要push的elem和辅助栈的栈顶，elem&lt;=min.top()，则min.push(elem).否则只要push（elem）就好。在pop的时候，比较stack.top()与min.top(),if(stack.top()&lt;=min.top()),则{stack.pop();min.pop();}，否则{stack.pop();}.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44879">
<article class="comment" id="comment-44879">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">liuk</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-44879" rel="nofollow"><time datetime="2015-06-07T22:54:21+00:00" pubdate="">2015年6月7日 at 下午10:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44878">
<article class="comment" id="comment-44878">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">kate19930802</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-44878" rel="nofollow"><time datetime="2015-03-03T01:26:49+00:00" pubdate="">2015年3月3日 at 上午1:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-62478">
<article class="comment" id="comment-62478">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tzf888888</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-62478" rel="nofollow"><time datetime="2015-02-24T11:28:20+00:00" pubdate="">2015年2月24日 at 上午11:28</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>较好的写法是 start+(end-start)/2</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56628">
<article class="comment" id="comment-56628">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Cloudy</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-56628" rel="nofollow"><time datetime="2015-02-14T19:23:08+00:00" pubdate="">2015年2月14日 at 下午7:23</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯   分析得很到位，确实用模板编程能让面试官对你的印象更好。在设置辅助栈的时候可以这样：push时，比较要push的elem和辅助栈的栈顶，elem&lt;=min.top()，则min.push(elem).否则只要push（elem）就好。在pop的时候，比较stack.top()与min.top(),if(stack.top()&lt;=min.top()),则{stack.pop();min.pop();}，否则{stack.pop();}.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21189">
<article class="comment" id="comment-21189">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">abguorui0928</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-21189" rel="nofollow"><time datetime="2015-01-24T17:43:27+00:00" pubdate="">2015年1月24日 at 下午5:43</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56627">
<article class="comment" id="comment-56627">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magichu</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-56627" rel="nofollow"><time datetime="2014-11-04T23:09:05+00:00" pubdate="">2014年11月4日 at 下午11:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的方法，学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-21188">
<article class="comment" id="comment-21188">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AC_Grazy</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-21188" rel="nofollow"><time datetime="2014-07-15T20:37:09+00:00" pubdate="">2014年7月15日 at 下午8:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>代码不错，赞一个！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62476">
<article class="comment" id="comment-62476">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">keyyuanxin</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-62476" rel="nofollow"><time datetime="2014-07-02T09:18:21+00:00" pubdate="">2014年7月2日 at 上午9:18</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正有此意，欢迎更多的建议~</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44880">
<article class="comment" id="comment-44880">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">magicSky</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-44880" rel="nofollow"><time datetime="2014-06-05T19:57:45+00:00" pubdate="">2014年6月5日 at 下午7:57</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这是什么编译器啊，不通过</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62477">
<article class="comment" id="comment-62477">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">acmclown</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-62477" rel="nofollow"><time datetime="2014-05-17T18:44:43+00:00" pubdate="">2014年5月17日 at 下午6:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不错的网站，建议添加些比赛信息</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56629">
<article class="comment" id="comment-56629">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">la0bei</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-56629" rel="nofollow"><time datetime="2014-05-08T05:51:56+00:00" pubdate="">2014年5月8日 at 上午5:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>m /= i; 是一直在变的。参考这一篇关于质因数的http://www.acmerblog.com/integer-factorization-5124.html</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-56626">
<article class="comment" id="comment-56626">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-56626" rel="nofollow"><time datetime="2014-01-24T08:51:27+00:00" pubdate="">2014年1月24日 at 上午8:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不考虑最后将结果排序的话，快排的时间复杂度是O(N) ，而堆排的是O(N*logK)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-44881">
<article class="comment" id="comment-44881">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">room306</a></span> on <a href="http://www.acmerblog.com/hdu-2370-convert-kilometers-to-miles-3586.html#comment-44881" rel="nofollow"><time datetime="2014-01-05T23:45:46+00:00" pubdate="">2014年1月5日 at 下午11:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>