<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-23</div>
<div class="tit"><h1 class="entry-title">HDU 1894 String Compare-字符串-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/string" rel="category tag" title="查看字符串处理中的全部文章">字符串处理</a></span><span class="i4">围观1139次</span><span class="i3"><a class="ds-thread-count" data-thread-key="2895" href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comments" title="《HDU 1894 String Compare-字符串-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">String Compare</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Maybe there are 750,000 words in English and some words are prefix of other words, for example: the word "acm" can be treat as one prefix of "acmicpc". What’s more, most of such pairs of words have relationship between them. Now give you a dictionary, your work is to tell me how many such pairs. 
<p>There may be other characters in the word, for example ‘_’,'-’,and so on. <br/>Pay attention that ‘A’ and ‘a’ are not the same character!  </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
In the first line of the input file there is an Integer T, which means the number of test cases. Followed by T test cases. <br/>For each test case, in the first line there is an integer N(0&lt;N&lt;=50000), followed N lines, each contains a word whose length is less than 30 and no space appears in any word. There are no same words in two different lines.  </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
For each test case, tell me how many such pairs. If the number is larger than 11519, just divide it by 11519 and only output the remainder. </div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
2
acmicpc
acm
3
a
abc
ab</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
1
3</pre>
<p> <!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1894">http://acm.hdu.edu.cn/showproblem.php?pid=1894</a></p>
<p> </p>
<p>   一开始用的是比较笨的方法做的，一丢上去，就报超时，一开始就想到了。后来没办法，只好重新想过，觉得应该先将所有数据进行排序，只要遇到不是前缀的就可以停止了，这样就省了很多时间。又丢上去，怎么报错，后来才发现是额的英语不过关，If the number is larger than 11519, just divide it by 11519 and only output the remainder. 应该是取x%11519，而不是/。看来这个破英语还是不怎么行呀！大概思路就是这样了…</p>
<pre class="brush:cpp ">#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;algorithm&gt;
using namespace std;

int T,N;
string strcin[50005];

bool isPrefix(string s1,string s2)
{
    int len1,len2,i;
    string str;

    len1=s1.length();
    len2=s2.length();
    if(len1&gt;len2)
    {
        str=s1;
        s1=s2;
        s2=str;
    }
    else if(len1==len2)  //There are no same words in two different lines.
    {
        return false;
    }
    else
    {}
    for(i=0;i&lt;(int)s1.length();i++)
    {
        if(s1[i]!=s2[i])
            return false;
    }
    return true;
}

bool cmp(string s1,string s2)
{
    if(s1.compare(s2)&lt;0)
        return true;
    return false;
}

int main()
{
    int i,j,count;
    while(cin&gt;&gt;T)
    {
        while(T--)
        {            
            cin&gt;&gt;N;
            for(i=0;i&lt;N;i++)
            {
                cin&gt;&gt;strcin[i];
            }
            sort(strcin,strcin+N,cmp);
            count=0;
            for(i=0;i&lt;N-1;i++)
            {
                for(j=i+1;j&lt;N;j++)
                {
                    if(isPrefix(strcin[i],strcin[j]))
                        count++;
                    else
                        break;
                }
            }
            if(count&gt;11519)
                count=count%11519;

            cout&lt;&lt;count&lt;&lt;endl;
        }
    }

    return 0;
}</pre>
<p>解题报告转自：http://blog.csdn.net/tlovet1314/article/details/5321623</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-43211">
<article class="comment" id="comment-43211">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-43211" rel="nofollow"><time datetime="2015-05-08T07:04:18+00:00" pubdate="">2015年5月8日 at 上午7:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>修改一下吧 …</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17684">
<article class="comment" id="comment-17684">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">litao</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17684" rel="nofollow"><time datetime="2015-04-30T22:01:09+00:00" pubdate="">2015年4月30日 at 下午10:01</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>博主的C++功底真是好</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17688">
<article class="comment" id="comment-17688">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">ruoshui</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17688" rel="nofollow"><time datetime="2015-03-16T04:59:10+00:00" pubdate="">2015年3月16日 at 上午4:59</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>88行是多余的，可以删除</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17685">
<article class="comment" id="comment-17685">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">April</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17685" rel="nofollow"><time datetime="2014-12-01T11:37:37+00:00" pubdate="">2014年12月1日 at 上午11:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>无需用转移方程也可以解决，哈哈</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55894">
<article class="comment" id="comment-55894">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-55894" rel="nofollow"><time datetime="2014-11-22T06:13:19+00:00" pubdate="">2014年11月22日 at 上午6:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>其实就是DFS搜索，数据量较小，穷举了所有情况</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-43213">
<article class="comment" id="comment-43213">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">starcuan</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-43213" rel="nofollow"><time datetime="2014-10-17T04:46:04+00:00" pubdate="">2014年10月17日 at 上午4:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好的思路，可以借鉴</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17686">
<article class="comment" id="comment-17686">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xrjervis</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17686" rel="nofollow"><time datetime="2014-10-11T04:50:37+00:00" pubdate="">2014年10月11日 at 上午4:50</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>好网站，肯定会火的</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17690">
<article class="comment" id="comment-17690">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">admin</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17690" rel="nofollow"><time datetime="2014-09-15T06:02:59+00:00" pubdate="">2014年9月15日 at 上午6:02</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>嗯，尽量吧。题目太多了，很多解题报告是用程序自动发布的，所以就只有代码了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-55892">
<article class="comment" id="comment-55892">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">feifei003603</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-55892" rel="nofollow"><time datetime="2014-07-05T11:24:50+00:00" pubdate="">2014年7月5日 at 上午11:24</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>1234百位上出现的次数应该是200吧。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17687">
<article class="comment" id="comment-17687">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Spike</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17687" rel="nofollow"><time datetime="2014-06-30T15:08:27+00:00" pubdate="">2014年6月30日 at 下午3:08</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Dijkstra 不适合有负权值的边吧</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-17689">
<article class="comment" id="comment-17689">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">rewrite</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17689" rel="nofollow"><time datetime="2014-05-28T15:54:19+00:00" pubdate="">2014年5月28日 at 下午3:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>已更新</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-55893">
<article class="comment" id="comment-55893">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">weijieut</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-55893" rel="nofollow"><time datetime="2014-04-28T09:46:30+00:00" pubdate="">2014年4月28日 at 上午9:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>整理的很好，多谢</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-43212">
<article class="comment" id="comment-43212">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">tufei</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-43212" rel="nofollow"><time datetime="2014-04-02T03:07:58+00:00" pubdate="">2014年4月2日 at 上午3:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于明白了递归和dp的关系，多谢分享！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-17683">
<article class="comment" id="comment-17683">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pascal</a></span> on <a href="http://www.acmerblog.com/hdu-1894-String-Compare-2895.html#comment-17683" rel="nofollow"><time datetime="2014-02-08T05:46:29+00:00" pubdate="">2014年2月8日 at 上午5:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>辛苦了，顶</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>