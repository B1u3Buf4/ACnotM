<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-30</div>
<div class="tit"><h1 class="entry-title">hdu 2183 奇数阶魔方(II)-计算几何-[解题报告]C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/geometry/analytic-geometry" rel="category tag" title="查看解析几何中的全部文章">解析几何</a></span><span class="i4">围观886次</span><span class="i3"><a class="ds-thread-count" data-thread-key="3336" href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comments" title="《hdu 2183 奇数阶魔方(II)-计算几何-[解题报告]C++》上的评论">18 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">奇数阶魔方(II)</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
1 ，2， 3， …，n^2 这n^2 个数 排成n*n 方阵 每行每列每条对角线上的n个数字之和s相等， <br/>s=n（n*n+1）/2,奇数阶魔方可由菱形转变成 <br/>n=3,5时如下 <br/>3 <br/>*********1 <br/>******4******2 <br/>***7*****5******3 <br/>******8******6 <br/>*********9 <br/>4 9 2 <br/>3 5 7 <br/>8 1 6 <br/>5 <br/>*******************1 <br/>***************6*******2 <br/>**********11*******7*******3 <br/>******16*******12*******8*******4 <br/>**21******17******13*******9*******5 <br/>******22*******18*****14******10 <br/>**********23*******19******15 <br/>**************24******20 <br/>******************25 <br/>11 24 7 20 3 <br/>4 12 25 8 16 <br/>17 5 13 21 9 <br/>10 18 1 14 22 <br/>23 6 19 2 15 </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
输入奇数 3&lt;=n&lt;=21.  n=0退出 </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
输入奇数 3&lt;=n&lt;=21.  n=0退出</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
7
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
  22  47  16  41  10  35   4
   5  23  48  17  42  11  29
  30   6  24  49  18  36  12
  13  31   7  25  43  19  37
  38  14  32   1  26  44  20
  21  39   8  33   2  27  45
  46  15  40   9  34   3  28</pre>
<p> <!-- problem end --></p>
<p>题目：http://acm.hit.edu.cn/hoj/problem/view?id=2183</p>
<p>本题核心是求任意多边形的面积。</p>
<p>我们可以用叉积来求。任取一点，顺时针取相邻两点，与这点组成两个向量，进行叉积。顺时针一周求得的所有叉积和求反除以二即是多边形的面积。</p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;vector&gt;
using namespace std;

struct Point
{
    double x;
    double y;
};
Point p[100000];

double cross(Point O,Point A,Point B)
{
    return (A.x - O.x) *  (B.y - O.y) - (B.x - O.x) * (A.y - O.y);
}

int main()
{
#ifndef ONLINE_JUDGE
    freopen("in.txt","r",stdin);
#endif
    int n;
    double vol;
    while(scanf(" %d",&amp;n)!=EOF &amp;&amp; n&gt;=3)
    {
        p[0].x = p[0].y = 0;
        for(int i=1;i&lt;=n;i++)
        {
            scanf(" %lf %lf",&amp;p[i].x,&amp;p[i].y);
        }
        scanf(" %lf",&amp;vol);
        p[n+1].x = p[1].x;
        p[n+1].y = p[1].y;
        double area = 0;
        for(int i=1;i&lt;=n;i++)
        {
            area += cross(p[0],p[i],p[i+1]);
        }
        area = -area;
        area /=2;
        double len;
        len = vol/area;
        printf("BAR LENGTH: %.2lf\n",len);
    }
}</pre>
<p>解题转自：http://blog.csdn.net/niuox/article/details/8592852</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-86745">
<article class="comment" id="comment-86745">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86745" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86744">
<article class="comment" id="comment-86744">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86744" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86743">
<article class="comment" id="comment-86743">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86743" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86742">
<article class="comment" id="comment-86742">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86742" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86741">
<article class="comment" id="comment-86741">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86741" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86740">
<article class="comment" id="comment-86740">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86740" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86739">
<article class="comment" id="comment-86739">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86739" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86738">
<article class="comment" id="comment-86738">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86738" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-86737">
<article class="comment" id="comment-86737">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86737" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86736">
<article class="comment" id="comment-86736">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919511945" rel="external nofollow">新用户824779</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-86736" rel="nofollow"><time datetime="2017-04-13T05:36:38+00:00" pubdate="">2017年4月13日 at 上午5:36</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>拍的时候估计要NG几十次才能过(๑•ั็ω•็ั๑)</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62337">
<article class="comment" id="comment-62337">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Supermaner</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-62337" rel="nofollow"><time datetime="2015-07-02T10:46:58+00:00" pubdate="">2015年7月2日 at 上午10:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>不需要输出，只要函数返回值正确就行</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19753">
<article class="comment" id="comment-19753">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zx123456</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-19753" rel="nofollow"><time datetime="2015-06-15T12:44:28+00:00" pubdate="">2015年6月15日 at 下午12:44</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哎，path[0]应该是从零开始吧，为什么是赋值1呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-44284">
<article class="comment" id="comment-44284">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">dream</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-44284" rel="nofollow"><time datetime="2015-05-28T06:25:05+00:00" pubdate="">2015年5月28日 at 上午6:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>第63行是不是漏了 return 1 + dis_right; ?</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-56378">
<article class="comment" id="comment-56378">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-56378" rel="nofollow"><time datetime="2014-11-12T06:55:47+00:00" pubdate="">2014年11月12日 at 上午6:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>找bug好专业的说</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-62338">
<article class="comment" id="comment-62338">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gladuo</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-62338" rel="nofollow"><time datetime="2014-03-25T09:34:27+00:00" pubdate="">2014年3月25日 at 上午9:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很好，注释很详细啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19752">
<article class="comment" id="comment-19752">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">AcmDream</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-19752" rel="nofollow"><time datetime="2014-02-20T00:07:52+00:00" pubdate="">2014年2月20日 at 上午12:07</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>楼主你能把scanf( "%d%*" ,&amp;T );中%*的用法详细说明吗</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-19755">
<article class="comment" id="comment-19755">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">OrangeGuy</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-19755" rel="nofollow"><time datetime="2014-01-25T15:37:33+00:00" pubdate="">2014年1月25日 at 下午3:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>怎么输入两个0程序还没退出</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-19754">
<article class="comment" id="comment-19754">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">mazilian</a></span> on <a href="http://www.acmerblog.com/hdu-2183-ii-3336.html#comment-19754" rel="nofollow"><time datetime="2014-01-08T10:53:56+00:00" pubdate="">2014年1月8日 at 上午10:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>对，还是这种实现比较好理解。虽然效率有点低</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>