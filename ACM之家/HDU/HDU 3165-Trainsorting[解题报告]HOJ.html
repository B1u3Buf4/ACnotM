<div class="c-top2" id="post-55">
<div class="datetime">2014<br/>03-06</div>
<div class="tit"><h1 class="entry-title">HDU 3165-Trainsorting[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a></span><span class="i4">围观311次</span><span class="i3"><a class="ds-thread-count" data-thread-key="4999" href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comments" title="《HDU 3165-Trainsorting[解题报告]HOJ》上的评论">15 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Trainsorting</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
Erin is an engineer. She drives trains. She also arranges the cars within each train. She prefers to put the cars in decreasing order of weight, with the heaviest car at the front of the train.
<p>Unfortunately, sorting train cars is not easy. One cannot simply pick up a car and place it somewhere else. It is impractical to insert a car within an existing train. A car may only be added to the beginning and end of the train.</p>
<p>Cars arrive at the train station in a predetermined order. When each car arrives, Erin can add it to the beginning or end of her train, or refuse to add it at all. The resulting train should be as long as possible, but the cars within it must be ordered by weight. </p>
<p>Given the weights of the cars in the order in which they arrive, what is the longest train that Erin can make? </p></div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The first line contains an integer 0 &lt;= n &lt;= 2000, the number of cars. Each of the following n lines contains a non-negative integer giving the weight of a car. No two cars have the same weight. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The first line contains an integer 0 &lt;= n &lt;= 2000, the number of cars. Each of the following n lines contains a non-negative integer giving the weight of a car. No two cars have the same weight.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
3
1
2
3</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3</pre>
<p> <!-- problem end --></p>
<pre class="brush:cpp ">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;memory.h&gt;
#include &lt;cmath&gt;
#include &lt;cstdlib&gt;

using namespace std;
const int MAX=2005,INF=1&lt;&lt;30;
int a[MAX],c[MAX],
 n,len;
int bsearchLDS(const int &amp;v){
 int l=1,r=len+1,m;
 while(l&lt;r){
 m=l+(r-l)/2;
 if(c[m]&gt;v) l=m+1;
 else r=m;
 }
 return l;
}
int bsearchLIS(const int &amp;v){
 int l=1,r=len+1,m;
 while(l&lt;r){
 m=l+(r-l)/2;
 if(c[m]&lt;v) l=m+1;
 else r=m;
 }
 return l;
}
int LDS(const int &amp;i){
 int pos;
 len=1;
 c[len]=a[i];
 for(int j=i+1;j&lt;n;j++){
 pos=bsearchLDS(a[j]);
 if(pos==1)
 continue;
 c[pos]=a[j];
 if(pos&gt;len)
 len=pos;
 }
 return len;
}
int LIS(const int &amp;i){
 int pos;
 len=1;
 c[len]=a[i];
 for(int j=i+1;j&lt;n;j++){
 pos=bsearchLIS(a[j]);
 if(pos==1)
 continue;
 c[pos]=a[j];
 if(pos&gt;len)
 len=pos;
 }
 return len;
}
int main()
{
// freopen("i.txt","r",stdin);
 int nCase,t1,t2,l,maxVal;
// cin&gt;&gt;nCase;
 while(cin&gt;&gt;n){
 maxVal=0;
 //memset(a,0,sizeof(a));
 //memset(c,0,sizeof(c));
 for(int i=0;i&lt;n;i++)
 cin&gt;&gt;a[i];
 for(int i=0;i&lt;n;i++){
 //LDS;
 t1=LDS(i);
 t2=LIS(i);
// cout&lt;&lt;i&lt;&lt;' '&lt;&lt;a[i]&lt;&lt;endl;
// cout&lt;&lt;t1&lt;&lt;' '&lt;&lt;t2&lt;&lt;endl&lt;&lt;endl;
 l=t1+t2-1;
 if(l&gt;maxVal)
 maxVal=l;
 //break;
 }
 cout&lt;&lt;maxVal&lt;&lt;endl;
 }
 return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-78742">
<article class="comment" id="comment-78742">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919522508" rel="external nofollow">新用户865422</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-78742" rel="nofollow"><time datetime="2017-04-12T12:30:19+00:00" pubdate="">2017年4月12日 at 下午12:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>-哈哈哈，不送。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27636">
<article class="comment" id="comment-27636">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wangzhenvs123</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27636" rel="nofollow"><time datetime="2015-04-09T20:09:26+00:00" pubdate="">2015年4月9日 at 下午8:09</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>居然看懂了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27638">
<article class="comment" id="comment-27638">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27638" rel="nofollow"><time datetime="2015-03-13T11:53:23+00:00" pubdate="">2015年3月13日 at 上午11:53</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>哎，path[0]应该是从零开始吧，为什么是赋值1呢？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27648">
<article class="comment" id="comment-27648">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Mitrenick</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27648" rel="nofollow"><time datetime="2015-02-23T07:48:01+00:00" pubdate="">2015年2月23日 at 上午7:48</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>终于找到一篇能看懂的，mark</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27647">
<article class="comment" id="comment-27647">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">nwling</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27647" rel="nofollow"><time datetime="2015-01-26T12:34:17+00:00" pubdate="">2015年1月26日 at 下午12:34</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>想问下computeLSPArray那里，if(len!=0) len=lps[len-1]是什么意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27642">
<article class="comment" id="comment-27642">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">BGPY</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27642" rel="nofollow"><time datetime="2015-01-04T02:21:47+00:00" pubdate="">2015年1月4日 at 上午2:21</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>题目和代码都不一样好吗！！！搞错了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27646">
<article class="comment" id="comment-27646">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">Ding Qiangyuan</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27646" rel="nofollow"><time datetime="2014-12-27T06:16:36+00:00" pubdate="">2014年12月27日 at 上午6:16</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>没有对题目进行一番分析，真是美中不足啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27640">
<article class="comment" id="comment-27640">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">verycourage</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27640" rel="nofollow"><time datetime="2014-12-21T11:46:55+00:00" pubdate="">2014年12月21日 at 上午11:46</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你指的哪个问题？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27637">
<article class="comment" id="comment-27637">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HenrryCheng</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27637" rel="nofollow"><time datetime="2014-09-25T14:35:33+00:00" pubdate="">2014年9月25日 at 下午2:35</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>.net中char类型不是两个字节么</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27639">
<article class="comment" id="comment-27639">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hunangangli</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27639" rel="nofollow"><time datetime="2014-09-25T11:04:27+00:00" pubdate="">2014年9月25日 at 上午11:04</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>我还有个问题想请教一下，就是感觉对于新手来说，递归理解起来有些困难，不知有没有什么好的方法或者什么好的建议？</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27643">
<article class="comment" id="comment-27643">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">leowww</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27643" rel="nofollow"><time datetime="2014-06-26T13:30:38+00:00" pubdate="">2014年6月26日 at 下午1:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p><strong>Gucci New Fall Arrivals</strong></p>
<p>This is really nice to know. I hope it will be successful in the future. Good job on this and keep up the good work.</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27641">
<article class="comment" id="comment-27641">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">reking</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27641" rel="nofollow"><time datetime="2014-06-20T10:39:46+00:00" pubdate="">2014年6月20日 at 上午10:39</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>书上的解法更巧妙一些，在九度OJ实测的效率差不多</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27644">
<article class="comment" id="comment-27644">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xun.gong</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27644" rel="nofollow"><time datetime="2014-06-10T15:30:28+00:00" pubdate="">2014年6月10日 at 下午3:30</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>正是我要找的，适合新手</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-27645">
<article class="comment" id="comment-27645">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">didiaozuoren</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27645" rel="nofollow"><time datetime="2014-03-20T22:27:24+00:00" pubdate="">2014年3月20日 at 下午10:27</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>学习了</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-27649">
<article class="comment" id="comment-27649">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">xy7850151</a></span> on <a href="http://www.acmerblog.com/hdu-3165-trainsorting-4999.html#comment-27649" rel="nofollow"><time datetime="2014-03-10T03:51:09+00:00" pubdate="">2014年3月10日 at 上午3:51</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>目前为止见过的最易懂的一个，多谢分享</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>