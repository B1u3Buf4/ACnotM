<div class="c-top2" id="post-55">
<div class="datetime">2013<br/>12-04</div>
<div class="tit"><h1 class="entry-title">HDU 1261 字串数-高精度-[解题报告] C++</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/admin" rel="author" title="由coder发布">coder</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/math/bignumber" rel="category tag" title="查看高精度计算中的全部文章">高精度计算</a></span><span class="i4">围观860次</span><span class="i3"><a class="ds-thread-count" data-thread-key="1625" href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comments" title="《HDU 1261 字串数-高精度-[解题报告] C++》上的评论">14 条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">字串数</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
一个A和两个B一共可以组成三种字符串:"ABB","BAB","BBA".<br/>给定若干字母和它们相应的个数,计算一共可以组成多少个不同的字符串. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
每组测试数据分两行,第一行为n(1&lt;=n&lt;=26),表示不同字母的个数,第二行为n个数A1,A2,…,An(1&lt;=Ai&lt;=12),表示每种字母的个数.测试数据以n=0为结束. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
对于每一组测试数据,输出一个m,表示一共有多少种字符串.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
2
1 2
3
2 2 2
0</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
3
90</pre>
<p><!-- problem end --></p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1261">点击打开链接</a></p>
<p>
</p>
<p>分析：</p>
<p><span style="white-space:pre"></span>ans = sum！/（a1!*a2!*……）；</p>
<p>
</p>
<pre class="brush:cpp ">#include"stdio.h"
#include"string.h"
int main()
{
    int n;
    int sum;
    int a[30];
    int t,len;
    int i,j,k;
    int carry;
    int num[155];
    while(scanf("%d",&amp;n)!=-1,n)
    {
        sum=0;
        for(i=0;i&lt;n;i++)
        {
            scanf("%d",&amp;a[i]);
            sum+=a[i];
        }

        memset(num,0,sizeof(num));
        num[0]=1;
        len=1;
        for(i=2;i&lt;=sum;i++)
        {
            carry=0;
            for(j=0;j&lt;len;j++)
            {
                num[j]*=i;
                num[j]+=carry;
                if(num[j]&gt;=100000)
                {
                    carry=num[j]/100000;
                    num[j]%=100000;
                }
                else carry=0;
            }
            if(carry!=0)num[len]=carry;
            while(num[len]!=0)len++;
        }
        for(i=0;i&lt;n;i++)
        {
            for(j=2;j&lt;=a[i];j++)
            {
                t=0;
                carry=0;
                for(k=len-1;k&gt;=0;k--)
                {
                    carry=t;
                    t=(num[k]+t*100000)%j;
                    num[k]=(num[k]+carry*100000)/j;
                }
                while(num[len-1]==0)len--;
            }
        }
        for(i=len;i&gt;=0;i--)
            if(num[i]!=0)
            {
                printf("%d",num[i]);break;
            }
        for(i--;i&gt;=0;i--)
        {
            printf("%05d",num[i]);
        }
        printf("\n");
    }
    return 0;
}</pre>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-12006">
<article class="comment" id="comment-12006">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wynk0804</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12006" rel="nofollow"><time datetime="2015-06-20T00:42:38+00:00" pubdate="">2015年6月20日 at 上午12:42</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这张页面太松散拉，重新编辑一下，弄紧凑一点。</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12010">
<article class="comment" id="comment-12010">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hongfieyu</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12010" rel="nofollow"><time datetime="2015-06-17T01:13:55+00:00" pubdate="">2015年6月17日 at 上午1:13</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>Often We don’t set up on weblogs, but I would like to condition that this established up really forced me individually to do this! considerably outstanding publish</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12012">
<article class="comment" id="comment-12012">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">pain</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12012" rel="nofollow"><time datetime="2015-03-30T21:45:04+00:00" pubdate="">2015年3月30日 at 下午9:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>红绯鱼：<br/>
牛逼牛逼</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12011">
<article class="comment" id="comment-12011">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">zhenghao</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12011" rel="nofollow"><time datetime="2015-02-02T19:03:42+00:00" pubdate="">2015年2月2日 at 下午7:03</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个应该是最朴素的KMP实现</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12009">
<article class="comment" id="comment-12009">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">wkhuahuo</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12009" rel="nofollow"><time datetime="2014-11-28T03:58:41+00:00" pubdate="">2014年11月28日 at 上午3:58</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>为什么for循环找到的i一定是素数叻，而且约数定理说的是n=p1^a1*p2^a2*p3^a3*…*pk^ak，而你每次取余都用的是原来的m，也就是n</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12013">
<article class="comment" id="comment-12013">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">hao555sky</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12013" rel="nofollow"><time datetime="2014-11-21T08:55:27+00:00" pubdate="">2014年11月21日 at 上午8:55</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>你的理解应该是：即使主持人拿走一个箱子对结果没有影响。这样想，主持人拿走的箱子只是没有影响到你初始选择的那个箱子中有奖品的概率，但是改变了其余两个箱子的概率分布。由 1/3,1/3 变成了 0, 2/3</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12007">
<article class="comment" id="comment-12007">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">gnipuohz</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12007" rel="nofollow"><time datetime="2014-11-03T12:54:55+00:00" pubdate="">2014年11月3日 at 下午12:54</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>妈呀！这个模板好长OwQ！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40413">
<article class="comment" id="comment-40413">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">oneal</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-40413" rel="nofollow"><time datetime="2014-10-23T01:45:16+00:00" pubdate="">2014年10月23日 at 上午1:45</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>先从简单的做起，归并排序，二叉树相关的遍历等</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-40411">
<article class="comment" id="comment-40411">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">lintong</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-40411" rel="nofollow"><time datetime="2014-09-17T14:26:37+00:00" pubdate="">2014年9月17日 at 下午2:26</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>很有意思，可惜我很菜啊</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12003">
<article class="comment" id="comment-12003">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">645198</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12003" rel="nofollow"><time datetime="2014-05-12T03:38:31+00:00" pubdate="">2014年5月12日 at 上午3:38</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>mark, 很巧妙的实现！</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12004">
<article class="comment" id="comment-12004">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">bluesky</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12004" rel="nofollow"><time datetime="2014-03-26T00:05:52+00:00" pubdate="">2014年3月26日 at 上午12:05</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>有点意思</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-12005">
<article class="comment" id="comment-12005">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">09291010</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12005" rel="nofollow"><time datetime="2014-03-21T09:25:04+00:00" pubdate="">2014年3月21日 at 上午9:25</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>全是智力分析的题</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="li-comment-12008">
<article class="comment" id="comment-12008">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">HaibaraAi</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-12008" rel="nofollow"><time datetime="2014-02-06T10:12:44+00:00" pubdate="">2014年2月6日 at 上午10:12</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>这个条件 “两个数的乘积最小”可以忽略</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-40412">
<article class="comment" id="comment-40412">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://fdsf" rel="external nofollow">czw8528</a></span> on <a href="http://www.acmerblog.com/hdu-1261-%E5%AD%97%E4%B8%B2%E6%95%B0-1625.html#comment-40412" rel="nofollow"><time datetime="2014-02-03T17:37:52+00:00" pubdate="">2014年2月3日 at 下午5:37</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>[…] 如果此题没有要求 相对位置不变，可以参考文章：http://www.acmerblog.com/interview-9-2427/ […]</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>