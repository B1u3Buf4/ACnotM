<div class="c-top2" id="post-55">
<div class="datetime">2015<br/>09-17</div>
<div class="tit"><h1 class="entry-title">HDU 4666-Hyperspace-枚举-[解题报告]HOJ</h1>
<div class="entry-meta iititle2">
<span class="i2"><a href="http://www.acmerblog.com/author/spiderman" rel="author" title="由蜘蛛侠发布">蜘蛛侠</a></span><span class="i1"><a href="http://www.acmerblog.com/category/problemset/hdu" rel="category tag" title="查看HDU-杭电中的全部文章">HDU-杭电</a>, <a href="http://www.acmerblog.com/category/basis/enumeration" rel="category tag" title="查看枚举中的全部文章">枚举</a></span><span class="i4">围观100次</span><span class="i3"><a class="ds-thread-count" data-thread-key="7711" href="http://www.acmerblog.com/hdu-4666-hyperspace-7711.html#comments" title="《HDU 4666-Hyperspace-枚举-[解题报告]HOJ》上的评论">一条评论</a></span>
</div>
</div>
<div class="cls"></div>
</div><div class="entry-content">
<div>
<h1 class="mytitle mybigtile">Hyperspace</h1>
</div>
<div>
<p class="mytitle"> 问题描述 :</p>
</div>
<div class="mypanel">
The great Mr.Smith has invented a hyperspace particle generator. The device is very powerful. The device can generate a hyperspace. In the hyperspace, particle may appear and disappear randomly. At the same time a great amount of energy was generated.<br/>However, the device is in test phase, often in a unstable state. Mr.Smith worried that it may cause an explosion while testing it. The energy of the device is related to the maximum manhattan distance among particle.<br/>Particles may appear and disappear any time. Mr.Smith wants to know the maxmium manhattan distance among particles when particle appears or disappears. </div>
<div>
<p class="mytitle"> 输入:</p>
</div>
<div class="mypanel">
The input contains several test cases, terminated by EOF.<br/>In each case: In the first line, there are two integer q(number of particle appear and disappear event, ≤60000) and k(dimensions of the hyperspace that the hyperspace the device generated, ≤5). Then follows q lines. In each line, the first integer ‘od’ represents the event: od = 0 means this is an appear<br/>event. Then follows k integer(with absolute value less then 4 × 10<sup>7</sup>). od = 1 means this is an disappear event. Follows a integer p represents the disappeared particle appeared in the pth event. </div>
<div>
<p class="mytitle"> 输出:</p>
</div>
<div class="mypanel">
The input contains several test cases, terminated by EOF.<br/>In each case: In the first line, there are two integer q(number of particle appear and disappear event, ≤60000) and k(dimensions of the hyperspace that the hyperspace the device generated, ≤5). Then follows q lines. In each line, the first integer ‘od’ represents the event: od = 0 means this is an appear<br/>event. Then follows k integer(with absolute value less then 4 × 10<sup>7</sup>). od = 1 means this is an disappear event. Follows a integer p represents the disappeared particle appeared in the pth event.</div>
<div>
<p class="mytitle"> 样例输入:</p>
</div>
<pre class="mypanel iopanel">
10 2
0 208 403
0 371 -180
1 2
0 1069 -192
0 418 -525
1 5
1 1
0 2754 635
0 -2491 961
0 2954 -2516</pre>
<div>
<p class="mytitle"> 样例输出:</p>
</div>
<pre class="mypanel iopanel">
0
746
0
1456
1456
1456
0
2512
5571
8922</pre>
<p> <!-- problem end --></p>
<p>题意：</p>
<p><span style="font-family:Verdana,Arial,Helvetica,sans-serif; line-height:18px">给定一些操作（0代表添加一个点，1代表删除一个点），求这些点的最远曼哈顿距离。</span>
</p>
<p>做法：</p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">只考虑二维空间上两个坐标之间的曼哈顿距离(x1, y1) 和 (x2, y2)，|x1-x2| +|y1-y2|去掉绝对值符号后共有下列四种情况</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">(x1-x2) + (y1-y2), (x1-x2) + (y2-y1), (x2-x1) + (y1-y2), (x2-x1) + (y2-y1)</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">转化一下：</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">(x1+y1) – (x2+y2), (x1-y1) – (x2-y2), (-x1+y1) – (-x2+y2), (-x1-y1) – (-x2-y2)</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">显然，任意给两个点，我们分别计算上述四种情况，那么最大值就是曼哈顿距离。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">转化后，“-”号两侧的坐标形式是一样的。维数为5，因此我们可以用二进制枚举。</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">最大曼哈顿距离 = max{每种情况下的最大值-最小值}；</span></p>
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:18px">用multiset存储每种情况的值。</span></p>
<pre class="brush:cpp" name="code">#include&lt;stdio.h&gt;
#include&lt;iostream&gt;
#include&lt;algorithm&gt;
#include&lt;set&gt;
using namespace std;
#define maxn 60002
int maps[maxn][6];
multiset&lt;int&gt;se[1&lt;&lt;5];
multiset&lt;int&gt;::iterator i1,i2;
int main()
{
    int i,j,leap,x,n,m,a;
    while(~scanf("%d%d",&amp;n,&amp;m))
    {
        for(i=0;i&lt;(1&lt;&lt;5);i++)
            se[i].clear();
        for(i=1;i&lt;=n;i++)
        {
            scanf("%d",&amp;leap);
            if(leap==0)
            {
                for(j=0;j&lt;m;j++)
                {
                    scanf("%d",&amp;maps[i][j]);
                }
                for(a=0;a&lt;(1&lt;&lt;m);a++)
                {
                    int as;
                    as=0;
                    for(j=0;j&lt;m;j++)
                    {
                        if(a&amp;(1&lt;&lt;j))as+=maps[i][j];
                        else as-=maps[i][j];
                    }
                    se[a].insert(as);
                }
            }
            else
            {
                scanf("%d",&amp;x);
                for(a=0;a&lt;(1&lt;&lt;m);a++)
                {
                    int as;
                    as=0;
                    for(j=0;j&lt;m;j++)
                    {
                        if(a&amp;(1&lt;&lt;j))as+=maps[x][j];
                        else as-=maps[x][j];
                    }
                    i1=se[a].find(as);
                    se[a].erase(i1);
                }
            }
            int ans=0;
            for(a=0;a&lt;(1&lt;&lt;m);a++)
            {
                i1=se[a].begin();
                i2=se[a].end();
                i2--;
                ans=max(ans,(*i2)-(*i1));
            }
            cout&lt;&lt;ans&lt;&lt;endl;
        }
    }
    return 0;
}
</pre>
<div style="padding-top:20px">
<p style="font-size:12px;">版权声明：本文为博主原创文章，未经博主允许不得转载。</p>
</div>
<p>参考：http://blog.csdn.net/rowanhaoa/article/details/9970399</p>
<div>
</script>
<!-- acm-hf-01 -->
<ins class="adsbygoogle" data-ad-client="ca-pub-9460629317209118" data-ad-slot="5011774182" style="display:inline-block;width:728px;height:90px"></ins>

(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="bdsharebuttonbox"><a class="bds_more" data-cmd="more" href="#"></a><a class="bds_qzone" data-cmd="qzone" href="#" title="分享到QQ空间"></a><a class="bds_tsina" data-cmd="tsina" href="#" title="分享到新浪微博"></a><a class="bds_tqq" data-cmd="tqq" href="#" title="分享到腾讯微博"></a><a class="bds_renren" data-cmd="renren" href="#" title="分享到人人网"></a><a class="bds_weixin" data-cmd="weixin" href="#" title="分享到微信"></a></div>

</div><ol id="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-97181">
<article class="comment" id="comment-97181">
<footer class="comment-meta">
<cite class="comment-author vcard">
<span class="fn"><a class="url" href="http://www.renren.com/profile.do?id=919530737" rel="external nofollow">新用户842224</a></span> on <a href="http://www.acmerblog.com/hdu-4666-hyperspace-7711.html#comment-97181" rel="nofollow"><time datetime="2017-04-20T00:52:33+00:00" pubdate="">2017年4月20日 at 上午12:52</time></a> <span class="says">said:</span> </cite><!-- .comment-author .vcard -->
</footer>
<div class="comment-content"><p>那么我是不是也算很萌？哈哈哈~其实，偶尔想起来，自己还是多可爱。嘎嘎</p>
</div>
</article><!-- #comment-## -->
</li><!-- #comment-## -->
</ol>